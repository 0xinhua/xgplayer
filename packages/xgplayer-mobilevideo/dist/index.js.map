{"version":3,"file":"index.js","sources":["../src/polyfills/custom-elements.min.js","../src/polyfills/native-element.js","../src/ticker.js","../node_modules/rollup-plugin-bundle-worker/src/workerhelper.js","../src/worker.js","../../xgplayer-transmuxer-buffer-stream/es/index.js","../../xgplayer-transmuxer-codec-avc/es/golomb.js","../../xgplayer-transmuxer-codec-avc/es/sps.js","../../xgplayer-transmuxer-codec-avc/es/rbsp.js","../../xgplayer-transmuxer-codec-avc/es/sei.js","../../xgplayer-transmuxer-codec-avc/es/nalunit.js","../../xgplayer-transmuxer-codec-avc/es/index.js","../../xgplayer-render/src/glutil.js","../../xgplayer-render/src/filter.js","../../xgplayer-render/src/filter/basic.js","../../xgplayer-render/src/fmt/yuyv422.js","../../xgplayer-render/src/fmt/rgb32.js","../../xgplayer-render/src/fmt/rgb24.js","../../xgplayer-render/src/fmt/nv12.js","../../xgplayer-render/src/fmt/yuv420.js","../../xgplayer-render/src/fmt/rgba.js","../../xgplayer-render/src/fmt/rgb.js","../../xgplayer-render/src/index.js","../src/sourcebuffer.js","../src/time-ranges.js","../src/video-context.js","../../../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../src/audio-context.js","../src/reconciler.js","../src/index.js"],"sourcesContent":["(function(){\n  /*\n\n   Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n   This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n   The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n   The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n   Code distributed by Google as part of the polymer project is also\n   subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n  */\n  'use strict';var n=window.Document.prototype.createElement,p=window.Document.prototype.createElementNS,aa=window.Document.prototype.importNode,ba=window.Document.prototype.prepend,ca=window.Document.prototype.append,da=window.DocumentFragment.prototype.prepend,ea=window.DocumentFragment.prototype.append,q=window.Node.prototype.cloneNode,r=window.Node.prototype.appendChild,t=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,v=window.Node.prototype.replaceChild,x=Object.getOwnPropertyDescriptor(window.Node.prototype,\n    \"textContent\"),y=window.Element.prototype.attachShadow,z=Object.getOwnPropertyDescriptor(window.Element.prototype,\"innerHTML\"),A=window.Element.prototype.getAttribute,B=window.Element.prototype.setAttribute,C=window.Element.prototype.removeAttribute,D=window.Element.prototype.getAttributeNS,E=window.Element.prototype.setAttributeNS,F=window.Element.prototype.removeAttributeNS,G=window.Element.prototype.insertAdjacentElement,fa=window.Element.prototype.insertAdjacentHTML,ha=window.Element.prototype.prepend,\n    ia=window.Element.prototype.append,ja=window.Element.prototype.before,ka=window.Element.prototype.after,la=window.Element.prototype.replaceWith,ma=window.Element.prototype.remove,na=window.HTMLElement,H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,\"innerHTML\"),oa=window.HTMLElement.prototype.insertAdjacentElement,pa=window.HTMLElement.prototype.insertAdjacentHTML;var qa=new Set;\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \").forEach(function(a){return qa.add(a)});function ra(a){var b=qa.has(a);a=/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a);return!b&&a}var sa=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);\n  function I(a){var b=a.isConnected;if(void 0!==b)return b;if(sa(a))return!0;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||a instanceof Document))}function J(a){var b=a.children;if(b)return Array.prototype.slice.call(b);b=[];for(a=a.firstChild;a;a=a.nextSibling)a.nodeType===Node.ELEMENT_NODE&&b.push(a);return b}\n  function K(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}\n  function L(a,b,c){for(var f=a;f;){if(f.nodeType===Node.ELEMENT_NODE){var d=f;b(d);var e=d.localName;if(\"link\"===e&&\"import\"===d.getAttribute(\"rel\")){f=d.import;void 0===c&&(c=new Set);if(f instanceof Node&&!c.has(f))for(c.add(f),f=f.firstChild;f;f=f.nextSibling)L(f,b,c);f=K(a,d);continue}else if(\"template\"===e){f=K(a,d);continue}if(d=d.__CE_shadowRoot)for(d=d.firstChild;d;d=d.nextSibling)L(d,b,c)}f=f.firstChild?f.firstChild:K(a,f)}}function M(a,b,c){a[b]=c};function ta(a){var b=document;this.c=a;this.a=b;this.b=void 0;N(this.c,this.a);\"loading\"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function ua(a){a.b&&a.b.disconnect()}ta.prototype.f=function(a){var b=this.a.readyState;\"interactive\"!==b&&\"complete\"!==b||ua(this);for(b=0;b<a.length;b++)for(var c=a[b].addedNodes,f=0;f<c.length;f++)N(this.c,c[f])};function va(){var a=this;this.b=this.a=void 0;this.c=new Promise(function(b){a.b=b;a.a&&b(a.a)})}function wa(a){if(a.a)throw Error(\"Already resolved.\");a.a=void 0;a.b&&a.b(void 0)};function O(a){this.f=new Map;this.g=new Map;this.l=new Map;this.i=!1;this.b=a;this.j=new Map;this.c=function(b){return b()};this.a=!1;this.h=[];this.m=a.f?new ta(a):void 0}O.prototype.o=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError(\"Custom element constructor getters must be functions.\");xa(this,a);this.f.set(a,b);this.h.push(a);this.a||(this.a=!0,this.c(function(){return ya(c)}))};\n  O.prototype.define=function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError(\"Custom element constructors must be functions.\");xa(this,a);za(this,a,b);this.h.push(a);this.a||(this.a=!0,this.c(function(){return ya(c)}))};function xa(a,b){if(!ra(b))throw new SyntaxError(\"The element name '\"+b+\"' is not valid.\");if(P(a,b))throw Error(\"A custom element with name '\"+b+\"' has already been defined.\");if(a.i)throw Error(\"A custom element is already being defined.\");}\n  function za(a,b,c){a.i=!0;var f;try{var d=function(m){var w=e[m];if(void 0!==w&&!(w instanceof Function))throw Error(\"The '\"+m+\"' callback must be a function.\");return w},e=c.prototype;if(!(e instanceof Object))throw new TypeError(\"The custom element constructor's prototype is not an object.\");var g=d(\"connectedCallback\");var h=d(\"disconnectedCallback\");var k=d(\"adoptedCallback\");var l=(f=d(\"attributeChangedCallback\"))&&c.observedAttributes||[]}catch(m){throw m;}finally{a.i=!1}c={localName:b,constructorFunction:c,\n    connectedCallback:g,disconnectedCallback:h,adoptedCallback:k,attributeChangedCallback:f,observedAttributes:l,constructionStack:[]};a.g.set(b,c);a.l.set(c.constructorFunction,c);return c}O.prototype.upgrade=function(a){N(this.b,a)};\n  function ya(a){if(!1!==a.a){a.a=!1;for(var b=[],c=a.h,f=new Map,d=0;d<c.length;d++)f.set(c[d],[]);N(a.b,document,{upgrade:function(k){if(void 0===k.__CE_state){var l=k.localName,m=f.get(l);m?m.push(k):a.g.has(l)&&b.push(k)}}});for(d=0;d<b.length;d++)Q(a.b,b[d]);for(d=0;d<c.length;d++){for(var e=c[d],g=f.get(e),h=0;h<g.length;h++)Q(a.b,g[h]);(e=a.j.get(e))&&wa(e)}c.length=0}}O.prototype.get=function(a){if(a=P(this,a))return a.constructorFunction};\n  O.prototype.whenDefined=function(a){if(!ra(a))return Promise.reject(new SyntaxError(\"'\"+a+\"' is not a valid custom element name.\"));var b=this.j.get(a);if(b)return b.c;b=new va;this.j.set(a,b);var c=this.g.has(a)||this.f.has(a);a=-1===this.h.indexOf(a);c&&a&&wa(b);return b.c};O.prototype.polyfillWrapFlushCallback=function(a){this.m&&ua(this.m);var b=this.c;this.c=function(c){return a(function(){return b(c)})}};\n  function P(a,b){var c=a.g.get(b);if(c)return c;if(c=a.f.get(b)){a.f.delete(b);try{return za(a,b,c())}catch(f){R(f)}}}window.CustomElementRegistry=O;O.prototype.define=O.prototype.define;O.prototype.upgrade=O.prototype.upgrade;O.prototype.get=O.prototype.get;O.prototype.whenDefined=O.prototype.whenDefined;O.prototype.polyfillDefineLazy=O.prototype.o;O.prototype.polyfillWrapFlushCallback=O.prototype.polyfillWrapFlushCallback;function S(){var a=T&&T.noDocumentConstructionObserver,b=T&&T.shadyDomFastWalk;this.b=[];this.c=[];this.a=!1;this.shadyDomFastWalk=b;this.f=!a}function U(a,b,c,f){var d=window.ShadyDOM;if(a.shadyDomFastWalk&&d&&d.inUse){if(b.nodeType===Node.ELEMENT_NODE&&c(b),b.querySelectorAll)for(a=d.nativeMethods.querySelectorAll.call(b,\"*\"),b=0;b<a.length;b++)c(a[b])}else L(b,c,f)}function Aa(a,b){a.a=!0;a.b.push(b)}function Ba(a,b){a.a=!0;a.c.push(b)}function V(a,b){a.a&&U(a,b,function(c){return W(a,c)})}\n  function W(a,b){if(a.a&&!b.__CE_patched){b.__CE_patched=!0;for(var c=0;c<a.b.length;c++)a.b[c](b);for(c=0;c<a.c.length;c++)a.c[c](b)}}function X(a,b){var c=[];U(a,b,function(d){return c.push(d)});for(b=0;b<c.length;b++){var f=c[b];1===f.__CE_state?a.connectedCallback(f):Q(a,f)}}function Y(a,b){var c=[];U(a,b,function(d){return c.push(d)});for(b=0;b<c.length;b++){var f=c[b];1===f.__CE_state&&a.disconnectedCallback(f)}}\n  function N(a,b,c){c=void 0===c?{}:c;var f=c.s,d=c.upgrade||function(g){return Q(a,g)},e=[];U(a,b,function(g){a.a&&W(a,g);if(\"link\"===g.localName&&\"import\"===g.getAttribute(\"rel\")){var h=g.import;h instanceof Node&&(h.__CE_isImportDocument=!0,h.__CE_registry=document.__CE_registry);h&&\"complete\"===h.readyState?h.__CE_documentLoadHandled=!0:g.addEventListener(\"load\",function(){var k=g.import;if(!k.__CE_documentLoadHandled){k.__CE_documentLoadHandled=!0;var l=new Set;f&&(f.forEach(function(m){return l.add(m)}),\n    l.delete(k));N(a,k,{s:l,upgrade:d})}})}else e.push(g)},f);for(b=0;b<e.length;b++)d(e[b])}\n  function Q(a,b){try{var c=b.ownerDocument,f=c.__CE_registry;var d=f&&(c.defaultView||c.__CE_isImportDocument)?P(f,b.localName):void 0;if(d&&void 0===b.__CE_state){d.constructionStack.push(b);try{try{if(new d.constructorFunction!==b)throw Error(\"The custom element constructor did not produce the element being upgraded.\");}finally{d.constructionStack.pop()}}catch(k){throw b.__CE_state=2,k;}b.__CE_state=1;b.__CE_definition=d;if(d.attributeChangedCallback&&b.hasAttributes()){var e=d.observedAttributes;\n    for(d=0;d<e.length;d++){var g=e[d],h=b.getAttribute(g);null!==h&&a.attributeChangedCallback(b,g,null,h,null)}}I(b)&&a.connectedCallback(b)}}catch(k){R(k)}}S.prototype.connectedCallback=function(a){var b=a.__CE_definition;if(b.connectedCallback)try{b.connectedCallback.call(a)}catch(c){R(c)}};S.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;if(b.disconnectedCallback)try{b.disconnectedCallback.call(a)}catch(c){R(c)}};\n  S.prototype.attributeChangedCallback=function(a,b,c,f,d){var e=a.__CE_definition;if(e.attributeChangedCallback&&-1<e.observedAttributes.indexOf(b))try{e.attributeChangedCallback.call(a,b,c,f,d)}catch(g){R(g)}};\n  function Ca(a,b,c,f){var d=b.__CE_registry;if(d&&(null===f||\"http://www.w3.org/1999/xhtml\"===f)&&(d=P(d,c)))try{var e=new d.constructorFunction;if(void 0===e.__CE_state||void 0===e.__CE_definition)throw Error(\"Failed to construct '\"+c+\"': The returned value was not constructed with the HTMLElement constructor.\");if(\"http://www.w3.org/1999/xhtml\"!==e.namespaceURI)throw Error(\"Failed to construct '\"+c+\"': The constructed element's namespace must be the HTML namespace.\");if(e.hasAttributes())throw Error(\"Failed to construct '\"+\n    c+\"': The constructed element must not have any attributes.\");if(null!==e.firstChild)throw Error(\"Failed to construct '\"+c+\"': The constructed element must not have any children.\");if(null!==e.parentNode)throw Error(\"Failed to construct '\"+c+\"': The constructed element must not have a parent node.\");if(e.ownerDocument!==b)throw Error(\"Failed to construct '\"+c+\"': The constructed element's owner document is incorrect.\");if(e.localName!==c)throw Error(\"Failed to construct '\"+c+\"': The constructed element's local name is incorrect.\");\n    return e}catch(g){return R(g),b=null===f?n.call(b,c):p.call(b,f,c),Object.setPrototypeOf(b,HTMLUnknownElement.prototype),b.__CE_state=2,b.__CE_definition=void 0,W(a,b),b}b=null===f?n.call(b,c):p.call(b,f,c);W(a,b);return b}\n  function R(a){var b=a.message,c=a.sourceURL||a.fileName||\"\",f=a.line||a.lineNumber||0,d=a.column||a.columnNumber||0,e=void 0;void 0===ErrorEvent.prototype.initErrorEvent?e=new ErrorEvent(\"error\",{cancelable:!0,message:b,filename:c,lineno:f,colno:d,error:a}):(e=document.createEvent(\"ErrorEvent\"),e.initErrorEvent(\"error\",!1,!0,b,c,f),e.preventDefault=function(){Object.defineProperty(this,\"defaultPrevented\",{configurable:!0,get:function(){return!0}})});void 0===e.error&&Object.defineProperty(e,\"error\",\n    {configurable:!0,enumerable:!0,get:function(){return a}});window.dispatchEvent(e);e.defaultPrevented||console.error(a)};var Da=new function(){};function Ea(a){window.HTMLElement=function(){function b(){var c=this.constructor;var f=document.__CE_registry.l.get(c);if(!f)throw Error(\"Failed to construct a custom element: The constructor was not registered with `customElements`.\");var d=f.constructionStack;if(0===d.length)return d=n.call(document,f.localName),Object.setPrototypeOf(d,c.prototype),d.__CE_state=1,d.__CE_definition=f,W(a,d),d;var e=d.length-1,g=d[e];if(g===Da)throw Error(\"Failed to construct '\"+f.localName+\"': This element was already constructed.\");\n    d[e]=Da;Object.setPrototypeOf(g,c.prototype);W(a,g);return g}b.prototype=na.prototype;Object.defineProperty(b.prototype,\"constructor\",{writable:!0,configurable:!0,enumerable:!1,value:b});return b}()};function Z(a,b,c){function f(d){return function(e){for(var g=[],h=0;h<arguments.length;++h)g[h]=arguments[h];h=[];for(var k=[],l=0;l<g.length;l++){var m=g[l];m instanceof Element&&I(m)&&k.push(m);if(m instanceof DocumentFragment)for(m=m.firstChild;m;m=m.nextSibling)h.push(m);else h.push(m)}d.apply(this,g);for(g=0;g<k.length;g++)Y(a,k[g]);if(I(this))for(g=0;g<h.length;g++)k=h[g],k instanceof Element&&X(a,k)}}void 0!==c.prepend&&M(b,\"prepend\",f(c.prepend));void 0!==c.append&&M(b,\"append\",f(c.append))}\n  ;function Fa(a){M(Document.prototype,\"createElement\",function(b){return Ca(a,this,b,null)});M(Document.prototype,\"importNode\",function(b,c){b=aa.call(this,b,!!c);this.__CE_registry?N(a,b):V(a,b);return b});M(Document.prototype,\"createElementNS\",function(b,c){return Ca(a,this,c,b)});Z(a,Document.prototype,{prepend:ba,append:ca})};function Ga(a){function b(c,f){Object.defineProperty(c,\"textContent\",{enumerable:f.enumerable,configurable:!0,get:f.get,set:function(d){if(this.nodeType===Node.TEXT_NODE)f.set.call(this,d);else{var e=void 0;if(this.firstChild){var g=this.childNodes,h=g.length;if(0<h&&I(this)){e=Array(h);for(var k=0;k<h;k++)e[k]=g[k]}}f.set.call(this,d);if(e)for(d=0;d<e.length;d++)Y(a,e[d])}}})}M(Node.prototype,\"insertBefore\",function(c,f){if(c instanceof DocumentFragment){var d=J(c);c=t.call(this,c,f);if(I(this))for(f=\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        0;f<d.length;f++)X(a,d[f]);return c}d=c instanceof Element&&I(c);f=t.call(this,c,f);d&&Y(a,c);I(this)&&X(a,c);return f});M(Node.prototype,\"appendChild\",function(c){if(c instanceof DocumentFragment){var f=J(c);c=r.call(this,c);if(I(this))for(var d=0;d<f.length;d++)X(a,f[d]);return c}f=c instanceof Element&&I(c);d=r.call(this,c);f&&Y(a,c);I(this)&&X(a,c);return d});M(Node.prototype,\"cloneNode\",function(c){c=q.call(this,!!c);this.ownerDocument.__CE_registry?N(a,c):V(a,c);return c});M(Node.prototype,\n    \"removeChild\",function(c){var f=c instanceof Element&&I(c),d=u.call(this,c);f&&Y(a,c);return d});M(Node.prototype,\"replaceChild\",function(c,f){if(c instanceof DocumentFragment){var d=J(c);c=v.call(this,c,f);if(I(this))for(Y(a,f),f=0;f<d.length;f++)X(a,d[f]);return c}d=c instanceof Element&&I(c);var e=v.call(this,c,f),g=I(this);g&&Y(a,f);d&&Y(a,c);g&&X(a,c);return e});x&&x.get?b(Node.prototype,x):Aa(a,function(c){b(c,{enumerable:!0,configurable:!0,get:function(){for(var f=[],d=this.firstChild;d;d=\n      d.nextSibling)d.nodeType!==Node.COMMENT_NODE&&f.push(d.textContent);return f.join(\"\")},set:function(f){for(;this.firstChild;)u.call(this,this.firstChild);null!=f&&\"\"!==f&&r.call(this,document.createTextNode(f))}})})};function Ha(a){function b(f){return function(d){for(var e=[],g=0;g<arguments.length;++g)e[g]=arguments[g];g=[];for(var h=[],k=0;k<e.length;k++){var l=e[k];l instanceof Element&&I(l)&&h.push(l);if(l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)g.push(l);else g.push(l)}f.apply(this,e);for(e=0;e<h.length;e++)Y(a,h[e]);if(I(this))for(e=0;e<g.length;e++)h=g[e],h instanceof Element&&X(a,h)}}var c=Element.prototype;void 0!==ja&&M(c,\"before\",b(ja));void 0!==ka&&M(c,\"after\",b(ka));void 0!==\n  la&&M(c,\"replaceWith\",function(f){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];e=[];for(var g=[],h=0;h<d.length;h++){var k=d[h];k instanceof Element&&I(k)&&g.push(k);if(k instanceof DocumentFragment)for(k=k.firstChild;k;k=k.nextSibling)e.push(k);else e.push(k)}h=I(this);la.apply(this,d);for(d=0;d<g.length;d++)Y(a,g[d]);if(h)for(Y(a,this),d=0;d<e.length;d++)g=e[d],g instanceof Element&&X(a,g)});void 0!==ma&&M(c,\"remove\",function(){var f=I(this);ma.call(this);f&&Y(a,this)})};function Ia(a){function b(d,e){Object.defineProperty(d,\"innerHTML\",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(g){var h=this,k=void 0;I(this)&&(k=[],U(a,this,function(w){w!==h&&k.push(w)}));e.set.call(this,g);if(k)for(var l=0;l<k.length;l++){var m=k[l];1===m.__CE_state&&a.disconnectedCallback(m)}this.ownerDocument.__CE_registry?N(a,this):V(a,this);return g}})}function c(d,e){M(d,\"insertAdjacentElement\",function(g,h){var k=I(h);g=e.call(this,g,h);k&&Y(a,h);I(g)&&X(a,h);return g})}\n    function f(d,e){function g(h,k){for(var l=[];h!==k;h=h.nextSibling)l.push(h);for(k=0;k<l.length;k++)N(a,l[k])}M(d,\"insertAdjacentHTML\",function(h,k){h=h.toLowerCase();if(\"beforebegin\"===h){var l=this.previousSibling;e.call(this,h,k);g(l||this.parentNode.firstChild,this)}else if(\"afterbegin\"===h)l=this.firstChild,e.call(this,h,k),g(this.firstChild,l);else if(\"beforeend\"===h)l=this.lastChild,e.call(this,h,k),g(l||this.firstChild,null);else if(\"afterend\"===h)l=this.nextSibling,e.call(this,h,k),g(this.nextSibling,\n      l);else throw new SyntaxError(\"The value provided (\"+String(h)+\") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.\");})}y&&M(Element.prototype,\"attachShadow\",function(d){d=y.call(this,d);if(a.a&&!d.__CE_patched){d.__CE_patched=!0;for(var e=0;e<a.b.length;e++)a.b[e](d)}return this.__CE_shadowRoot=d});z&&z.get?b(Element.prototype,z):H&&H.get?b(HTMLElement.prototype,H):Ba(a,function(d){b(d,{enumerable:!0,configurable:!0,get:function(){return q.call(this,!0).innerHTML},set:function(e){var g=\n        \"template\"===this.localName,h=g?this.content:this,k=p.call(document,this.namespaceURI,this.localName);for(k.innerHTML=e;0<h.childNodes.length;)u.call(h,h.childNodes[0]);for(e=g?k.content:k;0<e.childNodes.length;)r.call(h,e.childNodes[0])}})});M(Element.prototype,\"setAttribute\",function(d,e){if(1!==this.__CE_state)return B.call(this,d,e);var g=A.call(this,d);B.call(this,d,e);e=A.call(this,d);a.attributeChangedCallback(this,d,g,e,null)});M(Element.prototype,\"setAttributeNS\",function(d,e,g){if(1!==this.__CE_state)return E.call(this,\n      d,e,g);var h=D.call(this,d,e);E.call(this,d,e,g);g=D.call(this,d,e);a.attributeChangedCallback(this,e,h,g,d)});M(Element.prototype,\"removeAttribute\",function(d){if(1!==this.__CE_state)return C.call(this,d);var e=A.call(this,d);C.call(this,d);null!==e&&a.attributeChangedCallback(this,d,e,null,null)});M(Element.prototype,\"removeAttributeNS\",function(d,e){if(1!==this.__CE_state)return F.call(this,d,e);var g=D.call(this,d,e);F.call(this,d,e);var h=D.call(this,d,e);g!==h&&a.attributeChangedCallback(this,\n      e,g,h,d)});oa?c(HTMLElement.prototype,oa):G&&c(Element.prototype,G);pa?f(HTMLElement.prototype,pa):fa&&f(Element.prototype,fa);Z(a,Element.prototype,{prepend:ha,append:ia});Ha(a)};var T=window.customElements;function Ja(){var a=new S;Ea(a);Fa(a);Z(a,DocumentFragment.prototype,{prepend:da,append:ea});Ga(a);Ia(a);a=new O(a);document.__CE_registry=a;Object.defineProperty(window,\"customElements\",{configurable:!0,enumerable:!0,value:a})}T&&!T.forcePolyfill&&\"function\"==typeof T.define&&\"function\"==typeof T.get||Ja();window.__CE_installPolyfill=Ja;\n}).call(self);\n\n//# sourceMappingURL=custom-elements.min.js.map\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements v1. It sets new.target to the value of\n * this.constructor so that the native HTMLElement constructor can access the\n * current under-construction element's definition.\n */\n(function() {\n  if (\n    // No Reflect, no classes, no need for shim because native custom elements\n  // require ES2015 classes or Reflect.\n    window.Reflect === undefined ||\n    window.customElements === undefined ||\n    // The webcomponentsjs custom elements polyfill doesn't require\n    // ES2015-compatible construction (`super()` or `Reflect.construct`).\n    window.customElements.polyfillWrapFlushCallback\n  ) {\n    return;\n  }\n  const BuiltInHTMLElement = HTMLElement;\n  /**\n   * With jscompiler's RECOMMENDED_FLAGS the function name will be optimized away.\n   * However, if we declare the function as a property on an object literal, and\n   * use quotes for the property name, then closure will leave that much intact,\n   * which is enough for the JS VM to correctly set Function.prototype.name.\n   */\n  const wrapperForTheName = {\n    'HTMLElement': /** @this {!Object} */ function HTMLElement() {\n      return Reflect.construct(\n        BuiltInHTMLElement, [], /** @type {!Function} */ (this.constructor));\n    }\n  };\n  window.HTMLElement = wrapperForTheName['HTMLElement'];\n  HTMLElement.prototype = BuiltInHTMLElement.prototype;\n  HTMLElement.prototype.constructor = HTMLElement;\n  Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);\n})();\n","/**\n * @author fuyuhao@bytedance.com\n */\n\nclass Ticker {\n  constructor (options) {\n    this.options = Object.assign({}, options || {}, {\n      interval: 16\n    })\n\n    this.callbacks = []\n  }\n\n  start (...callbacks) {\n    this.callbacks = callbacks\n  }\n\n  onTick () {\n    for (let i = 0, len = this.callbacks.length; i < len; i++) {\n      const callback = this.callbacks[i]\n      callback()\n    }\n  }\n\n  setInterval (interval) {\n    this.options.interval = interval\n    return this;\n  }\n}\n\n/**\n * ticker use requestAnimationFrame\n */\nclass RafTicker extends Ticker {\n  constructor (props) {\n    super(props);\n    this.prev = null;\n    this.timerId = null\n    this._subTimerId = null\n\n    this._tickFunc = RafTicker.getTickFunc()\n    this.tick = this.tick.bind(this)\n  }\n\n  start (...callbacks) {\n    super.start(...callbacks)\n    this.tick()\n  }\n\n  tick () {\n    this.nextTick();\n    this.onTick()\n  }\n\n  nextTick () {\n    const { _tickFunc } = this;\n    this.timerId = _tickFunc(this.tick)\n  }\n\n  stop () {\n    if (this.timerId) {\n      const cancelFunc = RafTicker.getCancelFunc()\n\n      cancelFunc(this.timerId)\n    }\n  }\n\n  resume () {\n    this.nextTick();\n  }\n\n  static getTickFunc () {\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame\n  }\n\n  static getCancelFunc () {\n    return window.cancelAnimationFrame || window.webkitCancelAnimationFrame\n  }\n\n  static isSupported () {\n    return RafTicker.getTickFunc() !== undefined\n  }\n}\n\n/**\n * use setTimeout for browsers without raf support\n */\nclass TimeoutTicker extends Ticker {\n  constructor (config) {\n    super(config)\n    this.timeoutId = null\n  }\n\n  start (...callbacks) {\n    super.nextTick(...callbacks)\n    this.timeoutId = window.setInterval(() => {\n      this.onTick();\n    }, this.options.interval || 16)\n  }\n\n  stop () {\n    if (this.timeoutId) {\n      window.clearInterval(this.timeoutId)\n    }\n  }\n}\n\n/**\n * 返回Ticker构造函数\n * @returns {Ticker}\n */\nexport const getTicker = () => {\n  if (RafTicker.isSupported()) {\n    return RafTicker\n  } else {\n    return TimeoutTicker\n  }\n}\n","var TARGET = typeof Symbol === 'undefined' ? '__target' : Symbol(),\n    SCRIPT_TYPE = 'application/javascript',\n    BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,\n    URL = window.URL || window.webkitURL,\n    Worker = window.Worker;\n\n/**\n * Returns a wrapper around Web Worker code that is constructible.\n *\n * @function shimWorker\n *\n * @param { String }    filename    The name of the file\n * @param { Function }  fn          Function wrapping the code of the worker\n */\nexport default function shimWorker (filename, fn) {\n    return function ShimWorker (forceFallback) {\n        var o = this;\n\n        if (!fn) {\n            return new Worker(filename);\n        }\n        else if (Worker && !forceFallback) {\n            // Convert the function's inner code to a string to construct the worker\n            var source = `${ fn }`.replace(/^function.+?{/, '').slice(0, -1),\n                objURL = createSourceObject(source);\n\n            this[TARGET] = new Worker(objURL);\n            URL.revokeObjectURL(objURL);\n            return this[TARGET];\n        }\n        else {\n            var selfShim = {\n                    postMessage: m => {\n                        if (o.onmessage) {\n                            setTimeout(() => o.onmessage({ data: m, target: selfShim }));\n                        }\n                    }\n                };\n\n            fn.call(selfShim);\n            this.postMessage = m => {\n                setTimeout(() => selfShim.onmessage({ data: m, target: o }));\n            };\n            this.isThisThread = true;\n        }\n    };\n};\n\n// Test Worker capabilities\nif (Worker) {\n    var testWorker,\n        objURL = createSourceObject('self.onmessage = function () {}'),\n        testArray = new Uint8Array(1);\n\n    try {\n        // No workers via blobs in Edge 12 and IE 11 and lower :(\n        if (/(?:Trident|Edge)\\/(?:[567]|12)/i.test(navigator.userAgent)) {\n            throw new Error('Not available');\n        }\n        testWorker = new Worker(objURL);\n\n        // Native browser on some Samsung devices throws for transferables, let's detect it\n        testWorker.postMessage(testArray, [testArray.buffer]);\n    }\n    catch (e) {\n        Worker = null;\n    }\n    finally {\n        URL.revokeObjectURL(objURL);\n        if (testWorker) {\n            testWorker.terminate();\n        }\n    }\n}\n\nfunction createSourceObject(str) {\n    try {\n        return URL.createObjectURL(new Blob([str], { type: SCRIPT_TYPE }));\n    }\n    catch (e) {\n        var blob = new BlobBuilder();\n        blob.append(str);\n        return URL.createObjectURL(blob.getBlob(type));\n    }\n}\n","import shimWorker from 'rollup-plugin-bundle-worker';\nexport default new shimWorker(\"./worker.js\", function (window, document) {\nvar self = this;\nconst MAX_STREAM_BUFFER_LENGTH = 1024 * 1024;\nvar Decoder = function (self) {\n  this.inited = false;\n  this.self = self;\n  this.meta = this.self.meta;\n  this.infolist = {};\n  self.par_broadwayOnBroadwayInited = this.broadwayOnBroadwayInited.bind(this);\n  self.par_broadwayOnPictureDecoded = this.broadwayOnPictureDecoded.bind(this);\n}\n\nDecoder.prototype.toU8Array = function (ptr, length) {\n  return this.self.HEAPU8.subarray(ptr, ptr + length);\n}\n\nDecoder.prototype.init = function () {\n  Module._broadwayInit();\n  this.streamBuffer = this.toU8Array(Module._broadwayCreateStream(MAX_STREAM_BUFFER_LENGTH), MAX_STREAM_BUFFER_LENGTH);\n}\n\nDecoder.prototype.broadwayOnPictureDecoded = function (offset, width, height, yLinesize, uvLinesize, infoid) {\n  let info = Object.assign({}, this.infolist[infoid]);\n  let yRowcount = height;\n  let uvRowcount = height / 2;\n  if (this.meta.chromaFormat === 444 || this.meta.chromaFormat === 422) {\n    uvRowcount = height;\n  }\n  let data = this.toU8Array(offset, (yLinesize * yRowcount) + 2 * (uvLinesize * uvRowcount));\n  this.infolist[infoid] = null;\n  let datetemp = new Uint8Array(data.length);\n  datetemp.set(data);\n  let buffer = datetemp.buffer;\n  this.self.postMessage({\n    msg: 'DECODED',\n    width,\n    height,\n    yLinesize,\n    uvLinesize,\n    info,\n    buffer\n  }, [buffer]);\n}\n\nDecoder.prototype.broadwayOnBroadwayInited = function () {\n  this.inited = true;\n  this.self.postMessage({msg: 'DECODER_READY'});\n}\n\nDecoder.prototype.decode = function (data, info) {\n  let time = parseInt(new Date().getTime());\n  let infoid = time - (Math.floor(time / 10e8) * 10e8);\n  this.infolist[infoid] = info;\n  this.streamBuffer.set(data);\n  Module._broadwayPlayStream(data.length, infoid);\n}\n\nDecoder.prototype.destroy = function () {\n  Module._broadwayExit();\n}\n\nvar decoder;\n\nfunction onPostRun () {\n  decoder = new Decoder(this);\n  decoder.init();\n}\n\nfunction init (meta) {\n  self.importScripts('https://sf1-vcloudcdn.pstatp.com/obj/ttfe/media/decoder/h264/decoder.js');\n  addOnPostRun(onPostRun.bind(self));\n}\n\nself.addEventListener('message', function (e) {\n  var data = e.data;\n  if (!data.msg) {\n    self.postMessage({\n      msg: 'ERROR:invalid message'\n    })\n  } else {\n    switch (data.msg) {\n      case 'init':\n        console.log(data);\n        self.meta = data.meta;\n        init()\n        break;\n      case 'decode':\n        decoder.decode(data.data, data.info);\n        break;\n      case 'destory':\n        decoder.destroy();\n        break\n      default:\n        break;\n    }\n  }\n}, false);\n\n\n});","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stream = function () {\n  function Stream(buffer) {\n    _classCallCheck(this, Stream);\n\n    if (buffer instanceof ArrayBuffer) {\n      this.buffer = buffer;\n      this.dataview = new DataView(buffer);\n      this.dataview.position = 0;\n    } else {\n      throw new Error('data is invalid');\n    }\n  }\n\n  _createClass(Stream, [{\n    key: 'back',\n    value: function back(count) {\n      this.position -= count;\n    }\n  }, {\n    key: 'skip',\n    value: function skip(count) {\n      var loop = Math.floor(count / 4);\n      var last = count % 4;\n      for (var i = 0; i < loop; i++) {\n        Stream.readByte(this.dataview, 4);\n      }\n      if (last > 0) {\n        Stream.readByte(this.dataview, last);\n      }\n    }\n\n    /**\n     * [readByte 从DataView中读取数据]\n     * @param  {DataView} buffer [DataView实例]\n     * @param  {Number} size   [读取字节数]\n     * @return {Number}        [整数]\n     */\n\n  }, {\n    key: 'readUint8',\n    value: function readUint8() {\n      return Stream.readByte(this.dataview, 1);\n    }\n  }, {\n    key: 'readUint16',\n    value: function readUint16() {\n      return Stream.readByte(this.dataview, 2);\n    }\n  }, {\n    key: 'readUint24',\n    value: function readUint24() {\n      return Stream.readByte(this.dataview, 3);\n    }\n  }, {\n    key: 'readUint32',\n    value: function readUint32() {\n      return Stream.readByte(this.dataview, 4);\n    }\n  }, {\n    key: 'readUint64',\n    value: function readUint64() {\n      return Stream.readByte(this.dataview, 8);\n    }\n  }, {\n    key: 'readInt8',\n    value: function readInt8() {\n      return Stream.readByte(this.dataview, 1, true);\n    }\n  }, {\n    key: 'readInt16',\n    value: function readInt16() {\n      return Stream.readByte(this.dataview, 2, true);\n    }\n  }, {\n    key: 'readInt32',\n    value: function readInt32() {\n      return Stream.readByte(this.dataview, 4, true);\n    }\n  }, {\n    key: 'writeUint32',\n    value: function writeUint32(value) {\n      return new Uint8Array([value >>> 24 & 0xff, value >>> 16 & 0xff, value >>> 8 & 0xff, value & 0xff]);\n    }\n  }, {\n    key: 'length',\n    get: function get() {\n      return this.buffer.byteLength;\n    }\n  }, {\n    key: 'position',\n    set: function set(value) {\n      this.dataview.position = value;\n    },\n    get: function get() {\n      return this.dataview.position;\n    }\n  }], [{\n    key: 'readByte',\n    value: function readByte(buffer, size, sign) {\n      var res = void 0;\n      switch (size) {\n        case 1:\n          if (sign) {\n            res = buffer.getInt8(buffer.position);\n          } else {\n            res = buffer.getUint8(buffer.position);\n          }\n          break;\n        case 2:\n          if (sign) {\n            res = buffer.getInt16(buffer.position);\n          } else {\n            res = buffer.getUint16(buffer.position);\n          }\n          break;\n        case 3:\n          if (sign) {\n            throw new Error('not supported for readByte 3');\n          } else {\n            res = buffer.getUint8(buffer.position) << 16;\n            res |= buffer.getUint8(buffer.position + 1) << 8;\n            res |= buffer.getUint8(buffer.position + 2);\n          }\n          break;\n        case 4:\n          if (sign) {\n            res = buffer.getInt32(buffer.position);\n          } else {\n            res = buffer.getUint32(buffer.position);\n          }\n          break;\n        case 8:\n          if (sign) {\n            throw new Error('not supported for readBody 8');\n          } else {\n            res = buffer.getUint32(buffer.position) << 32;\n            res |= buffer.getUint32(buffer.position + 4);\n          }\n          break;\n        default:\n          res = '';\n      }\n      buffer.position += size;\n      return res;\n    }\n  }]);\n\n  return Stream;\n}();\n\nexport default Stream;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Golomb = function () {\n  function Golomb(uint8array) {\n    _classCallCheck(this, Golomb);\n\n    this.TAG = 'Golomb';\n    this._buffer = uint8array;\n    this._bufferIndex = 0;\n    this._totalBytes = uint8array.byteLength;\n    this._totalBits = uint8array.byteLength * 8;\n    this._currentWord = 0;\n    this._currentWordBitsLeft = 0;\n  }\n\n  _createClass(Golomb, [{\n    key: 'destroy',\n    value: function destroy() {\n      this._buffer = null;\n    }\n  }, {\n    key: '_fillCurrentWord',\n    value: function _fillCurrentWord() {\n      var bufferBytesLeft = this._totalBytes - this._bufferIndex;\n      if (bufferBytesLeft <= 0) {\n        // TODO 异常处理\n      }\n\n      var bytesRead = Math.min(4, bufferBytesLeft);\n      var word = new Uint8Array(4);\n      word.set(this._buffer.subarray(this._bufferIndex, this._bufferIndex + bytesRead));\n      this._currentWord = new DataView(word.buffer).getUint32(0);\n\n      this._bufferIndex += bytesRead;\n      this._currentWordBitsLeft = bytesRead * 8;\n    }\n  }, {\n    key: 'readBits',\n    value: function readBits(size) {\n      var bits = Math.min(this._currentWordBitsLeft, size); // :uint\n      var valu = this._currentWord >>> 32 - bits;\n      if (size > 32) {\n        throw new Error('Cannot read more than 32 bits at a time');\n      }\n      this._currentWordBitsLeft -= bits;\n      if (this._currentWordBitsLeft > 0) {\n        this._currentWord <<= bits;\n      } else if (this._totalBytes - this._bufferIndex > 0) {\n        this._fillCurrentWord();\n      }\n\n      bits = size - bits;\n      if (bits > 0 && this._currentWordBitsLeft) {\n        return valu << bits | this.readBits(bits);\n      } else {\n        return valu;\n      }\n    }\n  }, {\n    key: 'readBool',\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: 'readByte',\n    value: function readByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: '_skipLeadingZero',\n    value: function _skipLeadingZero() {\n      var zeroCount = void 0;\n      for (zeroCount = 0; zeroCount < this._currentWordBitsLeft; zeroCount++) {\n        if ((this._currentWord & 0x80000000 >>> zeroCount) !== 0) {\n          this._currentWord <<= zeroCount;\n          this._currentWordBitsLeft -= zeroCount;\n          return zeroCount;\n        }\n      }\n      this._fillCurrentWord();\n      return zeroCount + this._skipLeadingZero();\n    }\n  }, {\n    key: 'readUEG',\n    value: function readUEG() {\n      // unsigned exponential golomb\n      var leadingZeros = this._skipLeadingZero();\n      return this.readBits(leadingZeros + 1) - 1;\n    }\n  }, {\n    key: 'readSEG',\n    value: function readSEG() {\n      // signed exponential golomb\n      var value = this.readUEG();\n      if (value & 0x01) {\n        return value + 1 >>> 1;\n      } else {\n        return -1 * (value >>> 1);\n      }\n    }\n  }]);\n\n  return Golomb;\n}();\n\nexport default Golomb;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport Golomb from './golomb';\n\nvar SPSParser = function () {\n  function SPSParser() {\n    _classCallCheck(this, SPSParser);\n  }\n\n  _createClass(SPSParser, null, [{\n    key: '_ebsp2rbsp',\n    value: function _ebsp2rbsp(uint8array) {\n      var src = uint8array;\n      var srcLength = src.byteLength;\n      var dst = new Uint8Array(srcLength);\n      var dstIdx = 0;\n\n      for (var i = 0; i < srcLength; i++) {\n        if (i >= 2) {\n          if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {\n            continue;\n          }\n        }\n        dst[dstIdx] = src[i];\n        dstIdx++;\n      }\n\n      return new Uint8Array(dst.buffer, 0, dstIdx);\n    }\n  }, {\n    key: 'parseSPS',\n    value: function parseSPS(uint8array) {\n      var rbsp = SPSParser._ebsp2rbsp(uint8array);\n      var gb = new Golomb(rbsp);\n\n      gb.readByte();\n      var profileIdc = gb.readByte();\n      gb.readByte();\n      var levelIdc = gb.readByte();\n      gb.readUEG();\n\n      var profile_string = SPSParser.getProfileString(profileIdc);\n      var level_string = SPSParser.getLevelString(levelIdc);\n      var chroma_format_idc = 1;\n      var chroma_format = 420;\n      var chroma_format_table = [0, 420, 422, 444];\n      var bit_depth = 8;\n\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        chroma_format_idc = gb.readUEG();\n        if (chroma_format_idc === 3) {\n          gb.readBits(1);\n        }\n        if (chroma_format_idc <= 3) {\n          chroma_format = chroma_format_table[chroma_format_idc];\n        }\n\n        bit_depth = gb.readUEG() + 8;\n        gb.readUEG();\n        gb.readBits(1);\n        if (gb.readBool()) {\n          var scaling_list_count = chroma_format_idc !== 3 ? 8 : 12;\n          for (var i = 0; i < scaling_list_count; i++) {\n            if (gb.readBool()) {\n              if (i < 6) {\n                SPSParser._skipScalingList(gb, 16);\n              } else {\n                SPSParser._skipScalingList(gb, 64);\n              }\n            }\n          }\n        }\n      }\n      gb.readUEG();\n      var pic_order_cnt_type = gb.readUEG();\n      if (pic_order_cnt_type === 0) {\n        gb.readUEG();\n      } else if (pic_order_cnt_type === 1) {\n        gb.readBits(1);\n        gb.readSEG();\n        gb.readSEG();\n        var num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();\n        for (var _i = 0; _i < num_ref_frames_in_pic_order_cnt_cycle; _i++) {\n          gb.readSEG();\n        }\n      }\n      gb.readUEG();\n      gb.readBits(1);\n\n      var pic_width_in_mbs_minus1 = gb.readUEG();\n      var pic_height_in_map_units_minus1 = gb.readUEG();\n\n      var frame_mbs_only_flag = gb.readBits(1);\n      if (frame_mbs_only_flag === 0) {\n        gb.readBits(1);\n      }\n      gb.readBits(1);\n\n      var frame_crop_left_offset = 0;\n      var frame_crop_right_offset = 0;\n      var frame_crop_top_offset = 0;\n      var frame_crop_bottom_offset = 0;\n\n      var frame_cropping_flag = gb.readBool();\n      if (frame_cropping_flag) {\n        frame_crop_left_offset = gb.readUEG();\n        frame_crop_right_offset = gb.readUEG();\n        frame_crop_top_offset = gb.readUEG();\n        frame_crop_bottom_offset = gb.readUEG();\n      }\n\n      var par_width = 1,\n          par_height = 1;\n      var fps = 0,\n          fps_fixed = true,\n          fps_num = 0,\n          fps_den = 0;\n\n      var vui_parameters_present_flag = gb.readBool();\n      if (vui_parameters_present_flag) {\n        if (gb.readBool()) {\n          // aspect_ratio_info_present_flag\n          var aspect_ratio_idc = gb.readByte();\n          var par_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];\n          var par_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1];\n\n          if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {\n            par_width = par_w_table[aspect_ratio_idc - 1];\n            par_height = par_h_table[aspect_ratio_idc - 1];\n          } else if (aspect_ratio_idc === 255) {\n            par_width = gb.readByte() << 8 | gb.readByte();\n            par_height = gb.readByte() << 8 | gb.readByte();\n          }\n        }\n\n        if (gb.readBool()) {\n          gb.readBool();\n        }\n        if (gb.readBool()) {\n          gb.readBits(4);\n          if (gb.readBool()) {\n            gb.readBits(24);\n          }\n        }\n        if (gb.readBool()) {\n          gb.readUEG();\n          gb.readUEG();\n        }\n        if (gb.readBool()) {\n          var num_units_in_tick = gb.readBits(32);\n          var time_scale = gb.readBits(32);\n          fps_fixed = gb.readBool();\n\n          fps_num = time_scale;\n          fps_den = num_units_in_tick * 2;\n          fps = fps_num / fps_den;\n        }\n      }\n\n      var parScale = 1;\n      if (par_width !== 1 || par_height !== 1) {\n        parScale = par_width / par_height;\n      }\n\n      var crop_unit_x = 0,\n          crop_unit_y = 0;\n      if (chroma_format_idc === 0) {\n        crop_unit_x = 1;\n        crop_unit_y = 2 - frame_mbs_only_flag;\n      } else {\n        var sub_wc = chroma_format_idc === 3 ? 1 : 2;\n        var sub_hc = chroma_format_idc === 1 ? 2 : 1;\n        crop_unit_x = sub_wc;\n        crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);\n      }\n\n      var codec_width = (pic_width_in_mbs_minus1 + 1) * 16;\n      var codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);\n\n      codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;\n      codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;\n\n      var present_width = Math.ceil(codec_width * parScale);\n\n      gb.destroy();\n      gb = null;\n\n      return {\n        profile_string: profile_string,\n        level_string: level_string,\n        bit_depth: bit_depth,\n        chroma_format: chroma_format,\n        chroma_format_string: SPSParser.getChromaFormatString(chroma_format),\n\n        frame_rate: {\n          fixed: fps_fixed,\n          fps: fps,\n          fps_den: fps_den,\n          fps_num: fps_num\n        },\n\n        par_ratio: {\n          width: par_width,\n          height: par_height\n        },\n\n        codec_size: {\n          width: codec_width,\n          height: codec_height\n        },\n\n        present_size: {\n          width: present_width,\n          height: codec_height\n        }\n      };\n    }\n  }, {\n    key: '_skipScalingList',\n    value: function _skipScalingList(gb, count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale = 0;\n      for (var i = 0; i < count; i++) {\n        if (nextScale !== 0) {\n          deltaScale = gb.readSEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }, {\n    key: 'getProfileString',\n    value: function getProfileString(profileIdc) {\n      switch (profileIdc) {\n        case 66:\n          return 'Baseline';\n        case 77:\n          return 'Main';\n        case 88:\n          return 'Extended';\n        case 100:\n          return 'High';\n        case 110:\n          return 'High10';\n        case 122:\n          return 'High422';\n        case 244:\n          return 'High444';\n        default:\n          return 'Unknown';\n      }\n    }\n  }, {\n    key: 'getLevelString',\n    value: function getLevelString(levelIdc) {\n      return (levelIdc / 10).toFixed(1);\n    }\n  }, {\n    key: 'getChromaFormatString',\n    value: function getChromaFormatString(chroma) {\n      switch (chroma) {\n        case 420:\n          return '4:2:0';\n        case 422:\n          return '4:2:2';\n        case 444:\n          return '4:4:4';\n        default:\n          return 'Unknown';\n      }\n    }\n  }, {\n    key: 'toVideoMeta',\n    value: function toVideoMeta(spsConfig) {\n      var meta = {};\n      if (spsConfig && spsConfig.codec_size) {\n        meta.codecWidth = spsConfig.codec_size.width;\n        meta.codecHeight = spsConfig.codec_size.height;\n        meta.presentWidth = spsConfig.present_size.width;\n        meta.presentHeight = spsConfig.present_size.height;\n      }\n\n      meta.profile = spsConfig.profile_string;\n      meta.level = spsConfig.level_string;\n      meta.bitDepth = spsConfig.bit_depth;\n      meta.chromaFormat = spsConfig.chroma_format;\n\n      meta.parRatio = {\n        width: spsConfig.par_ratio.width,\n        height: spsConfig.par_ratio.height\n      };\n\n      meta.frameRate = spsConfig.frame_rate;\n\n      var fpsDen = meta.frameRate.fps_den;\n      var fpsNum = meta.frameRate.fps_num;\n      meta.refSampleDuration = Math.floor(meta.timescale * (fpsDen / fpsNum));\n      return meta;\n    }\n  }]);\n\n  return SPSParser;\n}();\n\nexport default SPSParser;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RBSP = function () {\n  function RBSP() {\n    _classCallCheck(this, RBSP);\n  }\n\n  _createClass(RBSP, null, [{\n    key: \"EBSP2RBSP\",\n\n    /**\n     * convert EBSP to RBSP\n     * @param data {Uint8Array}\n     * @returns {Uint8Array}\n     * @constructor\n     */\n    value: function EBSP2RBSP(data) {\n      return data.filter(function (el, idx) {\n        if (idx < 2) {\n          return true;\n        } else {\n          return !(data[idx - 2] === 0 && data[idx - 1] === 0 && el === 3);\n        }\n      });\n    }\n\n    /**\n     * @param data {Uint8Array}\n     * @constructor\n     */\n\n  }, {\n    key: \"EBSP2SODB\",\n    value: function EBSP2SODB(data) {\n      var lastByte = data[data.byteLength - 1];\n      if (lastByte && lastByte === 128) {\n        return data.slice(0, data.byteLength - 1);\n      }\n\n      return data;\n    }\n  }]);\n\n  return RBSP;\n}();\n\nexport default RBSP;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport RBSP from './rbsp';\n\nvar u8aToString = function u8aToString(data) {\n  var result = '';\n  for (var i = 0; i < data.byteLength; i++) {\n    result += String.fromCharCode(data[i]);\n  }\n  return result;\n};\n\nvar SEIParser = function () {\n  function SEIParser() {\n    _classCallCheck(this, SEIParser);\n  }\n\n  _createClass(SEIParser, null, [{\n    key: '_resolveNalu',\n    value: function _resolveNalu(data) {\n      if (data.length >= 1) {\n        return RBSP.EBSP2SODB(RBSP.EBSP2RBSP(data.slice(1)));\n      }\n      return null;\n    }\n    /**\n     *\n     * @param data {Uint8Array}\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var sodb = SEIParser._resolveNalu(data);\n\n      var _SEIParser$switchPayl = SEIParser.switchPayloadType(sodb),\n          payloadType = _SEIParser$switchPayl.payloadType,\n          offset = _SEIParser$switchPayl.offset;\n\n      var content = sodb.slice(offset);\n\n      switch (payloadType) {\n        case 5:\n          return SEIParser.user_data_unregistered(content);\n        default:\n          return {};\n      }\n    }\n\n    /**\n     *\n     * @param data\n     * @returns {{payloadType: number, offset: number}}\n     */\n\n  }, {\n    key: 'switchPayloadType',\n    value: function switchPayloadType(data) {\n      var dv = new DataView(data.buffer);\n      var payloadType = 0;\n      var offset = 0;\n      while (dv.getUint8(offset) === 255) {\n        offset++;\n        payloadType += 255;\n      }\n      payloadType += dv.getUint8(offset++);\n\n      return {\n        payloadType: payloadType,\n        offset: offset\n      };\n    }\n\n    /**\n     *\n     * @param data {Uint8Array}\n     * @return {{ payloadLength: number, offset: number }}\n     */\n\n  }, {\n    key: 'getPayloadLength',\n    value: function getPayloadLength(data) {\n      var dv = new DataView(data.buffer);\n\n      var payloadLength = 0;\n      var offset = 0;\n      while (dv.getUint8(offset) === 255) {\n        offset++;\n        payloadLength += 255;\n      }\n      payloadLength += dv.getUint8(offset++);\n\n      return {\n        payloadLength: payloadLength,\n        offset: offset\n      };\n    }\n\n    /**\n     * resolve 0x05 user data unregistered\n     * @param data {Uint8Array}\n     */\n    // eslint-disable-next-line camelcase\n\n  }, {\n    key: 'user_data_unregistered',\n    value: function user_data_unregistered(data) {\n      var _SEIParser$getPayload = SEIParser.getPayloadLength(data),\n          payloadLength = _SEIParser$getPayload.payloadLength,\n          offset = _SEIParser$getPayload.offset;\n\n      if (payloadLength < 16) {\n        return {\n          uuid: '',\n          content: null\n        };\n      }\n      var payload = data.slice(offset);\n\n      var uuid = u8aToString(payload.slice(0, 16));\n      var content = u8aToString(payload.slice(16, payloadLength));\n\n      return {\n        uuid: uuid,\n        content: content\n      };\n    }\n  }]);\n\n  return SEIParser;\n}();\n\nexport default SEIParser;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport SpsParser from './sps';\nimport SEIParser from './sei';\nimport RBSP from './rbsp';\n\nvar Nalunit = function () {\n  function Nalunit() {\n    _classCallCheck(this, Nalunit);\n  }\n\n  _createClass(Nalunit, null, [{\n    key: 'getNalunits',\n    value: function getNalunits(buffer) {\n      if (buffer.length - buffer.position < 4) {\n        return [];\n      }\n\n      var buf = buffer.dataview;\n      var position = buffer.position;\n      if (buf.getInt32(position) === 1 || buf.getInt16(position) === 0 && buf.getInt8(position + 2) === 1) {\n        return Nalunit.getAnnexbNals(buffer);\n      } else {\n        return Nalunit.getAvccNals(buffer);\n      }\n    }\n  }, {\n    key: 'getAnnexbNals',\n    value: function getAnnexbNals(buffer) {\n      var nals = [];\n      var position = Nalunit.getHeaderPositionAnnexB(buffer);\n      var start = position.pos;\n      var end = start;\n      while (start < buffer.length - 4) {\n        var header = buffer.buffer.slice(start, start + position.headerLength);\n        if (position.pos === buffer.position) {\n          buffer.skip(position.headerLength);\n        }\n        position = Nalunit.getHeaderPositionAnnexB(buffer);\n        end = position.pos;\n        var body = new Uint8Array(buffer.buffer.slice(start + header.byteLength, end));\n        var unit = { header: header, body: body };\n        Nalunit.analyseNal(unit);\n        if (unit.type <= 9 && unit.type !== 0) {\n          nals.push(unit);\n        }\n        buffer.skip(end - buffer.position);\n        start = end;\n      }\n      return nals;\n    }\n  }, {\n    key: 'getAvccNals',\n    value: function getAvccNals(buffer) {\n      // buffer.buffer = RBSP.EBSP2RBSP(new Uint8Array(buffer.buffer)).buffer;\n      // buffer.dataview = new DataView(buffer.buffer)\n      // buffer.dataview.position = 0;\n      var nals = [];\n      while (buffer.position < buffer.length - 4) {\n        var length = buffer.dataview.getInt32(buffer.dataview.position);\n        if (buffer.length - buffer.position >= length) {\n          var header = buffer.buffer.slice(buffer.position, buffer.position + 4);\n          buffer.skip(4);\n          var body = new Uint8Array(buffer.buffer.slice(buffer.position, buffer.position + length));\n          buffer.skip(length);\n          var unit = { header: header, body: body };\n          Nalunit.analyseNal(unit);\n          if (unit.type <= 9 && unit.type !== 0) {\n            nals.push(unit);\n          }\n        } else {\n          break;\n        }\n      }\n      return nals;\n    }\n  }, {\n    key: 'analyseNal',\n    value: function analyseNal(unit) {\n      var type = unit.body[0] & 0x1f;\n      unit.type = type;\n      switch (type) {\n        case 1:\n          // NDR\n          unit.ndr = true;\n          break;\n        case 5:\n          // IDR\n          unit.idr = true;\n          break;\n        case 6:\n          // SEI\n          unit.sei = SEIParser.parse(unit.body);\n          break;\n        case 7:\n          // SPS\n          unit.sps = SpsParser.parseSPS(unit.body);\n          break;\n        case 8:\n          // PPS\n          unit.pps = true;\n          break;\n        case 9:\n          // AUD\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: 'getHeaderPositionAnnexB',\n    value: function getHeaderPositionAnnexB(buffer) {\n      // seperate\n      var pos = buffer.position;\n      var headerLength = 0;\n      while (headerLength !== 3 && headerLength !== 4 && pos < buffer.length - 4) {\n        if (buffer.dataview.getInt16(pos) === 0) {\n          if (buffer.dataview.getInt16(pos + 2) === 1) {\n            // 0x000001\n            headerLength = 4;\n          } else if (buffer.dataview.getInt8(pos + 2) === 1) {\n            headerLength = 3;\n          } else {\n            pos++;\n          }\n        } else {\n          pos++;\n        }\n      }\n\n      if (pos === buffer.length - 4) {\n        if (buffer.dataview.getInt16(pos) === 0) {\n          if (buffer.dataview.getInt16(pos + 2) === 1) {\n            // 0x000001\n            headerLength = 4;\n          }\n        } else {\n          pos++;\n          if (buffer.dataview.getInt16(pos) === 0 && buffer.dataview.getInt8(pos) === 1) {\n            // 0x0000001\n            headerLength = 3;\n          } else {\n            pos = buffer.length;\n          }\n        }\n      }\n      return { pos: pos, headerLength: headerLength };\n    }\n  }, {\n    key: 'getAvcc',\n    value: function getAvcc(sps, pps) {\n      var ret = new Uint8Array(sps.byteLength + pps.byteLength + 11);\n      ret[0] = 0x01;\n      ret[1] = sps[1];\n      ret[2] = sps[2];\n      ret[3] = sps[3];\n      ret[4] = 255;\n      ret[5] = 225;\n\n      var offset = 6;\n\n      ret.set(new Uint8Array([sps.byteLength >>> 8 & 0xff, sps.byteLength & 0xff]), offset);\n      offset += 2;\n      ret.set(sps, offset);\n      offset += sps.byteLength;\n\n      ret[offset] = 1;\n      offset++;\n\n      ret.set(new Uint8Array([pps.byteLength >>> 8 & 0xff, pps.byteLength & 0xff]), offset);\n      offset += 2;\n      ret.set(pps, offset);\n      return ret;\n    }\n  }]);\n\n  return Nalunit;\n}();\n\nexport default Nalunit;","import _SpsParser from './sps';\nimport _NalUnit from './nalunit';\nimport _SEIParser from './sei';\nexport var SpsParser = _SpsParser;\nexport var NalUnit = _NalUnit;\nexport var SEIParser = _SEIParser;","class GLUtil {\n  static createTexture (gl, filter, data, width, height) {\n    let textureRef = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, textureRef);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    if (data instanceof Uint8Array) {\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    } else if (data instanceof HTMLVideoElement) {\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    } else if (data instanceof HTMLImageElement) {\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    } else if (data instanceof ImageData) {\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    }\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    return textureRef;\n  }\n\n  static createBuffer (gl, data) {\n    let buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n    return buffer;\n  }\n\n  static createShader (gl, type, source) {\n    var shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      throw new Error(gl.getShaderInfoLog(shader));\n    }\n\n    return shader;\n  }\n\n  static createProgram (gl, vertexSource, fragmentSource) {\n    var program = gl.createProgram();\n\n    var vertexShader = GLUtil.createShader(gl, gl.VERTEX_SHADER, vertexSource);\n    var fragmentShader = GLUtil.createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);\n\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      throw new Error(gl.getProgramInfoLog(program));\n    }\n\n    var wrapper = {program: program};\n\n    var numAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n    for (var i = 0; i < numAttributes; i++) {\n      var attribute = gl.getActiveAttrib(program, i);\n      wrapper[attribute.name] = gl.getAttribLocation(program, attribute.name);\n    }\n    var numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n    for (var i$1 = 0; i$1 < numUniforms; i$1++) {\n      var uniform = gl.getActiveUniform(program, i$1);\n      wrapper[uniform.name] = gl.getUniformLocation(program, uniform.name);\n    }\n\n    return wrapper;\n  }\n\n  static bindAttribute (gl, buffer, attribute, numComponents) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.enableVertexAttribArray(attribute);\n    gl.vertexAttribPointer(attribute, numComponents, gl.FLOAT, false, 0, 0);\n  }\n}\n\nexport default GLUtil;\n","class Filter {\n  constructor() {\n    this.inputTextures = []\n  }\n}\n\nexport default Filter;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Basic extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = [\n      'attribute vec4 vertexPos;',\n      'attribute vec2 texturePos;',\n      'varying vec2 textureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  textureCoord = texturePos;',\n      '}'].join('\\n');\n    this.fShader = [\n      'precision highp float;',\n      'varying highp vec2 textureCoord;',\n      'uniform highp float opacity;',\n      'uniform sampler2D sampler;',\n      'uniform highp float flipx;',\n      'uniform highp float flipy;',\n      'void main(void) {',\n      '  float cordx = textureCoord.x;',\n      '  if(flipx > 0.5) {',\n      '     cordx = 1.0 - textureCoord.x;',\n      '  }',\n      '  float cordy = 1.0 - textureCoord.y;',\n      '  if(flipy > 0.5) {',\n      '    cordy = textureCoord.y;',\n      '  }',\n      '  vec4 color = texture2D(sampler,vec2(cordx, cordy));',\n      '  gl_FragColor = vec4(color[0],color[1],color[2],opacity);',\n      '}'].join('\\n');\n    \n    this.opacity = config.opacity === undefined ? 1 : config.opacity;\n    this.flip = config.flip;\n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n    gl.useProgram(this.program);\n\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    let texturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, texturePosBuffer, this.pw.texturePos, 2);\n\n    GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.sampler, 0);\n    \n    gl.uniform1f(this.pw.opacity, this.opacity);\n\n    let flipx = 0;\n    let flipy = 0;\n\n    if (this.flip === 'x' || this.flip === 'xy') {\n      flipx = 1;\n    }\n\n    if (this.flip === 'y' || this.flip === 'xy') {\n      flipy = 1;\n    }\n\n    gl.uniform1f(this.pw.flipx, flipx);\n    gl.uniform1f(this.pw.flipy, flipy);\n  }\n\n  setFlip (flip) {\n    let flipx = 0;\n    let flipy = 0;\n    this.flip = flip;\n    if (this.flip === 'x' || this.flip === 'xy') {\n      flipx = 1;\n    }\n\n    if (this.flip === 'y' || this.flip === 'xy') {\n      flipy = 1;\n    }\n\n    this.gl.uniform1f(this.pw.flipx, flipx);\n    this.gl.uniform1f(this.pw.flipy, flipy);\n  }\n\n  render (texture, width, height) {\n    let gl = this.gl;\n    let program = this.program;\n    gl.useProgram(program);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n}\n\nexport default Basic;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Yuyv422 extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = ['attribute vec4 vertexPos;',\n      'attribute vec2 texturePos;',\n      'varying vec2 textureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  textureCoord = texturePos;',\n      '}'].join('\\n');\n    this.fShader = ['precision highp float;',\n      'varying highp vec2 textureCoord;',\n      'uniform sampler2D sampler;',\n      'uniform vec2 outerSize;',\n      'uniform mat4 yuv2rgb;',\n      'void main(void) {',\n      '  float cx = 1.0 / outerSize.x;',\n      '  float odd = floor(mod(textureCoord.x * outerSize.x, 2.0));',\n      '  float x = textureCoord.x + 0.5 * cx - odd * cx;',\n      '  vec4 color = texture2D(sampler, vec2(x, textureCoord.y));',\n      '  float ydata = odd < 0.5?color[0]:color[2];',\n      '  float udata = color[1];',\n      '  float vdata = color[3];',\n      '  gl_FragColor = vec4(ydata, udata, vdata, 1) * yuv2rgb;',\n      '}'].join('\\n');\n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    this.texturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, this.texturePosBuffer, this.pw.texturePos, 2);\n\n    let textureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.sampler, 0);\n\n    this.inputTextures.push(textureRef);\n\n    let yuv2rgb = [\n      1.16438, 0.00000, 1.59603, -0.87079,\n      1.16438, -0.39176, -0.81297, 0.52959,\n      1.16438, 2.01723, 0.00000, -1.08139,\n      0, 0, 0, 1\n    ];\n    gl.uniformMatrix4fv(this.pw.yuv2rgb, false, yuv2rgb);\n  }\n\n  render (data, width, height) {\n    data = data[0];\n    let gl = this.gl;\n    let program = this.program;\n    let textureRef = this.inputTextures[0];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n    gl.uniform2fv(this.pw.outerSize, [width, height]);\n\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, textureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width / 2, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    return {\n      texture: this.outputTexuture,\n      width,\n      height\n    };\n  }\n}\n\nexport default Yuyv422;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Rgb32 extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = [\n      'attribute vec4 vertexPos;',\n      'attribute vec2 texturePos;',\n      'varying vec2 textureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  textureCoord = texturePos;',\n      '}'].join('\\n');\n    this.fShader = [\n      'precision highp float;',\n      'varying highp vec2 textureCoord;',\n      'uniform sampler2D sampler;',\n      'void main(void) {',\n      '  vec4 color = texture2D(sampler, textureCoord);',\n      '  gl_FragColor = vec4(color[2],color[1],color[0],color[3]);',\n      '}'].join('\\n'); \n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    this.texturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, this.texturePosBuffer, this.pw.texturePos, 2);\n\n    let textureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.sampler, 0);\n\n    this.inputTextures.push(textureRef);\n  }\n\n  render (data, width, height) {\n    data = data[0];\n    let gl = this.gl;\n    let program = this.program;\n    let textureRef = this.inputTextures[0];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, textureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    return {\n      texture: this.outputTexuture,\n      width,\n      height\n    };\n  }\n}\n\nexport default Rgb32;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Rgb24 extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = [\n      'attribute vec4 vertexPos;',\n      'attribute vec2 texturePos;',\n      'varying vec2 textureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  textureCoord = texturePos;',\n      '}'].join('\\n');\n    this.fShader = [\n      'precision highp float;',\n      'varying highp vec2 textureCoord;',\n      'uniform sampler2D sampler;',\n      'uniform vec2 outerSize;',\n      'uniform mat4 YUV2RGB;',\n      'void main(void) {',\n      '  float my = floor(mod(textureCoord.y * outerSize.y, 4.0));',\n      '  float cy = 1.0 / outerSize.y;',\n\n      '  float mx = floor(mod(outerSize.x, 4.0));',\n      '  float cx = 1.0 / outerSize.x;',\n      '  float width =  outerSize.x + mx;',\n      '  float x = textureCoord.x + (mx * cx * textureCoord.y * outerSize.y);',\n      '  x = cx * mod(x * outerSize.x, width);',\n      '  float bdata, gdata, rdata;',\n\n      '  vec4 color = texture2D(sampler, vec2(x, textureCoord.y));',\n      '  rdata = color[0];',\n      '  gdata = color[1];',\n      '  bdata = color[2];',\n      '  gl_FragColor = vec4(bdata, gdata, rdata, 1);',\n      '}'].join('\\n'); \n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    this.texturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, this.texturePosBuffer, this.pw.texturePos, 2);\n\n    let textureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.sampler, 0);\n    this.inputTextures.push(textureRef);\n  }\n\n  render (data, width, height) {\n    data = data[0];\n    let gl = this.gl;\n    let program = this.program;\n    let textureRef = this.inputTextures[0];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n    let outerSizeRef = gl.getUniformLocation(program, 'outerSize');\n    gl.uniform2fv(outerSizeRef, [width, height]);\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, textureRef);\n    let inputx = width - (width % 4);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, inputx, height, 0, gl.RGB, gl.UNSIGNED_BYTE, data);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    return {\n      texture: this.outputTexuture,\n      width,\n      height\n    };\n  }\n}\n\nexport default Rgb24;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Nv12 extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = [\n      'attribute vec4 vertexPos;',\n      'attribute vec2 yTexturePos;',\n      'attribute vec2 uvTexturePos;',\n      'varying vec2 yTextureCoord;',\n      'varying vec2 uvTextureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  yTextureCoord = yTexturePos;',\n      '  uvTextureCoord = uvTexturePos;',\n      '}'].join('\\n');\n    this.fShader = ['precision highp float;',\n      'varying highp vec2 yTextureCoord;',\n      'varying highp vec2 uvTextureCoord;',\n      'uniform sampler2D ySampler;',\n      'uniform sampler2D uvSampler;',\n      'uniform mat4 yuv2rgb;',\n      'void main(void) {',\n      '  vec4 colory = texture2D(ySampler, yTextureCoord);',\n      '  vec4 coloruv = texture2D(uvSampler, vec2(yTextureCoord.x / 2.0, yTextureCoord.y));',\n      '  gl_FragColor = vec4(colory[0], coloruv[0], coloruv[1], 1) * yuv2rgb;',\n      '}'].join('\\n');\n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    let yTexturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, yTexturePosBuffer, this.pw.yTexturePos, 2);\n\n    let uvTexturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, uvTexturePosBuffer, this.pw.uvTexturePos, 2);\n\n    let yTextureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.ySampler, 0);\n\n    this.inputTextures.push(yTextureRef);\n\n    let uvTextureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.uvSampler, 1);\n\n    this.inputTextures.push(uvTextureRef);\n\n    let yuv2rgb = [\n      1.16438, 0.00000, 1.59603, -0.87079,\n      1.16438, -0.39176, -0.81297, 0.52959,\n      1.16438, 2.01723, 0.00000, -1.08139,\n      0, 0, 0, 1\n    ];\n    gl.uniformMatrix4fv(this.pw.yuv2rgb, false, yuv2rgb);\n  }\n\n  render (data, width, height) {\n    let ydata = data[0];\n    let uvdata = data[1];\n    let gl = this.gl;\n    let program = this.program;\n    let yTextureRef = this.inputTextures[0];\n    let uvTextureRef = this.inputTextures[1];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, yTextureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, width, height, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, ydata);\n\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, uvTextureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width / 2, height / 4, 0, gl.RGBA, gl.UNSIGNED_BYTE, uvdata);\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    return {\n      texture: this.outputTexuture,\n      width,\n      height\n    };\n  }\n}\n\nexport default Nv12;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Yuv420 extends Filter {\n  constructor (render, config) {\n    super();\n    this.vShader = ['attribute vec4 vertexPos;',\n      'attribute vec2 yTexturePos;',\n      'attribute vec2 uTexturePos;',\n      'attribute vec2 vTexturePos;',\n      'varying vec2 yTextureCoord;',\n      'varying vec2 uTextureCoord;',\n      'varying vec2 vTextureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  yTextureCoord = yTexturePos;',\n      '  uTextureCoord = uTexturePos;',\n      '  vTextureCoord = vTexturePos;',\n      '}'].join('\\n');\n    this.fShader = [\n      'precision highp float;',\n      'varying highp vec2 yTextureCoord;',\n      'varying highp vec2 uTextureCoord;',\n      'varying highp vec2 vTextureCoord;',\n      'uniform sampler2D ySampler;',\n      'uniform sampler2D uSampler;',\n      'uniform sampler2D vSampler;',\n      'uniform mat4 yuv2rgb;',\n\n      'void main(void) {',\n      '  highp float y = texture2D(ySampler,  yTextureCoord).r;',\n      '  highp float u = texture2D(uSampler,  uTextureCoord).r;',\n      '  highp float v = texture2D(vSampler,  vTextureCoord).r;',\n      '  gl_FragColor = vec4(y, u, v, 1) * yuv2rgb;',\n      '}'\n    ].join('\\n');\n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    let yTexturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, yTexturePosBuffer, this.pw.yTexturePos, 2);\n\n    let uTexturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, uTexturePosBuffer, this.pw.uTexturePos, 2);\n\n    let vTexturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, vTexturePosBuffer, this.pw.vTexturePos, 2);\n\n    let yTextureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.ySampler, 0);\n\n    this.inputTextures.push(yTextureRef);\n\n    let uTextureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.uSampler, 1);\n\n    this.inputTextures.push(uTextureRef);\n\n    let vTextureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.vSampler, 2);\n\n    this.inputTextures.push(vTextureRef);\n\n    let yuv2rgb = [\n      1.16438, 0.00000, 1.59603, -0.87079,\n      1.16438, -0.39176, -0.81297, 0.52959,\n      1.16438, 2.01723, 0.00000, -1.08139,\n      0, 0, 0, 1\n    ];\n    gl.uniformMatrix4fv(this.pw.yuv2rgb, false, yuv2rgb);\n  }\n\n  render (data, width, height) {\n    let ydata = data[0];\n    let udata = data[1];\n    let vdata = data[2];\n    let gl = this.gl;\n    let program = this.program;\n    let yTextureRef = this.inputTextures[0];\n    let uTextureRef = this.inputTextures[1];\n    let vTextureRef = this.inputTextures[2];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, yTextureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, width, height, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, ydata);\n\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, uTextureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, width / 2, height / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, udata);\n\n    gl.activeTexture(gl.TEXTURE2);\n    gl.bindTexture(gl.TEXTURE_2D, vTextureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, width / 2, height / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, vdata);\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    return {\n      texture: this.outputTexuture,\n      width: width,\n      height: height\n    };\n  }\n}\n\nexport default Yuv420;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Rgba extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = [\n      'attribute vec4 vertexPos;',\n      'attribute vec2 texturePos;',\n      'varying vec2 textureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  textureCoord = texturePos;',\n      '}'].join('\\n');\n    this.fShader = [\n      'precision highp float;',\n      'varying highp vec2 textureCoord;',\n      'uniform sampler2D sampler;',\n      'void main(void) {',\n      '  vec4 color = texture2D(sampler, textureCoord);',\n      '  gl_FragColor = vec4(color[0],color[1],color[2],color[3]);',\n      '}'].join('\\n');\n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    this.texturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, this.texturePosBuffer, this.pw.texturePos, 2);\n\n    let textureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.sampler, 0);\n\n    this.inputTextures.push(textureRef);\n  }\n\n  render (data, width, height) {\n    if (data instanceof ImageData) {\n      data = data.data;\n    } else {\n      data = data[0];\n    }\n\n    let gl = this.gl;\n    let program = this.program;\n    let textureRef = this.inputTextures[0];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, textureRef);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    return {\n      texture: this.outputTexuture,\n      width,\n      height\n    };\n  }\n}\n\nexport default Rgba;\n","import Filter from '../filter';\nimport GLUtil from '../glutil';\nclass Rgb extends Filter {\n  constructor (config) {\n    super();\n    this.vShader = [\n      'attribute vec4 vertexPos;',\n      'attribute vec2 texturePos;',\n      'varying vec2 textureCoord;',\n      'void main()',\n      '{',\n      '  gl_Position = vertexPos;',\n      '  textureCoord = texturePos;',\n      '}'].join('\\n');\n    this.fShader = [\n      'precision highp float;',\n      'varying highp vec2 textureCoord;',\n      'uniform sampler2D sampler;',\n      'uniform vec2 outerSize;',\n      'uniform mat4 YUV2RGB;',\n      'void main(void) {',\n      '  float my = floor(mod(textureCoord.y * outerSize.y, 4.0));',\n      '  float cy = 1.0 / outerSize.y;',\n\n      '  float mx = floor(mod(outerSize.x, 4.0));',\n      '  float cx = 1.0 / outerSize.x;',\n      '  float width =  outerSize.x + mx;',\n      '  float x = textureCoord.x + (mx * cx * textureCoord.y * outerSize.y);',\n      '  x = cx * mod(x * outerSize.x, width);',\n      '  float bdata, gdata, rdata;',\n\n      '  vec4 color = texture2D(sampler, vec2(x, textureCoord.y));',\n      '  rdata = color[0];',\n      '  gdata = color[1];',\n      '  bdata = color[2];',\n      '  gl_FragColor = vec4(rdata, gdata, bdata, 1);',\n      '}'].join('\\n');\n  }\n\n  init (render) {\n    this.rend = render;\n    this.canvas = render.canvas;\n    let gl = this.gl = render.gl;\n    this.pw = GLUtil.createProgram(gl, this.vShader, this.fShader);\n    this.program = this.pw.program;\n    gl.useProgram(this.program);\n    // vertexPos\n    let vertexPosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]));\n    GLUtil.bindAttribute(gl, vertexPosBuffer, this.pw.vertexPos, 2);\n\n    // texturePos\n    this.texturePosBuffer = GLUtil.createBuffer(gl, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]));\n    GLUtil.bindAttribute(gl, this.texturePosBuffer, this.pw.texturePos, 2);\n\n    let textureRef = GLUtil.createTexture(gl, gl.LINEAR);\n    gl.uniform1i(this.pw.sampler, 0);\n    this.inputTextures.push(textureRef);\n  }\n\n  render (data, width, height) {\n    data = data[0];\n    let gl = this.gl;\n    let program = this.program;\n    let textureRef = this.inputTextures[0];\n\n    if (this.width !== width || this.height !== height) {\n      this.width = width;\n      this.height = height;\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    if (!this.outputTexuture) {\n      this.outputTexuture = GLUtil.createTexture(gl, gl.LINEAR, new Uint8Array(width * height * 4), width, height);\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.rend.fb);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.outputTexuture, 0);\n\n    gl.useProgram(program);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n    let outerSizeRef = gl.getUniformLocation(program, 'outerSize');\n    gl.uniform2fv(outerSizeRef, [width, height]);\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, textureRef);\n    let inputx = width - (width % 4);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, inputx, height, 0, gl.RGB, gl.UNSIGNED_BYTE, data);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\n    return {\n      texture: this.outputTexuture,\n      width,\n      height\n    };\n  }\n}\n\nexport default Rgb;\n","import GLUtil from './glutil';\nimport Basic from './filter/basic';\n\nimport Yuyv422 from './fmt/yuyv422';\nimport Rgb32 from './fmt/rgb32';\nimport Rgb24 from './fmt/rgb24';\nimport Nv12 from './fmt/nv12';\nimport Yuv420 from './fmt/yuv420';\nimport Rgba from './fmt/rgba';\nimport Rgb from './fmt/rgb';\n\nclass Render {\n  constructor (config) {\n    this.canvas = config.canvas;\n    // input\n    if (config.video) {\n      this.video = config.video;\n      config.flip = 'y';\n    } else if (config.image) {\n      this.image = config.image;\n    } else {\n      this._initFmt(config)\n    }\n\n    this.filters = [];\n\n    this.basicFilter = new Basic({\n      opacity: config.opacity !== undefined ? config.opacity : 1,\n      flip: config.flip || undefined\n    });\n\n    if (config.filters) {\n      for (let i = 0; i < config.filters.length; i++) {\n        this.filters.push(config.filters[i]);\n      }\n    }\n    this._init();\n  }\n\n  _initFmt (config) {\n    switch (config.format) {\n      case 'YUY2':\n        this.fmt = new Yuyv422(this);\n        break;\n      case 'RGBA':\n        this.fmt = new Rgba(this);\n        break;\n      case 'RGB':\n        this.fmt = new Rgb(this);\n        break;\n      case 'RGB32':\n        this.fmt = new Rgb32(this);\n        break;\n      case 'RGB24':\n        this.fmt = new Rgb24(this);\n        break;\n      case 'NV12':\n        this.fmt = new Nv12(this);\n        break;\n      case 'YUV420':\n        this.fmt = new Yuv420(this);\n        break;\n      default:\n        break;\n    }\n  }\n\n  _initImage () {\n\n  }\n\n  _init () {\n    this._initContextGL();\n\n    if (!this.gl) {\n      throw new Error(`fail to init gl`)\n    }\n\n    let gl = this.gl;\n    this.fb = gl.createFramebuffer();\n\n    if (this.fmt) {\n      this.fmt.init(this);\n    } else if (this.video) {\n      const width = this.video.videoWidth;\n      const height = this.video.videoHeight;\n      let emptyPixels = new Uint8Array(width * height * 4);\n      this.videoTexture = GLUtil.createTexture(gl, gl.LINEAR, emptyPixels, width, height);\n    }\n    this.basicFilter.init(this)\n\n    for (let i = 0; i < this.filters.length; i++) {\n      let filter = this.filters[i];\n      filter.init(this);\n    }\n  }\n\n  _initContextGL () {\n    let canvas = this.canvas;\n    let gl = null;\n\n    let validContextNames = ['webgl', 'experimental-webgl', 'moz-webgl', 'webkit-3d'];\n    let nameIndex = 0;\n\n    while (!gl && nameIndex < validContextNames.length) {\n      let contextName = validContextNames[nameIndex];\n\n      try {\n        gl = canvas.getContext(contextName);\n      } catch (e) {\n        gl = null;\n      }\n\n      if (!gl || typeof gl.getParameter !== 'function') {\n        gl = null;\n      }\n\n      ++nameIndex;\n    };\n\n    this.gl = gl;\n  };\n\n  _drawPicture (data, iWidth, iHeight) {\n    let { texture, width, height } = this.fmt.render(data, iWidth, iHeight);\n    this._applyFilters(texture, width, height);\n  }\n\n  _drawVideo () {\n    let gl = this.gl;\n    gl.bindTexture(gl.TEXTURE_2D, this.videoTexture);\n    // gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.video);\n    this._applyFilters(this.videoTexture, this.video.videoWidth, this.video.videoHeight)\n  }\n\n  _applyFilters (texture, width, height) {\n    let gl = this.gl;\n\n    for (let i = 0; i < this.filters.length; i++) {\n      let filter = this.filters[i];\n      let data = filter.render(texture, width, height);\n      texture = data.texture;\n      width = data.width;\n      height = data.height;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    if (this.width !== width || this.height !== height) {\n      this.width = this.canvas.width = width;\n      this.height = this.canvas.height = height;\n    }\n    this.basicFilter.render(texture, width, height);\n  }\n\n  render (data, width, height) {\n    if (this.fmt) {\n      if (this.width !== width || this.height !== height) {\n        this.width = this.canvas.width = width;\n        this.height = this.canvas.height = height;\n      }\n\n      this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n      this._drawPicture(data, width, height)\n    } else if (this.video) {\n      this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n      this._drawVideo();\n    }\n  }\n}\n\nexport default Render;\n","class SourceBuffer {\n  constructor (config) {\n    this.config = Object.assign({}, config);\n    this.type = this.config.type;\n    this.buffer = [];\n    this.currentGop = undefined;\n    this._lastGet = undefined;\n  }\n\n  push (frame) {\n    if (this.type === 'video') {\n      if (frame.isKeyframe) {\n        let currentGop = {\n          samples: [],\n          start: frame.dts,\n          end: frame.dts,\n          nextGop: undefined\n        };\n        if (this.currentGop) {\n          this.currentGop.nextGop = currentGop;\n        }\n        this.currentGop = currentGop;\n        this.buffer.push(this.currentGop);\n      }\n\n      if (this.currentGop) {\n        this.currentGop.samples.push(frame);\n\n        if (frame.dts < this.currentGop.start) {\n          this.currentGop.start = frame.dts;\n        }\n\n        if (frame.dts > this.currentGop.end) {\n          this.currentGop.end = frame.dts;\n        }\n      }\n    }\n  }\n\n  get (time) {\n    if (this.type === 'video') {\n      if (this.buffer.length < 1) {\n        return;\n      }\n\n      if (time === undefined) {\n        let sample = this._getNext();\n        return sample;\n      }\n    }\n  }\n\n  _getNext () {\n    if (!this._lastGet) {\n      let gop = this.buffer[0];\n      if (gop.samples.length < 1) {\n        return\n      }\n\n      this._lastGet = {\n        gop,\n        index: 0\n      }\n      return gop.samples[0];\n    } else {\n      let gop = this._lastGet.gop;\n      let sample = gop.samples[this._lastGet.index + 1];\n      if (sample) {\n        this._lastGet.index = this._lastGet.index + 1;\n        return sample;\n      } else {\n        gop = gop.nextGop;\n        if (!gop || gop.samples.length < 1) {\n          return;\n        }\n        sample = gop.samples[0];\n        this._lastGet = {\n          gop,\n          index: 0\n        }\n        return sample;\n      }\n    }\n  }\n\n  remove (start, end) {\n    if (this.buffer.length < 0) {\n      return;\n    }\n\n    let i = 0;\n    let gop = this.buffer[0];\n    while (gop) {\n      if (gop.end < end && gop.start >= start) {\n        this.buffer.splice(i, 1)\n        gop = this.buffer[i];\n      } else {\n        i += 1;\n        gop = this.buffer[i];\n      }\n    }\n  }\n}\n\nexport default SourceBuffer;\n","export default class TimeRanges {\n  constructor (ranges) {\n    this.ranges = ranges || [];\n  }\n\n  start (idx) {\n    return this.ranges[idx] ? this.ranges[idx].start : 0\n  }\n\n  end (idx) {\n    return this.ranges[idx] ? this.ranges[idx].end : 0\n  }\n\n  add (range) {\n    this.ranges.push(range)\n  }\n\n  get length () {\n    return this.ranges.length\n  }\n}\n","// import Workerify from 'webworkify-webpack'\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport VideoWorker from 'worker!./worker.js';\nimport Stream from 'xgplayer-transmuxer-buffer-stream';\nimport { NalUnit } from 'xgplayer-transmuxer-codec-avc';\nimport Render from 'xgplayer-render/src/index';\nimport SourceBuffer from './sourcebuffer';\nimport TimeRanges from './time-ranges';\n\nclass VideoCanvas {\n  constructor (config) {\n    this.config = Object.assign({}, config);\n    this.canvas = this.config.canvas ? this.config.canvas : document.createElement('canvas');\n    this.source = new SourceBuffer({type: 'video'});\n    this.preloadTime = this.config.preloadTime || 3;\n    this.oncanplay = undefined;\n    this.onFirstFrame = undefined;\n    this.meta = undefined;\n    this.readyStatus = 0;\n    this.paused = true;\n    this.count = 0;\n    this.currentTime = 0;\n    this.lastPlayed = 0;\n\n    this._decoderInited = false;\n    this._avccpushed = false;\n    this._decodedFrames = {};\n    this._lastSampleDts = undefined;\n    this._baseDts = undefined;\n    this._lastRenderTime = null\n    this.playFinish = null\n\n    this.canvas.style.maxWidth = '100%';\n    this.canvas.style.maxHeight = '100%';\n    this.canvas.style.top = 0;\n    this.canvas.style.bottom = 0;\n    this.canvas.style.left = 0;\n    this.canvas.style.right = 0;\n    this.canvas.style.margin = 'auto';\n    this.canvas.style.position = 'absolute';\n  }\n\n  pause () {\n    this.paused = true;\n  }\n\n  initWasmWorker () {\n    let _this = this;\n    // eslint-disable-next-line no-undef\n    this.wasmworker = new VideoWorker();\n    this.wasmworker.postMessage({\n      msg: 'init',\n      meta: this.meta\n    })\n    this.wasmworker.addEventListener('message', msg => {\n      switch (msg.data.msg) {\n        case 'DECODER_READY':\n          _this._decoderInited = true;\n          break;\n        case 'DECODED':\n          this._onDecoded(msg.data);\n          break;\n      }\n    });\n  }\n\n  setVideoMetaData (meta) {\n    this.meta = meta;\n    if (!this._decoderInited) {\n      this.initWasmWorker();\n      return\n    }\n    this._avccpushed = true;\n    let data = new Uint8Array(meta.sps.byteLength + 4);\n    data.set([0, 0, 0, 1])\n    data.set(meta.sps, 4);\n    this.wasmworker.postMessage({\n      msg: 'decode',\n      data: data\n    })\n\n    data = new Uint8Array(meta.pps.byteLength + 4);\n    data.set([0, 0, 0, 1])\n    data.set(meta.pps, 4);\n    this.wasmworker.postMessage({\n      msg: 'decode',\n      data: data\n    })\n\n    if (!this.yuvCanvas) {\n      let format = 'YUV420';\n      if (meta.chromaFormat === 422) {\n        format = 'YUV422P'\n      }\n      let config = Object.assign({format, canvas: this.canvas}, this.config);\n      this.yuvCanvas = new Render(config);\n    }\n    this.readyStatus = 1;\n  }\n\n  decodeVideo (videoTrack) {\n    if (!this._decoderInited) {\n      return\n    }\n\n    if (!this._avccpushed) {\n      this.setVideoMetaData(this.meta);\n    }\n    let { samples } = videoTrack;\n    let sample = samples.shift();\n\n    while (sample) {\n      if (!this._baseDts) {\n        this._baseDts = sample.dts;\n      }\n      this.source.push(sample);\n      sample = samples.shift();\n    }\n\n    this._preload();\n  }\n\n  _preload () {\n    if (!this._lastSampleDts || this._lastSampleDts - this._baseDts < this.currentTime + this.preloadTime * 1000) {\n      let sample = this.source.get();\n      if (sample) {\n        this._lastSampleDts = sample.dts;\n        this._analyseNal(sample);\n      }\n\n      while (sample && this._lastSampleDts - this._baseDts < this.currentTime + this.preloadTime * 1000) {\n        sample = this.source.get();\n        if (sample) {\n          this._analyseNal(sample);\n          this._lastSampleDts = sample.dts;\n        }\n      }\n    }\n  }\n\n  _analyseNal (sample) {\n    let nals = NalUnit.getAvccNals(new Stream(sample.data.buffer));\n\n    let length = 0;\n    for (let i = 0; i < nals.length; i++) {\n      let nal = nals[i];\n      length += nal.body.byteLength + 4;\n    }\n    let offset = 0;\n    let data = new Uint8Array(length);\n    for (let i = 0; i < nals.length; i++) {\n      let nal = nals[i];\n      data.set([0, 0, 0, 1], offset);\n      offset += 4;\n      data.set(new Uint8Array(nal.body), offset);\n      offset += nal.body.byteLength;\n    }\n    this.wasmworker.postMessage({\n      msg: 'decode',\n      data: data,\n      info: {\n        dts: sample.dts,\n        pts: sample.pts ? sample.pts : sample.dts + sample.cts,\n        key: sample.isKeyframe\n      }\n    })\n  }\n\n  _onDecoded (data) {\n    let {dts} = data.info\n    this._decodedFrames[dts] = data;\n    if (Object.keys(this._decodedFrames).length > 10) {\n      if (this.playFinish) {\n        this.playFinish()\n      }\n      if (this.oncanplay) {\n        this.oncanplay();\n      }\n    }\n  }\n\n  play () {\n    this.paused = false;\n    return new Promise((resolve) => {\n      this.playFinish = resolve\n    }).then(() => {\n      this.playFinish = null\n    })\n  }\n\n  _onTimer (currentTime) {\n    if (this.paused) {\n      return;\n    }\n\n    if (this.meta) {\n      if (this.meta.frameRate && this.meta.frameRate.fixed && this.meta.frameRate.fps) {\n      }\n      let frameTimes = Object.keys(this._decodedFrames);\n      if (frameTimes.length > 0) {\n        this.currentTime = currentTime;\n        let frameTime = -1;\n        for (let i = 0; i < frameTimes.length && Number.parseInt(frameTimes[i]) - this._baseDts <= this.currentTime; i++) {\n          frameTime = Number.parseInt(frameTimes[i - 1]);\n        }\n\n        let frame = this._decodedFrames[frameTime];\n        if (frame) {\n          let buf = []\n          if (this.meta.chromaFormat === 420) {\n\n            let buf0 = frame.buffer.slice(0, frame.yLinesize * frame.height);\n            let buf1 = frame.buffer.slice(frame.yLinesize * frame.height, frame.yLinesize * frame.height * 1.25);\n            let buf2 = frame.buffer.slice(frame.yLinesize * frame.height * 1.25, frame.yLinesize * frame.height * 1.5);\n            buf = [new Uint8Array(buf0), new Uint8Array(buf1), new Uint8Array(buf2)];\n          }\n          this.yuvCanvas.render(buf, frame.yLinesize, frame.height);\n        }\n        for (let i = 0; i < frameTimes.length; i++) {\n          if (Number.parseInt(frameTimes[i]) < frameTime) {\n            delete this._decodedFrames[frameTimes[i]];\n          }\n        }\n      }\n    }\n    this._lastRenderTime = Date.now()\n  }\n\n  cleanBuffer () {\n    if (this.currentTime > 1) {\n      this.source.remove(0, this.currentTime - 1);\n    }\n  }\n\n  destroy () {\n    this.wasmworker.postMessage({msg: 'destroy'})\n    this.wasmworker = null;\n    this.canvas = null\n    this.source = null\n    this._decoderInited = false;\n  }\n\n  get buffered () {\n    const ranges = []\n    let currentRange = {\n      start: null,\n      end: null\n    }\n    for (let i = 0; i < this.source.buffer.length; i++) {\n      const { start, end } = this.source.buffer[i];\n      if (!currentRange.start) {\n        currentRange.start = start;\n      }\n      if (!currentRange.end) {\n        currentRange.end = end;\n      }\n\n      if (start - currentRange.end > 1000) {\n        currentRange.start = currentRange.start / 1000\n        currentRange.end = currentRange.end / 1000\n        currentRange = {\n          start,\n          end\n        }\n      } else {\n        currentRange.end = end\n      }\n    }\n\n    if (currentRange.start !== null && currentRange.end !== null) {\n      currentRange.start = currentRange.start / 1000\n      currentRange.end = currentRange.end / 1000\n      ranges.push(currentRange)\n    }\n\n    return new TimeRanges(ranges)\n  }\n\n}\nexport default VideoCanvas;\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","import EventEmitter from 'events'\nclass AudioCtx extends EventEmitter {\n  constructor (config) {\n    super();\n    this.config = Object.assign({}, config);\n    let AudioContext = window.AudioContext || window.webkitAudioContext;\n    this.context = new AudioContext();\n    this.gainNode = this.context.createGain();\n    this.gainNode.connect(this.context.destination);\n    this.meta = undefined;\n    this.samples = [];\n    this.preloadTime = this.config.preloadTime || 3;\n    this.duration = 0;\n\n    this._currentBuffer = undefined;\n    this._nextBuffer = undefined;\n    this._lastpts = undefined;\n    this._preDecode = [];\n    this._currentTime = 0;\n    this._decoding = false;\n    this._volume = this.config.volume || 0.6\n    // 记录外部传输的状态\n    this._played = false;\n    this.playFinish = null; // pending play task\n    this.waitNextID = null; // audio source end and next source not loaded\n  }\n\n  get currentTime () {\n    return this._currentTime;\n  }\n\n  decodeAudio (audioTrack) {\n    let {samples, meta} = audioTrack;\n    let data = samples;\n    audioTrack.samples = [];\n    if (meta) {\n      this.setAudioData(data);\n    }\n  }\n  setAudioData (data) {\n    for (let i = 0; i < data.length; i++) {\n      data[i].pts = (data[i].pts === undefined) ? data[i].dts : data[i].pts;\n      this._preDecode.push(data[i]);\n    }\n    if (this._preDecode.length > 0) {\n      if (this._lastpts === undefined) {\n        this._lastpts = this._preDecode[0].pts;\n      }\n      if ((this._preDecode[this._preDecode.length - 1].pts - this._lastpts) / 1000 > this.preloadTime) {\n        this.decodeAAC();\n      }\n    }\n  }\n\n  decodeAAC () {\n    if (this._decoding) {\n      return;\n    }\n    this._decoding = true;\n    let data = this._preDecode;\n    let samples = [];\n    let _this = this;\n    let sample = data.shift();\n    while (sample) {\n      let sampleData = AudioCtx.getAACData(this.meta, sample)\n      samples.push(sampleData);\n      this._lastpts = sample.pts;\n      sample = data.shift()\n    }\n    let buffer = AudioCtx.combileData(samples);\n    try {\n      this.context.decodeAudioData(buffer.buffer, function (buffer) {\n        let audioSource = _this.context.createBufferSource();\n        audioSource.buffer = buffer;\n        // audioSource.onended = _this.onSourceEnded.bind(_this);\n        _this.samples.push({\n          time: _this.duration,\n          duration: buffer.duration,\n          data: audioSource\n        })\n\n        _this.duration += buffer.duration;\n\n        if (!_this._currentBuffer) {\n          _this._currentBuffer = _this.getTimeBuffer(_this.currentTime);\n        }\n\n        if (!_this._nextBuffer && _this._currentBuffer) {\n          _this._nextBuffer = _this.getTimeBuffer(_this.currentTime + _this._currentBuffer.duration);\n        }\n        _this._decoding = false;\n\n        if ((_this._preDecode.length > 0 && _this._preDecode[_this._preDecode.length - 1].pts - _this._lastpts) / 1000 >= _this.preloadTime) {\n          _this.decodeAAC();\n        }\n\n        if (_this.playFinish) {\n          _this.playFinish()\n        }\n      }, (e) => {\n        console.error(e)\n      })\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  onSourceEnded () {\n    if (!this._nextBuffer || !this._played) {\n      this.waitNextID = setTimeout(() => {\n        this.onSourceEnded();\n      }, 200);\n      return;\n    }\n    let audioSource = this._nextBuffer.data;\n    audioSource.start();\n    audioSource.connect(this.gainNode);\n    let _this = this;\n    setTimeout(() => {\n      _this.onSourceEnded.call(this);\n    }, audioSource.buffer.duration * 1000 - 10);\n    this._currentBuffer = this._nextBuffer;\n    this._currentTime = this._currentBuffer.time;\n    this._nextBuffer = this.getTimeBuffer(this.currentTime);\n    if (this._currentBuffer) {\n      this._nextBuffer = this.getTimeBuffer(this.currentTime + this._currentBuffer.duration);\n    }\n    this.emit('AUDIO_SOURCE_END')\n  }\n\n  play () {\n    if (this.playFinish) {\n      return;\n    }\n    this._played = true;\n    if (this.context.state === 'suspended') {\n      this.context.resume()\n    }\n    let _this = this;\n    const playStart = () => {\n      let audioSource = this._currentBuffer.data;\n      audioSource.connect(this.gainNode);\n      audioSource.start();\n      setTimeout(() => {\n        _this.onSourceEnded.call(this);\n      }, audioSource.buffer.duration * 1000 - 10);\n    }\n\n    if (!this._currentBuffer) {\n      return new Promise((resolve) => {\n        this.playFinish = resolve;\n      }).then(() => {\n        this.playFinish = null;\n        playStart()\n      });\n    } else {\n      playStart();\n      return Promise.resolve()\n    }\n  }\n\n  pause () {\n    const audioCtx = this.context;\n    if (audioCtx.state === 'running') {\n      audioCtx.suspend()\n    }\n  }\n\n  getTimeBuffer (time) {\n    let ret;\n    for (let i = 0; i < this.samples.length; i++) {\n      let sample = this.samples[i]\n      if (sample.time <= time && (sample.time + sample.duration) > time) {\n        ret = sample;\n        break;\n      }\n    }\n    return ret;\n  }\n\n  setAudioMetaData (meta) {\n    this.meta = meta;\n  }\n\n  destroy () {\n    if (this.waitNextID) {\n      window.clearTimeout(this.waitNextID)\n    }\n    this.context.close();\n  }\n\n  set muted (val) {\n    if (val) {\n      this.gainNode.gain.value = 0\n    } else {\n      this.gainNode.gain.value = this._volume\n    }\n  }\n\n  get volume () {\n    return this._volume\n  }\n\n  set volume (val) {\n    if (val < 0) {\n      this._volume = 0;\n      this.gainNode.gain.value = 0\n      return;\n    } else if (val > 1) {\n      this._volume = 1;\n      this.gainNode.gain.value = 1\n      return;\n    }\n\n    this._volume = val;\n    this.gainNode.gain.value = val\n  }\n\n  static getAACData (meta, sample) {\n    let buffer = new Uint8Array(sample.data.byteLength + 7);\n    let adts = AudioCtx.getAdts(meta, sample.data);\n    buffer.set(adts);\n    buffer.set(sample.data, 7);\n    return buffer;\n  }\n\n  static combileData (samples) {\n    // get length\n    let length = 0;\n    for (let i = 0, k = samples.length; i < k; i++) {\n      length += samples[i].byteLength;\n    }\n\n    let ret = new Uint8Array(length);\n    let offset = 0;\n    // combile data;\n    for (let i = 0, k = samples.length; i < k; i++) {\n      ret.set(samples[i], offset);\n      offset += samples[i].byteLength;\n    }\n    return ret;\n  }\n\n  static getAdts (meta, data) {\n    let adts = new Uint8Array(7);\n\n    // 设置同步位 0xfff 12bit\n    adts[0] = 0xff;\n    adts[1] = 0xf0;\n\n    // Object data (没什么人用MPEG-2了，HLS和FLV也全是MPEG-4，这里直接0)  1bit\n    // Level always 00 2bit\n    // CRC always 1 1bit\n    adts[1] = adts[1] | 0x01;\n\n    // profile 2bit\n    adts[2] = 0xc0 & ((meta.objectType - 1) << 6);\n\n    // sampleFrequencyIndex\n    adts[2] = adts[2] | (0x3c & (meta.sampleRateIndex << 2))\n\n    // private bit 0 1bit\n    // chanel configuration 3bit\n    adts[2] = adts[2] | (0x01 & meta.channelCount >> 2);\n    adts[3] = 0xc0 & (meta.channelCount << 6);\n\n    // original_copy: 0 1bit\n    // home: 0 1bit\n\n    // adts_variable_header()\n    // copyrighted_id_bit 0 1bit\n    // copyrighted_id_start 0 1bit\n\n    // aac_frame_length 13bit;\n    let aacframelength = data.byteLength + 7;\n\n    adts[3] = adts[3] | (0x03 & aacframelength >> 11);\n    adts[4] = 0xff & (aacframelength >> 3);\n    adts[5] = 0xe0 & (aacframelength << 5);\n\n    // adts_buffer_fullness 0x7ff 11bit\n    adts[5] = adts[5] | 0x1f\n    adts[6] = 0xfc;\n\n    // number_of_raw_data_blocks_in_frame 0 2bit;\n    return adts;\n  }\n}\n\nexport default AudioCtx;\n","/**\n * 音画同步调和器\n */\nclass AVReconciler {\n  constructor (props) {\n    this.aCtx = props.aCtx;\n    this.vCtx = props.vCtx;\n    this.video = props.video\n    this.timeoutId = null\n    this.start = null\n  }\n\n  doReconcile () {\n    const vCurTime = (this.vCtx.currentTime || 0);\n    const aCurTime = (this.aCtx.currentTime || 0) * 1000;\n\n    const gap = vCurTime - aCurTime;\n    if (this.timeoutId) {\n      return;\n    }\n    if (gap > 200) { // audio delayed for more than 100ms\n      this.video.start += gap\n      this.vCtx.pause()\n      this.timeoutId = setTimeout(() => {\n        this.vCtx.play()\n        this.timeoutId = null\n      }, gap)\n    } else if (gap < -120) {\n      this.video.start += gap\n    }\n  }\n\n  destroy () {\n    this.start = null\n    this.aCtx = null\n    this.vCtx = null\n  }\n}\n\nexport default AVReconciler;\n","import './polyfills/custom-elements.min';\nimport './polyfills/native-element';\nimport { getTicker } from './ticker';\nimport VideoCtx from './video-context';\nimport AudioCtx from './audio-context';\nimport AVReconciler from './reconciler';\n\n// eslint-disable-next-line no-undef\nclass MobileVideo extends HTMLElement {\n  /**\n   * 保证当前播放的视频以gop为单位\n   * @param videoTrack\n   */\n  static resolveVideoGOP (videoTrack) {\n    const { samples } = videoTrack;\n    if (!samples.length) {\n      return;\n    }\n\n    let firstIframeIdx = null\n    let lastIframeIdx = null\n\n    if (videoTrack.tempSamples && videoTrack.tempSamples.length) {\n      // 将缓存帧放置到队列的头部\n      samples.unshift.apply(samples, videoTrack.tempSamples);\n    }\n\n    // 寻找第一个I帧\n    for (let i = 0, len = samples.length; i < len; i++) {\n      const current = samples[i];\n      if (current.isKeyframe) {\n        firstIframeIdx = i;\n        break;\n      }\n    }\n\n    // 寻找最后一个I帧\n    for (let i = samples.length - 1; i > 0; i++) {\n      const current = samples[i]\n\n      if (current.isKeyframe) {\n        lastIframeIdx = i;\n        break;\n      }\n    }\n\n    if (firstIframeIdx !== 0) {\n      samples.splice(0, firstIframeIdx - 1)\n    }\n\n    videoTrack.samples = samples.slice(0, lastIframeIdx)\n    const rest = samples.slice(lastIframeIdx)\n    if (videoTrack.tempSamples) {\n      videoTrack.tempSamples.push.apply(videoTrack.tempSamples, rest)\n    } else {\n      // 将剩下的帧缓存，等待一个完整的gop\n      videoTrack.tempSamples = rest\n    }\n  }\n\n  constructor () {\n    super();\n    this._canvas = document.createElement('canvas')\n    this.handleAudioSourceEnd = this.handleAudioSourceEnd.bind(this)\n    this.played = false;\n    this.pendingPlayTask = null\n    this._paused = true;\n    this.videoMetaInited = false;\n    this.audioMetaInited = false;\n    this.init()\n  }\n\n  init () {\n    this.vCtx = new VideoCtx(Object.assign({\n      canvas: this._canvas\n    }, { style: { width: this.width, height: this.height } }));\n    this.aCtx = new AudioCtx({});\n    this.ticker = new (getTicker())()\n    this.reconciler = new AVReconciler({\n      vCtx: this.vCtx,\n      aCtx: this.aCtx,\n      video: this\n    })\n\n    this.dispatchEvent(new Event('waiting'));\n    this.vCtx.oncanplay = () => {\n      if (!this.played) {\n        this.appendChild(this._canvas);\n      }\n      this.dispatchEvent(new Event('canplay'));\n    }\n\n    this.aCtx.on('AUDIO_SOURCE_END', this.handleAudioSourceEnd)\n  }\n\n  handleAudioSourceEnd () {\n    this.reconciler.doReconcile()\n    this.vCtx.cleanBuffer();\n  }\n\n  _cleanBuffer () {\n    this.vCtx.cleanBuffer()\n  }\n\n  destroy () {\n    this.videoMetaInited = false;\n    this.audioMetaInited = false;\n\n    this.aCtx.destroy()\n    this.vCtx.destroy()\n    this.ticker.stop()\n    this.start = null;\n    this.reconciler.destroy()\n    this.aCtx = null;\n    this.vCtx = null;\n    this.ticker = null;\n  }\n\n  onDemuxComplete (videoTrack, audioTrack) {\n    // MobileVideo.resolveVideoGOP(videoTrack)\n    this.aCtx.decodeAudio(audioTrack);\n    this.vCtx.decodeVideo(videoTrack);\n  }\n\n  setAudioMeta (meta) {\n    if (this.audioMetaInited) {\n      this.aCtx.destroy();\n      this.aCtx = new AudioCtx({});\n    }\n    this.aCtx.setAudioMetaData(meta);\n    this.audioMetaInited = true;\n  }\n\n  setVideoMeta (meta) {\n    if (this.videoMetaInited) {\n      this.vCtx.destroy();\n      this.vCtx = new VideoCtx(Object.assign({\n        canvas: this._canvas\n      }, { style: { width: this.width, height: this.height } }));\n    }\n    this.vCtx.setVideoMetaData(meta);\n    this.videoMetaInited = true;\n  }\n\n  get width () {\n    return this.getAttribute('width') || this.videoWidth\n  }\n\n  set width (val) {\n    this.style.display = 'inline-block'\n    const pxVal = typeof val === 'number' ? `${val}px` : val\n    this.setAttribute('width', pxVal)\n    this.style.width = pxVal\n    this._canvas.width = val;\n  }\n\n  get height () {\n    return this.getAttribute('height')\n  }\n\n  set height (val) {\n    this.style.display = 'inline-block'\n    const pxVal = typeof val === 'number' ? `${val}px` : val\n    this.setAttribute('height', pxVal)\n    this.style.height = pxVal\n    this._canvas.height = val;\n  }\n\n  get videoWidth () {\n    if (this.vCtx && this.vCtx.videoWidth) {\n      return this.vCtx.videoWidth\n    }\n    return 0\n  }\n\n  get videoHeight () {\n    if (this.vCtx && this.vCtx.videoHeight) {\n      return this.vCtx.videoHeight\n    }\n    return 0\n  }\n\n  get src () {\n    return this.getAttribute('src');\n  }\n\n  set src (val) {\n    this.setAttribute('src', val);\n  }\n\n  get readyState () {\n    return this.videoMetaInited ? this.vCtx.readyState : 0\n  }\n\n  get seeking () {\n    return this.videoMetaInited ? this.vCtx.seeking : false\n  }\n\n  get currentTime () {\n    return this.videoMetaInited ? this.vCtx.currentTime / 1000 : 0\n  }\n\n  get duration () {\n    return this.audioMetaInited ? this.aCtx.duration : 0\n  }\n\n  get paused () {\n    return this._paused\n  }\n\n  get playbackRate () {\n    if (this.hasAttribute('playbackRate')) {\n      return this.getAttribute('playbackRate')\n    } else {\n      return 1.0\n    }\n  }\n\n  set playbackRate (val) {\n    this.setAttribute('playbackrate', val);\n    this.aCtx.playbackRate = val;\n    this.vCtx.playbackRate = val;\n\n    this.dispatchEvent(new Event('ratechange'))\n  }\n\n  get ended () {\n    if (this.audioMetaInited) {\n      return this.aCtx.ended;\n    }\n    return false;\n  }\n\n  get autoplay () {\n    if (this.hasAttribute('autoplay')) {\n      return this.getAttribute('autoplay')\n    } else {\n      return false\n    }\n  }\n  set autoplay (value) {\n    this.setAttribute('autoplay', value)\n  }\n  play () {\n    if (this.pendingPlayTask) {\n      return;\n    }\n\n    if (this.played) {\n      this.destroy()\n      this.init()\n    }\n    this.pendingPlayTask = Promise.all([\n      this.vCtx.play(),\n      this.aCtx.play().then(() => {\n        this.aCtx.muted = true\n      })\n    ]).then(() => {\n      this.aCtx.muted = false\n      this.ticker.start(() => {\n        if (!this.start) {\n          this.start = Date.now()\n        }\n        this._currentTime = Date.now() - this.start\n        this.vCtx._onTimer(this._currentTime)\n      })\n\n      this.pendingPlayTask = null\n      this.played = true;\n      this.dispatchEvent(new Event('playing'))\n      this.dispatchEvent(new Event('play'))\n      this._paused = false\n    })\n  }\n\n  pause () {\n    this._paused = true;\n    this.aCtx.pause()\n    this.vCtx.pause()\n\n    this.dispatchEvent(new Event('pause'))\n  }\n\n  get volume () {\n    return this.aCtx.volume\n  }\n\n  set volume (vol) {\n    this.setAttribute('volume', vol);\n    this.aCtx.volume = vol\n  }\n\n  get muted () {\n    const attrMuted = this.getAttribute('muted') === 'true'\n    if (attrMuted !== undefined) {\n      return attrMuted;\n    } else if (this.getAttribute('volume')) {\n      return Number.parseInt(this.getAttribute('volume')) === 0\n    } else {\n      return false\n    }\n  }\n\n  set muted (val) {\n    this.setAttribute('muted', val);\n    if (!val) {\n      this.aCtx.muted = false\n    } else {\n      this.aCtx.muted = true\n    }\n  }\n\n  get error () {\n    return this.vCtx.error || this.aCtx.error;\n  }\n\n  get buffered () {\n    return this.vCtx.buffered\n  }\n}\n// eslint-disable-next-line no-undef\ncustomElements.define('mobile-video', MobileVideo);\n"],"names":["n","window","Document","prototype","createElement","p","createElementNS","aa","importNode","ba","prepend","ca","append","da","DocumentFragment","ea","q","Node","cloneNode","r","appendChild","t","insertBefore","u","removeChild","v","replaceChild","x","Object","getOwnPropertyDescriptor","y","Element","attachShadow","z","A","getAttribute","B","setAttribute","C","removeAttribute","D","getAttributeNS","E","setAttributeNS","F","removeAttributeNS","G","insertAdjacentElement","fa","insertAdjacentHTML","ha","ia","ja","before","ka","after","la","replaceWith","ma","remove","na","HTMLElement","H","oa","pa","qa","Set","split","forEach","a","add","ra","b","has","test","sa","document","contains","bind","documentElement","I","isConnected","__CE_isImportDocument","parentNode","ShadowRoot","host","J","children","Array","slice","call","firstChild","nextSibling","nodeType","ELEMENT_NODE","push","K","L","c","f","d","e","localName","import","__CE_shadowRoot","M","ta","N","readyState","MutationObserver","observe","childList","subtree","ua","disconnect","length","addedNodes","va","Promise","wa","Error","O","Map","g","l","i","j","h","m","o","Function","TypeError","xa","set","ya","define","za","SyntaxError","P","w","k","observedAttributes","constructorFunction","connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","constructionStack","upgrade","__CE_state","get","Q","whenDefined","reject","indexOf","polyfillWrapFlushCallback","delete","R","CustomElementRegistry","polyfillDefineLazy","S","T","noDocumentConstructionObserver","shadyDomFastWalk","U","ShadyDOM","inUse","querySelectorAll","nativeMethods","Aa","Ba","V","W","__CE_patched","X","Y","s","__CE_registry","__CE_documentLoadHandled","addEventListener","ownerDocument","defaultView","pop","__CE_definition","hasAttributes","Ca","namespaceURI","setPrototypeOf","HTMLUnknownElement","message","sourceURL","fileName","line","lineNumber","column","columnNumber","ErrorEvent","initErrorEvent","cancelable","filename","lineno","colno","error","createEvent","preventDefault","defineProperty","configurable","enumerable","dispatchEvent","defaultPrevented","console","Da","Ea","constructor","writable","value","Z","arguments","apply","Fa","Ga","TEXT_NODE","childNodes","COMMENT_NODE","textContent","join","createTextNode","Ha","Ia","toLowerCase","previousSibling","lastChild","String","innerHTML","content","customElements","Ja","forcePolyfill","__CE_installPolyfill","self","Reflect","undefined","BuiltInHTMLElement","wrapperForTheName","construct","Ticker","options","assign","interval","callbacks","len","callback","RafTicker","props","prev","timerId","_subTimerId","_tickFunc","getTickFunc","tick","nextTick","onTick","cancelFunc","getCancelFunc","requestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","TimeoutTicker","config","timeoutId","setInterval","clearInterval","getTicker","isSupported","shimWorker","MAX_STREAM_BUFFER_LENGTH","Decoder","inited","meta","infolist","par_broadwayOnBroadwayInited","broadwayOnBroadwayInited","par_broadwayOnPictureDecoded","broadwayOnPictureDecoded","toU8Array","ptr","HEAPU8","subarray","init","Module","_broadwayInit","streamBuffer","_broadwayCreateStream","offset","width","height","yLinesize","uvLinesize","infoid","info","yRowcount","uvRowcount","chromaFormat","data","datetemp","Uint8Array","buffer","postMessage","msg","decode","time","parseInt","Date","getTime","Math","floor","_broadwayPlayStream","destroy","_broadwayExit","decoder","onPostRun","importScripts","addOnPostRun","log","_createClass","defineProperties","target","descriptor","key","Constructor","protoProps","staticProps","_classCallCheck","instance","Stream","ArrayBuffer","dataview","DataView","position","back","count","skip","loop","last","readByte","readUint8","readUint16","readUint24","readUint32","readUint64","readInt8","readInt16","readInt32","writeUint32","byteLength","size","sign","res","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","Golomb","uint8array","TAG","_buffer","_bufferIndex","_totalBytes","_totalBits","_currentWord","_currentWordBitsLeft","_fillCurrentWord","bufferBytesLeft","bytesRead","min","word","readBits","bits","valu","readBool","_skipLeadingZero","zeroCount","readUEG","leadingZeros","readSEG","SPSParser","_ebsp2rbsp","src","srcLength","dst","dstIdx","parseSPS","rbsp","gb","profileIdc","levelIdc","profile_string","getProfileString","level_string","getLevelString","chroma_format_idc","chroma_format","chroma_format_table","bit_depth","scaling_list_count","_skipScalingList","pic_order_cnt_type","num_ref_frames_in_pic_order_cnt_cycle","_i","pic_width_in_mbs_minus1","pic_height_in_map_units_minus1","frame_mbs_only_flag","frame_crop_left_offset","frame_crop_right_offset","frame_crop_top_offset","frame_crop_bottom_offset","frame_cropping_flag","par_width","par_height","fps","fps_fixed","fps_num","fps_den","vui_parameters_present_flag","aspect_ratio_idc","par_w_table","par_h_table","num_units_in_tick","time_scale","parScale","crop_unit_x","crop_unit_y","sub_wc","sub_hc","codec_width","codec_height","present_width","ceil","chroma_format_string","getChromaFormatString","frame_rate","fixed","par_ratio","codec_size","present_size","lastScale","nextScale","deltaScale","toFixed","chroma","toVideoMeta","spsConfig","codecWidth","codecHeight","presentWidth","presentHeight","profile","level","bitDepth","parRatio","frameRate","fpsDen","fpsNum","refSampleDuration","timescale","RBSP","EBSP2RBSP","filter","el","idx","EBSP2SODB","lastByte","u8aToString","result","fromCharCode","SEIParser","_resolveNalu","parse","sodb","_SEIParser$switchPayl","switchPayloadType","payloadType","user_data_unregistered","dv","getPayloadLength","payloadLength","_SEIParser$getPayload","uuid","payload","Nalunit","getNalunits","buf","getAnnexbNals","getAvccNals","nals","getHeaderPositionAnnexB","start","pos","end","header","headerLength","body","unit","analyseNal","type","ndr","idr","sei","sps","SpsParser","pps","getAvcc","ret","NalUnit","_NalUnit","GLUtil","gl","textureRef","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","RGBA","UNSIGNED_BYTE","HTMLVideoElement","HTMLImageElement","ImageData","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","vertexSource","fragmentSource","program","createProgram","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","wrapper","numAttributes","ACTIVE_ATTRIBUTES","attribute","getActiveAttrib","name","getAttribLocation","numUniforms","ACTIVE_UNIFORMS","i$1","uniform","getActiveUniform","getUniformLocation","numComponents","enableVertexAttribArray","vertexAttribPointer","FLOAT","Filter","inputTextures","Basic","vShader","fShader","opacity","flip","render","rend","canvas","pw","useProgram","vertexPosBuffer","Float32Array","bindAttribute","vertexPos","texturePosBuffer","texturePos","LINEAR","uniform1i","sampler","uniform1f","flipx","flipy","texture","activeTexture","TEXTURE0","drawArrays","TRIANGLE_STRIP","Yuyv422","yuv2rgb","uniformMatrix4fv","outputTexuture","bindFramebuffer","FRAMEBUFFER","fb","framebufferTexture2D","COLOR_ATTACHMENT0","viewport","uniform2fv","outerSize","pixelStorei","UNPACK_ALIGNMENT","Rgb32","Rgb24","outerSizeRef","inputx","RGB","Nv12","yTexturePosBuffer","yTexturePos","uvTexturePosBuffer","uvTexturePos","yTextureRef","ySampler","uvTextureRef","uvSampler","ydata","uvdata","LUMINANCE","TEXTURE1","Yuv420","uTexturePosBuffer","uTexturePos","vTexturePosBuffer","vTexturePos","uTextureRef","uSampler","vTextureRef","vSampler","udata","vdata","TEXTURE2","Rgba","Rgb","Render","video","image","_initFmt","filters","basicFilter","_init","format","fmt","_initContextGL","createFramebuffer","videoWidth","videoHeight","emptyPixels","videoTexture","validContextNames","nameIndex","contextName","getContext","getParameter","iWidth","iHeight","_applyFilters","_drawPicture","_drawVideo","SourceBuffer","currentGop","_lastGet","frame","isKeyframe","samples","dts","nextGop","sample","_getNext","gop","index","splice","TimeRanges","ranges","range","VideoCanvas","preloadTime","oncanplay","onFirstFrame","readyStatus","paused","currentTime","lastPlayed","_decoderInited","_avccpushed","_decodedFrames","_lastSampleDts","_baseDts","_lastRenderTime","playFinish","style","maxWidth","maxHeight","top","bottom","left","right","margin","_this","wasmworker","VideoWorker","_onDecoded","initWasmWorker","yuvCanvas","videoTrack","setVideoMetaData","shift","_preload","_analyseNal","nal","pts","cts","keys","resolve","then","frameTimes","frameTime","Number","buf0","buf1","buf2","now","currentRange","domain","EventHandlers","create","EventEmitter","usingDomains","_events","_maxListeners","defaultMaxListeners","active","Domain","getPrototypeOf","_eventsCount","setMaxListeners","isNaN","$getMaxListeners","that","getMaxListeners","emitNone","handler","isFn","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","args","emit","er","events","doError","domainEmitter","domainThrown","err","context","_addListener","listener","existing","newListener","unshift","warned","emitter","emitWarning","warn","addListener","on","prependListener","_onceWrap","fired","removeListener","once","prependOnceListener","list","originalListener","spliceOne","removeAllListeners","evlistener","unwrapListeners","listenerCount","eventNames","ownKeys","arr","copy","AudioCtx","AudioContext","webkitAudioContext","gainNode","createGain","connect","destination","duration","_currentBuffer","_nextBuffer","_lastpts","_preDecode","_currentTime","_decoding","_volume","volume","_played","waitNextID","audioTrack","setAudioData","decodeAAC","sampleData","getAACData","combileData","decodeAudioData","audioSource","createBufferSource","getTimeBuffer","setTimeout","onSourceEnded","state","resume","playStart","audioCtx","suspend","clearTimeout","close","val","gain","adts","getAdts","objectType","sampleRateIndex","channelCount","aacframelength","AVReconciler","aCtx","vCtx","vCurTime","aCurTime","gap","pause","play","MobileVideo","firstIframeIdx","lastIframeIdx","tempSamples","current","rest","_canvas","handleAudioSourceEnd","played","pendingPlayTask","_paused","videoMetaInited","audioMetaInited","VideoCtx","ticker","reconciler","Event","doReconcile","cleanBuffer","stop","decodeAudio","decodeVideo","setAudioMetaData","all","muted","_onTimer","display","pxVal","seeking","hasAttribute","playbackRate","ended","vol","attrMuted","buffered"],"mappings":";;;;;EAAA,CAAC,YAAU;AACT,EASa,MAAIA,IAAEC,OAAOC,QAAP,CAAgBC,SAAhB,CAA0BC,aAAhC;EAAA,MAA8CC,IAAEJ,OAAOC,QAAP,CAAgBC,SAAhB,CAA0BG,eAA1E;EAAA,MAA0FC,KAAGN,OAAOC,QAAP,CAAgBC,SAAhB,CAA0BK,UAAvH;EAAA,MAAkIC,KAAGR,OAAOC,QAAP,CAAgBC,SAAhB,CAA0BO,OAA/J;EAAA,MAAuKC,KAAGV,OAAOC,QAAP,CAAgBC,SAAhB,CAA0BS,MAApM;EAAA,MAA2MC,KAAGZ,OAAOa,gBAAP,CAAwBX,SAAxB,CAAkCO,OAAhP;EAAA,MAAwPK,KAAGd,OAAOa,gBAAP,CAAwBX,SAAxB,CAAkCS,MAA7R;EAAA,MAAoSI,IAAEf,OAAOgB,IAAP,CAAYd,SAAZ,CAAsBe,SAA5T;EAAA,MAAsUC,IAAElB,OAAOgB,IAAP,CAAYd,SAAZ,CAAsBiB,WAA9V;EAAA,MAA0WC,IAAEpB,OAAOgB,IAAP,CAAYd,SAAZ,CAAsBmB,YAAlY;EAAA,MAA+YC,IAAEtB,OAAOgB,IAAP,CAAYd,SAAZ,CAAsBqB,WAAva;EAAA,MAAmbC,IAAExB,OAAOgB,IAAP,CAAYd,SAAZ,CAAsBuB,YAA3c;EAAA,MAAwdC,IAAEC,OAAOC,wBAAP,CAAgC5B,OAAOgB,IAAP,CAAYd,SAA5C,EACre,aADqe,CAA1d;EAAA,MACI2B,IAAE7B,OAAO8B,OAAP,CAAe5B,SAAf,CAAyB6B,YAD/B;EAAA,MAC4CC,IAAEL,OAAOC,wBAAP,CAAgC5B,OAAO8B,OAAP,CAAe5B,SAA/C,EAAyD,WAAzD,CAD9C;EAAA,MACoH+B,IAAEjC,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBgC,YAD/I;EAAA,MAC4JC,IAAEnC,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBkC,YADvL;EAAA,MACoMC,IAAErC,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBoC,eAD/N;EAAA,MAC+OC,IAAEvC,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBsC,cAD1Q;EAAA,MACyRC,IAAEzC,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBwC,cADpT;EAAA,MACmUC,IAAE3C,OAAO8B,OAAP,CAAe5B,SAAf,CAAyB0C,iBAD9V;EAAA,MACgXC,IAAE7C,OAAO8B,OAAP,CAAe5B,SAAf,CAAyB4C,qBAD3Y;EAAA,MACiaC,KAAG/C,OAAO8B,OAAP,CAAe5B,SAAf,CAAyB8C,kBAD7b;EAAA,MACgdC,KAAGjD,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBO,OAD5e;EAAA,MAEXyC,KAAGlD,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBS,MAFjB;EAAA,MAEwBwC,KAAGnD,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBkD,MAFpD;EAAA,MAE2DC,KAAGrD,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBoD,KAFvF;EAAA,MAE6FC,KAAGvD,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBsD,WAFzH;EAAA,MAEqIC,KAAGzD,OAAO8B,OAAP,CAAe5B,SAAf,CAAyBwD,MAFjK;EAAA,MAEwKC,KAAG3D,OAAO4D,WAFlL;EAAA,MAE8LC,IAAElC,OAAOC,wBAAP,CAAgC5B,OAAO4D,WAAP,CAAmB1D,SAAnD,EAA6D,WAA7D,CAFhM;EAAA,MAE0Q4D,KAAG9D,OAAO4D,WAAP,CAAmB1D,SAAnB,CAA6B4C,qBAF1S;EAAA,MAEgUiB,KAAG/D,OAAO4D,WAAP,CAAmB1D,SAAnB,CAA6B8C,kBAFhW,CAEmX,IAAIgB,KAAG,IAAIC,GAAJ,EAAP,CAAe,mHAAmHC,KAAnH,CAAyH,GAAzH,EAA8HC,OAA9H,CAAsI,UAASC,CAAT,EAAW;EAAC,WAAOJ,GAAGK,GAAH,CAAOD,CAAP,CAAP;EAAiB,GAAnK,EAAqK,SAASE,EAAT,CAAYF,CAAZ,EAAc;EAAC,QAAIG,IAAEP,GAAGQ,GAAH,CAAOJ,CAAP,CAAN,CAAgBA,IAAE,mCAAmCK,IAAnC,CAAwCL,CAAxC,CAAF,CAA6C,OAAM,CAACG,CAAD,IAAIH,CAAV;EAAY,OAAIM,KAAGC,SAASC,QAAT,GAAkBD,SAASC,QAAT,CAAkBC,IAAlB,CAAuBF,QAAvB,CAAlB,GAAmDA,SAASG,eAAT,CAAyBF,QAAzB,CAAkCC,IAAlC,CAAuCF,SAASG,eAAhD,CAA1D;EAC5oB,WAASC,CAAT,CAAWX,CAAX,EAAa;EAAC,QAAIG,IAAEH,EAAEY,WAAR,CAAoB,IAAG,KAAK,CAAL,KAAST,CAAZ,EAAc,OAAOA,CAAP,CAAS,IAAGG,GAAGN,CAAH,CAAH,EAAS,OAAM,CAAC,CAAP,CAAS,OAAKA,KAAG,EAAEA,EAAEa,qBAAF,IAAyBb,aAAanE,QAAxC,CAAR;EAA2DmE,UAAEA,EAAEc,UAAF,KAAelF,OAAOmF,UAAP,IAAmBf,aAAae,UAAhC,GAA2Cf,EAAEgB,IAA7C,GAAkD,KAAK,CAAtE,CAAF;EAA3D,KAAsI,OAAM,EAAE,CAAChB,CAAD,IAAI,EAAEA,EAAEa,qBAAF,IAAyBb,aAAanE,QAAxC,CAAN,CAAN;EAA+D,YAASoF,CAAT,CAAWjB,CAAX,EAAa;EAAC,QAAIG,IAAEH,EAAEkB,QAAR,CAAiB,IAAGf,CAAH,EAAK,OAAOgB,MAAMrF,SAAN,CAAgBsF,KAAhB,CAAsBC,IAAtB,CAA2BlB,CAA3B,CAAP,CAAqCA,IAAE,EAAF,CAAK,KAAIH,IAAEA,EAAEsB,UAAR,EAAmBtB,CAAnB,EAAqBA,IAAEA,EAAEuB,WAAzB;EAAqCvB,QAAEwB,QAAF,KAAa5E,KAAK6E,YAAlB,IAAgCtB,EAAEuB,IAAF,CAAO1B,CAAP,CAAhC;EAArC,KAA+E,OAAOG,CAAP;EAAS;EACtb,WAASwB,CAAT,CAAW3B,CAAX,EAAaG,CAAb,EAAe;EAAC,WAAKA,KAAGA,MAAIH,CAAP,IAAU,CAACG,EAAEoB,WAAlB;EAA+BpB,UAAEA,EAAEW,UAAJ;EAA/B,KAA8C,OAAOX,KAAGA,MAAIH,CAAP,GAASG,EAAEoB,WAAX,GAAuB,IAA9B;EAAmC;EACjG,WAASK,CAAT,CAAW5B,CAAX,EAAaG,CAAb,EAAe0B,CAAf,EAAiB;EAAC,SAAI,IAAIC,IAAE9B,CAAV,EAAY8B,CAAZ,GAAe;EAAC,UAAGA,EAAEN,QAAF,KAAa5E,KAAK6E,YAArB,EAAkC;EAAC,YAAIM,IAAED,CAAN,CAAQ3B,EAAE4B,CAAF,EAAK,IAAIC,IAAED,EAAEE,SAAR,CAAkB,IAAG,WAASD,CAAT,IAAY,aAAWD,EAAEjE,YAAF,CAAe,KAAf,CAA1B,EAAgD;EAACgE,cAAEC,EAAEG,MAAJ,CAAW,KAAK,CAAL,KAASL,CAAT,KAAaA,IAAE,IAAIhC,GAAJ,EAAf,EAAwB,IAAGiC,aAAalF,IAAb,IAAmB,CAACiF,EAAEzB,GAAF,CAAM0B,CAAN,CAAvB,EAAgC,KAAID,EAAE5B,GAAF,CAAM6B,CAAN,GAASA,IAAEA,EAAER,UAAjB,EAA4BQ,CAA5B,EAA8BA,IAAEA,EAAEP,WAAlC;EAA8CK,cAAEE,CAAF,EAAI3B,CAAJ,EAAM0B,CAAN;EAA9C,WAAuDC,IAAEH,EAAE3B,CAAF,EAAI+B,CAAJ,CAAF,CAAS;EAAS,SAA7L,MAAkM,IAAG,eAAaC,CAAhB,EAAkB;EAACF,cAAEH,EAAE3B,CAAF,EAAI+B,CAAJ,CAAF,CAAS;EAAS,aAAGA,IAAEA,EAAEI,eAAP,EAAuB,KAAIJ,IAAEA,EAAET,UAAR,EAAmBS,CAAnB,EAAqBA,IAAEA,EAAER,WAAzB;EAAqCK,YAAEG,CAAF,EAAI5B,CAAJ,EAAM0B,CAAN;EAArC;EAA8C,WAAEC,EAAER,UAAF,GAAaQ,EAAER,UAAf,GAA0BK,EAAE3B,CAAF,EAAI8B,CAAJ,CAA5B;EAAmC;EAAC,YAASM,CAAT,CAAWpC,CAAX,EAAaG,CAAb,EAAe0B,CAAf,EAAiB;EAAC7B,MAAEG,CAAF,IAAK0B,CAAL;EAAO,GAAC,SAASQ,EAAT,CAAYrC,CAAZ,EAAc;EAAC,QAAIG,IAAEI,QAAN,CAAe,KAAKsB,CAAL,GAAO7B,CAAP,CAAS,KAAKA,CAAL,GAAOG,CAAP,CAAS,KAAKA,CAAL,GAAO,KAAK,CAAZ,CAAcmC,EAAE,KAAKT,CAAP,EAAS,KAAK7B,CAAd,EAAiB,cAAY,KAAKA,CAAL,CAAOuC,UAAnB,KAAgC,KAAKpC,CAAL,GAAO,IAAIqC,gBAAJ,CAAqB,KAAKV,CAAL,CAAOrB,IAAP,CAAY,IAAZ,CAArB,CAAP,EAA+C,KAAKN,CAAL,CAAOsC,OAAP,CAAe,KAAKzC,CAApB,EAAsB,EAAC0C,WAAU,CAAC,CAAZ,EAAcC,SAAQ,CAAC,CAAvB,EAAtB,CAA/E;EAAiI,YAASC,EAAT,CAAY5C,CAAZ,EAAc;EAACA,MAAEG,CAAF,IAAKH,EAAEG,CAAF,CAAI0C,UAAJ,EAAL;EAAsB,MAAG/G,SAAH,CAAagG,CAAb,GAAe,UAAS9B,CAAT,EAAW;EAAC,QAAIG,IAAE,KAAKH,CAAL,CAAOuC,UAAb,CAAwB,kBAAgBpC,CAAhB,IAAmB,eAAaA,CAAhC,IAAmCyC,GAAG,IAAH,CAAnC,CAA4C,KAAIzC,IAAE,CAAN,EAAQA,IAAEH,EAAE8C,MAAZ,EAAmB3C,GAAnB;EAAuB,WAAI,IAAI0B,IAAE7B,EAAEG,CAAF,EAAK4C,UAAX,EAAsBjB,IAAE,CAA5B,EAA8BA,IAAED,EAAEiB,MAAlC,EAAyChB,GAAzC;EAA6CQ,UAAE,KAAKT,CAAP,EAASA,EAAEC,CAAF,CAAT;EAA7C;EAAvB;EAAmF,GAAlL,CAAmL,SAASkB,EAAT,GAAa;EAAC,QAAIhD,IAAE,IAAN,CAAW,KAAKG,CAAL,GAAO,KAAKH,CAAL,GAAO,KAAK,CAAnB,CAAqB,KAAK6B,CAAL,GAAO,IAAIoB,OAAJ,CAAY,UAAS9C,CAAT,EAAW;EAACH,QAAEG,CAAF,GAAIA,CAAJ,CAAMH,EAAEA,CAAF,IAAKG,EAAEH,EAAEA,CAAJ,CAAL;EAAY,KAA1C,CAAP;EAAmD,YAASkD,EAAT,CAAYlD,CAAZ,EAAc;EAAC,QAAGA,EAAEA,CAAL,EAAO,MAAMmD,MAAM,mBAAN,CAAN,CAAiCnD,EAAEA,CAAF,GAAI,KAAK,CAAT,CAAWA,EAAEG,CAAF,IAAKH,EAAEG,CAAF,CAAI,KAAK,CAAT,CAAL;EAAiB,GAAC,SAASiD,CAAT,CAAWpD,CAAX,EAAa;EAAC,SAAK8B,CAAL,GAAO,IAAIuB,GAAJ,EAAP,CAAe,KAAKC,CAAL,GAAO,IAAID,GAAJ,EAAP,CAAe,KAAKE,CAAL,GAAO,IAAIF,GAAJ,EAAP,CAAe,KAAKG,CAAL,GAAO,CAAC,CAAR,CAAU,KAAKrD,CAAL,GAAOH,CAAP,CAAS,KAAKyD,CAAL,GAAO,IAAIJ,GAAJ,EAAP,CAAe,KAAKxB,CAAL,GAAO,UAAS1B,CAAT,EAAW;EAAC,aAAOA,GAAP;EAAW,KAA9B,CAA+B,KAAKH,CAAL,GAAO,CAAC,CAAR,CAAU,KAAK0D,CAAL,GAAO,EAAP,CAAU,KAAKC,CAAL,GAAO3D,EAAE8B,CAAF,GAAI,IAAIO,EAAJ,CAAOrC,CAAP,CAAJ,GAAc,KAAK,CAA1B;EAA4B,KAAElE,SAAF,CAAY8H,CAAZ,GAAc,UAAS5D,CAAT,EAAWG,CAAX,EAAa;EAAC,QAAI0B,IAAE,IAAN,CAAW,IAAG,EAAE1B,aAAa0D,QAAf,CAAH,EAA4B,MAAM,IAAIC,SAAJ,CAAc,uDAAd,CAAN,CAA6EC,GAAG,IAAH,EAAQ/D,CAAR,EAAW,KAAK8B,CAAL,CAAOkC,GAAP,CAAWhE,CAAX,EAAaG,CAAb,EAAgB,KAAKuD,CAAL,CAAOhC,IAAP,CAAY1B,CAAZ,EAAe,KAAKA,CAAL,KAAS,KAAKA,CAAL,GAAO,CAAC,CAAR,EAAU,KAAK6B,CAAL,CAAO,YAAU;EAAC,aAAOoC,GAAGpC,CAAH,CAAP;EAAa,KAA/B,CAAnB;EAAqD,GAA/O;EACvtCuB,IAAEtH,SAAF,CAAYoI,MAAZ,GAAmB,UAASlE,CAAT,EAAWG,CAAX,EAAa;EAAC,QAAI0B,IAAE,IAAN,CAAW,IAAG,EAAE1B,aAAa0D,QAAf,CAAH,EAA4B,MAAM,IAAIC,SAAJ,CAAc,gDAAd,CAAN,CAAsEC,GAAG,IAAH,EAAQ/D,CAAR,EAAWmE,GAAG,IAAH,EAAQnE,CAAR,EAAUG,CAAV,EAAa,KAAKuD,CAAL,CAAOhC,IAAP,CAAY1B,CAAZ,EAAe,KAAKA,CAAL,KAAS,KAAKA,CAAL,GAAO,CAAC,CAAR,EAAU,KAAK6B,CAAL,CAAO,YAAU;EAAC,aAAOoC,GAAGpC,CAAH,CAAP;EAAa,KAA/B,CAAnB;EAAqD,GAA1O,CAA2O,SAASkC,EAAT,CAAY/D,CAAZ,EAAcG,CAAd,EAAgB;EAAC,QAAG,CAACD,GAAGC,CAAH,CAAJ,EAAU,MAAM,IAAIiE,WAAJ,CAAgB,uBAAqBjE,CAArB,GAAuB,iBAAvC,CAAN,CAAgE,IAAGkE,EAAErE,CAAF,EAAIG,CAAJ,CAAH,EAAU,MAAMgD,MAAM,iCAA+BhD,CAA/B,GAAiC,6BAAvC,CAAN,CAA4E,IAAGH,EAAEwD,CAAL,EAAO,MAAML,MAAM,4CAAN,CAAN;EAA2D;EAC9d,WAASgB,EAAT,CAAYnE,CAAZ,EAAcG,CAAd,EAAgB0B,CAAhB,EAAkB;EAAC7B,MAAEwD,CAAF,GAAI,CAAC,CAAL,CAAO,IAAI1B,CAAJ,CAAM,IAAG;EAAC,UAAIC,IAAE,SAAFA,CAAE,CAAS4B,CAAT,EAAW;EAAC,YAAIW,IAAEtC,EAAE2B,CAAF,CAAN,CAAW,IAAG,KAAK,CAAL,KAASW,CAAT,IAAY,EAAEA,aAAaT,QAAf,CAAf,EAAwC,MAAMV,MAAM,UAAQQ,CAAR,GAAU,gCAAhB,CAAN,CAAwD,OAAOW,CAAP;EAAS,OAAtI;EAAA,UAAuItC,IAAEH,EAAE/F,SAA3I,CAAqJ,IAAG,EAAEkG,aAAazE,MAAf,CAAH,EAA0B,MAAM,IAAIuG,SAAJ,CAAc,8DAAd,CAAN,CAAoF,IAAIR,IAAEvB,EAAE,mBAAF,CAAN,CAA6B,IAAI2B,IAAE3B,EAAE,sBAAF,CAAN,CAAgC,IAAIwC,IAAExC,EAAE,iBAAF,CAAN,CAA2B,IAAIwB,IAAE,CAACzB,IAAEC,EAAE,0BAAF,CAAH,KAAmCF,EAAE2C,kBAArC,IAAyD,EAA/D;EAAkE,KAAja,CAAia,OAAMb,CAAN,EAAQ;EAAC,YAAMA,CAAN;EAAS,KAAnb,SAA0b;EAAC3D,QAAEwD,CAAF,GAAI,CAAC,CAAL;EAAO,SAAE,EAACvB,WAAU9B,CAAX,EAAasE,qBAAoB5C,CAAjC;EACle6C,yBAAkBpB,CADgd,EAC9cqB,sBAAqBjB,CADyb,EACvbkB,iBAAgBL,CADua,EACraM,0BAAyB/C,CAD4Y,EAC1Y0C,oBAAmBjB,CADuX,EACrXuB,mBAAkB,EADmW,EAAF,CAC7V9E,EAAEsD,CAAF,CAAIU,GAAJ,CAAQ7D,CAAR,EAAU0B,CAAV,EAAa7B,EAAEuD,CAAF,CAAIS,GAAJ,CAAQnC,EAAE4C,mBAAV,EAA8B5C,CAA9B,EAAiC,OAAOA,CAAP;EAAS,KAAE/F,SAAF,CAAYiJ,OAAZ,GAAoB,UAAS/E,CAAT,EAAW;EAACsC,MAAE,KAAKnC,CAAP,EAASH,CAAT;EAAY,GAA5C;EAC5L,WAASiE,EAAT,CAAYjE,CAAZ,EAAc;EAAC,QAAG,CAAC,CAAD,KAAKA,EAAEA,CAAV,EAAY;EAACA,QAAEA,CAAF,GAAI,CAAC,CAAL,CAAO,KAAI,IAAIG,IAAE,EAAN,EAAS0B,IAAE7B,EAAE0D,CAAb,EAAe5B,IAAE,IAAIuB,GAAJ,EAAjB,EAAyBtB,IAAE,CAA/B,EAAiCA,IAAEF,EAAEiB,MAArC,EAA4Cf,GAA5C;EAAgDD,UAAEkC,GAAF,CAAMnC,EAAEE,CAAF,CAAN,EAAW,EAAX;EAAhD,OAA+DO,EAAEtC,EAAEG,CAAJ,EAAMI,QAAN,EAAe,EAACwE,SAAQ,iBAASR,CAAT,EAAW;EAAC,cAAG,KAAK,CAAL,KAASA,EAAES,UAAd,EAAyB;EAAC,gBAAIzB,IAAEgB,EAAEtC,SAAR;EAAA,gBAAkB0B,IAAE7B,EAAEmD,GAAF,CAAM1B,CAAN,CAApB,CAA6BI,IAAEA,EAAEjC,IAAF,CAAO6C,CAAP,CAAF,GAAYvE,EAAEsD,CAAF,CAAIlD,GAAJ,CAAQmD,CAAR,KAAYpD,EAAEuB,IAAF,CAAO6C,CAAP,CAAxB;EAAkC;EAAC,SAA/G,EAAf,EAAiI,KAAIxC,IAAE,CAAN,EAAQA,IAAE5B,EAAE2C,MAAZ,EAAmBf,GAAnB;EAAuBmD,UAAElF,EAAEG,CAAJ,EAAMA,EAAE4B,CAAF,CAAN;EAAvB,OAAmC,KAAIA,IAAE,CAAN,EAAQA,IAAEF,EAAEiB,MAAZ,EAAmBf,GAAnB,EAAuB;EAAC,aAAI,IAAIC,IAAEH,EAAEE,CAAF,CAAN,EAAWuB,IAAExB,EAAEmD,GAAF,CAAMjD,CAAN,CAAb,EAAsB0B,IAAE,CAA5B,EAA8BA,IAAEJ,EAAER,MAAlC,EAAyCY,GAAzC;EAA6CwB,YAAElF,EAAEG,CAAJ,EAAMmD,EAAEI,CAAF,CAAN;EAA7C,SAAyD,CAAC1B,IAAEhC,EAAEyD,CAAF,CAAIwB,GAAJ,CAAQjD,CAAR,CAAH,KAAgBkB,GAAGlB,CAAH,CAAhB;EAAsB,SAAEc,MAAF,GAAS,CAAT;EAAW;EAAC,KAAEhH,SAAF,CAAYmJ,GAAZ,GAAgB,UAASjF,CAAT,EAAW;EAAC,QAAGA,IAAEqE,EAAE,IAAF,EAAOrE,CAAP,CAAL,EAAe,OAAOA,EAAEyE,mBAAT;EAA6B,GAAxE;EACzXrB,IAAEtH,SAAF,CAAYqJ,WAAZ,GAAwB,UAASnF,CAAT,EAAW;EAAC,QAAG,CAACE,GAAGF,CAAH,CAAJ,EAAU,OAAOiD,QAAQmC,MAAR,CAAe,IAAIhB,WAAJ,CAAgB,MAAIpE,CAAJ,GAAM,uCAAtB,CAAf,CAAP,CAAsF,IAAIG,IAAE,KAAKsD,CAAL,CAAOwB,GAAP,CAAWjF,CAAX,CAAN,CAAoB,IAAGG,CAAH,EAAK,OAAOA,EAAE0B,CAAT,CAAW1B,IAAE,IAAI6C,EAAJ,EAAF,CAAS,KAAKS,CAAL,CAAOO,GAAP,CAAWhE,CAAX,EAAaG,CAAb,EAAgB,IAAI0B,IAAE,KAAKyB,CAAL,CAAOlD,GAAP,CAAWJ,CAAX,KAAe,KAAK8B,CAAL,CAAO1B,GAAP,CAAWJ,CAAX,CAArB,CAAmCA,IAAE,CAAC,CAAD,KAAK,KAAK0D,CAAL,CAAO2B,OAAP,CAAerF,CAAf,CAAP,CAAyB6B,KAAG7B,CAAH,IAAMkD,GAAG/C,CAAH,CAAN,CAAY,OAAOA,EAAE0B,CAAT;EAAW,GAApR,CAAqRuB,EAAEtH,SAAF,CAAYwJ,yBAAZ,GAAsC,UAAStF,CAAT,EAAW;EAAC,SAAK2D,CAAL,IAAQf,GAAG,KAAKe,CAAR,CAAR,CAAmB,IAAIxD,IAAE,KAAK0B,CAAX,CAAa,KAAKA,CAAL,GAAO,UAASA,CAAT,EAAW;EAAC,aAAO7B,EAAE,YAAU;EAAC,eAAOG,EAAE0B,CAAF,CAAP;EAAY,OAAzB,CAAP;EAAkC,KAArD;EAAsD,GAAxI;EACrR,WAASwC,CAAT,CAAWrE,CAAX,EAAaG,CAAb,EAAe;EAAC,QAAI0B,IAAE7B,EAAEsD,CAAF,CAAI2B,GAAJ,CAAQ9E,CAAR,CAAN,CAAiB,IAAG0B,CAAH,EAAK,OAAOA,CAAP,CAAS,IAAGA,IAAE7B,EAAE8B,CAAF,CAAImD,GAAJ,CAAQ9E,CAAR,CAAL,EAAgB;EAACH,QAAE8B,CAAF,CAAIyD,MAAJ,CAAWpF,CAAX,EAAc,IAAG;EAAC,eAAOgE,GAAGnE,CAAH,EAAKG,CAAL,EAAO0B,GAAP,CAAP;EAAmB,OAAvB,CAAuB,OAAMC,CAAN,EAAQ;EAAC0D,UAAE1D,CAAF;EAAK;EAAC;EAAC,UAAO2D,qBAAP,GAA6BrC,CAA7B,CAA+BA,EAAEtH,SAAF,CAAYoI,MAAZ,GAAmBd,EAAEtH,SAAF,CAAYoI,MAA/B,CAAsCd,EAAEtH,SAAF,CAAYiJ,OAAZ,GAAoB3B,EAAEtH,SAAF,CAAYiJ,OAAhC,CAAwC3B,EAAEtH,SAAF,CAAYmJ,GAAZ,GAAgB7B,EAAEtH,SAAF,CAAYmJ,GAA5B,CAAgC7B,EAAEtH,SAAF,CAAYqJ,WAAZ,GAAwB/B,EAAEtH,SAAF,CAAYqJ,WAApC,CAAgD/B,EAAEtH,SAAF,CAAY4J,kBAAZ,GAA+BtC,EAAEtH,SAAF,CAAY8H,CAA3C,CAA6CR,EAAEtH,SAAF,CAAYwJ,yBAAZ,GAAsClC,EAAEtH,SAAF,CAAYwJ,yBAAlD,CAA4E,SAASK,CAAT,GAAY;EAAC,QAAI3F,IAAE4F,KAAGA,EAAEC,8BAAX;EAAA,QAA0C1F,IAAEyF,KAAGA,EAAEE,gBAAjD,CAAkE,KAAK3F,CAAL,GAAO,EAAP,CAAU,KAAK0B,CAAL,GAAO,EAAP,CAAU,KAAK7B,CAAL,GAAO,CAAC,CAAR,CAAU,KAAK8F,gBAAL,GAAsB3F,CAAtB,CAAwB,KAAK2B,CAAL,GAAO,CAAC9B,CAAR;EAAU,YAAS+F,CAAT,CAAW/F,CAAX,EAAaG,CAAb,EAAe0B,CAAf,EAAiBC,CAAjB,EAAmB;EAAC,QAAIC,IAAEnG,OAAOoK,QAAb,CAAsB,IAAGhG,EAAE8F,gBAAF,IAAoB/D,CAApB,IAAuBA,EAAEkE,KAA5B,EAAkC;EAAC,UAAG9F,EAAEqB,QAAF,KAAa5E,KAAK6E,YAAlB,IAAgCI,EAAE1B,CAAF,CAAhC,EAAqCA,EAAE+F,gBAA1C,EAA2D,KAAIlG,IAAE+B,EAAEoE,aAAF,CAAgBD,gBAAhB,CAAiC7E,IAAjC,CAAsClB,CAAtC,EAAwC,GAAxC,CAAF,EAA+CA,IAAE,CAArD,EAAuDA,IAAEH,EAAE8C,MAA3D,EAAkE3C,GAAlE;EAAsE0B,UAAE7B,EAAEG,CAAF,CAAF;EAAtE;EAA8E,KAA5K,MAAiLyB,EAAEzB,CAAF,EAAI0B,CAAJ,EAAMC,CAAN;EAAS,YAASsE,EAAT,CAAYpG,CAAZ,EAAcG,CAAd,EAAgB;EAACH,MAAEA,CAAF,GAAI,CAAC,CAAL,CAAOA,EAAEG,CAAF,CAAIuB,IAAJ,CAASvB,CAAT;EAAY,YAASkG,EAAT,CAAYrG,CAAZ,EAAcG,CAAd,EAAgB;EAACH,MAAEA,CAAF,GAAI,CAAC,CAAL,CAAOA,EAAE6B,CAAF,CAAIH,IAAJ,CAASvB,CAAT;EAAY,YAASmG,CAAT,CAAWtG,CAAX,EAAaG,CAAb,EAAe;EAACH,MAAEA,CAAF,IAAK+F,EAAE/F,CAAF,EAAIG,CAAJ,EAAM,UAAS0B,CAAT,EAAW;EAAC,aAAO0E,EAAEvG,CAAF,EAAI6B,CAAJ,CAAP;EAAc,KAAhC,CAAL;EAAuC;EAC75B,WAAS0E,CAAT,CAAWvG,CAAX,EAAaG,CAAb,EAAe;EAAC,QAAGH,EAAEA,CAAF,IAAK,CAACG,EAAEqG,YAAX,EAAwB;EAACrG,QAAEqG,YAAF,GAAe,CAAC,CAAhB,CAAkB,KAAI,IAAI3E,IAAE,CAAV,EAAYA,IAAE7B,EAAEG,CAAF,CAAI2C,MAAlB,EAAyBjB,GAAzB;EAA6B7B,UAAEG,CAAF,CAAI0B,CAAJ,EAAO1B,CAAP;EAA7B,OAAuC,KAAI0B,IAAE,CAAN,EAAQA,IAAE7B,EAAE6B,CAAF,CAAIiB,MAAd,EAAqBjB,GAArB;EAAyB7B,UAAE6B,CAAF,CAAIA,CAAJ,EAAO1B,CAAP;EAAzB;EAAmC;EAAC,YAASsG,CAAT,CAAWzG,CAAX,EAAaG,CAAb,EAAe;EAAC,QAAI0B,IAAE,EAAN,CAASkE,EAAE/F,CAAF,EAAIG,CAAJ,EAAM,UAAS4B,CAAT,EAAW;EAAC,aAAOF,EAAEH,IAAF,CAAOK,CAAP,CAAP;EAAiB,KAAnC,EAAqC,KAAI5B,IAAE,CAAN,EAAQA,IAAE0B,EAAEiB,MAAZ,EAAmB3C,GAAnB,EAAuB;EAAC,UAAI2B,IAAED,EAAE1B,CAAF,CAAN,CAAW,MAAI2B,EAAEkD,UAAN,GAAiBhF,EAAE0E,iBAAF,CAAoB5C,CAApB,CAAjB,GAAwCoD,EAAElF,CAAF,EAAI8B,CAAJ,CAAxC;EAA+C;EAAC,YAAS4E,CAAT,CAAW1G,CAAX,EAAaG,CAAb,EAAe;EAAC,QAAI0B,IAAE,EAAN,CAASkE,EAAE/F,CAAF,EAAIG,CAAJ,EAAM,UAAS4B,CAAT,EAAW;EAAC,aAAOF,EAAEH,IAAF,CAAOK,CAAP,CAAP;EAAiB,KAAnC,EAAqC,KAAI5B,IAAE,CAAN,EAAQA,IAAE0B,EAAEiB,MAAZ,EAAmB3C,GAAnB,EAAuB;EAAC,UAAI2B,IAAED,EAAE1B,CAAF,CAAN,CAAW,MAAI2B,EAAEkD,UAAN,IAAkBhF,EAAE2E,oBAAF,CAAuB7C,CAAvB,CAAlB;EAA4C;EAAC;EACra,WAASQ,CAAT,CAAWtC,CAAX,EAAaG,CAAb,EAAe0B,CAAf,EAAiB;EAACA,QAAE,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAhB,CAAkB,IAAIC,IAAED,EAAE8E,CAAR;EAAA,QAAU5E,IAAEF,EAAEkD,OAAF,IAAW,UAASzB,CAAT,EAAW;EAAC,aAAO4B,EAAElF,CAAF,EAAIsD,CAAJ,CAAP;EAAc,KAAjD;EAAA,QAAkDtB,IAAE,EAApD,CAAuD+D,EAAE/F,CAAF,EAAIG,CAAJ,EAAM,UAASmD,CAAT,EAAW;EAACtD,QAAEA,CAAF,IAAKuG,EAAEvG,CAAF,EAAIsD,CAAJ,CAAL,CAAY,IAAG,WAASA,EAAErB,SAAX,IAAsB,aAAWqB,EAAExF,YAAF,CAAe,KAAf,CAApC,EAA0D;EAAC,YAAI4F,IAAEJ,EAAEpB,MAAR,CAAewB,aAAa9G,IAAb,KAAoB8G,EAAE7C,qBAAF,GAAwB,CAAC,CAAzB,EAA2B6C,EAAEkD,aAAF,GAAgBrG,SAASqG,aAAxE,EAAuFlD,KAAG,eAAaA,EAAEnB,UAAlB,GAA6BmB,EAAEmD,wBAAF,GAA2B,CAAC,CAAzD,GAA2DvD,EAAEwD,gBAAF,CAAmB,MAAnB,EAA0B,YAAU;EAAC,cAAIvC,IAAEjB,EAAEpB,MAAR,CAAe,IAAG,CAACqC,EAAEsC,wBAAN,EAA+B;EAACtC,cAAEsC,wBAAF,GAA2B,CAAC,CAA5B,CAA8B,IAAItD,IAAE,IAAI1D,GAAJ,EAAN,CAAciC,MAAIA,EAAE/B,OAAF,CAAU,UAAS4D,CAAT,EAAW;EAAC,qBAAOJ,EAAEtD,GAAF,CAAM0D,CAAN,CAAP;EAAgB,aAAtC,GACvdJ,EAAEgC,MAAF,CAAShB,CAAT,CADmd,EACtcjC,EAAEtC,CAAF,EAAIuE,CAAJ,EAAM,EAACoC,GAAEpD,CAAH,EAAKwB,SAAQhD,CAAb,EAAN;EAAuB;EAAC,SAD8S,CAA3D;EACjP,OADgF,MAC3EC,EAAEN,IAAF,CAAO4B,CAAP;EAAU,KADmC,EAClCxB,CADkC,EAC/B,KAAI3B,IAAE,CAAN,EAAQA,IAAE6B,EAAEc,MAAZ,EAAmB3C,GAAnB;EAAuB4B,QAAEC,EAAE7B,CAAF,CAAF;EAAvB;EAA+B;EAC3F,WAAS+E,CAAT,CAAWlF,CAAX,EAAaG,CAAb,EAAe;EAAC,QAAG;EAAC,UAAI0B,IAAE1B,EAAE4G,aAAR;EAAA,UAAsBjF,IAAED,EAAE+E,aAA1B,CAAwC,IAAI7E,IAAED,MAAID,EAAEmF,WAAF,IAAenF,EAAEhB,qBAArB,IAA4CwD,EAAEvC,CAAF,EAAI3B,EAAE8B,SAAN,CAA5C,GAA6D,KAAK,CAAxE,CAA0E,IAAGF,KAAG,KAAK,CAAL,KAAS5B,EAAE6E,UAAjB,EAA4B;EAACjD,UAAE+C,iBAAF,CAAoBpD,IAApB,CAAyBvB,CAAzB,EAA4B,IAAG;EAAC,cAAG;EAAC,gBAAG,IAAI4B,EAAE0C,mBAAN,OAA4BtE,CAA/B,EAAiC,MAAMgD,MAAM,4EAAN,CAAN;EAA2F,WAAhI,SAAuI;EAACpB,cAAE+C,iBAAF,CAAoBmC,GAApB;EAA0B;EAAC,SAAvK,CAAuK,OAAM1C,CAAN,EAAQ;EAAC,gBAAMpE,EAAE6E,UAAF,GAAa,CAAb,EAAeT,CAArB;EAAwB,WAAES,UAAF,GAAa,CAAb,CAAe7E,EAAE+G,eAAF,GAAkBnF,CAAlB,CAAoB,IAAGA,EAAE8C,wBAAF,IAA4B1E,EAAEgH,aAAF,EAA/B,EAAiD;EAAC,cAAInF,IAAED,EAAEyC,kBAAR;EAC1d,eAAIzC,IAAE,CAAN,EAAQA,IAAEC,EAAEc,MAAZ,EAAmBf,GAAnB,EAAuB;EAAC,gBAAIuB,IAAEtB,EAAED,CAAF,CAAN;EAAA,gBAAW2B,IAAEvD,EAAErC,YAAF,CAAewF,CAAf,CAAb,CAA+B,SAAOI,CAAP,IAAU1D,EAAE6E,wBAAF,CAA2B1E,CAA3B,EAA6BmD,CAA7B,EAA+B,IAA/B,EAAoCI,CAApC,EAAsC,IAAtC,CAAV;EAAsD;EAAC,WAAEvD,CAAF,KAAMH,EAAE0E,iBAAF,CAAoBvE,CAApB,CAAN;EAA6B;EAAC,KAD9H,CAC8H,OAAMoE,CAAN,EAAQ;EAACiB,QAAEjB,CAAF;EAAK;EAAC,KAAEzI,SAAF,CAAY4I,iBAAZ,GAA8B,UAAS1E,CAAT,EAAW;EAAC,QAAIG,IAAEH,EAAEkH,eAAR,CAAwB,IAAG/G,EAAEuE,iBAAL,EAAuB,IAAG;EAACvE,QAAEuE,iBAAF,CAAoBrD,IAApB,CAAyBrB,CAAzB;EAA4B,KAAhC,CAAgC,OAAM6B,CAAN,EAAQ;EAAC2D,QAAE3D,CAAF;EAAK;EAAC,GAAxI,CAAyI8D,EAAE7J,SAAF,CAAY6I,oBAAZ,GAAiC,UAAS3E,CAAT,EAAW;EAAC,QAAIG,IAAEH,EAAEkH,eAAR,CAAwB,IAAG/G,EAAEwE,oBAAL,EAA0B,IAAG;EAACxE,QAAEwE,oBAAF,CAAuBtD,IAAvB,CAA4BrB,CAA5B;EAA+B,KAAnC,CAAmC,OAAM6B,CAAN,EAAQ;EAAC2D,QAAE3D,CAAF;EAAK;EAAC,GAAjJ;EACtS8D,IAAE7J,SAAF,CAAY+I,wBAAZ,GAAqC,UAAS7E,CAAT,EAAWG,CAAX,EAAa0B,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmB;EAAC,QAAIC,IAAEhC,EAAEkH,eAAR,CAAwB,IAAGlF,EAAE6C,wBAAF,IAA4B,CAAC,CAAD,GAAG7C,EAAEwC,kBAAF,CAAqBa,OAArB,CAA6BlF,CAA7B,CAAlC,EAAkE,IAAG;EAAC6B,QAAE6C,wBAAF,CAA2BxD,IAA3B,CAAgCrB,CAAhC,EAAkCG,CAAlC,EAAoC0B,CAApC,EAAsCC,CAAtC,EAAwCC,CAAxC;EAA2C,KAA/C,CAA+C,OAAMuB,CAAN,EAAQ;EAACkC,QAAElC,CAAF;EAAK;EAAC,GAAjN;EACA,WAAS8D,EAAT,CAAYpH,CAAZ,EAAcG,CAAd,EAAgB0B,CAAhB,EAAkBC,CAAlB,EAAoB;EAAC,QAAIC,IAAE5B,EAAEyG,aAAR,CAAsB,IAAG7E,MAAI,SAAOD,CAAP,IAAU,mCAAiCA,CAA/C,MAAoDC,IAAEsC,EAAEtC,CAAF,EAAIF,CAAJ,CAAtD,CAAH,EAAiE,IAAG;EAAC,UAAIG,IAAE,IAAID,EAAE0C,mBAAN,EAAN,CAAgC,IAAG,KAAK,CAAL,KAASzC,EAAEgD,UAAX,IAAuB,KAAK,CAAL,KAAShD,EAAEkF,eAArC,EAAqD,MAAM/D,MAAM,0BAAwBtB,CAAxB,GAA0B,6EAAhC,CAAN,CAAqH,IAAG,mCAAiCG,EAAEqF,YAAtC,EAAmD,MAAMlE,MAAM,0BAAwBtB,CAAxB,GAA0B,oEAAhC,CAAN,CAA4G,IAAGG,EAAEmF,aAAF,EAAH,EAAqB,MAAMhE,MAAM,0BACxftB,CADwf,GACtf,0DADgf,CAAN,CAC9a,IAAG,SAAOG,EAAEV,UAAZ,EAAuB,MAAM6B,MAAM,0BAAwBtB,CAAxB,GAA0B,wDAAhC,CAAN,CAAgG,IAAG,SAAOG,EAAElB,UAAZ,EAAuB,MAAMqC,MAAM,0BAAwBtB,CAAxB,GAA0B,yDAAhC,CAAN,CAAiG,IAAGG,EAAE+E,aAAF,KAAkB5G,CAArB,EAAuB,MAAMgD,MAAM,0BAAwBtB,CAAxB,GAA0B,2DAAhC,CAAN,CAAmG,IAAGG,EAAEC,SAAF,KAAcJ,CAAjB,EAAmB,MAAMsB,MAAM,0BAAwBtB,CAAxB,GAA0B,uDAAhC,CAAN;EAC1b,aAAOG,CAAP;EAAS,KAFiG,CAEjG,OAAMsB,CAAN,EAAQ;EAAC,aAAOkC,EAAElC,CAAF,GAAKnD,IAAE,SAAO2B,CAAP,GAASnG,EAAE0F,IAAF,CAAOlB,CAAP,EAAS0B,CAAT,CAAT,GAAqB7F,EAAEqF,IAAF,CAAOlB,CAAP,EAAS2B,CAAT,EAAWD,CAAX,CAA5B,EAA0CtE,OAAO+J,cAAP,CAAsBnH,CAAtB,EAAwBoH,mBAAmBzL,SAA3C,CAA1C,EAAgGqE,EAAE6E,UAAF,GAAa,CAA7G,EAA+G7E,EAAE+G,eAAF,GAAkB,KAAK,CAAtI,EAAwIX,EAAEvG,CAAF,EAAIG,CAAJ,CAAxI,EAA+IA,CAAtJ;EAAwJ,SAAE,SAAO2B,CAAP,GAASnG,EAAE0F,IAAF,CAAOlB,CAAP,EAAS0B,CAAT,CAAT,GAAqB7F,EAAEqF,IAAF,CAAOlB,CAAP,EAAS2B,CAAT,EAAWD,CAAX,CAAvB,CAAqC0E,EAAEvG,CAAF,EAAIG,CAAJ,EAAO,OAAOA,CAAP;EAAS;EACjO,WAASqF,CAAT,CAAWxF,CAAX,EAAa;EAAC,QAAIG,IAAEH,EAAEwH,OAAR;EAAA,QAAgB3F,IAAE7B,EAAEyH,SAAF,IAAazH,EAAE0H,QAAf,IAAyB,EAA3C;EAAA,QAA8C5F,IAAE9B,EAAE2H,IAAF,IAAQ3H,EAAE4H,UAAV,IAAsB,CAAtE;EAAA,QAAwE7F,IAAE/B,EAAE6H,MAAF,IAAU7H,EAAE8H,YAAZ,IAA0B,CAApG;EAAA,QAAsG9F,IAAE,KAAK,CAA7G,CAA+G,KAAK,CAAL,KAAS+F,WAAWjM,SAAX,CAAqBkM,cAA9B,GAA6ChG,IAAE,IAAI+F,UAAJ,CAAe,OAAf,EAAuB,EAACE,YAAW,CAAC,CAAb,EAAeT,SAAQrH,CAAvB,EAAyB+H,UAASrG,CAAlC,EAAoCsG,QAAOrG,CAA3C,EAA6CsG,OAAMrG,CAAnD,EAAqDsG,OAAMrI,CAA3D,EAAvB,CAA/C,IAAsIgC,IAAEzB,SAAS+H,WAAT,CAAqB,YAArB,CAAF,EAAqCtG,EAAEgG,cAAF,CAAiB,OAAjB,EAAyB,CAAC,CAA1B,EAA4B,CAAC,CAA7B,EAA+B7H,CAA/B,EAAiC0B,CAAjC,EAAmCC,CAAnC,CAArC,EAA2EE,EAAEuG,cAAF,GAAiB,YAAU;EAAChL,aAAOiL,cAAP,CAAsB,IAAtB,EAA2B,kBAA3B,EAA8C,EAACC,cAAa,CAAC,CAAf,EAAiBxD,KAAI,eAAU;EAAC,iBAAM,CAAC,CAAP;EAAS,SAAzC,EAA9C;EAA0F,KAAvU,EAAyU,KAAK,CAAL,KAASjD,EAAEqG,KAAX,IAAkB9K,OAAOiL,cAAP,CAAsBxG,CAAtB,EAAwB,OAAxB,EACtd,EAACyG,cAAa,CAAC,CAAf,EAAiBC,YAAW,CAAC,CAA7B,EAA+BzD,KAAI,eAAU;EAAC,eAAOjF,CAAP;EAAS,OAAvD,EADsd,CAAlB,CAC1YpE,OAAO+M,aAAP,CAAqB3G,CAArB,EAAwBA,EAAE4G,gBAAF,IAAoBC,QAAQR,KAAR,CAAcrI,CAAd,CAApB;EAAqC,GAAC,IAAI8I,KAAG,IAAI,YAAU,EAAd,EAAP,CAAwB,SAASC,EAAT,CAAY/I,CAAZ,EAAc;EAACpE,WAAO4D,WAAP,GAAmB,YAAU;EAAC,eAASW,CAAT,GAAY;EAAC,YAAI0B,IAAE,KAAKmH,WAAX,CAAuB,IAAIlH,IAAEvB,SAASqG,aAAT,CAAuBrD,CAAvB,CAAyB0B,GAAzB,CAA6BpD,CAA7B,CAAN,CAAsC,IAAG,CAACC,CAAJ,EAAM,MAAMqB,MAAM,iGAAN,CAAN,CAA+G,IAAIpB,IAAED,EAAEgD,iBAAR,CAA0B,IAAG,MAAI/C,EAAEe,MAAT,EAAgB,OAAOf,IAAEpG,EAAE0F,IAAF,CAAOd,QAAP,EAAgBuB,EAAEG,SAAlB,CAAF,EAA+B1E,OAAO+J,cAAP,CAAsBvF,CAAtB,EAAwBF,EAAE/F,SAA1B,CAA/B,EAAoEiG,EAAEiD,UAAF,GAAa,CAAjF,EAAmFjD,EAAEmF,eAAF,GAAkBpF,CAArG,EAAuGyE,EAAEvG,CAAF,EAAI+B,CAAJ,CAAvG,EAA8GA,CAArH,CAAuH,IAAIC,IAAED,EAAEe,MAAF,GAAS,CAAf;EAAA,YAAiBQ,IAAEvB,EAAEC,CAAF,CAAnB,CAAwB,IAAGsB,MAAIwF,EAAP,EAAU,MAAM3F,MAAM,0BAAwBrB,EAAEG,SAA1B,GAAoC,0CAA1C,CAAN;EAC/jBF,UAAEC,CAAF,IAAK8G,EAAL,CAAQvL,OAAO+J,cAAP,CAAsBhE,CAAtB,EAAwBzB,EAAE/F,SAA1B,EAAqCyK,EAAEvG,CAAF,EAAIsD,CAAJ,EAAO,OAAOA,CAAP;EAAS,SAAExH,SAAF,GAAYyD,GAAGzD,SAAf,CAAyByB,OAAOiL,cAAP,CAAsBrI,EAAErE,SAAxB,EAAkC,aAAlC,EAAgD,EAACmN,UAAS,CAAC,CAAX,EAAaR,cAAa,CAAC,CAA3B,EAA6BC,YAAW,CAAC,CAAzC,EAA2CQ,OAAM/I,CAAjD,EAAhD,EAAqG,OAAOA,CAAP;EAAS,KADlB,EAAnB;EACwC,GAAC,SAASgJ,CAAT,CAAWnJ,CAAX,EAAaG,CAAb,EAAe0B,CAAf,EAAiB;EAAC,aAASC,CAAT,CAAWC,CAAX,EAAa;EAAC,aAAO,UAASC,CAAT,EAAW;EAAC,aAAI,IAAIsB,IAAE,EAAN,EAASI,IAAE,CAAf,EAAiBA,IAAE0F,UAAUtG,MAA7B,EAAoC,EAAEY,CAAtC;EAAwCJ,YAAEI,CAAF,IAAK0F,UAAU1F,CAAV,CAAL;EAAxC,SAA0DA,IAAE,EAAF,CAAK,KAAI,IAAIa,IAAE,EAAN,EAAShB,IAAE,CAAf,EAAiBA,IAAED,EAAER,MAArB,EAA4BS,GAA5B,EAAgC;EAAC,cAAII,IAAEL,EAAEC,CAAF,CAAN,CAAWI,aAAajG,OAAb,IAAsBiD,EAAEgD,CAAF,CAAtB,IAA4BY,EAAE7C,IAAF,CAAOiC,CAAP,CAA5B,CAAsC,IAAGA,aAAalH,gBAAhB,EAAiC,KAAIkH,IAAEA,EAAErC,UAAR,EAAmBqC,CAAnB,EAAqBA,IAAEA,EAAEpC,WAAzB;EAAqCmC,cAAEhC,IAAF,CAAOiC,CAAP;EAArC,WAAjC,MAAqFD,EAAEhC,IAAF,CAAOiC,CAAP;EAAU,WAAE0F,KAAF,CAAQ,IAAR,EAAa/F,CAAb,EAAgB,KAAIA,IAAE,CAAN,EAAQA,IAAEiB,EAAEzB,MAAZ,EAAmBQ,GAAnB;EAAuBoD,YAAE1G,CAAF,EAAIuE,EAAEjB,CAAF,CAAJ;EAAvB,SAAiC,IAAG3C,EAAE,IAAF,CAAH,EAAW,KAAI2C,IAAE,CAAN,EAAQA,IAAEI,EAAEZ,MAAZ,EAAmBQ,GAAnB;EAAuBiB,cAAEb,EAAEJ,CAAF,CAAF,EAAOiB,aAAa7G,OAAb,IAAsB+I,EAAEzG,CAAF,EAAIuE,CAAJ,CAA7B;EAAvB;EAA2D,OAA1X;EAA2X,UAAK,CAAL,KAAS1C,EAAExF,OAAX,IAAoB+F,EAAEjC,CAAF,EAAI,SAAJ,EAAc2B,EAAED,EAAExF,OAAJ,CAAd,CAApB,CAAgD,KAAK,CAAL,KAASwF,EAAEtF,MAAX,IAAmB6F,EAAEjC,CAAF,EAAI,QAAJ,EAAa2B,EAAED,EAAEtF,MAAJ,CAAb,CAAnB;EAA6C;AAClsB,EAAC,SAAS+M,EAAT,CAAYtJ,CAAZ,EAAc;EAACoC,MAAEvG,SAASC,SAAX,EAAqB,eAArB,EAAqC,UAASqE,CAAT,EAAW;EAAC,aAAOiH,GAAGpH,CAAH,EAAK,IAAL,EAAUG,CAAV,EAAY,IAAZ,CAAP;EAAyB,KAA1E,EAA4EiC,EAAEvG,SAASC,SAAX,EAAqB,YAArB,EAAkC,UAASqE,CAAT,EAAW0B,CAAX,EAAa;EAAC1B,UAAEjE,GAAGmF,IAAH,CAAQ,IAAR,EAAalB,CAAb,EAAe,CAAC,CAAC0B,CAAjB,CAAF,CAAsB,KAAK+E,aAAL,GAAmBtE,EAAEtC,CAAF,EAAIG,CAAJ,CAAnB,GAA0BmG,EAAEtG,CAAF,EAAIG,CAAJ,CAA1B,CAAiC,OAAOA,CAAP;EAAS,KAAhH,EAAkHiC,EAAEvG,SAASC,SAAX,EAAqB,iBAArB,EAAuC,UAASqE,CAAT,EAAW0B,CAAX,EAAa;EAAC,aAAOuF,GAAGpH,CAAH,EAAK,IAAL,EAAU6B,CAAV,EAAY1B,CAAZ,CAAP;EAAsB,KAA3E,EAA6EgJ,EAAEnJ,CAAF,EAAInE,SAASC,SAAb,EAAuB,EAACO,SAAQD,EAAT,EAAYG,QAAOD,EAAnB,EAAvB;EAA+C,GAAC,SAASiN,EAAT,CAAYvJ,CAAZ,EAAc;EAAC,aAASG,CAAT,CAAW0B,CAAX,EAAaC,CAAb,EAAe;EAACvE,aAAOiL,cAAP,CAAsB3G,CAAtB,EAAwB,aAAxB,EAAsC,EAAC6G,YAAW5G,EAAE4G,UAAd,EAAyBD,cAAa,CAAC,CAAvC,EAAyCxD,KAAInD,EAAEmD,GAA/C,EAAmDjB,KAAI,aAASjC,CAAT,EAAW;EAAC,cAAG,KAAKP,QAAL,KAAgB5E,KAAK4M,SAAxB,EAAkC1H,EAAEkC,GAAF,CAAM3C,IAAN,CAAW,IAAX,EAAgBU,CAAhB,EAAlC,KAAyD;EAAC,gBAAIC,IAAE,KAAK,CAAX,CAAa,IAAG,KAAKV,UAAR,EAAmB;EAAC,kBAAIgC,IAAE,KAAKmG,UAAX;EAAA,kBAAsB/F,IAAEJ,EAAER,MAA1B,CAAiC,IAAG,IAAEY,CAAF,IAAK/C,EAAE,IAAF,CAAR,EAAgB;EAACqB,oBAAEb,MAAMuC,CAAN,CAAF,CAAW,KAAI,IAAIa,IAAE,CAAV,EAAYA,IAAEb,CAAd,EAAgBa,GAAhB;EAAoBvC,oBAAEuC,CAAF,IAAKjB,EAAEiB,CAAF,CAAL;EAApB;EAA8B;EAAC,eAAEP,GAAF,CAAM3C,IAAN,CAAW,IAAX,EAAgBU,CAAhB,EAAmB,IAAGC,CAAH,EAAK,KAAID,IAAE,CAAN,EAAQA,IAAEC,EAAEc,MAAZ,EAAmBf,GAAnB;EAAuB2E,gBAAE1G,CAAF,EAAIgC,EAAED,CAAF,CAAJ;EAAvB;EAAiC;EAAC,SAApT,EAAtC;EAA6V,OAAEnF,KAAKd,SAAP,EAAiB,cAAjB,EAAgC,UAAS+F,CAAT,EAAWC,CAAX,EAAa;EAAC,UAAGD,aAAapF,gBAAhB,EAAiC;EAAC,YAAIsF,IAAEd,EAAEY,CAAF,CAAN,CAAWA,IAAE7E,EAAEqE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,EAAcC,CAAd,CAAF,CAAmB,IAAGnB,EAAE,IAAF,CAAH,EAAW,KAAImB,IACE,CADN,EACQA,IAAEC,EAAEe,MADZ,EACmBhB,GADnB;EACuB2E,YAAEzG,CAAF,EAAI+B,EAAED,CAAF,CAAJ;EADvB,SACiC,OAAOD,CAAP;EAAS,WAAEA,aAAanE,OAAb,IAAsBiD,EAAEkB,CAAF,CAAxB,CAA6BC,IAAE9E,EAAEqE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,EAAcC,CAAd,CAAF,CAAmBC,KAAG2E,EAAE1G,CAAF,EAAI6B,CAAJ,CAAH,CAAUlB,EAAE,IAAF,KAAS8F,EAAEzG,CAAF,EAAI6B,CAAJ,CAAT,CAAgB,OAAOC,CAAP;EAAS,KADtP,EACwPM,EAAExF,KAAKd,SAAP,EAAiB,aAAjB,EAA+B,UAAS+F,CAAT,EAAW;EAAC,UAAGA,aAAapF,gBAAhB,EAAiC;EAAC,YAAIqF,IAAEb,EAAEY,CAAF,CAAN,CAAWA,IAAE/E,EAAEuE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,CAAF,CAAiB,IAAGlB,EAAE,IAAF,CAAH,EAAW,KAAI,IAAIoB,IAAE,CAAV,EAAYA,IAAED,EAAEgB,MAAhB,EAAuBf,GAAvB;EAA2B0E,YAAEzG,CAAF,EAAI8B,EAAEC,CAAF,CAAJ;EAA3B,SAAqC,OAAOF,CAAP;EAAS,WAAEA,aAAanE,OAAb,IAAsBiD,EAAEkB,CAAF,CAAxB,CAA6BE,IAAEjF,EAAEuE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,CAAF,CAAiBC,KAAG4E,EAAE1G,CAAF,EAAI6B,CAAJ,CAAH,CAAUlB,EAAE,IAAF,KAAS8F,EAAEzG,CAAF,EAAI6B,CAAJ,CAAT,CAAgB,OAAOE,CAAP;EAAS,KAAnP,EAAqPK,EAAExF,KAAKd,SAAP,EAAiB,WAAjB,EAA6B,UAAS+F,CAAT,EAAW;EAACA,UAAElF,EAAE0E,IAAF,CAAO,IAAP,EAAY,CAAC,CAACQ,CAAd,CAAF,CAAmB,KAAKkF,aAAL,CAAmBH,aAAnB,GAAiCtE,EAAEtC,CAAF,EAAI6B,CAAJ,CAAjC,GAAwCyE,EAAEtG,CAAF,EAAI6B,CAAJ,CAAxC,CAA+C,OAAOA,CAAP;EAAS,KAApH,EAAsHO,EAAExF,KAAKd,SAAP,EACxyC,aADwyC,EAC1xC,UAAS+F,CAAT,EAAW;EAAC,UAAIC,IAAED,aAAanE,OAAb,IAAsBiD,EAAEkB,CAAF,CAA5B;EAAA,UAAiCE,IAAE7E,EAAEmE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,CAAnC,CAAkDC,KAAG4E,EAAE1G,CAAF,EAAI6B,CAAJ,CAAH,CAAU,OAAOE,CAAP;EAAS,KADysC,EACvsCK,EAAExF,KAAKd,SAAP,EAAiB,cAAjB,EAAgC,UAAS+F,CAAT,EAAWC,CAAX,EAAa;EAAC,UAAGD,aAAapF,gBAAhB,EAAiC;EAAC,YAAIsF,IAAEd,EAAEY,CAAF,CAAN,CAAWA,IAAEzE,EAAEiE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,EAAcC,CAAd,CAAF,CAAmB,IAAGnB,EAAE,IAAF,CAAH,EAAW,KAAI+F,EAAE1G,CAAF,EAAI8B,CAAJ,GAAOA,IAAE,CAAb,EAAeA,IAAEC,EAAEe,MAAnB,EAA0BhB,GAA1B;EAA8B2E,YAAEzG,CAAF,EAAI+B,EAAED,CAAF,CAAJ;EAA9B,SAAwC,OAAOD,CAAP;EAAS,WAAEA,aAAanE,OAAb,IAAsBiD,EAAEkB,CAAF,CAAxB,CAA6B,IAAIG,IAAE5E,EAAEiE,IAAF,CAAO,IAAP,EAAYQ,CAAZ,EAAcC,CAAd,CAAN;EAAA,UAAuBwB,IAAE3C,EAAE,IAAF,CAAzB,CAAiC2C,KAAGoD,EAAE1G,CAAF,EAAI8B,CAAJ,CAAH,CAAUC,KAAG2E,EAAE1G,CAAF,EAAI6B,CAAJ,CAAH,CAAUyB,KAAGmD,EAAEzG,CAAF,EAAI6B,CAAJ,CAAH,CAAU,OAAOG,CAAP;EAAS,KAA/Q,EAAiR1E,KAAGA,EAAE2H,GAAL,GAAS9E,EAAEvD,KAAKd,SAAP,EAAiBwB,CAAjB,CAAT,GAA6B8I,GAAGpG,CAAH,EAAK,UAAS6B,CAAT,EAAW;EAAC1B,QAAE0B,CAAF,EAAI,EAAC6G,YAAW,CAAC,CAAb,EAAeD,cAAa,CAAC,CAA7B,EAA+BxD,KAAI,eAAU;EAAC,eAAI,IAAInD,IAAE,EAAN,EAASC,IAAE,KAAKT,UAApB,EAA+BS,CAA/B,EAAiCA,IACjfA,EAAER,WAD8c;EAClcQ,cAAEP,QAAF,KAAa5E,KAAK8M,YAAlB,IAAgC5H,EAAEJ,IAAF,CAAOK,EAAE4H,WAAT,CAAhC;EADkc,WAC5Y,OAAO7H,EAAE8H,IAAF,CAAO,EAAP,CAAP;EAAkB,SAD4U,EAC3U5F,KAAI,aAASlC,CAAT,EAAW;EAAC,iBAAK,KAAKR,UAAV;EAAsBpE,cAAEmE,IAAF,CAAO,IAAP,EAAY,KAAKC,UAAjB;EAAtB,WAAmD,QAAMQ,CAAN,IAAS,OAAKA,CAAd,IAAiBhF,EAAEuE,IAAF,CAAO,IAAP,EAAYd,SAASsJ,cAAT,CAAwB/H,CAAxB,CAAZ,CAAjB;EAAyD,SAD+M,EAAJ;EACxM,KADuL,CAA7B;EACxJ,GAAC,SAASgI,EAAT,CAAY9J,CAAZ,EAAc;EAAC,aAASG,CAAT,CAAW2B,CAAX,EAAa;EAAC,aAAO,UAASC,CAAT,EAAW;EAAC,aAAI,IAAIC,IAAE,EAAN,EAASsB,IAAE,CAAf,EAAiBA,IAAE8F,UAAUtG,MAA7B,EAAoC,EAAEQ,CAAtC;EAAwCtB,YAAEsB,CAAF,IAAK8F,UAAU9F,CAAV,CAAL;EAAxC,SAA0DA,IAAE,EAAF,CAAK,KAAI,IAAII,IAAE,EAAN,EAASa,IAAE,CAAf,EAAiBA,IAAEvC,EAAEc,MAArB,EAA4ByB,GAA5B,EAAgC;EAAC,cAAIhB,IAAEvB,EAAEuC,CAAF,CAAN,CAAWhB,aAAa7F,OAAb,IAAsBiD,EAAE4C,CAAF,CAAtB,IAA4BG,EAAEhC,IAAF,CAAO6B,CAAP,CAA5B,CAAsC,IAAGA,aAAa9G,gBAAhB,EAAiC,KAAI8G,IAAEA,EAAEjC,UAAR,EAAmBiC,CAAnB,EAAqBA,IAAEA,EAAEhC,WAAzB;EAAqC+B,cAAE5B,IAAF,CAAO6B,CAAP;EAArC,WAAjC,MAAqFD,EAAE5B,IAAF,CAAO6B,CAAP;EAAU,WAAE8F,KAAF,CAAQ,IAAR,EAAarH,CAAb,EAAgB,KAAIA,IAAE,CAAN,EAAQA,IAAE0B,EAAEZ,MAAZ,EAAmBd,GAAnB;EAAuB0E,YAAE1G,CAAF,EAAI0D,EAAE1B,CAAF,CAAJ;EAAvB,SAAiC,IAAGrB,EAAE,IAAF,CAAH,EAAW,KAAIqB,IAAE,CAAN,EAAQA,IAAEsB,EAAER,MAAZ,EAAmBd,GAAnB;EAAuB0B,cAAEJ,EAAEtB,CAAF,CAAF,EAAO0B,aAAahG,OAAb,IAAsB+I,EAAEzG,CAAF,EAAI0D,CAAJ,CAA7B;EAAvB;EAA2D,OAA1X;EAA2X,SAAI7B,IAAEnE,QAAQ5B,SAAd,CAAwB,KAAK,CAAL,KAASiD,EAAT,IAAaqD,EAAEP,CAAF,EAAI,QAAJ,EAAa1B,EAAEpB,EAAF,CAAb,CAAb,CAAiC,KAAK,CAAL,KAASE,EAAT,IAAamD,EAAEP,CAAF,EAAI,OAAJ,EAAY1B,EAAElB,EAAF,CAAZ,CAAb,CAAgC,KAAK,CAAL,KAC9sBE,EAD8sB,IAC1sBiD,EAAEP,CAAF,EAAI,aAAJ,EAAkB,UAASC,CAAT,EAAW;EAAC,WAAI,IAAIC,IAAE,EAAN,EAASC,IAAE,CAAf,EAAiBA,IAAEoH,UAAUtG,MAA7B,EAAoC,EAAEd,CAAtC;EAAwCD,UAAEC,CAAF,IAAKoH,UAAUpH,CAAV,CAAL;EAAxC,OAA0DA,IAAE,EAAF,CAAK,KAAI,IAAIsB,IAAE,EAAN,EAASI,IAAE,CAAf,EAAiBA,IAAE3B,EAAEe,MAArB,EAA4BY,GAA5B,EAAgC;EAAC,YAAIa,IAAExC,EAAE2B,CAAF,CAAN,CAAWa,aAAa7G,OAAb,IAAsBiD,EAAE4D,CAAF,CAAtB,IAA4BjB,EAAE5B,IAAF,CAAO6C,CAAP,CAA5B,CAAsC,IAAGA,aAAa9H,gBAAhB,EAAiC,KAAI8H,IAAEA,EAAEjD,UAAR,EAAmBiD,CAAnB,EAAqBA,IAAEA,EAAEhD,WAAzB;EAAqCS,YAAEN,IAAF,CAAO6C,CAAP;EAArC,SAAjC,MAAqFvC,EAAEN,IAAF,CAAO6C,CAAP;EAAU,WAAE5D,EAAE,IAAF,CAAF,CAAUxB,GAAGkK,KAAH,CAAS,IAAT,EAActH,CAAd,EAAiB,KAAIA,IAAE,CAAN,EAAQA,IAAEuB,EAAER,MAAZ,EAAmBf,GAAnB;EAAuB2E,UAAE1G,CAAF,EAAIsD,EAAEvB,CAAF,CAAJ;EAAvB,OAAiC,IAAG2B,CAAH,EAAK,KAAIgD,EAAE1G,CAAF,EAAI,IAAJ,GAAU+B,IAAE,CAAhB,EAAkBA,IAAEC,EAAEc,MAAtB,EAA6Bf,GAA7B;EAAiCuB,YAAEtB,EAAED,CAAF,CAAF,EAAOuB,aAAa5F,OAAb,IAAsB+I,EAAEzG,CAAF,EAAIsD,CAAJ,CAA7B;EAAjC;EAAqE,KAApZ,CAD0sB,CACpT,KAAK,CAAL,KAASjE,EAAT,IAAa+C,EAAEP,CAAF,EAAI,QAAJ,EAAa,YAAU;EAAC,UAAIC,IAAEnB,EAAE,IAAF,CAAN,CAActB,GAAGgC,IAAH,CAAQ,IAAR,EAAcS,KAAG4E,EAAE1G,CAAF,EAAI,IAAJ,CAAH;EAAa,KAAjE,CAAb;EAAgF,GAAC,SAAS+J,EAAT,CAAY/J,CAAZ,EAAc;EAAC,aAASG,CAAT,CAAW4B,CAAX,EAAaC,CAAb,EAAe;EAACzE,aAAOiL,cAAP,CAAsBzG,CAAtB,EAAwB,WAAxB,EAAoC,EAAC2G,YAAW1G,EAAE0G,UAAd,EAAyBD,cAAa,CAAC,CAAvC,EAAyCxD,KAAIjD,EAAEiD,GAA/C,EAAmDjB,KAAI,aAASV,CAAT,EAAW;EAAC,cAAII,IAAE,IAAN;EAAA,cAAWa,IAAE,KAAK,CAAlB,CAAoB5D,EAAE,IAAF,MAAU4D,IAAE,EAAF,EAAKwB,EAAE/F,CAAF,EAAI,IAAJ,EAAS,UAASsE,CAAT,EAAW;EAACA,kBAAIZ,CAAJ,IAAOa,EAAE7C,IAAF,CAAO4C,CAAP,CAAP;EAAiB,WAAtC,CAAf,EAAwDtC,EAAEgC,GAAF,CAAM3C,IAAN,CAAW,IAAX,EAAgBiC,CAAhB,EAAmB,IAAGiB,CAAH,EAAK,KAAI,IAAIhB,IAAE,CAAV,EAAYA,IAAEgB,EAAEzB,MAAhB,EAAuBS,GAAvB,EAA2B;EAAC,gBAAII,IAAEY,EAAEhB,CAAF,CAAN,CAAW,MAAII,EAAEqB,UAAN,IAAkBhF,EAAE2E,oBAAF,CAAuBhB,CAAvB,CAAlB;EAA4C,gBAAKoD,aAAL,CAAmBH,aAAnB,GAAiCtE,EAAEtC,CAAF,EAAI,IAAJ,CAAjC,GAA2CsG,EAAEtG,CAAF,EAAI,IAAJ,CAA3C,CAAqD,OAAOsD,CAAP;EAAS,SAAxT,EAApC;EAA+V,cAASzB,CAAT,CAAWE,CAAX,EAAaC,CAAb,EAAe;EAACI,QAAEL,CAAF,EAAI,uBAAJ,EAA4B,UAASuB,CAAT,EAAWI,CAAX,EAAa;EAAC,YAAIa,IAAE5D,EAAE+C,CAAF,CAAN,CAAWJ,IAAEtB,EAAEX,IAAF,CAAO,IAAP,EAAYiC,CAAZ,EAAcI,CAAd,CAAF,CAAmBa,KAAGmC,EAAE1G,CAAF,EAAI0D,CAAJ,CAAH,CAAU/C,EAAE2C,CAAF,KAAMmD,EAAEzG,CAAF,EAAI0D,CAAJ,CAAN,CAAa,OAAOJ,CAAP;EAAS,OAAxG;EAA0G;EACj+B,aAASxB,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAe;EAAC,eAASsB,CAAT,CAAWI,CAAX,EAAaa,CAAb,EAAe;EAAC,aAAI,IAAIhB,IAAE,EAAV,EAAaG,MAAIa,CAAjB,EAAmBb,IAAEA,EAAEnC,WAAvB;EAAmCgC,YAAE7B,IAAF,CAAOgC,CAAP;EAAnC,SAA6C,KAAIa,IAAE,CAAN,EAAQA,IAAEhB,EAAET,MAAZ,EAAmByB,GAAnB;EAAuBjC,YAAEtC,CAAF,EAAIuD,EAAEgB,CAAF,CAAJ;EAAvB;EAAiC,SAAExC,CAAF,EAAI,oBAAJ,EAAyB,UAAS2B,CAAT,EAAWa,CAAX,EAAa;EAACb,YAAEA,EAAEsG,WAAF,EAAF,CAAkB,IAAG,kBAAgBtG,CAAnB,EAAqB;EAAC,cAAIH,IAAE,KAAK0G,eAAX,CAA2BjI,EAAEX,IAAF,CAAO,IAAP,EAAYqC,CAAZ,EAAca,CAAd,EAAiBjB,EAAEC,KAAG,KAAKzC,UAAL,CAAgBQ,UAArB,EAAgC,IAAhC;EAAsC,SAAxG,MAA6G,IAAG,iBAAeoC,CAAlB,EAAoBH,IAAE,KAAKjC,UAAP,EAAkBU,EAAEX,IAAF,CAAO,IAAP,EAAYqC,CAAZ,EAAca,CAAd,CAAlB,EAAmCjB,EAAE,KAAKhC,UAAP,EAAkBiC,CAAlB,CAAnC,CAApB,KAAiF,IAAG,gBAAcG,CAAjB,EAAmBH,IAAE,KAAK2G,SAAP,EAAiBlI,EAAEX,IAAF,CAAO,IAAP,EAAYqC,CAAZ,EAAca,CAAd,CAAjB,EAAkCjB,EAAEC,KAAG,KAAKjC,UAAV,EAAqB,IAArB,CAAlC,CAAnB,KAAqF,IAAG,eAAaoC,CAAhB,EAAkBH,IAAE,KAAKhC,WAAP,EAAmBS,EAAEX,IAAF,CAAO,IAAP,EAAYqC,CAAZ,EAAca,CAAd,CAAnB,EAAoCjB,EAAE,KAAK/B,WAAP,EAC9egC,CAD8e,CAApC,CAAlB,KAChb,MAAM,IAAIa,WAAJ,CAAgB,yBAAuB+F,OAAOzG,CAAP,CAAvB,GAAiC,0EAAjD,CAAN;EAAoI,OADhC;EACkC,UAAGtB,EAAE1E,QAAQ5B,SAAV,EAAoB,cAApB,EAAmC,UAASiG,CAAT,EAAW;EAACA,UAAEtE,EAAE4D,IAAF,CAAO,IAAP,EAAYU,CAAZ,CAAF,CAAiB,IAAG/B,EAAEA,CAAF,IAAK,CAAC+B,EAAEyE,YAAX,EAAwB;EAACzE,UAAEyE,YAAF,GAAe,CAAC,CAAhB,CAAkB,KAAI,IAAIxE,IAAE,CAAV,EAAYA,IAAEhC,EAAEG,CAAF,CAAI2C,MAAlB,EAAyBd,GAAzB;EAA6BhC,YAAEG,CAAF,CAAI6B,CAAJ,EAAOD,CAAP;EAA7B;EAAuC,cAAO,KAAKI,eAAL,GAAqBJ,CAA5B;EAA8B,KAAhL,CAAH,CAAqLnE,KAAGA,EAAEqH,GAAL,GAAS9E,EAAEzC,QAAQ5B,SAAV,EAAoB8B,CAApB,CAAT,GAAgC6B,KAAGA,EAAEwF,GAAL,GAAS9E,EAAEX,YAAY1D,SAAd,EAAwB2D,CAAxB,CAAT,GAAoC4G,GAAGrG,CAAH,EAAK,UAAS+B,CAAT,EAAW;EAAC5B,QAAE4B,CAAF,EAAI,EAAC2G,YAAW,CAAC,CAAb,EAAeD,cAAa,CAAC,CAA7B,EAA+BxD,KAAI,eAAU;EAAC,iBAAOtI,EAAE0E,IAAF,CAAO,IAAP,EAAY,CAAC,CAAb,EAAgB+I,SAAvB;EAAiC,SAA/E,EAAgFpG,KAAI,aAAShC,CAAT,EAAW;EAAC,cAAIsB,IAC9f,eAAa,KAAKrB,SADwe;EAAA,cAC9dyB,IAAEJ,IAAE,KAAK+G,OAAP,GAAe,IAD6c;EAAA,cACxc9F,IAAEvI,EAAEqF,IAAF,CAAOd,QAAP,EAAgB,KAAK8G,YAArB,EAAkC,KAAKpF,SAAvC,CADsc,CACpZ,KAAIsC,EAAE6F,SAAF,GAAYpI,CAAhB,EAAkB,IAAE0B,EAAE+F,UAAF,CAAa3G,MAAjC;EAAyC5F,cAAEmE,IAAF,CAAOqC,CAAP,EAASA,EAAE+F,UAAF,CAAa,CAAb,CAAT;EAAzC,WAAmE,KAAIzH,IAAEsB,IAAEiB,EAAE8F,OAAJ,GAAY9F,CAAlB,EAAoB,IAAEvC,EAAEyH,UAAF,CAAa3G,MAAnC;EAA2ChG,cAAEuE,IAAF,CAAOqC,CAAP,EAAS1B,EAAEyH,UAAF,CAAa,CAAb,CAAT;EAA3C;EAAqE,SAD4K,EAAJ;EACrK,KADoJ,CAApE,CAC9ErH,EAAE1E,QAAQ5B,SAAV,EAAoB,cAApB,EAAmC,UAASiG,CAAT,EAAWC,CAAX,EAAa;EAAC,UAAG,MAAI,KAAKgD,UAAZ,EAAuB,OAAOjH,EAAEsD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,CAAP,CAAwB,IAAIsB,IAAEzF,EAAEwD,IAAF,CAAO,IAAP,EAAYU,CAAZ,CAAN,CAAqBhE,EAAEsD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,EAAiBA,IAAEnE,EAAEwD,IAAF,CAAO,IAAP,EAAYU,CAAZ,CAAF,CAAiB/B,EAAE6E,wBAAF,CAA2B,IAA3B,EAAgC9C,CAAhC,EAAkCuB,CAAlC,EAAoCtB,CAApC,EAAsC,IAAtC;EAA4C,KAAnM,EAAqMI,EAAE1E,QAAQ5B,SAAV,EAAoB,gBAApB,EAAqC,UAASiG,CAAT,EAAWC,CAAX,EAAasB,CAAb,EAAe;EAAC,UAAG,MAAI,KAAK0B,UAAZ,EAAuB,OAAO3G,EAAEgD,IAAF,CAAO,IAAP,EAC7gBU,CAD6gB,EAC3gBC,CAD2gB,EACzgBsB,CADygB,CAAP,CAC/f,IAAII,IAAEvF,EAAEkD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,CAAN,CAAuB3D,EAAEgD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,EAAgBsB,CAAhB,EAAmBA,IAAEnF,EAAEkD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,CAAF,CAAmBhC,EAAE6E,wBAAF,CAA2B,IAA3B,EAAgC7C,CAAhC,EAAkC0B,CAAlC,EAAoCJ,CAApC,EAAsCvB,CAAtC;EAAyC,KAD6U,EAC3UK,EAAE1E,QAAQ5B,SAAV,EAAoB,iBAApB,EAAsC,UAASiG,CAAT,EAAW;EAAC,UAAG,MAAI,KAAKiD,UAAZ,EAAuB,OAAO/G,EAAEoD,IAAF,CAAO,IAAP,EAAYU,CAAZ,CAAP,CAAsB,IAAIC,IAAEnE,EAAEwD,IAAF,CAAO,IAAP,EAAYU,CAAZ,CAAN,CAAqB9D,EAAEoD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAe,SAAOC,CAAP,IAAUhC,EAAE6E,wBAAF,CAA2B,IAA3B,EAAgC9C,CAAhC,EAAkCC,CAAlC,EAAoC,IAApC,EAAyC,IAAzC,CAAV;EAAyD,KAA5L,EAA8LI,EAAE1E,QAAQ5B,SAAV,EAAoB,mBAApB,EAAwC,UAASiG,CAAT,EAAWC,CAAX,EAAa;EAAC,UAAG,MAAI,KAAKgD,UAAZ,EAAuB,OAAOzG,EAAE8C,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,CAAP,CAAwB,IAAIsB,IAAEnF,EAAEkD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,CAAN,CAAuBzD,EAAE8C,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,EAAiB,IAAI0B,IAAEvF,EAAEkD,IAAF,CAAO,IAAP,EAAYU,CAAZ,EAAcC,CAAd,CAAN,CAAuBsB,MAAII,CAAJ,IAAO1D,EAAE6E,wBAAF,CAA2B,IAA3B,EACxd7C,CADwd,EACtdsB,CADsd,EACpdI,CADod,EACld3B,CADkd,CAAP;EACxc,KADoS,EAClSrC,KAAGmC,EAAErC,YAAY1D,SAAd,EAAwB4D,EAAxB,CAAH,GAA+BjB,KAAGoD,EAAEnE,QAAQ5B,SAAV,EAAoB2C,CAApB,CAAlC,CAAyDkB,KAAGmC,EAAEtC,YAAY1D,SAAd,EAAwB6D,EAAxB,CAAH,GAA+BhB,MAAImD,EAAEpE,QAAQ5B,SAAV,EAAoB6C,EAApB,CAAnC,CAA2DwK,EAAEnJ,CAAF,EAAItC,QAAQ5B,SAAZ,EAAsB,EAACO,SAAQwC,EAAT,EAAYtC,QAAOuC,EAAnB,EAAtB,EAA8CgL,GAAG9J,CAAH;EAAM,GAAC,IAAI4F,IAAEhK,OAAO0O,cAAb,CAA4B,SAASC,EAAT,GAAa;EAAC,QAAIvK,IAAE,IAAI2F,CAAJ,EAAN,CAAYoD,GAAG/I,CAAH,EAAMsJ,GAAGtJ,CAAH,EAAMmJ,EAAEnJ,CAAF,EAAIvD,iBAAiBX,SAArB,EAA+B,EAACO,SAAQG,EAAT,EAAYD,QAAOG,EAAnB,EAA/B,EAAuD6M,GAAGvJ,CAAH,EAAM+J,GAAG/J,CAAH,EAAMA,IAAE,IAAIoD,CAAJ,CAAMpD,CAAN,CAAF,CAAWO,SAASqG,aAAT,GAAuB5G,CAAvB,CAAyBzC,OAAOiL,cAAP,CAAsB5M,MAAtB,EAA6B,gBAA7B,EAA8C,EAAC6M,cAAa,CAAC,CAAf,EAAiBC,YAAW,CAAC,CAA7B,EAA+BQ,OAAMlJ,CAArC,EAA9C;EAAuF,QAAG,CAAC4F,EAAE4E,aAAN,IAAqB,cAAY,OAAO5E,EAAE1B,MAA1C,IAAkD,cAAY,OAAO0B,EAAEX,GAAvE,IAA4EsF,IAA5E,CAAiF3O,OAAO6O,oBAAP,GAA4BF,EAA5B;EAC1gB,CA5CD,EA4CGlJ,IA5CH,CA4CQqJ,IA5CR;;ECAA;;;;;;;;;;EAUA;;;;;;EAMA,CAAC,YAAW;EACV;EACE;EACF;EACE9O,SAAO+O,OAAP,KAAmBC,SAAnB,IACAhP,OAAO0O,cAAP,KAA0BM,SAD1B;EAEA;EACA;EACAhP,SAAO0O,cAAP,CAAsBhF,yBAPxB,EAQE;EACA;EACD;EACD,MAAMuF,qBAAqBrL,WAA3B;EACA;;;;;;EAMA,MAAMsL,oBAAoB;EACxB,yCAAsC,SAAStL,WAAT,GAAuB;EAC3D,aAAOmL,QAAQI,SAAR,CACLF,kBADK,EACe,EADf,0BAC6C,KAAK7B,WADlD,CAAP;EAED;EAJuB,GAA1B;EAMApN,SAAO4D,WAAP,GAAqBsL,kBAAkB,aAAlB,CAArB;EACAtL,cAAY1D,SAAZ,GAAwB+O,mBAAmB/O,SAA3C;EACA0D,cAAY1D,SAAZ,CAAsBkN,WAAtB,GAAoCxJ,WAApC;EACAjC,SAAO+J,cAAP,CAAsB9H,WAAtB,EAAmCqL,kBAAnC;EACD,CA7BD;;;;;;;;;;;;EChBA;;;;MAIMG;EACJ,kBAAaC,OAAb,EAAsB;EAAA;;EACpB,SAAKA,OAAL,GAAe1N,OAAO2N,MAAP,CAAc,EAAd,EAAkBD,WAAW,EAA7B,EAAiC;EAC9CE,gBAAU;EADoC,KAAjC,CAAf;;EAIA,SAAKC,SAAL,GAAiB,EAAjB;EACD;;;;8BAEoB;EAAA,wCAAXA,SAAW;EAAXA,iBAAW;EAAA;;EACnB,WAAKA,SAAL,GAAiBA,SAAjB;EACD;;;+BAES;EACR,WAAK,IAAI5H,IAAI,CAAR,EAAW6H,MAAM,KAAKD,SAAL,CAAetI,MAArC,EAA6CU,IAAI6H,GAAjD,EAAsD7H,GAAtD,EAA2D;EACzD,YAAM8H,WAAW,KAAKF,SAAL,CAAe5H,CAAf,CAAjB;EACA8H;EACD;EACF;;;kCAEYH,UAAU;EACrB,WAAKF,OAAL,CAAaE,QAAb,GAAwBA,QAAxB;EACA,aAAO,IAAP;EACD;;;;;;EAGH;;;;;MAGMI;;;EACJ,qBAAaC,KAAb,EAAoB;EAAA;;EAAA,sHACZA,KADY;;EAElB,UAAKC,IAAL,GAAY,IAAZ;EACA,UAAKC,OAAL,GAAe,IAAf;EACA,UAAKC,WAAL,GAAmB,IAAnB;;EAEA,UAAKC,SAAL,GAAiBL,UAAUM,WAAV,EAAjB;EACA,UAAKC,IAAL,GAAY,MAAKA,IAAL,CAAUrL,IAAV,OAAZ;EAPkB;EAQnB;;;;8BAEoB;EAAA;;EAAA,yCAAX2K,SAAW;EAAXA,iBAAW;EAAA;;EACnB,iJAAeA,SAAf;EACA,WAAKU,IAAL;EACD;;;6BAEO;EACN,WAAKC,QAAL;EACA,WAAKC,MAAL;EACD;;;iCAEW;EAAA,UACFJ,SADE,GACY,IADZ,CACFA,SADE;;EAEV,WAAKF,OAAL,GAAeE,UAAU,KAAKE,IAAf,CAAf;EACD;;;6BAEO;EACN,UAAI,KAAKJ,OAAT,EAAkB;EAChB,YAAMO,aAAaV,UAAUW,aAAV,EAAnB;;EAEAD,mBAAW,KAAKP,OAAhB;EACD;EACF;;;+BAES;EACR,WAAKK,QAAL;EACD;;;oCAEqB;EACpB,aAAOnQ,OAAOuQ,qBAAP,IAAgCvQ,OAAOwQ,2BAA9C;EACD;;;sCAEuB;EACtB,aAAOxQ,OAAOyQ,oBAAP,IAA+BzQ,OAAO0Q,0BAA7C;EACD;;;oCAEqB;EACpB,aAAOf,UAAUM,WAAV,OAA4BjB,SAAnC;EACD;;;;IAhDqBI;;EAmDxB;;;;;MAGMuB;;;EACJ,yBAAaC,MAAb,EAAqB;EAAA;;EAAA,+HACbA,MADa;;EAEnB,WAAKC,SAAL,GAAiB,IAAjB;EAFmB;EAGpB;;;;8BAEoB;EAAA;EAAA;;EAAA,yCAAXrB,SAAW;EAAXA,iBAAW;EAAA;;EACnB,4JAAkBA,SAAlB;EACA,WAAKqB,SAAL,GAAiB7Q,OAAO8Q,WAAP,CAAmB,YAAM;EACxC,eAAKV,MAAL;EACD,OAFgB,EAEd,KAAKf,OAAL,CAAaE,QAAb,IAAyB,EAFX,CAAjB;EAGD;;;6BAEO;EACN,UAAI,KAAKsB,SAAT,EAAoB;EAClB7Q,eAAO+Q,aAAP,CAAqB,KAAKF,SAA1B;EACD;EACF;;;;IAjByBzB;;EAoB5B;;;;;;AAIA,EAAO,IAAM4B,YAAY,SAAZA,SAAY,GAAM;EAC7B,MAAIrB,UAAUsB,WAAV,EAAJ,EAA6B;EAC3B,WAAOtB,SAAP;EACD,GAFD,MAEO;EACL,WAAOgB,aAAP;EACD;EACF,CANM;;EC/GP,IAAI,MAAM,GAAG,OAAO,MAAM,KAAK,WAAW,GAAG,UAAU,GAAG,MAAM,EAAE;EAClE,IAAI,WAAW,GAAG,wBAAwB;EAC1C,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,iBAAiB,IAAI,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,aAAa;EACjH,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,SAAS;EACxC,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;;EAE3B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA,EAAe,SAAS,UAAU,EAAE,QAAQ,EAAE,EAAE,EAAE;EAClD,IAAI,OAAO,SAAS,UAAU,EAAE,aAAa,EAAE;EAC/C,QAAQ,IAAI,CAAC,GAAG,IAAI,CAAC;;EAErB,QAAQ,IAAI,CAAC,EAAE,EAAE;EACjB,YAAY,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;EACxC,SAAS;EACT,aAAa,IAAI,MAAM,IAAI,CAAC,aAAa,EAAE;EAC3C;EACA,YAAY,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5E,gBAAgB,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;;EAEpD,YAAY,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;EAC9C,YAAY,GAAG,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;EACxC,YAAY,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC;EAChC,SAAS;EACT,aAAa;EACb,YAAY,IAAI,QAAQ,GAAG;EAC3B,oBAAoB,WAAW,EAAE,CAAC,IAAI;EACtC,wBAAwB,IAAI,CAAC,CAAC,SAAS,EAAE;EACzC,4BAA4B,UAAU,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;EACzF,yBAAyB;EACzB,qBAAqB;EACrB,iBAAiB,CAAC;;EAElB,YAAY,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EAC9B,YAAY,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI;EACpC,gBAAgB,UAAU,CAAC,MAAM,QAAQ,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC7E,aAAa,CAAC;EACd,YAAY,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;EACrC,SAAS;EACT,KAAK,CAAC;EACN,CAAC,AACD;EACA;EACA,IAAI,MAAM,EAAE;EACZ,IAAI,IAAI,UAAU;EAClB,QAAQ,MAAM,GAAG,kBAAkB,CAAC,iCAAiC,CAAC;EACtE,QAAQ,SAAS,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;;EAEtC,IAAI,IAAI;EACR;EACA,QAAQ,IAAI,iCAAiC,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;EACzE,YAAY,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;EAC7C,SAAS;EACT,QAAQ,UAAU,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;;EAExC;EACA,QAAQ,UAAU,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;EAC9D,KAAK;EACL,IAAI,OAAO,CAAC,EAAE;EACd,QAAQ,MAAM,GAAG,IAAI,CAAC;EACtB,KAAK;EACL,YAAY;EACZ,QAAQ,GAAG,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;EACpC,QAAQ,IAAI,UAAU,EAAE;EACxB,YAAY,UAAU,CAAC,SAAS,EAAE,CAAC;EACnC,SAAS;EACT,KAAK;EACL,CAAC;;EAED,SAAS,kBAAkB,CAAC,GAAG,EAAE;EACjC,IAAI,IAAI;EACR,QAAQ,OAAO,GAAG,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC;EAC3E,KAAK;EACL,IAAI,OAAO,CAAC,EAAE;EACd,QAAQ,IAAI,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;EACrC,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACzB,QAAQ,OAAO,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;EACvD,KAAK;EACL,CAAC;;ACnFD,oBAAe,IAAIO,UAAJ,CAAe,aAAf,EAA8B,UAAUlR,MAAV,EAAkB2E,QAAlB,EAA4B;EACzE,MAAImK,OAAO,IAAX;EACA,MAAMqC,2BAA2B,OAAO,IAAxC;EACA,MAAIC,UAAU,SAAVA,OAAU,CAAUtC,IAAV,EAAgB;EAC5B,SAAKuC,MAAL,GAAc,KAAd;EACA,SAAKvC,IAAL,GAAYA,IAAZ;EACA,SAAKwC,IAAL,GAAY,KAAKxC,IAAL,CAAUwC,IAAtB;EACA,SAAKC,QAAL,GAAgB,EAAhB;EACAzC,SAAK0C,4BAAL,GAAoC,KAAKC,wBAAL,CAA8B5M,IAA9B,CAAmC,IAAnC,CAApC;EACAiK,SAAK4C,4BAAL,GAAoC,KAAKC,wBAAL,CAA8B9M,IAA9B,CAAmC,IAAnC,CAApC;EACD,GAPD;;EASAuM,UAAQlR,SAAR,CAAkB0R,SAAlB,GAA8B,UAAUC,GAAV,EAAe3K,MAAf,EAAuB;EACnD,WAAO,KAAK4H,IAAL,CAAUgD,MAAV,CAAiBC,QAAjB,CAA0BF,GAA1B,EAA+BA,MAAM3K,MAArC,CAAP;EACD,GAFD;;EAIAkK,UAAQlR,SAAR,CAAkB8R,IAAlB,GAAyB,YAAY;EACnCC,WAAOC,aAAP;EACA,SAAKC,YAAL,GAAoB,KAAKP,SAAL,CAAeK,OAAOG,qBAAP,CAA6BjB,wBAA7B,CAAf,EAAuEA,wBAAvE,CAApB;EACD,GAHD;;EAKAC,UAAQlR,SAAR,CAAkByR,wBAAlB,GAA6C,UAAUU,MAAV,EAAkBC,KAAlB,EAAyBC,MAAzB,EAAiCC,SAAjC,EAA4CC,UAA5C,EAAwDC,MAAxD,EAAgE;EAC3G,QAAIC,OAAOhR,OAAO2N,MAAP,CAAc,EAAd,EAAkB,KAAKiC,QAAL,CAAcmB,MAAd,CAAlB,CAAX;EACA,QAAIE,YAAYL,MAAhB;EACA,QAAIM,aAAaN,SAAS,CAA1B;EACA,QAAI,KAAKjB,IAAL,CAAUwB,YAAV,KAA2B,GAA3B,IAAkC,KAAKxB,IAAL,CAAUwB,YAAV,KAA2B,GAAjE,EAAsE;EACpED,mBAAaN,MAAb;EACD;EACD,QAAIQ,OAAO,KAAKnB,SAAL,CAAeS,MAAf,EAAwBG,YAAYI,SAAb,GAA0B,KAAKH,aAAaI,UAAlB,CAAjD,CAAX;EACA,SAAKtB,QAAL,CAAcmB,MAAd,IAAwB,IAAxB;EACA,QAAIM,WAAW,IAAIC,UAAJ,CAAeF,KAAK7L,MAApB,CAAf;EACA8L,aAAS5K,GAAT,CAAa2K,IAAb;EACA,QAAIG,SAASF,SAASE,MAAtB;EACA,SAAKpE,IAAL,CAAUqE,WAAV,CAAsB;EACpBC,WAAK,SADe;EAEpBd,kBAFoB;EAGpBC,oBAHoB;EAIpBC,0BAJoB;EAKpBC,4BALoB;EAMpBE,gBANoB;EAOpBO;EAPoB,KAAtB,EAQG,CAACA,MAAD,CARH;EASD,GArBD;;EAuBA9B,UAAQlR,SAAR,CAAkBuR,wBAAlB,GAA6C,YAAY;EACvD,SAAKJ,MAAL,GAAc,IAAd;EACA,SAAKvC,IAAL,CAAUqE,WAAV,CAAsB,EAACC,KAAK,eAAN,EAAtB;EACD,GAHD;;EAKAhC,UAAQlR,SAAR,CAAkBmT,MAAlB,GAA2B,UAAUN,IAAV,EAAgBJ,IAAhB,EAAsB;EAC/C,QAAIW,OAAOC,SAAS,IAAIC,IAAJ,GAAWC,OAAX,EAAT,CAAX;EACA,QAAIf,SAASY,OAAQI,KAAKC,KAAL,CAAWL,OAAO,IAAlB,IAA0B,IAA/C;EACA,SAAK/B,QAAL,CAAcmB,MAAd,IAAwBC,IAAxB;EACA,SAAKR,YAAL,CAAkB/J,GAAlB,CAAsB2K,IAAtB;EACAd,WAAO2B,mBAAP,CAA2Bb,KAAK7L,MAAhC,EAAwCwL,MAAxC;EACD,GAND;;EAQAtB,UAAQlR,SAAR,CAAkB2T,OAAlB,GAA4B,YAAY;EACtC5B,WAAO6B,aAAP;EACD,GAFD;;EAIA,MAAIC,OAAJ;;EAEA,WAASC,SAAT,GAAsB;EACpBD,cAAU,IAAI3C,OAAJ,CAAY,IAAZ,CAAV;EACA2C,YAAQ/B,IAAR;EACD;;EAED,WAASA,IAAT,CAAeV,IAAf,EAAqB;EACnBxC,SAAKmF,aAAL,CAAmB,yEAAnB;EACAC,iBAAaF,UAAUnP,IAAV,CAAeiK,IAAf,CAAb;EACD;;EAEDA,OAAK5D,gBAAL,CAAsB,SAAtB,EAAiC,UAAU9E,CAAV,EAAa;EAC5C,QAAI2M,OAAO3M,EAAE2M,IAAb;EACA,QAAI,CAACA,KAAKK,GAAV,EAAe;EACbtE,WAAKqE,WAAL,CAAiB;EACfC,aAAK;EADU,OAAjB;EAGD,KAJD,MAIO;EACL,cAAQL,KAAKK,GAAb;EACE,aAAK,MAAL;EACEnG,kBAAQkH,GAAR,CAAYpB,IAAZ;EACAjE,eAAKwC,IAAL,GAAYyB,KAAKzB,IAAjB;EACAU;EACA;EACF,aAAK,QAAL;EACE+B,kBAAQV,MAAR,CAAeN,KAAKA,IAApB,EAA0BA,KAAKJ,IAA/B;EACA;EACF,aAAK,SAAL;EACEoB,kBAAQF,OAAR;EACA;AACF,EAZF;EAeD;EACF,GAvBD,EAuBG,KAvBH;EA0BC,CAnGc,CAAf;;ECDA,IAAIO,iBAAe,YAAY;EAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkC1E,KAAlC,EAAyC;EAAE,SAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIgI,MAAM1I,MAA1B,EAAkCU,GAAlC,EAAuC;EAAE,UAAI2M,aAAa3E,MAAMhI,CAAN,CAAjB,CAA2B2M,WAAWzH,UAAX,GAAwByH,WAAWzH,UAAX,IAAyB,KAAjD,CAAwDyH,WAAW1H,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAW0H,UAAf,EAA2BA,WAAWlH,QAAX,GAAsB,IAAtB,CAA4B1L,OAAOiL,cAAP,CAAsB0H,MAAtB,EAA8BC,WAAWC,GAAzC,EAA8CD,UAA9C;EAA4D;EAAE,GAAC,OAAO,UAAUE,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;EAAE,QAAID,UAAJ,EAAgBL,iBAAiBI,YAAYvU,SAA7B,EAAwCwU,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;EAAqB,GAAhN;EAAmN,CAA9hB,EAAnB;;EAEA,SAASG,iBAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;EAAE,MAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;EAAE,UAAM,IAAIvM,SAAJ,CAAc,mCAAd,CAAN;EAA2D;EAAE;;EAEzJ,IAAI4M,SAAS,YAAY;EACvB,WAASA,MAAT,CAAgB5B,MAAhB,EAAwB;EACtB0B,sBAAgB,IAAhB,EAAsBE,MAAtB;;EAEA,QAAI5B,kBAAkB6B,WAAtB,EAAmC;EACjC,WAAK7B,MAAL,GAAcA,MAAd;EACA,WAAK8B,QAAL,GAAgB,IAAIC,QAAJ,CAAa/B,MAAb,CAAhB;EACA,WAAK8B,QAAL,CAAcE,QAAd,GAAyB,CAAzB;EACD,KAJD,MAIO;EACL,YAAM,IAAI3N,KAAJ,CAAU,iBAAV,CAAN;EACD;EACF;;EAED6M,iBAAaU,MAAb,EAAqB,CAAC;EACpBN,SAAK,MADe;EAEpBlH,WAAO,SAAS6H,IAAT,CAAcC,KAAd,EAAqB;EAC1B,WAAKF,QAAL,IAAiBE,KAAjB;EACD;EAJmB,GAAD,EAKlB;EACDZ,SAAK,MADJ;EAEDlH,WAAO,SAAS+H,IAAT,CAAcD,KAAd,EAAqB;EAC1B,UAAIE,OAAO5B,KAAKC,KAAL,CAAWyB,QAAQ,CAAnB,CAAX;EACA,UAAIG,OAAOH,QAAQ,CAAnB;EACA,WAAK,IAAIxN,IAAI,CAAb,EAAgBA,IAAI0N,IAApB,EAA0B1N,GAA1B,EAA+B;EAC7BkN,eAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B;EACD;EACD,UAAIO,OAAO,CAAX,EAAc;EACZT,eAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+BO,IAA/B;EACD;EACF;;EAED;;;;;;;EAbC,GALkB,EAyBlB;EACDf,SAAK,WADJ;EAEDlH,WAAO,SAASmI,SAAT,GAAqB;EAC1B,aAAOX,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,CAAP;EACD;EAJA,GAzBkB,EA8BlB;EACDR,SAAK,YADJ;EAEDlH,WAAO,SAASoI,UAAT,GAAsB;EAC3B,aAAOZ,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,CAAP;EACD;EAJA,GA9BkB,EAmClB;EACDR,SAAK,YADJ;EAEDlH,WAAO,SAASqI,UAAT,GAAsB;EAC3B,aAAOb,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,CAAP;EACD;EAJA,GAnCkB,EAwClB;EACDR,SAAK,YADJ;EAEDlH,WAAO,SAASsI,UAAT,GAAsB;EAC3B,aAAOd,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,CAAP;EACD;EAJA,GAxCkB,EA6ClB;EACDR,SAAK,YADJ;EAEDlH,WAAO,SAASuI,UAAT,GAAsB;EAC3B,aAAOf,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,CAAP;EACD;EAJA,GA7CkB,EAkDlB;EACDR,SAAK,UADJ;EAEDlH,WAAO,SAASwI,QAAT,GAAoB;EACzB,aAAOhB,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,EAAkC,IAAlC,CAAP;EACD;EAJA,GAlDkB,EAuDlB;EACDR,SAAK,WADJ;EAEDlH,WAAO,SAASyI,SAAT,GAAqB;EAC1B,aAAOjB,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,EAAkC,IAAlC,CAAP;EACD;EAJA,GAvDkB,EA4DlB;EACDR,SAAK,WADJ;EAEDlH,WAAO,SAAS0I,SAAT,GAAqB;EAC1B,aAAOlB,OAAOU,QAAP,CAAgB,KAAKR,QAArB,EAA+B,CAA/B,EAAkC,IAAlC,CAAP;EACD;EAJA,GA5DkB,EAiElB;EACDR,SAAK,aADJ;EAEDlH,WAAO,SAAS2I,WAAT,CAAqB3I,KAArB,EAA4B;EACjC,aAAO,IAAI2F,UAAJ,CAAe,CAAC3F,UAAU,EAAV,GAAe,IAAhB,EAAsBA,UAAU,EAAV,GAAe,IAArC,EAA2CA,UAAU,CAAV,GAAc,IAAzD,EAA+DA,QAAQ,IAAvE,CAAf,CAAP;EACD;EAJA,GAjEkB,EAsElB;EACDkH,SAAK,QADJ;EAEDnL,SAAK,SAASA,GAAT,GAAe;EAClB,aAAO,KAAK6J,MAAL,CAAYgD,UAAnB;EACD;EAJA,GAtEkB,EA2ElB;EACD1B,SAAK,UADJ;EAEDpM,SAAK,SAASA,GAAT,CAAakF,KAAb,EAAoB;EACvB,WAAK0H,QAAL,CAAcE,QAAd,GAAyB5H,KAAzB;EACD,KAJA;EAKDjE,SAAK,SAASA,GAAT,GAAe;EAClB,aAAO,KAAK2L,QAAL,CAAcE,QAArB;EACD;EAPA,GA3EkB,CAArB,EAmFI,CAAC;EACHV,SAAK,UADF;EAEHlH,WAAO,SAASkI,QAAT,CAAkBtC,MAAlB,EAA0BiD,IAA1B,EAAgCC,IAAhC,EAAsC;EAC3C,UAAIC,MAAM,KAAK,CAAf;EACA,cAAQF,IAAR;EACE,aAAK,CAAL;EACE,cAAIC,IAAJ,EAAU;EACRC,kBAAMnD,OAAOoD,OAAP,CAAepD,OAAOgC,QAAtB,CAAN;EACD,WAFD,MAEO;EACLmB,kBAAMnD,OAAOqD,QAAP,CAAgBrD,OAAOgC,QAAvB,CAAN;EACD;EACD;EACF,aAAK,CAAL;EACE,cAAIkB,IAAJ,EAAU;EACRC,kBAAMnD,OAAOsD,QAAP,CAAgBtD,OAAOgC,QAAvB,CAAN;EACD,WAFD,MAEO;EACLmB,kBAAMnD,OAAOuD,SAAP,CAAiBvD,OAAOgC,QAAxB,CAAN;EACD;EACD;EACF,aAAK,CAAL;EACE,cAAIkB,IAAJ,EAAU;EACR,kBAAM,IAAI7O,KAAJ,CAAU,8BAAV,CAAN;EACD,WAFD,MAEO;EACL8O,kBAAMnD,OAAOqD,QAAP,CAAgBrD,OAAOgC,QAAvB,KAAoC,EAA1C;EACAmB,mBAAOnD,OAAOqD,QAAP,CAAgBrD,OAAOgC,QAAP,GAAkB,CAAlC,KAAwC,CAA/C;EACAmB,mBAAOnD,OAAOqD,QAAP,CAAgBrD,OAAOgC,QAAP,GAAkB,CAAlC,CAAP;EACD;EACD;EACF,aAAK,CAAL;EACE,cAAIkB,IAAJ,EAAU;EACRC,kBAAMnD,OAAOwD,QAAP,CAAgBxD,OAAOgC,QAAvB,CAAN;EACD,WAFD,MAEO;EACLmB,kBAAMnD,OAAOyD,SAAP,CAAiBzD,OAAOgC,QAAxB,CAAN;EACD;EACD;EACF,aAAK,CAAL;EACE,cAAIkB,IAAJ,EAAU;EACR,kBAAM,IAAI7O,KAAJ,CAAU,8BAAV,CAAN;EACD,WAFD,MAEO;EACL8O,kBAAMnD,OAAOyD,SAAP,CAAiBzD,OAAOgC,QAAxB,KAAqC,EAA3C;EACAmB,mBAAOnD,OAAOyD,SAAP,CAAiBzD,OAAOgC,QAAP,GAAkB,CAAnC,CAAP;EACD;EACD;EACF;EACEmB,gBAAM,EAAN;EAxCJ;EA0CAnD,aAAOgC,QAAP,IAAmBiB,IAAnB;EACA,aAAOE,GAAP;EACD;EAhDE,GAAD,CAnFJ;;EAsIA,SAAOvB,MAAP;EACD,CApJY,EAAb;;ECJA,IAAIV,iBAAe,YAAY;EAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkC1E,KAAlC,EAAyC;EAAE,SAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIgI,MAAM1I,MAA1B,EAAkCU,GAAlC,EAAuC;EAAE,UAAI2M,aAAa3E,MAAMhI,CAAN,CAAjB,CAA2B2M,WAAWzH,UAAX,GAAwByH,WAAWzH,UAAX,IAAyB,KAAjD,CAAwDyH,WAAW1H,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAW0H,UAAf,EAA2BA,WAAWlH,QAAX,GAAsB,IAAtB,CAA4B1L,OAAOiL,cAAP,CAAsB0H,MAAtB,EAA8BC,WAAWC,GAAzC,EAA8CD,UAA9C;EAA4D;EAAE,GAAC,OAAO,UAAUE,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;EAAE,QAAID,UAAJ,EAAgBL,iBAAiBI,YAAYvU,SAA7B,EAAwCwU,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;EAAqB,GAAhN;EAAmN,CAA9hB,EAAnB;;EAEA,SAASG,iBAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;EAAE,MAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;EAAE,UAAM,IAAIvM,SAAJ,CAAc,mCAAd,CAAN;EAA2D;EAAE;;EAEzJ,IAAI0O,SAAS,YAAY;EACvB,WAASA,MAAT,CAAgBC,UAAhB,EAA4B;EAC1BjC,sBAAgB,IAAhB,EAAsBgC,MAAtB;;EAEA,SAAKE,GAAL,GAAW,QAAX;EACA,SAAKC,OAAL,GAAeF,UAAf;EACA,SAAKG,YAAL,GAAoB,CAApB;EACA,SAAKC,WAAL,GAAmBJ,WAAWX,UAA9B;EACA,SAAKgB,UAAL,GAAkBL,WAAWX,UAAX,GAAwB,CAA1C;EACA,SAAKiB,YAAL,GAAoB,CAApB;EACA,SAAKC,oBAAL,GAA4B,CAA5B;EACD;;EAEDhD,iBAAawC,MAAb,EAAqB,CAAC;EACpBpC,SAAK,SADe;EAEpBlH,WAAO,SAASuG,OAAT,GAAmB;EACxB,WAAKkD,OAAL,GAAe,IAAf;EACD;EAJmB,GAAD,EAKlB;EACDvC,SAAK,kBADJ;EAEDlH,WAAO,SAAS+J,gBAAT,GAA4B;EACjC,UAAIC,kBAAkB,KAAKL,WAAL,GAAmB,KAAKD,YAA9C;AACA;EAIA,UAAIO,YAAY7D,KAAK8D,GAAL,CAAS,CAAT,EAAYF,eAAZ,CAAhB;EACA,UAAIG,OAAO,IAAIxE,UAAJ,CAAe,CAAf,CAAX;EACAwE,WAAKrP,GAAL,CAAS,KAAK2O,OAAL,CAAahF,QAAb,CAAsB,KAAKiF,YAA3B,EAAyC,KAAKA,YAAL,GAAoBO,SAA7D,CAAT;EACA,WAAKJ,YAAL,GAAoB,IAAIlC,QAAJ,CAAawC,KAAKvE,MAAlB,EAA0ByD,SAA1B,CAAoC,CAApC,CAApB;;EAEA,WAAKK,YAAL,IAAqBO,SAArB;EACA,WAAKH,oBAAL,GAA4BG,YAAY,CAAxC;EACD;EAfA,GALkB,EAqBlB;EACD/C,SAAK,UADJ;EAEDlH,WAAO,SAASoK,QAAT,CAAkBvB,IAAlB,EAAwB;EAC7B,UAAIwB,OAAOjE,KAAK8D,GAAL,CAAS,KAAKJ,oBAAd,EAAoCjB,IAApC,CAAX,CAD6B;EAE7B,UAAIyB,OAAO,KAAKT,YAAL,KAAsB,KAAKQ,IAAtC;EACA,UAAIxB,OAAO,EAAX,EAAe;EACb,cAAM,IAAI5O,KAAJ,CAAU,yCAAV,CAAN;EACD;EACD,WAAK6P,oBAAL,IAA6BO,IAA7B;EACA,UAAI,KAAKP,oBAAL,GAA4B,CAAhC,EAAmC;EACjC,aAAKD,YAAL,KAAsBQ,IAAtB;EACD,OAFD,MAEO,IAAI,KAAKV,WAAL,GAAmB,KAAKD,YAAxB,GAAuC,CAA3C,EAA8C;EACnD,aAAKK,gBAAL;EACD;;EAEDM,aAAOxB,OAAOwB,IAAd;EACA,UAAIA,OAAO,CAAP,IAAY,KAAKP,oBAArB,EAA2C;EACzC,eAAOQ,QAAQD,IAAR,GAAe,KAAKD,QAAL,CAAcC,IAAd,CAAtB;EACD,OAFD,MAEO;EACL,eAAOC,IAAP;EACD;EACF;EArBA,GArBkB,EA2ClB;EACDpD,SAAK,UADJ;EAEDlH,WAAO,SAASuK,QAAT,GAAoB;EACzB,aAAO,KAAKH,QAAL,CAAc,CAAd,MAAqB,CAA5B;EACD;EAJA,GA3CkB,EAgDlB;EACDlD,SAAK,UADJ;EAEDlH,WAAO,SAASkI,QAAT,GAAoB;EACzB,aAAO,KAAKkC,QAAL,CAAc,CAAd,CAAP;EACD;EAJA,GAhDkB,EAqDlB;EACDlD,SAAK,kBADJ;EAEDlH,WAAO,SAASwK,gBAAT,GAA4B;EACjC,UAAIC,YAAY,KAAK,CAArB;EACA,WAAKA,YAAY,CAAjB,EAAoBA,YAAY,KAAKX,oBAArC,EAA2DW,WAA3D,EAAwE;EACtE,YAAI,CAAC,KAAKZ,YAAL,GAAoB,eAAeY,SAApC,MAAmD,CAAvD,EAA0D;EACxD,eAAKZ,YAAL,KAAsBY,SAAtB;EACA,eAAKX,oBAAL,IAA6BW,SAA7B;EACA,iBAAOA,SAAP;EACD;EACF;EACD,WAAKV,gBAAL;EACA,aAAOU,YAAY,KAAKD,gBAAL,EAAnB;EACD;EAbA,GArDkB,EAmElB;EACDtD,SAAK,SADJ;EAEDlH,WAAO,SAAS0K,OAAT,GAAmB;EACxB;EACA,UAAIC,eAAe,KAAKH,gBAAL,EAAnB;EACA,aAAO,KAAKJ,QAAL,CAAcO,eAAe,CAA7B,IAAkC,CAAzC;EACD;EANA,GAnEkB,EA0ElB;EACDzD,SAAK,SADJ;EAEDlH,WAAO,SAAS4K,OAAT,GAAmB;EACxB;EACA,UAAI5K,QAAQ,KAAK0K,OAAL,EAAZ;EACA,UAAI1K,QAAQ,IAAZ,EAAkB;EAChB,eAAOA,QAAQ,CAAR,KAAc,CAArB;EACD,OAFD,MAEO;EACL,eAAO,CAAC,CAAD,IAAMA,UAAU,CAAhB,CAAP;EACD;EACF;EAVA,GA1EkB,CAArB;;EAuFA,SAAOsJ,MAAP;EACD,CArGY,EAAb;;ECJA,IAAIxC,iBAAe,YAAY;EAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkC1E,KAAlC,EAAyC;EAAE,SAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIgI,MAAM1I,MAA1B,EAAkCU,GAAlC,EAAuC;EAAE,UAAI2M,aAAa3E,MAAMhI,CAAN,CAAjB,CAA2B2M,WAAWzH,UAAX,GAAwByH,WAAWzH,UAAX,IAAyB,KAAjD,CAAwDyH,WAAW1H,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAW0H,UAAf,EAA2BA,WAAWlH,QAAX,GAAsB,IAAtB,CAA4B1L,OAAOiL,cAAP,CAAsB0H,MAAtB,EAA8BC,WAAWC,GAAzC,EAA8CD,UAA9C;EAA4D;EAAE,GAAC,OAAO,UAAUE,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;EAAE,QAAID,UAAJ,EAAgBL,iBAAiBI,YAAYvU,SAA7B,EAAwCwU,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;EAAqB,GAAhN;EAAmN,CAA9hB,EAAnB;;EAEA,SAASG,iBAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;EAAE,MAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;EAAE,UAAM,IAAIvM,SAAJ,CAAc,mCAAd,CAAN;EAA2D;EAAE;;EAIzJ,IAAIiQ,YAAY,YAAY;EAC1B,WAASA,SAAT,GAAqB;EACnBvD,sBAAgB,IAAhB,EAAsBuD,SAAtB;EACD;;EAED/D,iBAAa+D,SAAb,EAAwB,IAAxB,EAA8B,CAAC;EAC7B3D,SAAK,YADwB;EAE7BlH,WAAO,SAAS8K,UAAT,CAAoBvB,UAApB,EAAgC;EACrC,UAAIwB,MAAMxB,UAAV;EACA,UAAIyB,YAAYD,IAAInC,UAApB;EACA,UAAIqC,MAAM,IAAItF,UAAJ,CAAeqF,SAAf,CAAV;EACA,UAAIE,SAAS,CAAb;;EAEA,WAAK,IAAI5Q,IAAI,CAAb,EAAgBA,IAAI0Q,SAApB,EAA+B1Q,GAA/B,EAAoC;EAClC,YAAIA,KAAK,CAAT,EAAY;EACV,cAAIyQ,IAAIzQ,CAAJ,MAAW,IAAX,IAAmByQ,IAAIzQ,IAAI,CAAR,MAAe,IAAlC,IAA0CyQ,IAAIzQ,IAAI,CAAR,MAAe,IAA7D,EAAmE;EACjE;EACD;EACF;EACD2Q,YAAIC,MAAJ,IAAcH,IAAIzQ,CAAJ,CAAd;EACA4Q;EACD;;EAED,aAAO,IAAIvF,UAAJ,CAAesF,IAAIrF,MAAnB,EAA2B,CAA3B,EAA8BsF,MAA9B,CAAP;EACD;EAnB4B,GAAD,EAoB3B;EACDhE,SAAK,UADJ;EAEDlH,WAAO,SAASmL,QAAT,CAAkB5B,UAAlB,EAA8B;EACnC,UAAI6B,OAAOP,UAAUC,UAAV,CAAqBvB,UAArB,CAAX;EACA,UAAI8B,KAAK,IAAI/B,MAAJ,CAAW8B,IAAX,CAAT;;EAEAC,SAAGnD,QAAH;EACA,UAAIoD,aAAaD,GAAGnD,QAAH,EAAjB;EACAmD,SAAGnD,QAAH;EACA,UAAIqD,WAAWF,GAAGnD,QAAH,EAAf;EACAmD,SAAGX,OAAH;;EAEA,UAAIc,iBAAiBX,UAAUY,gBAAV,CAA2BH,UAA3B,CAArB;EACA,UAAII,eAAeb,UAAUc,cAAV,CAAyBJ,QAAzB,CAAnB;EACA,UAAIK,oBAAoB,CAAxB;EACA,UAAIC,gBAAgB,GAApB;EACA,UAAIC,sBAAsB,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,GAAd,CAA1B;EACA,UAAIC,YAAY,CAAhB;;EAEA,UAAIT,eAAe,GAAf,IAAsBA,eAAe,GAArC,IAA4CA,eAAe,GAA3D,IAAkEA,eAAe,GAAjF,IAAwFA,eAAe,EAAvG,IAA6GA,eAAe,EAA5H,IAAkIA,eAAe,EAAjJ,IAAuJA,eAAe,GAAtK,IAA6KA,eAAe,GAA5L,IAAmMA,eAAe,GAAlN,IAAyNA,eAAe,GAA5O,EAAiP;EAC/OM,4BAAoBP,GAAGX,OAAH,EAApB;EACA,YAAIkB,sBAAsB,CAA1B,EAA6B;EAC3BP,aAAGjB,QAAH,CAAY,CAAZ;EACD;EACD,YAAIwB,qBAAqB,CAAzB,EAA4B;EAC1BC,0BAAgBC,oBAAoBF,iBAApB,CAAhB;EACD;;EAEDG,oBAAYV,GAAGX,OAAH,KAAe,CAA3B;EACAW,WAAGX,OAAH;EACAW,WAAGjB,QAAH,CAAY,CAAZ;EACA,YAAIiB,GAAGd,QAAH,EAAJ,EAAmB;EACjB,cAAIyB,qBAAqBJ,sBAAsB,CAAtB,GAA0B,CAA1B,GAA8B,EAAvD;EACA,eAAK,IAAItR,IAAI,CAAb,EAAgBA,IAAI0R,kBAApB,EAAwC1R,GAAxC,EAA6C;EAC3C,gBAAI+Q,GAAGd,QAAH,EAAJ,EAAmB;EACjB,kBAAIjQ,IAAI,CAAR,EAAW;EACTuQ,0BAAUoB,gBAAV,CAA2BZ,EAA3B,EAA+B,EAA/B;EACD,eAFD,MAEO;EACLR,0BAAUoB,gBAAV,CAA2BZ,EAA3B,EAA+B,EAA/B;EACD;EACF;EACF;EACF;EACF;EACDA,SAAGX,OAAH;EACA,UAAIwB,qBAAqBb,GAAGX,OAAH,EAAzB;EACA,UAAIwB,uBAAuB,CAA3B,EAA8B;EAC5Bb,WAAGX,OAAH;EACD,OAFD,MAEO,IAAIwB,uBAAuB,CAA3B,EAA8B;EACnCb,WAAGjB,QAAH,CAAY,CAAZ;EACAiB,WAAGT,OAAH;EACAS,WAAGT,OAAH;EACA,YAAIuB,wCAAwCd,GAAGX,OAAH,EAA5C;EACA,aAAK,IAAI0B,KAAK,CAAd,EAAiBA,KAAKD,qCAAtB,EAA6DC,IAA7D,EAAmE;EACjEf,aAAGT,OAAH;EACD;EACF;EACDS,SAAGX,OAAH;EACAW,SAAGjB,QAAH,CAAY,CAAZ;;EAEA,UAAIiC,0BAA0BhB,GAAGX,OAAH,EAA9B;EACA,UAAI4B,iCAAiCjB,GAAGX,OAAH,EAArC;;EAEA,UAAI6B,sBAAsBlB,GAAGjB,QAAH,CAAY,CAAZ,CAA1B;EACA,UAAImC,wBAAwB,CAA5B,EAA+B;EAC7BlB,WAAGjB,QAAH,CAAY,CAAZ;EACD;EACDiB,SAAGjB,QAAH,CAAY,CAAZ;;EAEA,UAAIoC,yBAAyB,CAA7B;EACA,UAAIC,0BAA0B,CAA9B;EACA,UAAIC,wBAAwB,CAA5B;EACA,UAAIC,2BAA2B,CAA/B;;EAEA,UAAIC,sBAAsBvB,GAAGd,QAAH,EAA1B;EACA,UAAIqC,mBAAJ,EAAyB;EACvBJ,iCAAyBnB,GAAGX,OAAH,EAAzB;EACA+B,kCAA0BpB,GAAGX,OAAH,EAA1B;EACAgC,gCAAwBrB,GAAGX,OAAH,EAAxB;EACAiC,mCAA2BtB,GAAGX,OAAH,EAA3B;EACD;;EAED,UAAImC,YAAY,CAAhB;EAAA,UACIC,aAAa,CADjB;EAEA,UAAIC,MAAM,CAAV;EAAA,UACIC,YAAY,IADhB;EAAA,UAEIC,UAAU,CAFd;EAAA,UAGIC,UAAU,CAHd;;EAKA,UAAIC,8BAA8B9B,GAAGd,QAAH,EAAlC;EACA,UAAI4C,2BAAJ,EAAiC;EAC/B,YAAI9B,GAAGd,QAAH,EAAJ,EAAmB;EACjB;EACA,cAAI6C,mBAAmB/B,GAAGnD,QAAH,EAAvB;EACA,cAAImF,cAAc,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,GAAhD,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,CAA3D,CAAlB;EACA,cAAIC,cAAc,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,EAAoD,CAApD,EAAuD,CAAvD,EAA0D,CAA1D,CAAlB;;EAEA,cAAIF,mBAAmB,CAAnB,IAAwBA,mBAAmB,EAA/C,EAAmD;EACjDP,wBAAYQ,YAAYD,mBAAmB,CAA/B,CAAZ;EACAN,yBAAaQ,YAAYF,mBAAmB,CAA/B,CAAb;EACD,WAHD,MAGO,IAAIA,qBAAqB,GAAzB,EAA8B;EACnCP,wBAAYxB,GAAGnD,QAAH,MAAiB,CAAjB,GAAqBmD,GAAGnD,QAAH,EAAjC;EACA4E,yBAAazB,GAAGnD,QAAH,MAAiB,CAAjB,GAAqBmD,GAAGnD,QAAH,EAAlC;EACD;EACF;;EAED,YAAImD,GAAGd,QAAH,EAAJ,EAAmB;EACjBc,aAAGd,QAAH;EACD;EACD,YAAIc,GAAGd,QAAH,EAAJ,EAAmB;EACjBc,aAAGjB,QAAH,CAAY,CAAZ;EACA,cAAIiB,GAAGd,QAAH,EAAJ,EAAmB;EACjBc,eAAGjB,QAAH,CAAY,EAAZ;EACD;EACF;EACD,YAAIiB,GAAGd,QAAH,EAAJ,EAAmB;EACjBc,aAAGX,OAAH;EACAW,aAAGX,OAAH;EACD;EACD,YAAIW,GAAGd,QAAH,EAAJ,EAAmB;EACjB,cAAIgD,oBAAoBlC,GAAGjB,QAAH,CAAY,EAAZ,CAAxB;EACA,cAAIoD,aAAanC,GAAGjB,QAAH,CAAY,EAAZ,CAAjB;EACA4C,sBAAY3B,GAAGd,QAAH,EAAZ;;EAEA0C,oBAAUO,UAAV;EACAN,oBAAUK,oBAAoB,CAA9B;EACAR,gBAAME,UAAUC,OAAhB;EACD;EACF;;EAED,UAAIO,WAAW,CAAf;EACA,UAAIZ,cAAc,CAAd,IAAmBC,eAAe,CAAtC,EAAyC;EACvCW,mBAAWZ,YAAYC,UAAvB;EACD;;EAED,UAAIY,cAAc,CAAlB;EAAA,UACIC,cAAc,CADlB;EAEA,UAAI/B,sBAAsB,CAA1B,EAA6B;EAC3B8B,sBAAc,CAAd;EACAC,sBAAc,IAAIpB,mBAAlB;EACD,OAHD,MAGO;EACL,YAAIqB,SAAShC,sBAAsB,CAAtB,GAA0B,CAA1B,GAA8B,CAA3C;EACA,YAAIiC,SAASjC,sBAAsB,CAAtB,GAA0B,CAA1B,GAA8B,CAA3C;EACA8B,sBAAcE,MAAd;EACAD,sBAAcE,UAAU,IAAItB,mBAAd,CAAd;EACD;;EAED,UAAIuB,cAAc,CAACzB,0BAA0B,CAA3B,IAAgC,EAAlD;EACA,UAAI0B,eAAe,CAAC,IAAIxB,mBAAL,KAA6B,CAACD,iCAAiC,CAAlC,IAAuC,EAApE,CAAnB;;EAEAwB,qBAAe,CAACtB,yBAAyBC,uBAA1B,IAAqDiB,WAApE;EACAK,sBAAgB,CAACrB,wBAAwBC,wBAAzB,IAAqDgB,WAArE;;EAEA,UAAIK,gBAAgB5H,KAAK6H,IAAL,CAAUH,cAAcL,QAAxB,CAApB;;EAEApC,SAAG9E,OAAH;EACA8E,WAAK,IAAL;;EAEA,aAAO;EACLG,wBAAgBA,cADX;EAELE,sBAAcA,YAFT;EAGLK,mBAAWA,SAHN;EAILF,uBAAeA,aAJV;EAKLqC,8BAAsBrD,UAAUsD,qBAAV,CAAgCtC,aAAhC,CALjB;;EAOLuC,oBAAY;EACVC,iBAAOrB,SADG;EAEVD,eAAKA,GAFK;EAGVG,mBAASA,OAHC;EAIVD,mBAASA;EAJC,SAPP;;EAcLqB,mBAAW;EACTtJ,iBAAO6H,SADE;EAET5H,kBAAQ6H;EAFC,SAdN;;EAmBLyB,oBAAY;EACVvJ,iBAAO8I,WADG;EAEV7I,kBAAQ8I;EAFE,SAnBP;;EAwBLS,sBAAc;EACZxJ,iBAAOgJ,aADK;EAEZ/I,kBAAQ8I;EAFI;EAxBT,OAAP;EA6BD;EA3LA,GApB2B,EAgN3B;EACD7G,SAAK,kBADJ;EAEDlH,WAAO,SAASiM,gBAAT,CAA0BZ,EAA1B,EAA8BvD,KAA9B,EAAqC;EAC1C,UAAI2G,YAAY,CAAhB;EACA,UAAIC,YAAY,CAAhB;EACA,UAAIC,aAAa,CAAjB;EACA,WAAK,IAAIrU,IAAI,CAAb,EAAgBA,IAAIwN,KAApB,EAA2BxN,GAA3B,EAAgC;EAC9B,YAAIoU,cAAc,CAAlB,EAAqB;EACnBC,uBAAatD,GAAGT,OAAH,EAAb;EACA8D,sBAAY,CAACD,YAAYE,UAAZ,GAAyB,GAA1B,IAAiC,GAA7C;EACD;EACDF,oBAAYC,cAAc,CAAd,GAAkBD,SAAlB,GAA8BC,SAA1C;EACD;EACF;EAbA,GAhN2B,EA8N3B;EACDxH,SAAK,kBADJ;EAEDlH,WAAO,SAASyL,gBAAT,CAA0BH,UAA1B,EAAsC;EAC3C,cAAQA,UAAR;EACE,aAAK,EAAL;EACE,iBAAO,UAAP;EACF,aAAK,EAAL;EACE,iBAAO,MAAP;EACF,aAAK,EAAL;EACE,iBAAO,UAAP;EACF,aAAK,GAAL;EACE,iBAAO,MAAP;EACF,aAAK,GAAL;EACE,iBAAO,QAAP;EACF,aAAK,GAAL;EACE,iBAAO,SAAP;EACF,aAAK,GAAL;EACE,iBAAO,SAAP;EACF;EACE,iBAAO,SAAP;EAhBJ;EAkBD;EArBA,GA9N2B,EAoP3B;EACDpE,SAAK,gBADJ;EAEDlH,WAAO,SAAS2L,cAAT,CAAwBJ,QAAxB,EAAkC;EACvC,aAAO,CAACA,WAAW,EAAZ,EAAgBqD,OAAhB,CAAwB,CAAxB,CAAP;EACD;EAJA,GApP2B,EAyP3B;EACD1H,SAAK,uBADJ;EAEDlH,WAAO,SAASmO,qBAAT,CAA+BU,MAA/B,EAAuC;EAC5C,cAAQA,MAAR;EACE,aAAK,GAAL;EACE,iBAAO,OAAP;EACF,aAAK,GAAL;EACE,iBAAO,OAAP;EACF,aAAK,GAAL;EACE,iBAAO,OAAP;EACF;EACE,iBAAO,SAAP;EARJ;EAUD;EAbA,GAzP2B,EAuQ3B;EACD3H,SAAK,aADJ;EAEDlH,WAAO,SAAS8O,WAAT,CAAqBC,SAArB,EAAgC;EACrC,UAAI/K,OAAO,EAAX;EACA,UAAI+K,aAAaA,UAAUR,UAA3B,EAAuC;EACrCvK,aAAKgL,UAAL,GAAkBD,UAAUR,UAAV,CAAqBvJ,KAAvC;EACAhB,aAAKiL,WAAL,GAAmBF,UAAUR,UAAV,CAAqBtJ,MAAxC;EACAjB,aAAKkL,YAAL,GAAoBH,UAAUP,YAAV,CAAuBxJ,KAA3C;EACAhB,aAAKmL,aAAL,GAAqBJ,UAAUP,YAAV,CAAuBvJ,MAA5C;EACD;;EAEDjB,WAAKoL,OAAL,GAAeL,UAAUvD,cAAzB;EACAxH,WAAKqL,KAAL,GAAaN,UAAUrD,YAAvB;EACA1H,WAAKsL,QAAL,GAAgBP,UAAUhD,SAA1B;EACA/H,WAAKwB,YAAL,GAAoBuJ,UAAUlD,aAA9B;;EAEA7H,WAAKuL,QAAL,GAAgB;EACdvK,eAAO+J,UAAUT,SAAV,CAAoBtJ,KADb;EAEdC,gBAAQ8J,UAAUT,SAAV,CAAoBrJ;EAFd,OAAhB;;EAKAjB,WAAKwL,SAAL,GAAiBT,UAAUX,UAA3B;;EAEA,UAAIqB,SAASzL,KAAKwL,SAAL,CAAetC,OAA5B;EACA,UAAIwC,SAAS1L,KAAKwL,SAAL,CAAevC,OAA5B;EACAjJ,WAAK2L,iBAAL,GAAyBvJ,KAAKC,KAAL,CAAWrC,KAAK4L,SAAL,IAAkBH,SAASC,MAA3B,CAAX,CAAzB;EACA,aAAO1L,IAAP;EACD;EA3BA,GAvQ2B,CAA9B;;EAqSA,SAAO6G,SAAP;EACD,CA3Se,EAAhB;;ECNA,IAAI/D,iBAAe,YAAY;EAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkC1E,KAAlC,EAAyC;EAAE,SAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIgI,MAAM1I,MAA1B,EAAkCU,GAAlC,EAAuC;EAAE,UAAI2M,aAAa3E,MAAMhI,CAAN,CAAjB,CAA2B2M,WAAWzH,UAAX,GAAwByH,WAAWzH,UAAX,IAAyB,KAAjD,CAAwDyH,WAAW1H,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAW0H,UAAf,EAA2BA,WAAWlH,QAAX,GAAsB,IAAtB,CAA4B1L,OAAOiL,cAAP,CAAsB0H,MAAtB,EAA8BC,WAAWC,GAAzC,EAA8CD,UAA9C;EAA4D;EAAE,GAAC,OAAO,UAAUE,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;EAAE,QAAID,UAAJ,EAAgBL,iBAAiBI,YAAYvU,SAA7B,EAAwCwU,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;EAAqB,GAAhN;EAAmN,CAA9hB,EAAnB;;EAEA,SAASG,iBAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;EAAE,MAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;EAAE,UAAM,IAAIvM,SAAJ,CAAc,mCAAd,CAAN;EAA2D;EAAE;;EAEzJ,IAAIiV,OAAO,YAAY;EACrB,WAASA,IAAT,GAAgB;EACdvI,sBAAgB,IAAhB,EAAsBuI,IAAtB;EACD;;EAED/I,iBAAa+I,IAAb,EAAmB,IAAnB,EAAyB,CAAC;EACxB3I,SAAK,WADmB;;EAGxB;;;;;;EAMAlH,WAAO,SAAS8P,SAAT,CAAmBrK,IAAnB,EAAyB;EAC9B,aAAOA,KAAKsK,MAAL,CAAY,UAAUC,EAAV,EAAcC,GAAd,EAAmB;EACpC,YAAIA,MAAM,CAAV,EAAa;EACX,iBAAO,IAAP;EACD,SAFD,MAEO;EACL,iBAAO,EAAExK,KAAKwK,MAAM,CAAX,MAAkB,CAAlB,IAAuBxK,KAAKwK,MAAM,CAAX,MAAkB,CAAzC,IAA8CD,OAAO,CAAvD,CAAP;EACD;EACF,OANM,CAAP;EAOD;;EAED;;;;;EAnBwB,GAAD,EAwBtB;EACD9I,SAAK,WADJ;EAEDlH,WAAO,SAASkQ,SAAT,CAAmBzK,IAAnB,EAAyB;EAC9B,UAAI0K,WAAW1K,KAAKA,KAAKmD,UAAL,GAAkB,CAAvB,CAAf;EACA,UAAIuH,YAAYA,aAAa,GAA7B,EAAkC;EAChC,eAAO1K,KAAKvN,KAAL,CAAW,CAAX,EAAcuN,KAAKmD,UAAL,GAAkB,CAAhC,CAAP;EACD;;EAED,aAAOnD,IAAP;EACD;EATA,GAxBsB,CAAzB;;EAoCA,SAAOoK,IAAP;EACD,CA1CU,EAAX;;ECJA,IAAI/I,iBAAe,YAAY;EAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkC1E,KAAlC,EAAyC;EAAE,SAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIgI,MAAM1I,MAA1B,EAAkCU,GAAlC,EAAuC;EAAE,UAAI2M,aAAa3E,MAAMhI,CAAN,CAAjB,CAA2B2M,WAAWzH,UAAX,GAAwByH,WAAWzH,UAAX,IAAyB,KAAjD,CAAwDyH,WAAW1H,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAW0H,UAAf,EAA2BA,WAAWlH,QAAX,GAAsB,IAAtB,CAA4B1L,OAAOiL,cAAP,CAAsB0H,MAAtB,EAA8BC,WAAWC,GAAzC,EAA8CD,UAA9C;EAA4D;EAAE,GAAC,OAAO,UAAUE,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;EAAE,QAAID,UAAJ,EAAgBL,iBAAiBI,YAAYvU,SAA7B,EAAwCwU,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;EAAqB,GAAhN;EAAmN,CAA9hB,EAAnB;;EAEA,SAASG,iBAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;EAAE,MAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;EAAE,UAAM,IAAIvM,SAAJ,CAAc,mCAAd,CAAN;EAA2D;EAAE;;EAIzJ,IAAIwV,cAAc,SAASA,WAAT,CAAqB3K,IAArB,EAA2B;EAC3C,MAAI4K,SAAS,EAAb;EACA,OAAK,IAAI/V,IAAI,CAAb,EAAgBA,IAAImL,KAAKmD,UAAzB,EAAqCtO,GAArC,EAA0C;EACxC+V,cAAUpP,OAAOqP,YAAP,CAAoB7K,KAAKnL,CAAL,CAApB,CAAV;EACD;EACD,SAAO+V,MAAP;EACD,CAND;;EAQA,IAAIE,YAAY,YAAY;EAC1B,WAASA,SAAT,GAAqB;EACnBjJ,sBAAgB,IAAhB,EAAsBiJ,SAAtB;EACD;;EAEDzJ,iBAAayJ,SAAb,EAAwB,IAAxB,EAA8B,CAAC;EAC7BrJ,SAAK,cADwB;EAE7BlH,WAAO,SAASwQ,YAAT,CAAsB/K,IAAtB,EAA4B;EACjC,UAAIA,KAAK7L,MAAL,IAAe,CAAnB,EAAsB;EACpB,eAAOiW,KAAKK,SAAL,CAAeL,KAAKC,SAAL,CAAerK,KAAKvN,KAAL,CAAW,CAAX,CAAf,CAAf,CAAP;EACD;EACD,aAAO,IAAP;EACD;EACD;;;;;EAR6B,GAAD,EAa3B;EACDgP,SAAK,OADJ;EAEDlH,WAAO,SAASyQ,KAAT,CAAehL,IAAf,EAAqB;EAC1B,UAAIiL,OAAOH,UAAUC,YAAV,CAAuB/K,IAAvB,CAAX;;EAEA,UAAIkL,wBAAwBJ,UAAUK,iBAAV,CAA4BF,IAA5B,CAA5B;EAAA,UACIG,cAAcF,sBAAsBE,WADxC;EAAA,UAEI9L,SAAS4L,sBAAsB5L,MAFnC;;EAIA,UAAI5D,UAAUuP,KAAKxY,KAAL,CAAW6M,MAAX,CAAd;;EAEA,cAAQ8L,WAAR;EACE,aAAK,CAAL;EACE,iBAAON,UAAUO,sBAAV,CAAiC3P,OAAjC,CAAP;EACF;EACE,iBAAO,EAAP;EAJJ;EAMD;;EAED;;;;;;EAnBC,GAb2B,EAsC3B;EACD+F,SAAK,mBADJ;EAEDlH,WAAO,SAAS4Q,iBAAT,CAA2BnL,IAA3B,EAAiC;EACtC,UAAIsL,KAAK,IAAIpJ,QAAJ,CAAalC,KAAKG,MAAlB,CAAT;EACA,UAAIiL,cAAc,CAAlB;EACA,UAAI9L,SAAS,CAAb;EACA,aAAOgM,GAAG9H,QAAH,CAAYlE,MAAZ,MAAwB,GAA/B,EAAoC;EAClCA;EACA8L,uBAAe,GAAf;EACD;EACDA,qBAAeE,GAAG9H,QAAH,CAAYlE,QAAZ,CAAf;;EAEA,aAAO;EACL8L,qBAAaA,WADR;EAEL9L,gBAAQA;EAFH,OAAP;EAID;;EAED;;;;;;EAlBC,GAtC2B,EA8D3B;EACDmC,SAAK,kBADJ;EAEDlH,WAAO,SAASgR,gBAAT,CAA0BvL,IAA1B,EAAgC;EACrC,UAAIsL,KAAK,IAAIpJ,QAAJ,CAAalC,KAAKG,MAAlB,CAAT;;EAEA,UAAIqL,gBAAgB,CAApB;EACA,UAAIlM,SAAS,CAAb;EACA,aAAOgM,GAAG9H,QAAH,CAAYlE,MAAZ,MAAwB,GAA/B,EAAoC;EAClCA;EACAkM,yBAAiB,GAAjB;EACD;EACDA,uBAAiBF,GAAG9H,QAAH,CAAYlE,QAAZ,CAAjB;;EAEA,aAAO;EACLkM,uBAAeA,aADV;EAELlM,gBAAQA;EAFH,OAAP;EAID;;EAED;;;;EAIA;;EAvBC,GA9D2B,EAuF3B;EACDmC,SAAK,wBADJ;EAEDlH,WAAO,SAAS8Q,sBAAT,CAAgCrL,IAAhC,EAAsC;EAC3C,UAAIyL,wBAAwBX,UAAUS,gBAAV,CAA2BvL,IAA3B,CAA5B;EAAA,UACIwL,gBAAgBC,sBAAsBD,aAD1C;EAAA,UAEIlM,SAASmM,sBAAsBnM,MAFnC;;EAIA,UAAIkM,gBAAgB,EAApB,EAAwB;EACtB,eAAO;EACLE,gBAAM,EADD;EAELhQ,mBAAS;EAFJ,SAAP;EAID;EACD,UAAIiQ,UAAU3L,KAAKvN,KAAL,CAAW6M,MAAX,CAAd;;EAEA,UAAIoM,OAAOf,YAAYgB,QAAQlZ,KAAR,CAAc,CAAd,EAAiB,EAAjB,CAAZ,CAAX;EACA,UAAIiJ,UAAUiP,YAAYgB,QAAQlZ,KAAR,CAAc,EAAd,EAAkB+Y,aAAlB,CAAZ,CAAd;;EAEA,aAAO;EACLE,cAAMA,IADD;EAELhQ,iBAASA;EAFJ,OAAP;EAID;EAtBA,GAvF2B,CAA9B;;EAgHA,SAAOoP,SAAP;EACD,CAtHe,EAAhB;;ECdA,IAAIzJ,iBAAe,YAAY;EAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkC1E,KAAlC,EAAyC;EAAE,SAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIgI,MAAM1I,MAA1B,EAAkCU,GAAlC,EAAuC;EAAE,UAAI2M,aAAa3E,MAAMhI,CAAN,CAAjB,CAA2B2M,WAAWzH,UAAX,GAAwByH,WAAWzH,UAAX,IAAyB,KAAjD,CAAwDyH,WAAW1H,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAW0H,UAAf,EAA2BA,WAAWlH,QAAX,GAAsB,IAAtB,CAA4B1L,OAAOiL,cAAP,CAAsB0H,MAAtB,EAA8BC,WAAWC,GAAzC,EAA8CD,UAA9C;EAA4D;EAAE,GAAC,OAAO,UAAUE,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;EAAE,QAAID,UAAJ,EAAgBL,iBAAiBI,YAAYvU,SAA7B,EAAwCwU,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;EAAqB,GAAhN;EAAmN,CAA9hB,EAAnB;;EAEA,SAASG,iBAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;EAAE,MAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;EAAE,UAAM,IAAIvM,SAAJ,CAAc,mCAAd,CAAN;EAA2D;EAAE;;EAMzJ,IAAIyW,UAAU,YAAY;EACxB,WAASA,OAAT,GAAmB;EACjB/J,sBAAgB,IAAhB,EAAsB+J,OAAtB;EACD;;EAEDvK,iBAAauK,OAAb,EAAsB,IAAtB,EAA4B,CAAC;EAC3BnK,SAAK,aADsB;EAE3BlH,WAAO,SAASsR,WAAT,CAAqB1L,MAArB,EAA6B;EAClC,UAAIA,OAAOhM,MAAP,GAAgBgM,OAAOgC,QAAvB,GAAkC,CAAtC,EAAyC;EACvC,eAAO,EAAP;EACD;;EAED,UAAI2J,MAAM3L,OAAO8B,QAAjB;EACA,UAAIE,WAAWhC,OAAOgC,QAAtB;EACA,UAAI2J,IAAInI,QAAJ,CAAaxB,QAAb,MAA2B,CAA3B,IAAgC2J,IAAIrI,QAAJ,CAAatB,QAAb,MAA2B,CAA3B,IAAgC2J,IAAIvI,OAAJ,CAAYpB,WAAW,CAAvB,MAA8B,CAAlG,EAAqG;EACnG,eAAOyJ,QAAQG,aAAR,CAAsB5L,MAAtB,CAAP;EACD,OAFD,MAEO;EACL,eAAOyL,QAAQI,WAAR,CAAoB7L,MAApB,CAAP;EACD;EACF;EAd0B,GAAD,EAezB;EACDsB,SAAK,eADJ;EAEDlH,WAAO,SAASwR,aAAT,CAAuB5L,MAAvB,EAA+B;EACpC,UAAI8L,OAAO,EAAX;EACA,UAAI9J,WAAWyJ,QAAQM,uBAAR,CAAgC/L,MAAhC,CAAf;EACA,UAAIgM,QAAQhK,SAASiK,GAArB;EACA,UAAIC,MAAMF,KAAV;EACA,aAAOA,QAAQhM,OAAOhM,MAAP,GAAgB,CAA/B,EAAkC;EAChC,YAAImY,SAASnM,OAAOA,MAAP,CAAc1N,KAAd,CAAoB0Z,KAApB,EAA2BA,QAAQhK,SAASoK,YAA5C,CAAb;EACA,YAAIpK,SAASiK,GAAT,KAAiBjM,OAAOgC,QAA5B,EAAsC;EACpChC,iBAAOmC,IAAP,CAAYH,SAASoK,YAArB;EACD;EACDpK,mBAAWyJ,QAAQM,uBAAR,CAAgC/L,MAAhC,CAAX;EACAkM,cAAMlK,SAASiK,GAAf;EACA,YAAII,OAAO,IAAItM,UAAJ,CAAeC,OAAOA,MAAP,CAAc1N,KAAd,CAAoB0Z,QAAQG,OAAOnJ,UAAnC,EAA+CkJ,GAA/C,CAAf,CAAX;EACA,YAAII,OAAO,EAAEH,QAAQA,MAAV,EAAkBE,MAAMA,IAAxB,EAAX;EACAZ,gBAAQc,UAAR,CAAmBD,IAAnB;EACA,YAAIA,KAAKE,IAAL,IAAa,CAAb,IAAkBF,KAAKE,IAAL,KAAc,CAApC,EAAuC;EACrCV,eAAKlZ,IAAL,CAAU0Z,IAAV;EACD;EACDtM,eAAOmC,IAAP,CAAY+J,MAAMlM,OAAOgC,QAAzB;EACAgK,gBAAQE,GAAR;EACD;EACD,aAAOJ,IAAP;EACD;EAxBA,GAfyB,EAwCzB;EACDxK,SAAK,aADJ;EAEDlH,WAAO,SAASyR,WAAT,CAAqB7L,MAArB,EAA6B;EAClC;EACA;EACA;EACA,UAAI8L,OAAO,EAAX;EACA,aAAO9L,OAAOgC,QAAP,GAAkBhC,OAAOhM,MAAP,GAAgB,CAAzC,EAA4C;EAC1C,YAAIA,SAASgM,OAAO8B,QAAP,CAAgB0B,QAAhB,CAAyBxD,OAAO8B,QAAP,CAAgBE,QAAzC,CAAb;EACA,YAAIhC,OAAOhM,MAAP,GAAgBgM,OAAOgC,QAAvB,IAAmChO,MAAvC,EAA+C;EAC7C,cAAImY,SAASnM,OAAOA,MAAP,CAAc1N,KAAd,CAAoB0N,OAAOgC,QAA3B,EAAqChC,OAAOgC,QAAP,GAAkB,CAAvD,CAAb;EACAhC,iBAAOmC,IAAP,CAAY,CAAZ;EACA,cAAIkK,OAAO,IAAItM,UAAJ,CAAeC,OAAOA,MAAP,CAAc1N,KAAd,CAAoB0N,OAAOgC,QAA3B,EAAqChC,OAAOgC,QAAP,GAAkBhO,MAAvD,CAAf,CAAX;EACAgM,iBAAOmC,IAAP,CAAYnO,MAAZ;EACA,cAAIsY,OAAO,EAAEH,QAAQA,MAAV,EAAkBE,MAAMA,IAAxB,EAAX;EACAZ,kBAAQc,UAAR,CAAmBD,IAAnB;EACA,cAAIA,KAAKE,IAAL,IAAa,CAAb,IAAkBF,KAAKE,IAAL,KAAc,CAApC,EAAuC;EACrCV,iBAAKlZ,IAAL,CAAU0Z,IAAV;EACD;EACF,SAVD,MAUO;EACL;EACD;EACF;EACD,aAAOR,IAAP;EACD;EAxBA,GAxCyB,EAiEzB;EACDxK,SAAK,YADJ;EAEDlH,WAAO,SAASmS,UAAT,CAAoBD,IAApB,EAA0B;EAC/B,UAAIE,OAAOF,KAAKD,IAAL,CAAU,CAAV,IAAe,IAA1B;EACAC,WAAKE,IAAL,GAAYA,IAAZ;EACA,cAAQA,IAAR;EACE,aAAK,CAAL;EACE;EACAF,eAAKG,GAAL,GAAW,IAAX;EACA;EACF,aAAK,CAAL;EACE;EACAH,eAAKI,GAAL,GAAW,IAAX;EACA;EACF,aAAK,CAAL;EACE;EACAJ,eAAKK,GAAL,GAAWhC,UAAUE,KAAV,CAAgByB,KAAKD,IAArB,CAAX;EACA;EACF,aAAK,CAAL;EACE;EACAC,eAAKM,GAAL,GAAWC,UAAUtH,QAAV,CAAmB+G,KAAKD,IAAxB,CAAX;EACA;EACF,aAAK,CAAL;EACE;EACAC,eAAKQ,GAAL,GAAW,IAAX;EACA;AACF,EArBF;EA2BD;EAhCA,GAjEyB,EAkGzB;EACDxL,SAAK,yBADJ;EAEDlH,WAAO,SAAS2R,uBAAT,CAAiC/L,MAAjC,EAAyC;EAC9C;EACA,UAAIiM,MAAMjM,OAAOgC,QAAjB;EACA,UAAIoK,eAAe,CAAnB;EACA,aAAOA,iBAAiB,CAAjB,IAAsBA,iBAAiB,CAAvC,IAA4CH,MAAMjM,OAAOhM,MAAP,GAAgB,CAAzE,EAA4E;EAC1E,YAAIgM,OAAO8B,QAAP,CAAgBwB,QAAhB,CAAyB2I,GAAzB,MAAkC,CAAtC,EAAyC;EACvC,cAAIjM,OAAO8B,QAAP,CAAgBwB,QAAhB,CAAyB2I,MAAM,CAA/B,MAAsC,CAA1C,EAA6C;EAC3C;EACAG,2BAAe,CAAf;EACD,WAHD,MAGO,IAAIpM,OAAO8B,QAAP,CAAgBsB,OAAhB,CAAwB6I,MAAM,CAA9B,MAAqC,CAAzC,EAA4C;EACjDG,2BAAe,CAAf;EACD,WAFM,MAEA;EACLH;EACD;EACF,SATD,MASO;EACLA;EACD;EACF;;EAED,UAAIA,QAAQjM,OAAOhM,MAAP,GAAgB,CAA5B,EAA+B;EAC7B,YAAIgM,OAAO8B,QAAP,CAAgBwB,QAAhB,CAAyB2I,GAAzB,MAAkC,CAAtC,EAAyC;EACvC,cAAIjM,OAAO8B,QAAP,CAAgBwB,QAAhB,CAAyB2I,MAAM,CAA/B,MAAsC,CAA1C,EAA6C;EAC3C;EACAG,2BAAe,CAAf;EACD;EACF,SALD,MAKO;EACLH;EACA,cAAIjM,OAAO8B,QAAP,CAAgBwB,QAAhB,CAAyB2I,GAAzB,MAAkC,CAAlC,IAAuCjM,OAAO8B,QAAP,CAAgBsB,OAAhB,CAAwB6I,GAAxB,MAAiC,CAA5E,EAA+E;EAC7E;EACAG,2BAAe,CAAf;EACD,WAHD,MAGO;EACLH,kBAAMjM,OAAOhM,MAAb;EACD;EACF;EACF;EACD,aAAO,EAAEiY,KAAKA,GAAP,EAAYG,cAAcA,YAA1B,EAAP;EACD;EAtCA,GAlGyB,EAyIzB;EACD9K,SAAK,SADJ;EAEDlH,WAAO,SAAS2S,OAAT,CAAiBH,GAAjB,EAAsBE,GAAtB,EAA2B;EAChC,UAAIE,MAAM,IAAIjN,UAAJ,CAAe6M,IAAI5J,UAAJ,GAAiB8J,IAAI9J,UAArB,GAAkC,EAAjD,CAAV;EACAgK,UAAI,CAAJ,IAAS,IAAT;EACAA,UAAI,CAAJ,IAASJ,IAAI,CAAJ,CAAT;EACAI,UAAI,CAAJ,IAASJ,IAAI,CAAJ,CAAT;EACAI,UAAI,CAAJ,IAASJ,IAAI,CAAJ,CAAT;EACAI,UAAI,CAAJ,IAAS,GAAT;EACAA,UAAI,CAAJ,IAAS,GAAT;;EAEA,UAAI7N,SAAS,CAAb;;EAEA6N,UAAI9X,GAAJ,CAAQ,IAAI6K,UAAJ,CAAe,CAAC6M,IAAI5J,UAAJ,KAAmB,CAAnB,GAAuB,IAAxB,EAA8B4J,IAAI5J,UAAJ,GAAiB,IAA/C,CAAf,CAAR,EAA8E7D,MAA9E;EACAA,gBAAU,CAAV;EACA6N,UAAI9X,GAAJ,CAAQ0X,GAAR,EAAazN,MAAb;EACAA,gBAAUyN,IAAI5J,UAAd;;EAEAgK,UAAI7N,MAAJ,IAAc,CAAd;EACAA;;EAEA6N,UAAI9X,GAAJ,CAAQ,IAAI6K,UAAJ,CAAe,CAAC+M,IAAI9J,UAAJ,KAAmB,CAAnB,GAAuB,IAAxB,EAA8B8J,IAAI9J,UAAJ,GAAiB,IAA/C,CAAf,CAAR,EAA8E7D,MAA9E;EACAA,gBAAU,CAAV;EACA6N,UAAI9X,GAAJ,CAAQ4X,GAAR,EAAa3N,MAAb;EACA,aAAO6N,GAAP;EACD;EAzBA,GAzIyB,CAA5B;;EAqKA,SAAOvB,OAAP;EACD,CA3Ka,EAAd;;ECJO,IAAIwB,UAAUC,OAAd;;;;;;MCJDC;;;;;;;oCACkBC,IAAIjD,QAAQtK,MAAMT,OAAOC,QAAQ;EACrD,UAAIgO,aAAaD,GAAGE,aAAH,EAAjB;EACAF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BH,UAA9B;EACAD,SAAGK,aAAH,CAAiBL,GAAGI,UAApB,EAAgCJ,GAAGM,kBAAnC,EAAuDvD,MAAvD;EACAiD,SAAGK,aAAH,CAAiBL,GAAGI,UAApB,EAAgCJ,GAAGO,kBAAnC,EAAuDxD,MAAvD;EACAiD,SAAGK,aAAH,CAAiBL,GAAGI,UAApB,EAAgCJ,GAAGQ,cAAnC,EAAmDR,GAAGS,aAAtD;EACAT,SAAGK,aAAH,CAAiBL,GAAGI,UAApB,EAAgCJ,GAAGU,cAAnC,EAAmDV,GAAGS,aAAtD;EACA,UAAIhO,gBAAgBE,UAApB,EAAgC;EAC9BqN,WAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyC5O,KAAzC,EAAgDC,MAAhD,EAAwD,CAAxD,EAA2D+N,GAAGY,IAA9D,EAAoEZ,GAAGa,aAAvE,EAAsFpO,IAAtF;EACD,OAFD,MAEO,IAAIA,gBAAgBqO,gBAApB,EAAsC;EAC3Cd,WAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyCZ,GAAGY,IAA5C,EAAkDZ,GAAGa,aAArD,EAAoEpO,IAApE;EACD,OAFM,MAEA,IAAIA,gBAAgBsO,gBAApB,EAAsC;EAC3Cf,WAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyCZ,GAAGY,IAA5C,EAAkDZ,GAAGa,aAArD,EAAoEpO,IAApE;EACD,OAFM,MAEA,IAAIA,gBAAgBuO,SAApB,EAA+B;EACpChB,WAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyCZ,GAAGY,IAA5C,EAAkDZ,GAAGa,aAArD,EAAoEpO,IAApE;EACD;EACDuN,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B,IAA9B;EACA,aAAOH,UAAP;EACD;;;mCAEoBD,IAAIvN,MAAM;EAC7B,UAAIG,SAASoN,GAAGiB,YAAH,EAAb;EACAjB,SAAGkB,UAAH,CAAclB,GAAGmB,YAAjB,EAA+BvO,MAA/B;EACAoN,SAAGoB,UAAH,CAAcpB,GAAGmB,YAAjB,EAA+B1O,IAA/B,EAAqCuN,GAAGqB,WAAxC;EACA,aAAOzO,MAAP;EACD;;;mCAEoBoN,IAAIZ,MAAMkC,QAAQ;EACrC,UAAIC,SAASvB,GAAGwB,YAAH,CAAgBpC,IAAhB,CAAb;EACAY,SAAGyB,YAAH,CAAgBF,MAAhB,EAAwBD,MAAxB;;EAEAtB,SAAG0B,aAAH,CAAiBH,MAAjB;EACA,UAAI,CAACvB,GAAG2B,kBAAH,CAAsBJ,MAAtB,EAA8BvB,GAAG4B,cAAjC,CAAL,EAAuD;EACrD,cAAM,IAAI3a,KAAJ,CAAU+Y,GAAG6B,gBAAH,CAAoBN,MAApB,CAAV,CAAN;EACD;;EAED,aAAOA,MAAP;EACD;;;oCAEqBvB,IAAI8B,cAAcC,gBAAgB;EACtD,UAAIC,UAAUhC,GAAGiC,aAAH,EAAd;;EAEA,UAAIC,eAAenC,OAAOyB,YAAP,CAAoBxB,EAApB,EAAwBA,GAAGmC,aAA3B,EAA0CL,YAA1C,CAAnB;EACA,UAAIM,iBAAiBrC,OAAOyB,YAAP,CAAoBxB,EAApB,EAAwBA,GAAGqC,eAA3B,EAA4CN,cAA5C,CAArB;;EAEA/B,SAAGsC,YAAH,CAAgBN,OAAhB,EAAyBE,YAAzB;EACAlC,SAAGsC,YAAH,CAAgBN,OAAhB,EAAyBI,cAAzB;;EAEApC,SAAGuC,WAAH,CAAeP,OAAf;EACA,UAAI,CAAChC,GAAGwC,mBAAH,CAAuBR,OAAvB,EAAgChC,GAAGyC,WAAnC,CAAL,EAAsD;EACpD,cAAM,IAAIxb,KAAJ,CAAU+Y,GAAG0C,iBAAH,CAAqBV,OAArB,CAAV,CAAN;EACD;;EAED,UAAIW,UAAU,EAACX,SAASA,OAAV,EAAd;;EAEA,UAAIY,gBAAgB5C,GAAGwC,mBAAH,CAAuBR,OAAvB,EAAgChC,GAAG6C,iBAAnC,CAApB;EACA,WAAK,IAAIvb,IAAI,CAAb,EAAgBA,IAAIsb,aAApB,EAAmCtb,GAAnC,EAAwC;EACtC,YAAIwb,YAAY9C,GAAG+C,eAAH,CAAmBf,OAAnB,EAA4B1a,CAA5B,CAAhB;EACAqb,gBAAQG,UAAUE,IAAlB,IAA0BhD,GAAGiD,iBAAH,CAAqBjB,OAArB,EAA8Bc,UAAUE,IAAxC,CAA1B;EACD;EACD,UAAIE,cAAclD,GAAGwC,mBAAH,CAAuBR,OAAvB,EAAgChC,GAAGmD,eAAnC,CAAlB;EACA,WAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAMF,WAAxB,EAAqCE,KAArC,EAA4C;EAC1C,YAAIC,UAAUrD,GAAGsD,gBAAH,CAAoBtB,OAApB,EAA6BoB,GAA7B,CAAd;EACAT,gBAAQU,QAAQL,IAAhB,IAAwBhD,GAAGuD,kBAAH,CAAsBvB,OAAtB,EAA+BqB,QAAQL,IAAvC,CAAxB;EACD;;EAED,aAAOL,OAAP;EACD;;;oCAEqB3C,IAAIpN,QAAQkQ,WAAWU,eAAe;EAC1DxD,SAAGkB,UAAH,CAAclB,GAAGmB,YAAjB,EAA+BvO,MAA/B;EACAoN,SAAGyD,uBAAH,CAA2BX,SAA3B;EACA9C,SAAG0D,mBAAH,CAAuBZ,SAAvB,EAAkCU,aAAlC,EAAiDxD,GAAG2D,KAApD,EAA2D,KAA3D,EAAkE,CAAlE,EAAqE,CAArE;EACD;;;;;;;;MC1EGC,SACJ,kBAAc;EAAA;;EACZ,OAAKC,aAAL,GAAqB,EAArB;EACD;;;;;;;;;;MCDGC;;;EACJ,iBAAaxT,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CACb,2BADa,EAEb,4BAFa,EAGb,4BAHa,EAIb,aAJa,EAKb,GALa,EAMb,4BANa,EAOb,8BAPa,EAQb,GARa,EAQRrW,IARQ,CAQH,IARG,CAAf;EASA,UAAKsW,OAAL,GAAe,CACb,wBADa,EAEb,kCAFa,EAGb,8BAHa,EAIb,4BAJa,EAKb,4BALa,EAMb,4BANa,EAOb,mBAPa,EAQb,iCARa,EASb,qBATa,EAUb,oCAVa,EAWb,KAXa,EAYb,uCAZa,EAab,qBAba,EAcb,6BAda,EAeb,KAfa,EAgBb,uDAhBa,EAiBb,4DAjBa,EAkBb,GAlBa,EAkBRtW,IAlBQ,CAkBH,IAlBG,CAAf;;EAoBA,UAAKuW,OAAL,GAAe3T,OAAO2T,OAAP,KAAmBvV,SAAnB,GAA+B,CAA/B,GAAmC4B,OAAO2T,OAAzD;EACA,UAAKC,IAAL,GAAY5T,OAAO4T,IAAnB;EAhCmB;EAiCpB;;;;2BAEKC,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;EACAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;;EAEA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,UAAIC,mBAAmB7E,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAvB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB4E,gBAAzB,EAA2C,KAAKN,EAAL,CAAQO,UAAnD,EAA+D,CAA/D;;EAEA9E,aAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQU,OAArB,EAA8B,CAA9B;;EAEAhF,SAAGiF,SAAH,CAAa,KAAKX,EAAL,CAAQL,OAArB,EAA8B,KAAKA,OAAnC;;EAEA,UAAIiB,QAAQ,CAAZ;EACA,UAAIC,QAAQ,CAAZ;;EAEA,UAAI,KAAKjB,IAAL,KAAc,GAAd,IAAqB,KAAKA,IAAL,KAAc,IAAvC,EAA6C;EAC3CgB,gBAAQ,CAAR;EACD;;EAED,UAAI,KAAKhB,IAAL,KAAc,GAAd,IAAqB,KAAKA,IAAL,KAAc,IAAvC,EAA6C;EAC3CiB,gBAAQ,CAAR;EACD;;EAEDnF,SAAGiF,SAAH,CAAa,KAAKX,EAAL,CAAQY,KAArB,EAA4BA,KAA5B;EACAlF,SAAGiF,SAAH,CAAa,KAAKX,EAAL,CAAQa,KAArB,EAA4BA,KAA5B;EACD;;;8BAEQjB,MAAM;EACb,UAAIgB,QAAQ,CAAZ;EACA,UAAIC,QAAQ,CAAZ;EACA,WAAKjB,IAAL,GAAYA,IAAZ;EACA,UAAI,KAAKA,IAAL,KAAc,GAAd,IAAqB,KAAKA,IAAL,KAAc,IAAvC,EAA6C;EAC3CgB,gBAAQ,CAAR;EACD;;EAED,UAAI,KAAKhB,IAAL,KAAc,GAAd,IAAqB,KAAKA,IAAL,KAAc,IAAvC,EAA6C;EAC3CiB,gBAAQ,CAAR;EACD;;EAED,WAAKnF,EAAL,CAAQiF,SAAR,CAAkB,KAAKX,EAAL,CAAQY,KAA1B,EAAiCA,KAAjC;EACA,WAAKlF,EAAL,CAAQiF,SAAR,CAAkB,KAAKX,EAAL,CAAQa,KAA1B,EAAiCA,KAAjC;EACD;;;6BAEOC,SAASpT,OAAOC,QAAQ;EAC9B,UAAI+N,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACAhC,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BgF,OAA9B;EACApF,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;EACD;;;;IA/FiB5B;;;;;;;;;;MCAd6B;;;EACJ,mBAAanV,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CAAC,2BAAD,EACb,4BADa,EAEb,4BAFa,EAGb,aAHa,EAIb,GAJa,EAKb,4BALa,EAMb,8BANa,EAOb,GAPa,EAORrW,IAPQ,CAOH,IAPG,CAAf;EAQA,UAAKsW,OAAL,GAAe,CAAC,wBAAD,EACb,kCADa,EAEb,4BAFa,EAGb,yBAHa,EAIb,uBAJa,EAKb,mBALa,EAMb,iCANa,EAOb,8DAPa,EAQb,mDARa,EASb,6DATa,EAUb,8CAVa,EAWb,2BAXa,EAYb,2BAZa,EAab,0DAba,EAcb,GAda,EAcRtW,IAdQ,CAcH,IAdG,CAAf;EAVmB;EAyBpB;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;EACAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,WAAKC,gBAAL,GAAwB7E,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB,KAAK4E,gBAA9B,EAAgD,KAAKN,EAAL,CAAQO,UAAxD,EAAoE,CAApE;;EAEA,UAAI5E,aAAaF,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAjB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQU,OAArB,EAA8B,CAA9B;;EAEA,WAAKnB,aAAL,CAAmBre,IAAnB,CAAwBya,UAAxB;;EAEA,UAAIyF,UAAU,CACZ,OADY,EACH,OADG,EACM,OADN,EACe,CAAC,OADhB,EAEZ,OAFY,EAEH,CAAC,OAFE,EAEO,CAAC,OAFR,EAEiB,OAFjB,EAGZ,OAHY,EAGH,OAHG,EAGM,OAHN,EAGe,CAAC,OAHhB,EAIZ,CAJY,EAIT,CAJS,EAIN,CAJM,EAIH,CAJG,CAAd;EAMA1F,SAAG2F,gBAAH,CAAoB,KAAKrB,EAAL,CAAQoB,OAA5B,EAAqC,KAArC,EAA4CA,OAA5C;EACD;;;6BAEOjT,MAAMT,OAAOC,QAAQ;EAC3BQ,aAAOA,KAAK,CAAL,CAAP;EACA,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAI/B,aAAa,KAAK4D,aAAL,CAAmB,CAAnB,CAAjB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGkG,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAK7B,MAAL,CAAYrS,KAA9B,EAAqC,KAAKqS,MAAL,CAAYpS,MAAjD;;EAEA+N,SAAGmG,UAAH,CAAc,KAAK7B,EAAL,CAAQ8B,SAAtB,EAAiC,CAACpU,KAAD,EAAQC,MAAR,CAAjC;;EAEA+N,SAAGqG,WAAH,CAAerG,GAAGsG,gBAAlB,EAAoC,CAApC;EACAtG,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BH,UAA9B;EACAD,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyC5O,QAAQ,CAAjD,EAAoDC,MAApD,EAA4D,CAA5D,EAA+D+N,GAAGY,IAAlE,EAAwEZ,GAAGa,aAA3E,EAA0FpO,IAA1F;EACAuN,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;;EAEA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,oBAFK;EAGLC;EAHK,OAAP;EAKD;;;;IA5FmB2R;;;;;;;;;;MCAhB2C;;;EACJ,iBAAajW,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CACb,2BADa,EAEb,4BAFa,EAGb,4BAHa,EAIb,aAJa,EAKb,GALa,EAMb,4BANa,EAOb,8BAPa,EAQb,GARa,EAQRrW,IARQ,CAQH,IARG,CAAf;EASA,UAAKsW,OAAL,GAAe,CACb,wBADa,EAEb,kCAFa,EAGb,4BAHa,EAIb,mBAJa,EAKb,kDALa,EAMb,6DANa,EAOb,GAPa,EAORtW,IAPQ,CAOH,IAPG,CAAf;EAXmB;EAmBpB;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;;EAEAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,WAAKC,gBAAL,GAAwB7E,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB,KAAK4E,gBAA9B,EAAgD,KAAKN,EAAL,CAAQO,UAAxD,EAAoE,CAApE;;EAEA,UAAI5E,aAAaF,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAjB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQU,OAArB,EAA8B,CAA9B;;EAEA,WAAKnB,aAAL,CAAmBre,IAAnB,CAAwBya,UAAxB;EACD;;;6BAEOxN,MAAMT,OAAOC,QAAQ;EAC3BQ,aAAOA,KAAK,CAAL,CAAP;EACA,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAI/B,aAAa,KAAK4D,aAAL,CAAmB,CAAnB,CAAjB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGkG,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAK7B,MAAL,CAAYrS,KAA9B,EAAqC,KAAKqS,MAAL,CAAYpS,MAAjD;;EAEA+N,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BH,UAA9B;EACAD,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyC5O,KAAzC,EAAgDC,MAAhD,EAAwD,CAAxD,EAA2D+N,GAAGY,IAA9D,EAAoEZ,GAAGa,aAAvE,EAAsFpO,IAAtF;EACAuN,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;;EAEA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,oBAFK;EAGLC;EAHK,OAAP;EAKD;;;;IA5EiB2R;;;;;;;;;;MCAd4C;;;EACJ,iBAAalW,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CACb,2BADa,EAEb,4BAFa,EAGb,4BAHa,EAIb,aAJa,EAKb,GALa,EAMb,4BANa,EAOb,8BAPa,EAQb,GARa,EAQRrW,IARQ,CAQH,IARG,CAAf;EASA,UAAKsW,OAAL,GAAe,CACb,wBADa,EAEb,kCAFa,EAGb,4BAHa,EAIb,yBAJa,EAKb,uBALa,EAMb,mBANa,EAOb,6DAPa,EAQb,iCARa,EAUb,4CAVa,EAWb,iCAXa,EAYb,oCAZa,EAab,wEAba,EAcb,yCAda,EAeb,8BAfa,EAiBb,6DAjBa,EAkBb,qBAlBa,EAmBb,qBAnBa,EAoBb,qBApBa,EAqBb,gDArBa,EAsBb,GAtBa,EAsBRtW,IAtBQ,CAsBH,IAtBG,CAAf;EAXmB;EAkCpB;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;EACAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,WAAKC,gBAAL,GAAwB7E,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB,KAAK4E,gBAA9B,EAAgD,KAAKN,EAAL,CAAQO,UAAxD,EAAoE,CAApE;;EAEA,UAAI5E,aAAaF,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAjB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQU,OAArB,EAA8B,CAA9B;EACA,WAAKnB,aAAL,CAAmBre,IAAnB,CAAwBya,UAAxB;EACD;;;6BAEOxN,MAAMT,OAAOC,QAAQ;EAC3BQ,aAAOA,KAAK,CAAL,CAAP;EACA,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAI/B,aAAa,KAAK4D,aAAL,CAAmB,CAAnB,CAAjB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGkG,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAK7B,MAAL,CAAYrS,KAA9B,EAAqC,KAAKqS,MAAL,CAAYpS,MAAjD;;EAEA,UAAIwU,eAAezG,GAAGuD,kBAAH,CAAsBvB,OAAtB,EAA+B,WAA/B,CAAnB;EACAhC,SAAGmG,UAAH,CAAcM,YAAd,EAA4B,CAACzU,KAAD,EAAQC,MAAR,CAA5B;;EAEA+N,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BH,UAA9B;EACA,UAAIyG,SAAS1U,QAASA,QAAQ,CAA9B;EACAgO,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAG2G,GAAnC,EAAwCD,MAAxC,EAAgDzU,MAAhD,EAAwD,CAAxD,EAA2D+N,GAAG2G,GAA9D,EAAmE3G,GAAGa,aAAtE,EAAqFpO,IAArF;EACAuN,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;;EAEA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,oBAFK;EAGLC;EAHK,OAAP;EAKD;;;;IA7FiB2R;;;;;;;;;;MCAdgD;;;EACJ,gBAAatW,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CACb,2BADa,EAEb,6BAFa,EAGb,8BAHa,EAIb,6BAJa,EAKb,8BALa,EAMb,aANa,EAOb,GAPa,EAQb,4BARa,EASb,gCATa,EAUb,kCAVa,EAWb,GAXa,EAWRrW,IAXQ,CAWH,IAXG,CAAf;EAYA,UAAKsW,OAAL,GAAe,CAAC,wBAAD,EACb,mCADa,EAEb,oCAFa,EAGb,6BAHa,EAIb,8BAJa,EAKb,uBALa,EAMb,mBANa,EAOb,qDAPa,EAQb,sFARa,EASb,wEATa,EAUb,GAVa,EAURtW,IAVQ,CAUH,IAVG,CAAf;EAdmB;EAyBpB;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;EACAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,UAAIkC,oBAAoB9G,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB6G,iBAAzB,EAA4C,KAAKvC,EAAL,CAAQwC,WAApD,EAAiE,CAAjE;;EAEA,UAAIC,qBAAqBhH,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAzB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB+G,kBAAzB,EAA6C,KAAKzC,EAAL,CAAQ0C,YAArD,EAAmE,CAAnE;;EAEA,UAAIC,cAAclH,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAlB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQ4C,QAArB,EAA+B,CAA/B;;EAEA,WAAKrD,aAAL,CAAmBre,IAAnB,CAAwByhB,WAAxB;;EAEA,UAAIE,eAAepH,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAnB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQ8C,SAArB,EAAgC,CAAhC;;EAEA,WAAKvD,aAAL,CAAmBre,IAAnB,CAAwB2hB,YAAxB;;EAEA,UAAIzB,UAAU,CACZ,OADY,EACH,OADG,EACM,OADN,EACe,CAAC,OADhB,EAEZ,OAFY,EAEH,CAAC,OAFE,EAEO,CAAC,OAFR,EAEiB,OAFjB,EAGZ,OAHY,EAGH,OAHG,EAGM,OAHN,EAGe,CAAC,OAHhB,EAIZ,CAJY,EAIT,CAJS,EAIN,CAJM,EAIH,CAJG,CAAd;EAMA1F,SAAG2F,gBAAH,CAAoB,KAAKrB,EAAL,CAAQoB,OAA5B,EAAqC,KAArC,EAA4CA,OAA5C;EACD;;;6BAEOjT,MAAMT,OAAOC,QAAQ;EAC3B,UAAIoV,QAAQ5U,KAAK,CAAL,CAAZ;EACA,UAAI6U,SAAS7U,KAAK,CAAL,CAAb;EACA,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAIiF,cAAc,KAAKpD,aAAL,CAAmB,CAAnB,CAAlB;EACA,UAAIsD,eAAe,KAAKtD,aAAL,CAAmB,CAAnB,CAAnB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;;EAEAhC,SAAGqG,WAAH,CAAerG,GAAGsG,gBAAlB,EAAoC,CAApC;EACAtG,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B6G,WAA9B;EACAjH,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGuH,SAAnC,EAA8CvV,KAA9C,EAAqDC,MAArD,EAA6D,CAA7D,EAAgE+N,GAAGuH,SAAnE,EAA8EvH,GAAGa,aAAjF,EAAgGwG,KAAhG;;EAEArH,SAAGqF,aAAH,CAAiBrF,GAAGwH,QAApB;EACAxH,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B+G,YAA9B;EACAnH,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyC5O,QAAQ,CAAjD,EAAoDC,SAAS,CAA7D,EAAgE,CAAhE,EAAmE+N,GAAGY,IAAtE,EAA4EZ,GAAGa,aAA/E,EAA8FyG,MAA9F;;EAEAtH,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;EACA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,oBAFK;EAGLC;EAHK,OAAP;EAKD;;;;IAvGgB2R;;;;;;;;;;MCAb6D;;;EACJ,kBAAatD,MAAb,EAAqB7T,MAArB,EAA6B;EAAA;;EAAA;;EAE3B,UAAKyT,OAAL,GAAe,CAAC,2BAAD,EACb,6BADa,EAEb,6BAFa,EAGb,6BAHa,EAIb,6BAJa,EAKb,6BALa,EAMb,6BANa,EAOb,aAPa,EAQb,GARa,EASb,4BATa,EAUb,gCAVa,EAWb,gCAXa,EAYb,gCAZa,EAab,GAba,EAaRrW,IAbQ,CAaH,IAbG,CAAf;EAcA,UAAKsW,OAAL,GAAe,CACb,wBADa,EAEb,mCAFa,EAGb,mCAHa,EAIb,mCAJa,EAKb,6BALa,EAMb,6BANa,EAOb,6BAPa,EAQb,uBARa,EAUb,mBAVa,EAWb,0DAXa,EAYb,0DAZa,EAab,0DAba,EAcb,8CAda,EAeb,GAfa,EAgBbtW,IAhBa,CAgBR,IAhBQ,CAAf;EAhB2B;EAiC5B;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;EACAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,UAAIkC,oBAAoB9G,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB6G,iBAAzB,EAA4C,KAAKvC,EAAL,CAAQwC,WAApD,EAAiE,CAAjE;;EAEA,UAAIY,oBAAoB3H,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB0H,iBAAzB,EAA4C,KAAKpD,EAAL,CAAQqD,WAApD,EAAiE,CAAjE;;EAEA,UAAIC,oBAAoB7H,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB4H,iBAAzB,EAA4C,KAAKtD,EAAL,CAAQuD,WAApD,EAAiE,CAAjE;;EAEA,UAAIZ,cAAclH,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAlB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQ4C,QAArB,EAA+B,CAA/B;;EAEA,WAAKrD,aAAL,CAAmBre,IAAnB,CAAwByhB,WAAxB;;EAEA,UAAIa,cAAc/H,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAlB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQyD,QAArB,EAA+B,CAA/B;;EAEA,WAAKlE,aAAL,CAAmBre,IAAnB,CAAwBsiB,WAAxB;;EAEA,UAAIE,cAAcjI,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAlB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQ2D,QAArB,EAA+B,CAA/B;;EAEA,WAAKpE,aAAL,CAAmBre,IAAnB,CAAwBwiB,WAAxB;;EAEA,UAAItC,UAAU,CACZ,OADY,EACH,OADG,EACM,OADN,EACe,CAAC,OADhB,EAEZ,OAFY,EAEH,CAAC,OAFE,EAEO,CAAC,OAFR,EAEiB,OAFjB,EAGZ,OAHY,EAGH,OAHG,EAGM,OAHN,EAGe,CAAC,OAHhB,EAIZ,CAJY,EAIT,CAJS,EAIN,CAJM,EAIH,CAJG,CAAd;EAMA1F,SAAG2F,gBAAH,CAAoB,KAAKrB,EAAL,CAAQoB,OAA5B,EAAqC,KAArC,EAA4CA,OAA5C;EACD;;;6BAEOjT,MAAMT,OAAOC,QAAQ;EAC3B,UAAIoV,QAAQ5U,KAAK,CAAL,CAAZ;EACA,UAAIyV,QAAQzV,KAAK,CAAL,CAAZ;EACA,UAAI0V,QAAQ1V,KAAK,CAAL,CAAZ;EACA,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAIiF,cAAc,KAAKpD,aAAL,CAAmB,CAAnB,CAAlB;EACA,UAAIiE,cAAc,KAAKjE,aAAL,CAAmB,CAAnB,CAAlB;EACA,UAAImE,cAAc,KAAKnE,aAAL,CAAmB,CAAnB,CAAlB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGkG,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAK7B,MAAL,CAAYrS,KAA9B,EAAqC,KAAKqS,MAAL,CAAYpS,MAAjD;;EAEA+N,SAAGqG,WAAH,CAAerG,GAAGsG,gBAAlB,EAAoC,CAApC;EACAtG,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B6G,WAA9B;EACAjH,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGuH,SAAnC,EAA8CvV,KAA9C,EAAqDC,MAArD,EAA6D,CAA7D,EAAgE+N,GAAGuH,SAAnE,EAA8EvH,GAAGa,aAAjF,EAAgGwG,KAAhG;;EAEArH,SAAGqF,aAAH,CAAiBrF,GAAGwH,QAApB;EACAxH,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B0H,WAA9B;EACA9H,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGuH,SAAnC,EAA8CvV,QAAQ,CAAtD,EAAyDC,SAAS,CAAlE,EAAqE,CAArE,EAAwE+N,GAAGuH,SAA3E,EAAsFvH,GAAGa,aAAzF,EAAwGqH,KAAxG;;EAEAlI,SAAGqF,aAAH,CAAiBrF,GAAGoI,QAApB;EACApI,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B4H,WAA9B;EACAhI,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGuH,SAAnC,EAA8CvV,QAAQ,CAAtD,EAAyDC,SAAS,CAAlE,EAAqE,CAArE,EAAwE+N,GAAGuH,SAA3E,EAAsFvH,GAAGa,aAAzF,EAAwGsH,KAAxG;;EAEAnI,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;;EAEA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,eAAOA,KAFF;EAGLC,gBAAQA;EAHH,OAAP;EAKD;;;;IA/HkB2R;;;;;;;;;;MCAfyE;;;EACJ,gBAAa/X,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CACb,2BADa,EAEb,4BAFa,EAGb,4BAHa,EAIb,aAJa,EAKb,GALa,EAMb,4BANa,EAOb,8BAPa,EAQb,GARa,EAQRrW,IARQ,CAQH,IARG,CAAf;EASA,UAAKsW,OAAL,GAAe,CACb,wBADa,EAEb,kCAFa,EAGb,4BAHa,EAIb,mBAJa,EAKb,kDALa,EAMb,6DANa,EAOb,GAPa,EAORtW,IAPQ,CAOH,IAPG,CAAf;EAXmB;EAmBpB;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;;EAEAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,WAAKC,gBAAL,GAAwB7E,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB,KAAK4E,gBAA9B,EAAgD,KAAKN,EAAL,CAAQO,UAAxD,EAAoE,CAApE;;EAEA,UAAI5E,aAAaF,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAjB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQU,OAArB,EAA8B,CAA9B;;EAEA,WAAKnB,aAAL,CAAmBre,IAAnB,CAAwBya,UAAxB;EACD;;;6BAEOxN,MAAMT,OAAOC,QAAQ;EAC3B,UAAIQ,gBAAgBuO,SAApB,EAA+B;EAC7BvO,eAAOA,KAAKA,IAAZ;EACD,OAFD,MAEO;EACLA,eAAOA,KAAK,CAAL,CAAP;EACD;;EAED,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAI/B,aAAa,KAAK4D,aAAL,CAAmB,CAAnB,CAAjB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGkG,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAK7B,MAAL,CAAYrS,KAA9B,EAAqC,KAAKqS,MAAL,CAAYpS,MAAjD;;EAEA+N,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BH,UAA9B;EACAD,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyC5O,KAAzC,EAAgDC,MAAhD,EAAwD,CAAxD,EAA2D+N,GAAGY,IAA9D,EAAoEZ,GAAGa,aAAvE,EAAsFpO,IAAtF;EACAuN,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;;EAEA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,oBAFK;EAGLC;EAHK,OAAP;EAKD;;;;IAjFgB2R;;;;;;;;;;MCAb0E;;;EACJ,eAAahY,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,UAAKyT,OAAL,GAAe,CACb,2BADa,EAEb,4BAFa,EAGb,4BAHa,EAIb,aAJa,EAKb,GALa,EAMb,4BANa,EAOb,8BAPa,EAQb,GARa,EAQRrW,IARQ,CAQH,IARG,CAAf;EASA,UAAKsW,OAAL,GAAe,CACb,wBADa,EAEb,kCAFa,EAGb,4BAHa,EAIb,yBAJa,EAKb,uBALa,EAMb,mBANa,EAOb,6DAPa,EAQb,iCARa,EAUb,4CAVa,EAWb,iCAXa,EAYb,oCAZa,EAab,wEAba,EAcb,yCAda,EAeb,8BAfa,EAiBb,6DAjBa,EAkBb,qBAlBa,EAmBb,qBAnBa,EAoBb,qBApBa,EAqBb,gDArBa,EAsBb,GAtBa,EAsBRtW,IAtBQ,CAsBH,IAtBG,CAAf;EAXmB;EAkCpB;;;;2BAEKyW,QAAQ;EACZ,WAAKC,IAAL,GAAYD,MAAZ;EACA,WAAKE,MAAL,GAAcF,OAAOE,MAArB;EACA,UAAIrE,KAAK,KAAKA,EAAL,GAAUmE,OAAOnE,EAA1B;EACA,WAAKsE,EAAL,GAAUvE,OAAOkC,aAAP,CAAqBjC,EAArB,EAAyB,KAAK+D,OAA9B,EAAuC,KAAKC,OAA5C,CAAV;EACA,WAAKhC,OAAL,GAAe,KAAKsC,EAAL,CAAQtC,OAAvB;EACAhC,SAAGuE,UAAH,CAAc,KAAKvC,OAAnB;EACA;EACA,UAAIwC,kBAAkBzE,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAAxB,CAAtB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyBwE,eAAzB,EAA0C,KAAKF,EAAL,CAAQK,SAAlD,EAA6D,CAA7D;;EAEA;EACA,WAAKC,gBAAL,GAAwB7E,OAAOkB,YAAP,CAAoBjB,EAApB,EAAwB,IAAIyE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAAxB,CAAxB;EACA1E,aAAO2E,aAAP,CAAqB1E,EAArB,EAAyB,KAAK4E,gBAA9B,EAAgD,KAAKN,EAAL,CAAQO,UAAxD,EAAoE,CAApE;;EAEA,UAAI5E,aAAaF,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,CAAjB;EACA9E,SAAG+E,SAAH,CAAa,KAAKT,EAAL,CAAQU,OAArB,EAA8B,CAA9B;EACA,WAAKnB,aAAL,CAAmBre,IAAnB,CAAwBya,UAAxB;EACD;;;6BAEOxN,MAAMT,OAAOC,QAAQ;EAC3BQ,aAAOA,KAAK,CAAL,CAAP;EACA,UAAIuN,KAAK,KAAKA,EAAd;EACA,UAAIgC,UAAU,KAAKA,OAAnB;EACA,UAAI/B,aAAa,KAAK4D,aAAL,CAAmB,CAAnB,CAAjB;;EAEA,UAAI,KAAK7R,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAaA,KAAb;EACA,aAAKC,MAAL,GAAcA,MAAd;EACA,aAAK2T,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED,UAAI,CAAC,KAAK2T,cAAV,EAA0B;EACxB,aAAKA,cAAL,GAAsB7F,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoC,IAAInS,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAApC,EAAwED,KAAxE,EAA+EC,MAA/E,CAAtB;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,KAAK1B,IAAL,CAAU2B,EAA7C;EACA/F,SAAGgG,oBAAH,CAAwBhG,GAAG8F,WAA3B,EAAwC9F,GAAGiG,iBAA3C,EAA8DjG,GAAGI,UAAjE,EAA6E,KAAKwF,cAAlF,EAAkG,CAAlG;;EAEA5F,SAAGuE,UAAH,CAAcvC,OAAd;EACAhC,SAAGkG,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAK7B,MAAL,CAAYrS,KAA9B,EAAqC,KAAKqS,MAAL,CAAYpS,MAAjD;;EAEA,UAAIwU,eAAezG,GAAGuD,kBAAH,CAAsBvB,OAAtB,EAA+B,WAA/B,CAAnB;EACAhC,SAAGmG,UAAH,CAAcM,YAAd,EAA4B,CAACzU,KAAD,EAAQC,MAAR,CAA5B;;EAEA+N,SAAGqF,aAAH,CAAiBrF,GAAGsF,QAApB;EACAtF,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8BH,UAA9B;EACA,UAAIyG,SAAS1U,QAASA,QAAQ,CAA9B;EACAgO,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAG2G,GAAnC,EAAwCD,MAAxC,EAAgDzU,MAAhD,EAAwD,CAAxD,EAA2D+N,GAAG2G,GAA9D,EAAmE3G,GAAGa,aAAtE,EAAqFpO,IAArF;EACAuN,SAAGuF,UAAH,CAAcvF,GAAGwF,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;;EAEA,aAAO;EACLJ,iBAAS,KAAKQ,cADT;EAEL5T,oBAFK;EAGLC;EAHK,OAAP;EAKD;;;;IA7Fe2R;;;;;;MCSZ2E;EACJ,kBAAajY,MAAb,EAAqB;EAAA;;EACnB,SAAK+T,MAAL,GAAc/T,OAAO+T,MAArB;EACA;EACA,QAAI/T,OAAOkY,KAAX,EAAkB;EAChB,WAAKA,KAAL,GAAalY,OAAOkY,KAApB;EACAlY,aAAO4T,IAAP,GAAc,GAAd;EACD,KAHD,MAGO,IAAI5T,OAAOmY,KAAX,EAAkB;EACvB,WAAKA,KAAL,GAAanY,OAAOmY,KAApB;EACD,KAFM,MAEA;EACL,WAAKC,QAAL,CAAcpY,MAAd;EACD;;EAED,SAAKqY,OAAL,GAAe,EAAf;;EAEA,SAAKC,WAAL,GAAmB,IAAI9E,KAAJ,CAAU;EAC3BG,eAAS3T,OAAO2T,OAAP,KAAmBvV,SAAnB,GAA+B4B,OAAO2T,OAAtC,GAAgD,CAD9B;EAE3BC,YAAM5T,OAAO4T,IAAP,IAAexV;EAFM,KAAV,CAAnB;;EAKA,QAAI4B,OAAOqY,OAAX,EAAoB;EAClB,WAAK,IAAIrhB,IAAI,CAAb,EAAgBA,IAAIgJ,OAAOqY,OAAP,CAAe/hB,MAAnC,EAA2CU,GAA3C,EAAgD;EAC9C,aAAKqhB,OAAL,CAAanjB,IAAb,CAAkB8K,OAAOqY,OAAP,CAAerhB,CAAf,CAAlB;EACD;EACF;EACD,SAAKuhB,KAAL;EACD;;;;+BAESvY,QAAQ;EAChB,cAAQA,OAAOwY,MAAf;EACE,aAAK,MAAL;EACE,eAAKC,GAAL,GAAW,IAAItD,OAAJ,CAAY,IAAZ,CAAX;EACA;EACF,aAAK,MAAL;EACE,eAAKsD,GAAL,GAAW,IAAIV,IAAJ,CAAS,IAAT,CAAX;EACA;EACF,aAAK,KAAL;EACE,eAAKU,GAAL,GAAW,IAAIT,GAAJ,CAAQ,IAAR,CAAX;EACA;EACF,aAAK,OAAL;EACE,eAAKS,GAAL,GAAW,IAAIxC,KAAJ,CAAU,IAAV,CAAX;EACA;EACF,aAAK,OAAL;EACE,eAAKwC,GAAL,GAAW,IAAIvC,KAAJ,CAAU,IAAV,CAAX;EACA;EACF,aAAK,MAAL;EACE,eAAKuC,GAAL,GAAW,IAAInC,IAAJ,CAAS,IAAT,CAAX;EACA;EACF,aAAK,QAAL;EACE,eAAKmC,GAAL,GAAW,IAAItB,MAAJ,CAAW,IAAX,CAAX;EACA;AACF,EAtBF;EAyBD;;;mCAEa;;;8BAIL;EACP,WAAKuB,cAAL;;EAEA,UAAI,CAAC,KAAKhJ,EAAV,EAAc;EACZ,cAAM,IAAI/Y,KAAJ,mBAAN;EACD;;EAED,UAAI+Y,KAAK,KAAKA,EAAd;EACA,WAAK+F,EAAL,GAAU/F,GAAGiJ,iBAAH,EAAV;;EAEA,UAAI,KAAKF,GAAT,EAAc;EACZ,aAAKA,GAAL,CAASrX,IAAT,CAAc,IAAd;EACD,OAFD,MAEO,IAAI,KAAK8W,KAAT,EAAgB;EACrB,YAAMxW,QAAQ,KAAKwW,KAAL,CAAWU,UAAzB;EACA,YAAMjX,SAAS,KAAKuW,KAAL,CAAWW,WAA1B;EACA,YAAIC,cAAc,IAAIzW,UAAJ,CAAeX,QAAQC,MAAR,GAAiB,CAAhC,CAAlB;EACA,aAAKoX,YAAL,GAAoBtJ,OAAOG,aAAP,CAAqBF,EAArB,EAAyBA,GAAG8E,MAA5B,EAAoCsE,WAApC,EAAiDpX,KAAjD,EAAwDC,MAAxD,CAApB;EACD;EACD,WAAK2W,WAAL,CAAiBlX,IAAjB,CAAsB,IAAtB;;EAEA,WAAK,IAAIpK,IAAI,CAAb,EAAgBA,IAAI,KAAKqhB,OAAL,CAAa/hB,MAAjC,EAAyCU,GAAzC,EAA8C;EAC5C,YAAIyV,SAAS,KAAK4L,OAAL,CAAarhB,CAAb,CAAb;EACAyV,eAAOrL,IAAP,CAAY,IAAZ;EACD;EACF;;;uCAEiB;EAChB,UAAI2S,SAAS,KAAKA,MAAlB;EACA,UAAIrE,KAAK,IAAT;;EAEA,UAAIsJ,oBAAoB,CAAC,OAAD,EAAU,oBAAV,EAAgC,WAAhC,EAA6C,WAA7C,CAAxB;EACA,UAAIC,YAAY,CAAhB;;EAEA,aAAO,CAACvJ,EAAD,IAAOuJ,YAAYD,kBAAkB1iB,MAA5C,EAAoD;EAClD,YAAI4iB,cAAcF,kBAAkBC,SAAlB,CAAlB;;EAEA,YAAI;EACFvJ,eAAKqE,OAAOoF,UAAP,CAAkBD,WAAlB,CAAL;EACD,SAFD,CAEE,OAAO1jB,CAAP,EAAU;EACVka,eAAK,IAAL;EACD;;EAED,YAAI,CAACA,EAAD,IAAO,OAAOA,GAAG0J,YAAV,KAA2B,UAAtC,EAAkD;EAChD1J,eAAK,IAAL;EACD;;EAED,UAAEuJ,SAAF;EACD;EAED,WAAKvJ,EAAL,GAAUA,EAAV;EACD;;;mCAEavN,MAAMkX,QAAQC,SAAS;EAAA,wBACF,KAAKb,GAAL,CAAS5E,MAAT,CAAgB1R,IAAhB,EAAsBkX,MAAtB,EAA8BC,OAA9B,CADE;EAAA,UAC7BxE,OAD6B,eAC7BA,OAD6B;EAAA,UACpBpT,KADoB,eACpBA,KADoB;EAAA,UACbC,MADa,eACbA,MADa;;EAEnC,WAAK4X,aAAL,CAAmBzE,OAAnB,EAA4BpT,KAA5B,EAAmCC,MAAnC;EACD;;;mCAEa;EACZ,UAAI+N,KAAK,KAAKA,EAAd;EACAA,SAAGG,WAAH,CAAeH,GAAGI,UAAlB,EAA8B,KAAKiJ,YAAnC;EACA;EACArJ,SAAGW,UAAH,CAAcX,GAAGI,UAAjB,EAA6B,CAA7B,EAAgCJ,GAAGY,IAAnC,EAAyCZ,GAAGY,IAA5C,EAAkDZ,GAAGa,aAArD,EAAoE,KAAK2H,KAAzE;EACA,WAAKqB,aAAL,CAAmB,KAAKR,YAAxB,EAAsC,KAAKb,KAAL,CAAWU,UAAjD,EAA6D,KAAKV,KAAL,CAAWW,WAAxE;EACD;;;oCAEc/D,SAASpT,OAAOC,QAAQ;EACrC,UAAI+N,KAAK,KAAKA,EAAd;;EAEA,WAAK,IAAI1Y,IAAI,CAAb,EAAgBA,IAAI,KAAKqhB,OAAL,CAAa/hB,MAAjC,EAAyCU,GAAzC,EAA8C;EAC5C,YAAIyV,SAAS,KAAK4L,OAAL,CAAarhB,CAAb,CAAb;EACA,YAAImL,OAAOsK,OAAOoH,MAAP,CAAciB,OAAd,EAAuBpT,KAAvB,EAA8BC,MAA9B,CAAX;EACAmT,kBAAU3S,KAAK2S,OAAf;EACApT,gBAAQS,KAAKT,KAAb;EACAC,iBAASQ,KAAKR,MAAd;EACD;;EAED+N,SAAG6F,eAAH,CAAmB7F,GAAG8F,WAAtB,EAAmC,IAAnC;EACA,UAAI,KAAK9T,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,aAAKD,KAAL,GAAa,KAAKqS,MAAL,CAAYrS,KAAZ,GAAoBA,KAAjC;EACA,aAAKC,MAAL,GAAc,KAAKoS,MAAL,CAAYpS,MAAZ,GAAqBA,MAAnC;EACD;EACD,WAAK2W,WAAL,CAAiBzE,MAAjB,CAAwBiB,OAAxB,EAAiCpT,KAAjC,EAAwCC,MAAxC;EACD;;;6BAEOQ,MAAMT,OAAOC,QAAQ;EAC3B,UAAI,KAAK8W,GAAT,EAAc;EACZ,YAAI,KAAK/W,KAAL,KAAeA,KAAf,IAAwB,KAAKC,MAAL,KAAgBA,MAA5C,EAAoD;EAClD,eAAKD,KAAL,GAAa,KAAKqS,MAAL,CAAYrS,KAAZ,GAAoBA,KAAjC;EACA,eAAKC,MAAL,GAAc,KAAKoS,MAAL,CAAYpS,MAAZ,GAAqBA,MAAnC;EACD;;EAED,aAAK+N,EAAL,CAAQkG,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,KAAK7B,MAAL,CAAYrS,KAAnC,EAA0C,KAAKqS,MAAL,CAAYpS,MAAtD;EACA,aAAK6X,YAAL,CAAkBrX,IAAlB,EAAwBT,KAAxB,EAA+BC,MAA/B;EACD,OARD,MAQO,IAAI,KAAKuW,KAAT,EAAgB;EACrB,aAAKxI,EAAL,CAAQkG,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,KAAK7B,MAAL,CAAYrS,KAAnC,EAA0C,KAAKqS,MAAL,CAAYpS,MAAtD;EACA,aAAK8X,UAAL;EACD;EACF;;;;;;;;;;MCxKGC;EACJ,wBAAa1Z,MAAb,EAAqB;EAAA;;EACnB,SAAKA,MAAL,GAAcjP,OAAO2N,MAAP,CAAc,EAAd,EAAkBsB,MAAlB,CAAd;EACA,SAAK8O,IAAL,GAAY,KAAK9O,MAAL,CAAY8O,IAAxB;EACA,SAAKxM,MAAL,GAAc,EAAd;EACA,SAAKqX,UAAL,GAAkBvb,SAAlB;EACA,SAAKwb,QAAL,GAAgBxb,SAAhB;EACD;;;;2BAEKyb,OAAO;EACX,UAAI,KAAK/K,IAAL,KAAc,OAAlB,EAA2B;EACzB,YAAI+K,MAAMC,UAAV,EAAsB;EACpB,cAAIH,aAAa;EACfI,qBAAS,EADM;EAEfzL,mBAAOuL,MAAMG,GAFE;EAGfxL,iBAAKqL,MAAMG,GAHI;EAIfC,qBAAS7b;EAJM,WAAjB;EAMA,cAAI,KAAKub,UAAT,EAAqB;EACnB,iBAAKA,UAAL,CAAgBM,OAAhB,GAA0BN,UAA1B;EACD;EACD,eAAKA,UAAL,GAAkBA,UAAlB;EACA,eAAKrX,MAAL,CAAYpN,IAAZ,CAAiB,KAAKykB,UAAtB;EACD;;EAED,YAAI,KAAKA,UAAT,EAAqB;EACnB,eAAKA,UAAL,CAAgBI,OAAhB,CAAwB7kB,IAAxB,CAA6B2kB,KAA7B;;EAEA,cAAIA,MAAMG,GAAN,GAAY,KAAKL,UAAL,CAAgBrL,KAAhC,EAAuC;EACrC,iBAAKqL,UAAL,CAAgBrL,KAAhB,GAAwBuL,MAAMG,GAA9B;EACD;;EAED,cAAIH,MAAMG,GAAN,GAAY,KAAKL,UAAL,CAAgBnL,GAAhC,EAAqC;EACnC,iBAAKmL,UAAL,CAAgBnL,GAAhB,GAAsBqL,MAAMG,GAA5B;EACD;EACF;EACF;EACF;;;0BAEItX,MAAM;EACT,UAAI,KAAKoM,IAAL,KAAc,OAAlB,EAA2B;EACzB,YAAI,KAAKxM,MAAL,CAAYhM,MAAZ,GAAqB,CAAzB,EAA4B;EAC1B;EACD;;EAED,YAAIoM,SAAStE,SAAb,EAAwB;EACtB,cAAI8b,SAAS,KAAKC,QAAL,EAAb;EACA,iBAAOD,MAAP;EACD;EACF;EACF;;;iCAEW;EACV,UAAI,CAAC,KAAKN,QAAV,EAAoB;EAClB,YAAIQ,MAAM,KAAK9X,MAAL,CAAY,CAAZ,CAAV;EACA,YAAI8X,IAAIL,OAAJ,CAAYzjB,MAAZ,GAAqB,CAAzB,EAA4B;EAC1B;EACD;;EAED,aAAKsjB,QAAL,GAAgB;EACdQ,kBADc;EAEdC,iBAAO;EAFO,SAAhB;EAIA,eAAOD,IAAIL,OAAJ,CAAY,CAAZ,CAAP;EACD,OAXD,MAWO;EACL,YAAIK,OAAM,KAAKR,QAAL,CAAcQ,GAAxB;EACA,YAAIF,SAASE,KAAIL,OAAJ,CAAY,KAAKH,QAAL,CAAcS,KAAd,GAAsB,CAAlC,CAAb;EACA,YAAIH,MAAJ,EAAY;EACV,eAAKN,QAAL,CAAcS,KAAd,GAAsB,KAAKT,QAAL,CAAcS,KAAd,GAAsB,CAA5C;EACA,iBAAOH,MAAP;EACD,SAHD,MAGO;EACLE,iBAAMA,KAAIH,OAAV;EACA,cAAI,CAACG,IAAD,IAAQA,KAAIL,OAAJ,CAAYzjB,MAAZ,GAAqB,CAAjC,EAAoC;EAClC;EACD;EACD4jB,mBAASE,KAAIL,OAAJ,CAAY,CAAZ,CAAT;EACA,eAAKH,QAAL,GAAgB;EACdQ,qBADc;EAEdC,mBAAO;EAFO,WAAhB;EAIA,iBAAOH,MAAP;EACD;EACF;EACF;;;6BAEO5L,OAAOE,KAAK;EAClB,UAAI,KAAKlM,MAAL,CAAYhM,MAAZ,GAAqB,CAAzB,EAA4B;EAC1B;EACD;;EAED,UAAIU,IAAI,CAAR;EACA,UAAIojB,MAAM,KAAK9X,MAAL,CAAY,CAAZ,CAAV;EACA,aAAO8X,GAAP,EAAY;EACV,YAAIA,IAAI5L,GAAJ,GAAUA,GAAV,IAAiB4L,IAAI9L,KAAJ,IAAaA,KAAlC,EAAyC;EACvC,eAAKhM,MAAL,CAAYgY,MAAZ,CAAmBtjB,CAAnB,EAAsB,CAAtB;EACAojB,gBAAM,KAAK9X,MAAL,CAAYtL,CAAZ,CAAN;EACD,SAHD,MAGO;EACLA,eAAK,CAAL;EACAojB,gBAAM,KAAK9X,MAAL,CAAYtL,CAAZ,CAAN;EACD;EACF;EACF;;;;;;;;;;MCrGkBujB;EACnB,sBAAaC,MAAb,EAAqB;EAAA;;EACnB,SAAKA,MAAL,GAAcA,UAAU,EAAxB;EACD;;;;4BAEM7N,KAAK;EACV,aAAO,KAAK6N,MAAL,CAAY7N,GAAZ,IAAmB,KAAK6N,MAAL,CAAY7N,GAAZ,EAAiB2B,KAApC,GAA4C,CAAnD;EACD;;;0BAEI3B,KAAK;EACR,aAAO,KAAK6N,MAAL,CAAY7N,GAAZ,IAAmB,KAAK6N,MAAL,CAAY7N,GAAZ,EAAiB6B,GAApC,GAA0C,CAAjD;EACD;;;0BAEIiM,OAAO;EACV,WAAKD,MAAL,CAAYtlB,IAAZ,CAAiBulB,KAAjB;EACD;;;0BAEa;EACZ,aAAO,KAAKD,MAAL,CAAYlkB,MAAnB;EACD;;;;;;;;;;MCVGokB;EACJ,uBAAa1a,MAAb,EAAqB;EAAA;;EACnB,SAAKA,MAAL,GAAcjP,OAAO2N,MAAP,CAAc,EAAd,EAAkBsB,MAAlB,CAAd;EACA,SAAK+T,MAAL,GAAc,KAAK/T,MAAL,CAAY+T,MAAZ,GAAqB,KAAK/T,MAAL,CAAY+T,MAAjC,GAA0ChgB,SAASxE,aAAT,CAAuB,QAAvB,CAAxD;EACA,SAAKyhB,MAAL,GAAc,IAAI0I,YAAJ,CAAiB,EAAC5K,MAAM,OAAP,EAAjB,CAAd;EACA,SAAK6L,WAAL,GAAmB,KAAK3a,MAAL,CAAY2a,WAAZ,IAA2B,CAA9C;EACA,SAAKC,SAAL,GAAiBxc,SAAjB;EACA,SAAKyc,YAAL,GAAoBzc,SAApB;EACA,SAAKsC,IAAL,GAAYtC,SAAZ;EACA,SAAK0c,WAAL,GAAmB,CAAnB;EACA,SAAKC,MAAL,GAAc,IAAd;EACA,SAAKvW,KAAL,GAAa,CAAb;EACA,SAAKwW,WAAL,GAAmB,CAAnB;EACA,SAAKC,UAAL,GAAkB,CAAlB;;EAEA,SAAKC,cAAL,GAAsB,KAAtB;EACA,SAAKC,WAAL,GAAmB,KAAnB;EACA,SAAKC,cAAL,GAAsB,EAAtB;EACA,SAAKC,cAAL,GAAsBjd,SAAtB;EACA,SAAKkd,QAAL,GAAgBld,SAAhB;EACA,SAAKmd,eAAL,GAAuB,IAAvB;EACA,SAAKC,UAAL,GAAkB,IAAlB;;EAEA,SAAKzH,MAAL,CAAY0H,KAAZ,CAAkBC,QAAlB,GAA6B,MAA7B;EACA,SAAK3H,MAAL,CAAY0H,KAAZ,CAAkBE,SAAlB,GAA8B,MAA9B;EACA,SAAK5H,MAAL,CAAY0H,KAAZ,CAAkBG,GAAlB,GAAwB,CAAxB;EACA,SAAK7H,MAAL,CAAY0H,KAAZ,CAAkBI,MAAlB,GAA2B,CAA3B;EACA,SAAK9H,MAAL,CAAY0H,KAAZ,CAAkBK,IAAlB,GAAyB,CAAzB;EACA,SAAK/H,MAAL,CAAY0H,KAAZ,CAAkBM,KAAlB,GAA0B,CAA1B;EACA,SAAKhI,MAAL,CAAY0H,KAAZ,CAAkBO,MAAlB,GAA2B,MAA3B;EACA,SAAKjI,MAAL,CAAY0H,KAAZ,CAAkBnX,QAAlB,GAA6B,UAA7B;EACD;;;;8BAEQ;EACP,WAAKyW,MAAL,GAAc,IAAd;EACD;;;uCAEiB;EAAA;;EAChB,UAAIkB,QAAQ,IAAZ;EACA;EACA,WAAKC,UAAL,GAAkB,IAAIC,WAAJ,EAAlB;EACA,WAAKD,UAAL,CAAgB3Z,WAAhB,CAA4B;EAC1BC,aAAK,MADqB;EAE1B9B,cAAM,KAAKA;EAFe,OAA5B;EAIA,WAAKwb,UAAL,CAAgB5hB,gBAAhB,CAAiC,SAAjC,EAA4C,eAAO;EACjD,gBAAQkI,IAAIL,IAAJ,CAASK,GAAjB;EACE,eAAK,eAAL;EACEyZ,kBAAMf,cAAN,GAAuB,IAAvB;EACA;EACF,eAAK,SAAL;EACE,mBAAKkB,UAAL,CAAgB5Z,IAAIL,IAApB;EACA;EANJ;EAQD,OATD;EAUD;;;uCAEiBzB,MAAM;EACtB,WAAKA,IAAL,GAAYA,IAAZ;EACA,UAAI,CAAC,KAAKwa,cAAV,EAA0B;EACxB,aAAKmB,cAAL;EACA;EACD;EACD,WAAKlB,WAAL,GAAmB,IAAnB;EACA,UAAIhZ,OAAO,IAAIE,UAAJ,CAAe3B,KAAKwO,GAAL,CAAS5J,UAAT,GAAsB,CAArC,CAAX;EACAnD,WAAK3K,GAAL,CAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAT;EACA2K,WAAK3K,GAAL,CAASkJ,KAAKwO,GAAd,EAAmB,CAAnB;EACA,WAAKgN,UAAL,CAAgB3Z,WAAhB,CAA4B;EAC1BC,aAAK,QADqB;EAE1BL,cAAMA;EAFoB,OAA5B;;EAKAA,aAAO,IAAIE,UAAJ,CAAe3B,KAAK0O,GAAL,CAAS9J,UAAT,GAAsB,CAArC,CAAP;EACAnD,WAAK3K,GAAL,CAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAT;EACA2K,WAAK3K,GAAL,CAASkJ,KAAK0O,GAAd,EAAmB,CAAnB;EACA,WAAK8M,UAAL,CAAgB3Z,WAAhB,CAA4B;EAC1BC,aAAK,QADqB;EAE1BL,cAAMA;EAFoB,OAA5B;;EAKA,UAAI,CAAC,KAAKma,SAAV,EAAqB;EACnB,YAAI9D,SAAS,QAAb;EACA,YAAI9X,KAAKwB,YAAL,KAAsB,GAA1B,EAA+B;EAC7BsW,mBAAS,SAAT;EACD;EACD,YAAIxY,SAASjP,OAAO2N,MAAP,CAAc,EAAC8Z,cAAD,EAASzE,QAAQ,KAAKA,MAAtB,EAAd,EAA6C,KAAK/T,MAAlD,CAAb;EACA,aAAKsc,SAAL,GAAiB,IAAIrE,MAAJ,CAAWjY,MAAX,CAAjB;EACD;EACD,WAAK8a,WAAL,GAAmB,CAAnB;EACD;;;kCAEYyB,YAAY;EACvB,UAAI,CAAC,KAAKrB,cAAV,EAA0B;EACxB;EACD;;EAED,UAAI,CAAC,KAAKC,WAAV,EAAuB;EACrB,aAAKqB,gBAAL,CAAsB,KAAK9b,IAA3B;EACD;EAPsB,UAQjBqZ,OARiB,GAQLwC,UARK,CAQjBxC,OARiB;;EASvB,UAAIG,SAASH,QAAQ0C,KAAR,EAAb;;EAEA,aAAOvC,MAAP,EAAe;EACb,YAAI,CAAC,KAAKoB,QAAV,EAAoB;EAClB,eAAKA,QAAL,GAAgBpB,OAAOF,GAAvB;EACD;EACD,aAAKhJ,MAAL,CAAY9b,IAAZ,CAAiBglB,MAAjB;EACAA,iBAASH,QAAQ0C,KAAR,EAAT;EACD;;EAED,WAAKC,QAAL;EACD;;;iCAEW;EACV,UAAI,CAAC,KAAKrB,cAAN,IAAwB,KAAKA,cAAL,GAAsB,KAAKC,QAA3B,GAAsC,KAAKN,WAAL,GAAmB,KAAKL,WAAL,GAAmB,IAAxG,EAA8G;EAC5G,YAAIT,SAAS,KAAKlJ,MAAL,CAAYvY,GAAZ,EAAb;EACA,YAAIyhB,MAAJ,EAAY;EACV,eAAKmB,cAAL,GAAsBnB,OAAOF,GAA7B;EACA,eAAK2C,WAAL,CAAiBzC,MAAjB;EACD;;EAED,eAAOA,UAAU,KAAKmB,cAAL,GAAsB,KAAKC,QAA3B,GAAsC,KAAKN,WAAL,GAAmB,KAAKL,WAAL,GAAmB,IAA7F,EAAmG;EACjGT,mBAAS,KAAKlJ,MAAL,CAAYvY,GAAZ,EAAT;EACA,cAAIyhB,MAAJ,EAAY;EACV,iBAAKyC,WAAL,CAAiBzC,MAAjB;EACA,iBAAKmB,cAAL,GAAsBnB,OAAOF,GAA7B;EACD;EACF;EACF;EACF;;;kCAEYE,QAAQ;EACnB,UAAI9L,OAAOmB,QAAQpB,WAAR,CAAoB,IAAIjK,MAAJ,CAAWgW,OAAO/X,IAAP,CAAYG,MAAvB,CAApB,CAAX;;EAEA,UAAIhM,SAAS,CAAb;EACA,WAAK,IAAIU,IAAI,CAAb,EAAgBA,IAAIoX,KAAK9X,MAAzB,EAAiCU,GAAjC,EAAsC;EACpC,YAAI4lB,MAAMxO,KAAKpX,CAAL,CAAV;EACAV,kBAAUsmB,IAAIjO,IAAJ,CAASrJ,UAAT,GAAsB,CAAhC;EACD;EACD,UAAI7D,SAAS,CAAb;EACA,UAAIU,OAAO,IAAIE,UAAJ,CAAe/L,MAAf,CAAX;EACA,WAAK,IAAIU,KAAI,CAAb,EAAgBA,KAAIoX,KAAK9X,MAAzB,EAAiCU,IAAjC,EAAsC;EACpC,YAAI4lB,OAAMxO,KAAKpX,EAAL,CAAV;EACAmL,aAAK3K,GAAL,CAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAT,EAAuBiK,MAAvB;EACAA,kBAAU,CAAV;EACAU,aAAK3K,GAAL,CAAS,IAAI6K,UAAJ,CAAeua,KAAIjO,IAAnB,CAAT,EAAmClN,MAAnC;EACAA,kBAAUmb,KAAIjO,IAAJ,CAASrJ,UAAnB;EACD;EACD,WAAK4W,UAAL,CAAgB3Z,WAAhB,CAA4B;EAC1BC,aAAK,QADqB;EAE1BL,cAAMA,IAFoB;EAG1BJ,cAAM;EACJiY,eAAKE,OAAOF,GADR;EAEJ6C,eAAK3C,OAAO2C,GAAP,GAAa3C,OAAO2C,GAApB,GAA0B3C,OAAOF,GAAP,GAAaE,OAAO4C,GAF/C;EAGJlZ,eAAKsW,OAAOJ;EAHR;EAHoB,OAA5B;EASD;;;iCAEW3X,MAAM;EAAA,UACX6X,GADW,GACJ7X,KAAKJ,IADD,CACXiY,GADW;;EAEhB,WAAKoB,cAAL,CAAoBpB,GAApB,IAA2B7X,IAA3B;EACA,UAAIpR,OAAOgsB,IAAP,CAAY,KAAK3B,cAAjB,EAAiC9kB,MAAjC,GAA0C,EAA9C,EAAkD;EAChD,YAAI,KAAKklB,UAAT,EAAqB;EACnB,eAAKA,UAAL;EACD;EACD,YAAI,KAAKZ,SAAT,EAAoB;EAClB,eAAKA,SAAL;EACD;EACF;EACF;;;6BAEO;EAAA;;EACN,WAAKG,MAAL,GAAc,KAAd;EACA,aAAO,IAAItkB,OAAJ,CAAY,UAACumB,OAAD,EAAa;EAC9B,eAAKxB,UAAL,GAAkBwB,OAAlB;EACD,OAFM,EAEJC,IAFI,CAEC,YAAM;EACZ,eAAKzB,UAAL,GAAkB,IAAlB;EACD,OAJM,CAAP;EAKD;;;+BAESR,aAAa;EACrB,UAAI,KAAKD,MAAT,EAAiB;EACf;EACD;;EAED,UAAI,KAAKra,IAAT,EAAe;EACb,YAAI,KAAKA,IAAL,CAAUwL,SAAV,IAAuB,KAAKxL,IAAL,CAAUwL,SAAV,CAAoBnB,KAA3C,IAAoD,KAAKrK,IAAL,CAAUwL,SAAV,CAAoBzC,GAA5E,EAAiF;EAEjF,YAAIyT,aAAansB,OAAOgsB,IAAP,CAAY,KAAK3B,cAAjB,CAAjB;EACA,YAAI8B,WAAW5mB,MAAX,GAAoB,CAAxB,EAA2B;EACzB,eAAK0kB,WAAL,GAAmBA,WAAnB;EACA,cAAImC,YAAY,CAAC,CAAjB;EACA,eAAK,IAAInmB,IAAI,CAAb,EAAgBA,IAAIkmB,WAAW5mB,MAAf,IAAyB8mB,OAAOza,QAAP,CAAgBua,WAAWlmB,CAAX,CAAhB,IAAiC,KAAKskB,QAAtC,IAAkD,KAAKN,WAAhG,EAA6GhkB,GAA7G,EAAkH;EAChHmmB,wBAAYC,OAAOza,QAAP,CAAgBua,WAAWlmB,IAAI,CAAf,CAAhB,CAAZ;EACD;;EAED,cAAI6iB,QAAQ,KAAKuB,cAAL,CAAoB+B,SAApB,CAAZ;EACA,cAAItD,KAAJ,EAAW;EACT,gBAAI5L,MAAM,EAAV;EACA,gBAAI,KAAKvN,IAAL,CAAUwB,YAAV,KAA2B,GAA/B,EAAoC;;EAElC,kBAAImb,OAAOxD,MAAMvX,MAAN,CAAa1N,KAAb,CAAmB,CAAnB,EAAsBilB,MAAMjY,SAAN,GAAkBiY,MAAMlY,MAA9C,CAAX;EACA,kBAAI2b,OAAOzD,MAAMvX,MAAN,CAAa1N,KAAb,CAAmBilB,MAAMjY,SAAN,GAAkBiY,MAAMlY,MAA3C,EAAmDkY,MAAMjY,SAAN,GAAkBiY,MAAMlY,MAAxB,GAAiC,IAApF,CAAX;EACA,kBAAI4b,OAAO1D,MAAMvX,MAAN,CAAa1N,KAAb,CAAmBilB,MAAMjY,SAAN,GAAkBiY,MAAMlY,MAAxB,GAAiC,IAApD,EAA0DkY,MAAMjY,SAAN,GAAkBiY,MAAMlY,MAAxB,GAAiC,GAA3F,CAAX;EACAsM,oBAAM,CAAC,IAAI5L,UAAJ,CAAegb,IAAf,CAAD,EAAuB,IAAIhb,UAAJ,CAAeib,IAAf,CAAvB,EAA6C,IAAIjb,UAAJ,CAAekb,IAAf,CAA7C,CAAN;EACD;EACD,iBAAKjB,SAAL,CAAezI,MAAf,CAAsB5F,GAAtB,EAA2B4L,MAAMjY,SAAjC,EAA4CiY,MAAMlY,MAAlD;EACD;EACD,eAAK,IAAI3K,MAAI,CAAb,EAAgBA,MAAIkmB,WAAW5mB,MAA/B,EAAuCU,KAAvC,EAA4C;EAC1C,gBAAIomB,OAAOza,QAAP,CAAgBua,WAAWlmB,GAAX,CAAhB,IAAiCmmB,SAArC,EAAgD;EAC9C,qBAAO,KAAK/B,cAAL,CAAoB8B,WAAWlmB,GAAX,CAApB,CAAP;EACD;EACF;EACF;EACF;EACD,WAAKukB,eAAL,GAAuB3Y,KAAK4a,GAAL,EAAvB;EACD;;;oCAEc;EACb,UAAI,KAAKxC,WAAL,GAAmB,CAAvB,EAA0B;EACxB,aAAKhK,MAAL,CAAYle,MAAZ,CAAmB,CAAnB,EAAsB,KAAKkoB,WAAL,GAAmB,CAAzC;EACD;EACF;;;gCAEU;EACT,WAAKkB,UAAL,CAAgB3Z,WAAhB,CAA4B,EAACC,KAAK,SAAN,EAA5B;EACA,WAAK0Z,UAAL,GAAkB,IAAlB;EACA,WAAKnI,MAAL,GAAc,IAAd;EACA,WAAK/C,MAAL,GAAc,IAAd;EACA,WAAKkK,cAAL,GAAsB,KAAtB;EACD;;;0BAEe;EACd,UAAMV,SAAS,EAAf;EACA,UAAIiD,eAAe;EACjBnP,eAAO,IADU;EAEjBE,aAAK;EAFY,OAAnB;EAIA,WAAK,IAAIxX,IAAI,CAAb,EAAgBA,IAAI,KAAKga,MAAL,CAAY1O,MAAZ,CAAmBhM,MAAvC,EAA+CU,GAA/C,EAAoD;EAAA,+BAC3B,KAAKga,MAAL,CAAY1O,MAAZ,CAAmBtL,CAAnB,CAD2B;EAAA,YAC1CsX,KAD0C,oBAC1CA,KAD0C;EAAA,YACnCE,GADmC,oBACnCA,GADmC;;EAElD,YAAI,CAACiP,aAAanP,KAAlB,EAAyB;EACvBmP,uBAAanP,KAAb,GAAqBA,KAArB;EACD;EACD,YAAI,CAACmP,aAAajP,GAAlB,EAAuB;EACrBiP,uBAAajP,GAAb,GAAmBA,GAAnB;EACD;;EAED,YAAIF,QAAQmP,aAAajP,GAArB,GAA2B,IAA/B,EAAqC;EACnCiP,uBAAanP,KAAb,GAAqBmP,aAAanP,KAAb,GAAqB,IAA1C;EACAmP,uBAAajP,GAAb,GAAmBiP,aAAajP,GAAb,GAAmB,IAAtC;EACAiP,yBAAe;EACbnP,wBADa;EAEbE;EAFa,WAAf;EAID,SAPD,MAOO;EACLiP,uBAAajP,GAAb,GAAmBA,GAAnB;EACD;EACF;;EAED,UAAIiP,aAAanP,KAAb,KAAuB,IAAvB,IAA+BmP,aAAajP,GAAb,KAAqB,IAAxD,EAA8D;EAC5DiP,qBAAanP,KAAb,GAAqBmP,aAAanP,KAAb,GAAqB,IAA1C;EACAmP,qBAAajP,GAAb,GAAmBiP,aAAajP,GAAb,GAAmB,IAAtC;EACAgM,eAAOtlB,IAAP,CAAYuoB,YAAZ;EACD;;EAED,aAAO,IAAIlD,UAAJ,CAAeC,MAAf,CAAP;EACD;;;;;;EClRH,IAAIkD,MAAJ;;EAEA;EACA;EACA;EACA,SAASC,aAAT,GAAyB;EACzBA,cAAcruB,SAAd,GAA0ByB,OAAO6sB,MAAP,CAAc,IAAd,CAA1B;;EAEA,SAASC,YAAT,GAAwB;EACtBA,eAAazc,IAAb,CAAkBvM,IAAlB,CAAuB,IAAvB;EACD;AACD;EAGA;EACA;EACAgpB,aAAaA,YAAb,GAA4BA,YAA5B;;EAEAA,aAAaC,YAAb,GAA4B,KAA5B;;EAEAD,aAAavuB,SAAb,CAAuBouB,MAAvB,GAAgCtf,SAAhC;EACAyf,aAAavuB,SAAb,CAAuByuB,OAAvB,GAAiC3f,SAAjC;EACAyf,aAAavuB,SAAb,CAAuB0uB,aAAvB,GAAuC5f,SAAvC;;EAEA;EACA;EACAyf,aAAaI,mBAAb,GAAmC,EAAnC;;EAEAJ,aAAazc,IAAb,GAAoB,YAAW;EAC7B,OAAKsc,MAAL,GAAc,IAAd;EACA,MAAIG,aAAaC,YAAjB,EAA+B;EAC7B;EACA,QAAIJ,OAAOQ,MAAP,IAAiB,EAAE,gBAAgBR,OAAOS,MAAzB,CAArB,EAAuD;EAGxD;;EAED,MAAI,CAAC,KAAKJ,OAAN,IAAiB,KAAKA,OAAL,KAAiBhtB,OAAOqtB,cAAP,CAAsB,IAAtB,EAA4BL,OAAlE,EAA2E;EACzE,SAAKA,OAAL,GAAe,IAAIJ,aAAJ,EAAf;EACA,SAAKU,YAAL,GAAoB,CAApB;EACD;;EAED,OAAKL,aAAL,GAAqB,KAAKA,aAAL,IAAsB5f,SAA3C;EACD,CAfD;;EAiBA;EACA;EACAyf,aAAavuB,SAAb,CAAuBgvB,eAAvB,GAAyC,SAASA,eAAT,CAAyBnvB,CAAzB,EAA4B;EACnE,MAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,IAAI,CAA7B,IAAkCovB,MAAMpvB,CAAN,CAAtC,EACE,MAAM,IAAImI,SAAJ,CAAc,wCAAd,CAAN;EACF,OAAK0mB,aAAL,GAAqB7uB,CAArB;EACA,SAAO,IAAP;EACD,CALD;;EAOA,SAASqvB,gBAAT,CAA0BC,IAA1B,EAAgC;EAC9B,MAAIA,KAAKT,aAAL,KAAuB5f,SAA3B,EACE,OAAOyf,aAAaI,mBAApB;EACF,SAAOQ,KAAKT,aAAZ;EACD;;EAEDH,aAAavuB,SAAb,CAAuBovB,eAAvB,GAAyC,SAASA,eAAT,GAA2B;EAClE,SAAOF,iBAAiB,IAAjB,CAAP;EACD,CAFD;;EAIA;EACA;EACA;EACA;EACA;EACA,SAASG,QAAT,CAAkBC,OAAlB,EAA2BC,IAA3B,EAAiC3gB,IAAjC,EAAuC;EACrC,MAAI2gB,IAAJ,EACED,QAAQ/pB,IAAR,CAAaqJ,IAAb,EADF,KAEK;EACH,QAAIW,MAAM+f,QAAQtoB,MAAlB;EACA,QAAIwoB,YAAYC,WAAWH,OAAX,EAAoB/f,GAApB,CAAhB;EACA,SAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAI6H,GAApB,EAAyB,EAAE7H,CAA3B,EACE8nB,UAAU9nB,CAAV,EAAanC,IAAb,CAAkBqJ,IAAlB;EACH;EACF;EACD,SAAS8gB,OAAT,CAAiBJ,OAAjB,EAA0BC,IAA1B,EAAgC3gB,IAAhC,EAAsC+gB,IAAtC,EAA4C;EAC1C,MAAIJ,IAAJ,EACED,QAAQ/pB,IAAR,CAAaqJ,IAAb,EAAmB+gB,IAAnB,EADF,KAEK;EACH,QAAIpgB,MAAM+f,QAAQtoB,MAAlB;EACA,QAAIwoB,YAAYC,WAAWH,OAAX,EAAoB/f,GAApB,CAAhB;EACA,SAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAI6H,GAApB,EAAyB,EAAE7H,CAA3B,EACE8nB,UAAU9nB,CAAV,EAAanC,IAAb,CAAkBqJ,IAAlB,EAAwB+gB,IAAxB;EACH;EACF;EACD,SAASC,OAAT,CAAiBN,OAAjB,EAA0BC,IAA1B,EAAgC3gB,IAAhC,EAAsC+gB,IAAtC,EAA4CE,IAA5C,EAAkD;EAChD,MAAIN,IAAJ,EACED,QAAQ/pB,IAAR,CAAaqJ,IAAb,EAAmB+gB,IAAnB,EAAyBE,IAAzB,EADF,KAEK;EACH,QAAItgB,MAAM+f,QAAQtoB,MAAlB;EACA,QAAIwoB,YAAYC,WAAWH,OAAX,EAAoB/f,GAApB,CAAhB;EACA,SAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAI6H,GAApB,EAAyB,EAAE7H,CAA3B,EACE8nB,UAAU9nB,CAAV,EAAanC,IAAb,CAAkBqJ,IAAlB,EAAwB+gB,IAAxB,EAA8BE,IAA9B;EACH;EACF;EACD,SAASC,SAAT,CAAmBR,OAAnB,EAA4BC,IAA5B,EAAkC3gB,IAAlC,EAAwC+gB,IAAxC,EAA8CE,IAA9C,EAAoDE,IAApD,EAA0D;EACxD,MAAIR,IAAJ,EACED,QAAQ/pB,IAAR,CAAaqJ,IAAb,EAAmB+gB,IAAnB,EAAyBE,IAAzB,EAA+BE,IAA/B,EADF,KAEK;EACH,QAAIxgB,MAAM+f,QAAQtoB,MAAlB;EACA,QAAIwoB,YAAYC,WAAWH,OAAX,EAAoB/f,GAApB,CAAhB;EACA,SAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAI6H,GAApB,EAAyB,EAAE7H,CAA3B,EACE8nB,UAAU9nB,CAAV,EAAanC,IAAb,CAAkBqJ,IAAlB,EAAwB+gB,IAAxB,EAA8BE,IAA9B,EAAoCE,IAApC;EACH;EACF;;EAED,SAASC,QAAT,CAAkBV,OAAlB,EAA2BC,IAA3B,EAAiC3gB,IAAjC,EAAuCqhB,IAAvC,EAA6C;EAC3C,MAAIV,IAAJ,EACED,QAAQ/hB,KAAR,CAAcqB,IAAd,EAAoBqhB,IAApB,EADF,KAEK;EACH,QAAI1gB,MAAM+f,QAAQtoB,MAAlB;EACA,QAAIwoB,YAAYC,WAAWH,OAAX,EAAoB/f,GAApB,CAAhB;EACA,SAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAI6H,GAApB,EAAyB,EAAE7H,CAA3B,EACE8nB,UAAU9nB,CAAV,EAAa6F,KAAb,CAAmBqB,IAAnB,EAAyBqhB,IAAzB;EACH;EACF;;EAED1B,aAAavuB,SAAb,CAAuBkwB,IAAvB,GAA8B,SAASA,IAAT,CAAc1Q,IAAd,EAAoB;EAChD,MAAI2Q,EAAJ,EAAQb,OAAR,EAAiB/f,GAAjB,EAAsB0gB,IAAtB,EAA4BvoB,CAA5B,EAA+B0oB,MAA/B,EAAuChC,MAAvC;AACA,EACA,MAAIiC,UAAW7Q,SAAS,OAAxB;;EAEA4Q,WAAS,KAAK3B,OAAd;EACA,MAAI2B,MAAJ,EACEC,UAAWA,WAAWD,OAAO7jB,KAAP,IAAgB,IAAtC,CADF,KAEK,IAAI,CAAC8jB,OAAL,EACH,OAAO,KAAP;;EAEFjC,WAAS,KAAKA,MAAd;;EAEA;EACA,MAAIiC,OAAJ,EAAa;EACXF,SAAK7iB,UAAU,CAAV,CAAL;EACA,QAAI8gB,MAAJ,EAAY;EACV,UAAI,CAAC+B,EAAL,EACEA,KAAK,IAAI9oB,KAAJ,CAAU,qCAAV,CAAL;EACF8oB,SAAGG,aAAH,GAAmB,IAAnB;EACAH,SAAG/B,MAAH,GAAYA,MAAZ;EACA+B,SAAGI,YAAH,GAAkB,KAAlB;EACAnC,aAAO8B,IAAP,CAAY,OAAZ,EAAqBC,EAArB;EACD,KAPD,MAOO,IAAIA,cAAc9oB,KAAlB,EAAyB;EAC9B,YAAM8oB,EAAN,CAD8B;EAE/B,KAFM,MAEA;EACL;EACA,UAAIK,MAAM,IAAInpB,KAAJ,CAAU,2CAA2C8oB,EAA3C,GAAgD,GAA1D,CAAV;EACAK,UAAIC,OAAJ,GAAcN,EAAd;EACA,YAAMK,GAAN;EACD;EACD,WAAO,KAAP;EACD;;EAEDlB,YAAUc,OAAO5Q,IAAP,CAAV;;EAEA,MAAI,CAAC8P,OAAL,EACE,OAAO,KAAP;;EAEF,MAAIC,OAAO,OAAOD,OAAP,KAAmB,UAA9B;EACA/f,QAAMjC,UAAUtG,MAAhB;EACA,UAAQuI,GAAR;EACE;EACA,SAAK,CAAL;EACE8f,eAASC,OAAT,EAAkBC,IAAlB,EAAwB,IAAxB;EACA;EACF,SAAK,CAAL;EACEG,cAAQJ,OAAR,EAAiBC,IAAjB,EAAuB,IAAvB,EAA6BjiB,UAAU,CAAV,CAA7B;EACA;EACF,SAAK,CAAL;EACEsiB,cAAQN,OAAR,EAAiBC,IAAjB,EAAuB,IAAvB,EAA6BjiB,UAAU,CAAV,CAA7B,EAA2CA,UAAU,CAAV,CAA3C;EACA;EACF,SAAK,CAAL;EACEwiB,gBAAUR,OAAV,EAAmBC,IAAnB,EAAyB,IAAzB,EAA+BjiB,UAAU,CAAV,CAA/B,EAA6CA,UAAU,CAAV,CAA7C,EAA2DA,UAAU,CAAV,CAA3D;EACA;EACF;EACA;EACE2iB,aAAO,IAAI5qB,KAAJ,CAAUkK,MAAM,CAAhB,CAAP;EACA,WAAK7H,IAAI,CAAT,EAAYA,IAAI6H,GAAhB,EAAqB7H,GAArB,EACEuoB,KAAKvoB,IAAI,CAAT,IAAc4F,UAAU5F,CAAV,CAAd;EACFsoB,eAASV,OAAT,EAAkBC,IAAlB,EAAwB,IAAxB,EAA8BU,IAA9B;EAnBJ;;EAyBA,SAAO,IAAP;EACD,CAnED;;EAqEA,SAASS,YAAT,CAAsBtc,MAAtB,EAA8BoL,IAA9B,EAAoCmR,QAApC,EAA8CpwB,OAA9C,EAAuD;EACrD,MAAIsH,CAAJ;EACA,MAAIuoB,MAAJ;EACA,MAAIQ,QAAJ;;EAEA,MAAI,OAAOD,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAI3oB,SAAJ,CAAc,wCAAd,CAAN;;EAEFooB,WAAShc,OAAOqa,OAAhB;EACA,MAAI,CAAC2B,MAAL,EAAa;EACXA,aAAShc,OAAOqa,OAAP,GAAiB,IAAIJ,aAAJ,EAA1B;EACAja,WAAO2a,YAAP,GAAsB,CAAtB;EACD,GAHD,MAGO;EACL;EACA;EACA,QAAIqB,OAAOS,WAAX,EAAwB;EACtBzc,aAAO8b,IAAP,CAAY,aAAZ,EAA2B1Q,IAA3B,EACYmR,SAASA,QAAT,GAAoBA,SAASA,QAA7B,GAAwCA,QADpD;;EAGA;EACA;EACAP,eAAShc,OAAOqa,OAAhB;EACD;EACDmC,eAAWR,OAAO5Q,IAAP,CAAX;EACD;;EAED,MAAI,CAACoR,QAAL,EAAe;EACb;EACAA,eAAWR,OAAO5Q,IAAP,IAAemR,QAA1B;EACA,MAAEvc,OAAO2a,YAAT;EACD,GAJD,MAIO;EACL,QAAI,OAAO6B,QAAP,KAAoB,UAAxB,EAAoC;EAClC;EACAA,iBAAWR,OAAO5Q,IAAP,IAAejf,UAAU,CAACowB,QAAD,EAAWC,QAAX,CAAV,GACU,CAACA,QAAD,EAAWD,QAAX,CADpC;EAED,KAJD,MAIO;EACL;EACA,UAAIpwB,OAAJ,EAAa;EACXqwB,iBAASE,OAAT,CAAiBH,QAAjB;EACD,OAFD,MAEO;EACLC,iBAAShrB,IAAT,CAAc+qB,QAAd;EACD;EACF;;EAED;EACA,QAAI,CAACC,SAASG,MAAd,EAAsB;EACpBlpB,UAAIqnB,iBAAiB9a,MAAjB,CAAJ;EACA,UAAIvM,KAAKA,IAAI,CAAT,IAAc+oB,SAAS5pB,MAAT,GAAkBa,CAApC,EAAuC;EACrC+oB,iBAASG,MAAT,GAAkB,IAAlB;EACA,YAAIvoB,IAAI,IAAInB,KAAJ,CAAU,iDACEupB,SAAS5pB,MADX,GACoB,GADpB,GAC0BwY,IAD1B,GACiC,oBADjC,GAEE,iDAFZ,CAAR;EAGAhX,UAAE4a,IAAF,GAAS,6BAAT;EACA5a,UAAEwoB,OAAF,GAAY5c,MAAZ;EACA5L,UAAEgX,IAAF,GAASA,IAAT;EACAhX,UAAE0M,KAAF,GAAU0b,SAAS5pB,MAAnB;EACAiqB,oBAAYzoB,CAAZ;EACD;EACF;EACF;;EAED,SAAO4L,MAAP;EACD;EACD,SAAS6c,WAAT,CAAqB/qB,CAArB,EAAwB;EACtB,SAAO6G,QAAQmkB,IAAf,KAAwB,UAAxB,GAAqCnkB,QAAQmkB,IAAR,CAAahrB,CAAb,CAArC,GAAuD6G,QAAQkH,GAAR,CAAY/N,CAAZ,CAAvD;EACD;EACDqoB,aAAavuB,SAAb,CAAuBmxB,WAAvB,GAAqC,SAASA,WAAT,CAAqB3R,IAArB,EAA2BmR,QAA3B,EAAqC;EACxE,SAAOD,aAAa,IAAb,EAAmBlR,IAAnB,EAAyBmR,QAAzB,EAAmC,KAAnC,CAAP;EACD,CAFD;;EAIApC,aAAavuB,SAAb,CAAuBoxB,EAAvB,GAA4B7C,aAAavuB,SAAb,CAAuBmxB,WAAnD;;EAEA5C,aAAavuB,SAAb,CAAuBqxB,eAAvB,GACI,SAASA,eAAT,CAAyB7R,IAAzB,EAA+BmR,QAA/B,EAAyC;EACvC,SAAOD,aAAa,IAAb,EAAmBlR,IAAnB,EAAyBmR,QAAzB,EAAmC,IAAnC,CAAP;EACD,CAHL;;EAKA,SAASW,SAAT,CAAmBld,MAAnB,EAA2BoL,IAA3B,EAAiCmR,QAAjC,EAA2C;EACzC,MAAIY,QAAQ,KAAZ;EACA,WAAS/pB,CAAT,GAAa;EACX4M,WAAOod,cAAP,CAAsBhS,IAAtB,EAA4BhY,CAA5B;EACA,QAAI,CAAC+pB,KAAL,EAAY;EACVA,cAAQ,IAAR;EACAZ,eAASpjB,KAAT,CAAe6G,MAAf,EAAuB9G,SAAvB;EACD;EACF;EACD9F,IAAEmpB,QAAF,GAAaA,QAAb;EACA,SAAOnpB,CAAP;EACD;;EAED+mB,aAAavuB,SAAb,CAAuByxB,IAAvB,GAA8B,SAASA,IAAT,CAAcjS,IAAd,EAAoBmR,QAApB,EAA8B;EAC1D,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAI3oB,SAAJ,CAAc,wCAAd,CAAN;EACF,OAAKopB,EAAL,CAAQ5R,IAAR,EAAc8R,UAAU,IAAV,EAAgB9R,IAAhB,EAAsBmR,QAAtB,CAAd;EACA,SAAO,IAAP;EACD,CALD;;EAOApC,aAAavuB,SAAb,CAAuB0xB,mBAAvB,GACI,SAASA,mBAAT,CAA6BlS,IAA7B,EAAmCmR,QAAnC,EAA6C;EAC3C,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAI3oB,SAAJ,CAAc,wCAAd,CAAN;EACF,OAAKqpB,eAAL,CAAqB7R,IAArB,EAA2B8R,UAAU,IAAV,EAAgB9R,IAAhB,EAAsBmR,QAAtB,CAA3B;EACA,SAAO,IAAP;EACD,CANL;;EAQA;EACApC,aAAavuB,SAAb,CAAuBwxB,cAAvB,GACI,SAASA,cAAT,CAAwBhS,IAAxB,EAA8BmR,QAA9B,EAAwC;EACtC,MAAIgB,IAAJ,EAAUvB,MAAV,EAAkBpb,QAAlB,EAA4BtN,CAA5B,EAA+BkqB,gBAA/B;;EAEA,MAAI,OAAOjB,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAI3oB,SAAJ,CAAc,wCAAd,CAAN;;EAEFooB,WAAS,KAAK3B,OAAd;EACA,MAAI,CAAC2B,MAAL,EACE,OAAO,IAAP;;EAEFuB,SAAOvB,OAAO5Q,IAAP,CAAP;EACA,MAAI,CAACmS,IAAL,EACE,OAAO,IAAP;;EAEF,MAAIA,SAAShB,QAAT,IAAsBgB,KAAKhB,QAAL,IAAiBgB,KAAKhB,QAAL,KAAkBA,QAA7D,EAAwE;EACtE,QAAI,EAAE,KAAK5B,YAAP,KAAwB,CAA5B,EACE,KAAKN,OAAL,GAAe,IAAIJ,aAAJ,EAAf,CADF,KAEK;EACH,aAAO+B,OAAO5Q,IAAP,CAAP;EACA,UAAI4Q,OAAOoB,cAAX,EACE,KAAKtB,IAAL,CAAU,gBAAV,EAA4B1Q,IAA5B,EAAkCmS,KAAKhB,QAAL,IAAiBA,QAAnD;EACH;EACF,GARD,MAQO,IAAI,OAAOgB,IAAP,KAAgB,UAApB,EAAgC;EACrC3c,eAAW,CAAC,CAAZ;;EAEA,SAAKtN,IAAIiqB,KAAK3qB,MAAd,EAAsBU,MAAM,CAA5B,GAAgC;EAC9B,UAAIiqB,KAAKjqB,CAAL,MAAYipB,QAAZ,IACCgB,KAAKjqB,CAAL,EAAQipB,QAAR,IAAoBgB,KAAKjqB,CAAL,EAAQipB,QAAR,KAAqBA,QAD9C,EACyD;EACvDiB,2BAAmBD,KAAKjqB,CAAL,EAAQipB,QAA3B;EACA3b,mBAAWtN,CAAX;EACA;EACD;EACF;;EAED,QAAIsN,WAAW,CAAf,EACE,OAAO,IAAP;;EAEF,QAAI2c,KAAK3qB,MAAL,KAAgB,CAApB,EAAuB;EACrB2qB,WAAK,CAAL,IAAU7iB,SAAV;EACA,UAAI,EAAE,KAAKigB,YAAP,KAAwB,CAA5B,EAA+B;EAC7B,aAAKN,OAAL,GAAe,IAAIJ,aAAJ,EAAf;EACA,eAAO,IAAP;EACD,OAHD,MAGO;EACL,eAAO+B,OAAO5Q,IAAP,CAAP;EACD;EACF,KARD,MAQO;EACLqS,gBAAUF,IAAV,EAAgB3c,QAAhB;EACD;;EAED,QAAIob,OAAOoB,cAAX,EACE,KAAKtB,IAAL,CAAU,gBAAV,EAA4B1Q,IAA5B,EAAkCoS,oBAAoBjB,QAAtD;EACH;;EAED,SAAO,IAAP;EACD,CAvDL;;EAyDApC,aAAavuB,SAAb,CAAuB8xB,kBAAvB,GACI,SAASA,kBAAT,CAA4BtS,IAA5B,EAAkC;EAChC,MAAIgQ,SAAJ,EAAeY,MAAf;;EAEAA,WAAS,KAAK3B,OAAd;EACA,MAAI,CAAC2B,MAAL,EACE,OAAO,IAAP;;EAEF;EACA,MAAI,CAACA,OAAOoB,cAAZ,EAA4B;EAC1B,QAAIlkB,UAAUtG,MAAV,KAAqB,CAAzB,EAA4B;EAC1B,WAAKynB,OAAL,GAAe,IAAIJ,aAAJ,EAAf;EACA,WAAKU,YAAL,GAAoB,CAApB;EACD,KAHD,MAGO,IAAIqB,OAAO5Q,IAAP,CAAJ,EAAkB;EACvB,UAAI,EAAE,KAAKuP,YAAP,KAAwB,CAA5B,EACE,KAAKN,OAAL,GAAe,IAAIJ,aAAJ,EAAf,CADF,KAGE,OAAO+B,OAAO5Q,IAAP,CAAP;EACH;EACD,WAAO,IAAP;EACD;;EAED;EACA,MAAIlS,UAAUtG,MAAV,KAAqB,CAAzB,EAA4B;EAC1B,QAAIymB,OAAOhsB,OAAOgsB,IAAP,CAAY2C,MAAZ,CAAX;EACA,SAAK,IAAI1oB,IAAI,CAAR,EAAW4M,GAAhB,EAAqB5M,IAAI+lB,KAAKzmB,MAA9B,EAAsC,EAAEU,CAAxC,EAA2C;EACzC4M,YAAMmZ,KAAK/lB,CAAL,CAAN;EACA,UAAI4M,QAAQ,gBAAZ,EAA8B;EAC9B,WAAKwd,kBAAL,CAAwBxd,GAAxB;EACD;EACD,SAAKwd,kBAAL,CAAwB,gBAAxB;EACA,SAAKrD,OAAL,GAAe,IAAIJ,aAAJ,EAAf;EACA,SAAKU,YAAL,GAAoB,CAApB;EACA,WAAO,IAAP;EACD;;EAEDS,cAAYY,OAAO5Q,IAAP,CAAZ;;EAEA,MAAI,OAAOgQ,SAAP,KAAqB,UAAzB,EAAqC;EACnC,SAAKgC,cAAL,CAAoBhS,IAApB,EAA0BgQ,SAA1B;EACD,GAFD,MAEO,IAAIA,SAAJ,EAAe;EACpB;EACA,OAAG;EACD,WAAKgC,cAAL,CAAoBhS,IAApB,EAA0BgQ,UAAUA,UAAUxoB,MAAV,GAAmB,CAA7B,CAA1B;EACD,KAFD,QAESwoB,UAAU,CAAV,CAFT;EAGD;;EAED,SAAO,IAAP;EACD,CAhDL;;EAkDAjB,aAAavuB,SAAb,CAAuBwvB,SAAvB,GAAmC,SAASA,SAAT,CAAmBhQ,IAAnB,EAAyB;EAC1D,MAAIuS,UAAJ;EACA,MAAI/R,GAAJ;EACA,MAAIoQ,SAAS,KAAK3B,OAAlB;;EAEA,MAAI,CAAC2B,MAAL,EACEpQ,MAAM,EAAN,CADF,KAEK;EACH+R,iBAAa3B,OAAO5Q,IAAP,CAAb;EACA,QAAI,CAACuS,UAAL,EACE/R,MAAM,EAAN,CADF,KAEK,IAAI,OAAO+R,UAAP,KAAsB,UAA1B,EACH/R,MAAM,CAAC+R,WAAWpB,QAAX,IAAuBoB,UAAxB,CAAN,CADG,KAGH/R,MAAMgS,gBAAgBD,UAAhB,CAAN;EACH;;EAED,SAAO/R,GAAP;EACD,CAlBD;;EAoBAuO,aAAa0D,aAAb,GAA6B,UAASjB,OAAT,EAAkBxR,IAAlB,EAAwB;EACnD,MAAI,OAAOwR,QAAQiB,aAAf,KAAiC,UAArC,EAAiD;EAC/C,WAAOjB,QAAQiB,aAAR,CAAsBzS,IAAtB,CAAP;EACD,GAFD,MAEO;EACL,WAAOyS,cAAc1sB,IAAd,CAAmByrB,OAAnB,EAA4BxR,IAA5B,CAAP;EACD;EACF,CAND;;EAQA+O,aAAavuB,SAAb,CAAuBiyB,aAAvB,GAAuCA,aAAvC;EACA,SAASA,aAAT,CAAuBzS,IAAvB,EAA6B;EAC3B,MAAI4Q,SAAS,KAAK3B,OAAlB;;EAEA,MAAI2B,MAAJ,EAAY;EACV,QAAI2B,aAAa3B,OAAO5Q,IAAP,CAAjB;;EAEA,QAAI,OAAOuS,UAAP,KAAsB,UAA1B,EAAsC;EACpC,aAAO,CAAP;EACD,KAFD,MAEO,IAAIA,UAAJ,EAAgB;EACrB,aAAOA,WAAW/qB,MAAlB;EACD;EACF;;EAED,SAAO,CAAP;EACD;;EAEDunB,aAAavuB,SAAb,CAAuBkyB,UAAvB,GAAoC,SAASA,UAAT,GAAsB;EACxD,SAAO,KAAKnD,YAAL,GAAoB,CAApB,GAAwBlgB,QAAQsjB,OAAR,CAAgB,KAAK1D,OAArB,CAAxB,GAAwD,EAA/D;EACD,CAFD;;EAIA;EACA,SAASoD,SAAT,CAAmBF,IAAnB,EAAyB5G,KAAzB,EAAgC;EAC9B,OAAK,IAAIrjB,IAAIqjB,KAAR,EAAetiB,IAAIf,IAAI,CAAvB,EAA0B7H,IAAI8xB,KAAK3qB,MAAxC,EAAgDyB,IAAI5I,CAApD,EAAuD6H,KAAK,CAAL,EAAQe,KAAK,CAApE,EACEkpB,KAAKjqB,CAAL,IAAUiqB,KAAKlpB,CAAL,CAAV;EACFkpB,OAAKxmB,GAAL;EACD;;EAED,SAASskB,UAAT,CAAoB2C,GAApB,EAAyB1qB,CAAzB,EAA4B;EAC1B,MAAI2qB,OAAO,IAAIhtB,KAAJ,CAAUqC,CAAV,CAAX;EACA,SAAOA,GAAP,EACE2qB,KAAK3qB,CAAL,IAAU0qB,IAAI1qB,CAAJ,CAAV;EACF,SAAO2qB,IAAP;EACD;;EAED,SAASL,eAAT,CAAyBI,GAAzB,EAA8B;EAC5B,MAAIpS,MAAM,IAAI3a,KAAJ,CAAU+sB,IAAIprB,MAAd,CAAV;EACA,OAAK,IAAIU,IAAI,CAAb,EAAgBA,IAAIsY,IAAIhZ,MAAxB,EAAgC,EAAEU,CAAlC,EAAqC;EACnCsY,QAAItY,CAAJ,IAAS0qB,IAAI1qB,CAAJ,EAAOipB,QAAP,IAAmByB,IAAI1qB,CAAJ,CAA5B;EACD;EACD,SAAOsY,GAAP;EACD;;;;;;;;;;MCzdKsS;;;EACJ,oBAAa5hB,MAAb,EAAqB;EAAA;;EAAA;;EAEnB,WAAKA,MAAL,GAAcjP,OAAO2N,MAAP,CAAc,EAAd,EAAkBsB,MAAlB,CAAd;EACA,QAAI6hB,eAAezyB,OAAOyyB,YAAP,IAAuBzyB,OAAO0yB,kBAAjD;EACA,WAAK/B,OAAL,GAAe,IAAI8B,YAAJ,EAAf;EACA,WAAKE,QAAL,GAAgB,OAAKhC,OAAL,CAAaiC,UAAb,EAAhB;EACA,WAAKD,QAAL,CAAcE,OAAd,CAAsB,OAAKlC,OAAL,CAAamC,WAAnC;EACA,WAAKxhB,IAAL,GAAYtC,SAAZ;EACA,WAAK2b,OAAL,GAAe,EAAf;EACA,WAAKY,WAAL,GAAmB,OAAK3a,MAAL,CAAY2a,WAAZ,IAA2B,CAA9C;EACA,WAAKwH,QAAL,GAAgB,CAAhB;;EAEA,WAAKC,cAAL,GAAsBhkB,SAAtB;EACA,WAAKikB,WAAL,GAAmBjkB,SAAnB;EACA,WAAKkkB,QAAL,GAAgBlkB,SAAhB;EACA,WAAKmkB,UAAL,GAAkB,EAAlB;EACA,WAAKC,YAAL,GAAoB,CAApB;EACA,WAAKC,SAAL,GAAiB,KAAjB;EACA,WAAKC,OAAL,GAAe,OAAK1iB,MAAL,CAAY2iB,MAAZ,IAAsB,GAArC;EACA;EACA,WAAKC,OAAL,GAAe,KAAf;EACA,WAAKpH,UAAL,GAAkB,IAAlB,CArBmB;EAsBnB,WAAKqH,UAAL,GAAkB,IAAlB,CAtBmB;EAAA;EAuBpB;;;;kCAMYC,YAAY;EAAA,UAClB/I,OADkB,GACD+I,UADC,CAClB/I,OADkB;EAAA,UACTrZ,IADS,GACDoiB,UADC,CACTpiB,IADS;;EAEvB,UAAIyB,OAAO4X,OAAX;EACA+I,iBAAW/I,OAAX,GAAqB,EAArB;EACA,UAAIrZ,IAAJ,EAAU;EACR,aAAKqiB,YAAL,CAAkB5gB,IAAlB;EACD;EACF;;;mCACaA,MAAM;EAClB,WAAK,IAAInL,IAAI,CAAb,EAAgBA,IAAImL,KAAK7L,MAAzB,EAAiCU,GAAjC,EAAsC;EACpCmL,aAAKnL,CAAL,EAAQ6lB,GAAR,GAAe1a,KAAKnL,CAAL,EAAQ6lB,GAAR,KAAgBze,SAAjB,GAA8B+D,KAAKnL,CAAL,EAAQgjB,GAAtC,GAA4C7X,KAAKnL,CAAL,EAAQ6lB,GAAlE;EACA,aAAK0F,UAAL,CAAgBrtB,IAAhB,CAAqBiN,KAAKnL,CAAL,CAArB;EACD;EACD,UAAI,KAAKurB,UAAL,CAAgBjsB,MAAhB,GAAyB,CAA7B,EAAgC;EAC9B,YAAI,KAAKgsB,QAAL,KAAkBlkB,SAAtB,EAAiC;EAC/B,eAAKkkB,QAAL,GAAgB,KAAKC,UAAL,CAAgB,CAAhB,EAAmB1F,GAAnC;EACD;EACD,YAAI,CAAC,KAAK0F,UAAL,CAAgB,KAAKA,UAAL,CAAgBjsB,MAAhB,GAAyB,CAAzC,EAA4CumB,GAA5C,GAAkD,KAAKyF,QAAxD,IAAoE,IAApE,GAA2E,KAAK3H,WAApF,EAAiG;EAC/F,eAAKqI,SAAL;EACD;EACF;EACF;;;kCAEY;EACX,UAAI,KAAKP,SAAT,EAAoB;EAClB;EACD;EACD,WAAKA,SAAL,GAAiB,IAAjB;EACA,UAAItgB,OAAO,KAAKogB,UAAhB;EACA,UAAIxI,UAAU,EAAd;EACA,UAAIkC,QAAQ,IAAZ;EACA,UAAI/B,SAAS/X,KAAKsa,KAAL,EAAb;EACA,aAAOvC,MAAP,EAAe;EACb,YAAI+I,aAAarB,SAASsB,UAAT,CAAoB,KAAKxiB,IAAzB,EAA+BwZ,MAA/B,CAAjB;EACAH,gBAAQ7kB,IAAR,CAAa+tB,UAAb;EACA,aAAKX,QAAL,GAAgBpI,OAAO2C,GAAvB;EACA3C,iBAAS/X,KAAKsa,KAAL,EAAT;EACD;EACD,UAAIna,SAASsf,SAASuB,WAAT,CAAqBpJ,OAArB,CAAb;EACA,UAAI;EACF,aAAKgG,OAAL,CAAaqD,eAAb,CAA6B9gB,OAAOA,MAApC,EAA4C,UAAUA,MAAV,EAAkB;EAC5D,cAAI+gB,cAAcpH,MAAM8D,OAAN,CAAcuD,kBAAd,EAAlB;EACAD,sBAAY/gB,MAAZ,GAAqBA,MAArB;EACA;EACA2Z,gBAAMlC,OAAN,CAAc7kB,IAAd,CAAmB;EACjBwN,kBAAMuZ,MAAMkG,QADK;EAEjBA,sBAAU7f,OAAO6f,QAFA;EAGjBhgB,kBAAMkhB;EAHW,WAAnB;;EAMApH,gBAAMkG,QAAN,IAAkB7f,OAAO6f,QAAzB;;EAEA,cAAI,CAAClG,MAAMmG,cAAX,EAA2B;EACzBnG,kBAAMmG,cAAN,GAAuBnG,MAAMsH,aAAN,CAAoBtH,MAAMjB,WAA1B,CAAvB;EACD;;EAED,cAAI,CAACiB,MAAMoG,WAAP,IAAsBpG,MAAMmG,cAAhC,EAAgD;EAC9CnG,kBAAMoG,WAAN,GAAoBpG,MAAMsH,aAAN,CAAoBtH,MAAMjB,WAAN,GAAoBiB,MAAMmG,cAAN,CAAqBD,QAA7D,CAApB;EACD;EACDlG,gBAAMwG,SAAN,GAAkB,KAAlB;;EAEA,cAAI,CAACxG,MAAMsG,UAAN,CAAiBjsB,MAAjB,GAA0B,CAA1B,IAA+B2lB,MAAMsG,UAAN,CAAiBtG,MAAMsG,UAAN,CAAiBjsB,MAAjB,GAA0B,CAA3C,EAA8CumB,GAA9C,GAAoDZ,MAAMqG,QAA1F,IAAsG,IAAtG,IAA8GrG,MAAMtB,WAAxH,EAAqI;EACnIsB,kBAAM+G,SAAN;EACD;;EAED,cAAI/G,MAAMT,UAAV,EAAsB;EACpBS,kBAAMT,UAAN;EACD;EACF,SA5BD,EA4BG,UAAChmB,CAAD,EAAO;EACR6G,kBAAQR,KAAR,CAAcrG,CAAd;EACD,SA9BD;EA+BD,OAhCD,CAgCE,OAAOsqB,GAAP,EAAY;EACZzjB,gBAAQR,KAAR,CAAcikB,GAAd;EACD;EACF;;;sCAEgB;EAAA;;EACf,UAAI,CAAC,KAAKuC,WAAN,IAAqB,CAAC,KAAKO,OAA/B,EAAwC;EACtC,aAAKC,UAAL,GAAkBW,WAAW,YAAM;EACjC,iBAAKC,aAAL;EACD,SAFiB,EAEf,GAFe,CAAlB;EAGA;EACD;EACD,UAAIJ,cAAc,KAAKhB,WAAL,CAAiBlgB,IAAnC;EACAkhB,kBAAY/U,KAAZ;EACA+U,kBAAYpB,OAAZ,CAAoB,KAAKF,QAAzB;EACA,UAAI9F,QAAQ,IAAZ;EACAuH,iBAAW,YAAM;EACfvH,cAAMwH,aAAN,CAAoB5uB,IAApB,CAAyB,MAAzB;EACD,OAFD,EAEGwuB,YAAY/gB,MAAZ,CAAmB6f,QAAnB,GAA8B,IAA9B,GAAqC,EAFxC;EAGA,WAAKC,cAAL,GAAsB,KAAKC,WAA3B;EACA,WAAKG,YAAL,GAAoB,KAAKJ,cAAL,CAAoB1f,IAAxC;EACA,WAAK2f,WAAL,GAAmB,KAAKkB,aAAL,CAAmB,KAAKvI,WAAxB,CAAnB;EACA,UAAI,KAAKoH,cAAT,EAAyB;EACvB,aAAKC,WAAL,GAAmB,KAAKkB,aAAL,CAAmB,KAAKvI,WAAL,GAAmB,KAAKoH,cAAL,CAAoBD,QAA1D,CAAnB;EACD;EACD,WAAK3C,IAAL,CAAU,kBAAV;EACD;;;6BAEO;EAAA;;EACN,UAAI,KAAKhE,UAAT,EAAqB;EACnB;EACD;EACD,WAAKoH,OAAL,GAAe,IAAf;EACA,UAAI,KAAK7C,OAAL,CAAa2D,KAAb,KAAuB,WAA3B,EAAwC;EACtC,aAAK3D,OAAL,CAAa4D,MAAb;EACD;EACD,UAAI1H,QAAQ,IAAZ;EACA,UAAM2H,YAAY,SAAZA,SAAY,GAAM;EACtB,YAAIP,cAAc,OAAKjB,cAAL,CAAoBjgB,IAAtC;EACAkhB,oBAAYpB,OAAZ,CAAoB,OAAKF,QAAzB;EACAsB,oBAAY/U,KAAZ;EACAkV,mBAAW,YAAM;EACfvH,gBAAMwH,aAAN,CAAoB5uB,IAApB,CAAyB,MAAzB;EACD,SAFD,EAEGwuB,YAAY/gB,MAAZ,CAAmB6f,QAAnB,GAA8B,IAA9B,GAAqC,EAFxC;EAGD,OAPD;;EASA,UAAI,CAAC,KAAKC,cAAV,EAA0B;EACxB,eAAO,IAAI3rB,OAAJ,CAAY,UAACumB,OAAD,EAAa;EAC9B,iBAAKxB,UAAL,GAAkBwB,OAAlB;EACD,SAFM,EAEJC,IAFI,CAEC,YAAM;EACZ,iBAAKzB,UAAL,GAAkB,IAAlB;EACAoI;EACD,SALM,CAAP;EAMD,OAPD,MAOO;EACLA;EACA,eAAOntB,QAAQumB,OAAR,EAAP;EACD;EACF;;;8BAEQ;EACP,UAAM6G,WAAW,KAAK9D,OAAtB;EACA,UAAI8D,SAASH,KAAT,KAAmB,SAAvB,EAAkC;EAChCG,iBAASC,OAAT;EACD;EACF;;;oCAEcphB,MAAM;EACnB,UAAI4M,YAAJ;EACA,WAAK,IAAItY,IAAI,CAAb,EAAgBA,IAAI,KAAK+iB,OAAL,CAAazjB,MAAjC,EAAyCU,GAAzC,EAA8C;EAC5C,YAAIkjB,SAAS,KAAKH,OAAL,CAAa/iB,CAAb,CAAb;EACA,YAAIkjB,OAAOxX,IAAP,IAAeA,IAAf,IAAwBwX,OAAOxX,IAAP,GAAcwX,OAAOiI,QAAtB,GAAkCzf,IAA7D,EAAmE;EACjE4M,gBAAM4K,MAAN;EACA;EACD;EACF;EACD,aAAO5K,GAAP;EACD;;;uCAEiB5O,MAAM;EACtB,WAAKA,IAAL,GAAYA,IAAZ;EACD;;;gCAEU;EACT,UAAI,KAAKmiB,UAAT,EAAqB;EACnBzzB,eAAO20B,YAAP,CAAoB,KAAKlB,UAAzB;EACD;EACD,WAAK9C,OAAL,CAAaiE,KAAb;EACD;;;0BAlKkB;EACjB,aAAO,KAAKxB,YAAZ;EACD;;;wBAkKUyB,KAAK;EACd,UAAIA,GAAJ,EAAS;EACP,aAAKlC,QAAL,CAAcmC,IAAd,CAAmBxnB,KAAnB,GAA2B,CAA3B;EACD,OAFD,MAEO;EACL,aAAKqlB,QAAL,CAAcmC,IAAd,CAAmBxnB,KAAnB,GAA2B,KAAKgmB,OAAhC;EACD;EACF;;;0BAEa;EACZ,aAAO,KAAKA,OAAZ;EACD;wBAEWuB,KAAK;EACf,UAAIA,MAAM,CAAV,EAAa;EACX,aAAKvB,OAAL,GAAe,CAAf;EACA,aAAKX,QAAL,CAAcmC,IAAd,CAAmBxnB,KAAnB,GAA2B,CAA3B;EACA;EACD,OAJD,MAIO,IAAIunB,MAAM,CAAV,EAAa;EAClB,aAAKvB,OAAL,GAAe,CAAf;EACA,aAAKX,QAAL,CAAcmC,IAAd,CAAmBxnB,KAAnB,GAA2B,CAA3B;EACA;EACD;;EAED,WAAKgmB,OAAL,GAAeuB,GAAf;EACA,WAAKlC,QAAL,CAAcmC,IAAd,CAAmBxnB,KAAnB,GAA2BunB,GAA3B;EACD;;;iCAEkBvjB,MAAMwZ,QAAQ;EAC/B,UAAI5X,SAAS,IAAID,UAAJ,CAAe6X,OAAO/X,IAAP,CAAYmD,UAAZ,GAAyB,CAAxC,CAAb;EACA,UAAI6e,OAAOvC,SAASwC,OAAT,CAAiB1jB,IAAjB,EAAuBwZ,OAAO/X,IAA9B,CAAX;EACAG,aAAO9K,GAAP,CAAW2sB,IAAX;EACA7hB,aAAO9K,GAAP,CAAW0iB,OAAO/X,IAAlB,EAAwB,CAAxB;EACA,aAAOG,MAAP;EACD;;;kCAEmByX,SAAS;EAC3B;EACA,UAAIzjB,SAAS,CAAb;EACA,WAAK,IAAIU,IAAI,CAAR,EAAWe,IAAIgiB,QAAQzjB,MAA5B,EAAoCU,IAAIe,CAAxC,EAA2Cf,GAA3C,EAAgD;EAC9CV,kBAAUyjB,QAAQ/iB,CAAR,EAAWsO,UAArB;EACD;;EAED,UAAIgK,MAAM,IAAIjN,UAAJ,CAAe/L,MAAf,CAAV;EACA,UAAImL,SAAS,CAAb;EACA;EACA,WAAK,IAAIzK,KAAI,CAAR,EAAWe,KAAIgiB,QAAQzjB,MAA5B,EAAoCU,KAAIe,EAAxC,EAA2Cf,IAA3C,EAAgD;EAC9CsY,YAAI9X,GAAJ,CAAQuiB,QAAQ/iB,EAAR,CAAR,EAAoByK,MAApB;EACAA,kBAAUsY,QAAQ/iB,EAAR,EAAWsO,UAArB;EACD;EACD,aAAOgK,GAAP;EACD;;;8BAEe5O,MAAMyB,MAAM;EAC1B,UAAIgiB,OAAO,IAAI9hB,UAAJ,CAAe,CAAf,CAAX;;EAEA;EACA8hB,WAAK,CAAL,IAAU,IAAV;EACAA,WAAK,CAAL,IAAU,IAAV;;EAEA;EACA;EACA;EACAA,WAAK,CAAL,IAAUA,KAAK,CAAL,IAAU,IAApB;;EAEA;EACAA,WAAK,CAAL,IAAU,OAASzjB,KAAK2jB,UAAL,GAAkB,CAAnB,IAAyB,CAA3C;;EAEA;EACAF,WAAK,CAAL,IAAUA,KAAK,CAAL,IAAW,OAAQzjB,KAAK4jB,eAAL,IAAwB,CAArD;;EAEA;EACA;EACAH,WAAK,CAAL,IAAUA,KAAK,CAAL,IAAW,OAAOzjB,KAAK6jB,YAAL,IAAqB,CAAjD;EACAJ,WAAK,CAAL,IAAU,OAAQzjB,KAAK6jB,YAAL,IAAqB,CAAvC;;EAEA;EACA;;EAEA;EACA;EACA;;EAEA;EACA,UAAIC,iBAAiBriB,KAAKmD,UAAL,GAAkB,CAAvC;;EAEA6e,WAAK,CAAL,IAAUA,KAAK,CAAL,IAAW,OAAOK,kBAAkB,EAA9C;EACAL,WAAK,CAAL,IAAU,OAAQK,kBAAkB,CAApC;EACAL,WAAK,CAAL,IAAU,OAAQK,kBAAkB,CAApC;;EAEA;EACAL,WAAK,CAAL,IAAUA,KAAK,CAAL,IAAU,IAApB;EACAA,WAAK,CAAL,IAAU,IAAV;;EAEA;EACA,aAAOA,IAAP;EACD;;;;IA7RoBtG;;;;;;ECDvB;;;MAGM4G;EACJ,wBAAazlB,KAAb,EAAoB;EAAA;;EAClB,SAAK0lB,IAAL,GAAY1lB,MAAM0lB,IAAlB;EACA,SAAKC,IAAL,GAAY3lB,MAAM2lB,IAAlB;EACA,SAAKzM,KAAL,GAAalZ,MAAMkZ,KAAnB;EACA,SAAKjY,SAAL,GAAiB,IAAjB;EACA,SAAKqO,KAAL,GAAa,IAAb;EACD;;;;oCAEc;EAAA;;EACb,UAAMsW,WAAY,KAAKD,IAAL,CAAU3J,WAAV,IAAyB,CAA3C;EACA,UAAM6J,WAAW,CAAC,KAAKH,IAAL,CAAU1J,WAAV,IAAyB,CAA1B,IAA+B,IAAhD;;EAEA,UAAM8J,MAAMF,WAAWC,QAAvB;EACA,UAAI,KAAK5kB,SAAT,EAAoB;EAClB;EACD;EACD,UAAI6kB,MAAM,GAAV,EAAe;EAAE;EACf,aAAK5M,KAAL,CAAW5J,KAAX,IAAoBwW,GAApB;EACA,aAAKH,IAAL,CAAUI,KAAV;EACA,aAAK9kB,SAAL,GAAiBujB,WAAW,YAAM;EAChC,gBAAKmB,IAAL,CAAUK,IAAV;EACA,gBAAK/kB,SAAL,GAAiB,IAAjB;EACD,SAHgB,EAGd6kB,GAHc,CAAjB;EAID,OAPD,MAOO,IAAIA,MAAM,CAAC,GAAX,EAAgB;EACrB,aAAK5M,KAAL,CAAW5J,KAAX,IAAoBwW,GAApB;EACD;EACF;;;gCAEU;EACT,WAAKxW,KAAL,GAAa,IAAb;EACA,WAAKoW,IAAL,GAAY,IAAZ;EACA,WAAKC,IAAL,GAAY,IAAZ;EACD;;;;;;;;;;;;;;EC7BH;;MACMM;;;;;;EACJ;;;;sCAIwB1I,YAAY;EAAA,UAC1BxC,OAD0B,GACdwC,UADc,CAC1BxC,OAD0B;;EAElC,UAAI,CAACA,QAAQzjB,MAAb,EAAqB;EACnB;EACD;;EAED,UAAI4uB,iBAAiB,IAArB;EACA,UAAIC,gBAAgB,IAApB;;EAEA,UAAI5I,WAAW6I,WAAX,IAA0B7I,WAAW6I,WAAX,CAAuB9uB,MAArD,EAA6D;EAC3D;EACAyjB,gBAAQqG,OAAR,CAAgBvjB,KAAhB,CAAsBkd,OAAtB,EAA+BwC,WAAW6I,WAA1C;EACD;;EAED;EACA,WAAK,IAAIpuB,IAAI,CAAR,EAAW6H,MAAMkb,QAAQzjB,MAA9B,EAAsCU,IAAI6H,GAA1C,EAA+C7H,GAA/C,EAAoD;EAClD,YAAMquB,UAAUtL,QAAQ/iB,CAAR,CAAhB;EACA,YAAIquB,QAAQvL,UAAZ,EAAwB;EACtBoL,2BAAiBluB,CAAjB;EACA;EACD;EACF;;EAED;EACA,WAAK,IAAIA,KAAI+iB,QAAQzjB,MAAR,GAAiB,CAA9B,EAAiCU,KAAI,CAArC,EAAwCA,IAAxC,EAA6C;EAC3C,YAAMquB,WAAUtL,QAAQ/iB,EAAR,CAAhB;;EAEA,YAAIquB,SAAQvL,UAAZ,EAAwB;EACtBqL,0BAAgBnuB,EAAhB;EACA;EACD;EACF;;EAED,UAAIkuB,mBAAmB,CAAvB,EAA0B;EACxBnL,gBAAQO,MAAR,CAAe,CAAf,EAAkB4K,iBAAiB,CAAnC;EACD;;EAED3I,iBAAWxC,OAAX,GAAqBA,QAAQnlB,KAAR,CAAc,CAAd,EAAiBuwB,aAAjB,CAArB;EACA,UAAMG,OAAOvL,QAAQnlB,KAAR,CAAcuwB,aAAd,CAAb;EACA,UAAI5I,WAAW6I,WAAf,EAA4B;EAC1B7I,mBAAW6I,WAAX,CAAuBlwB,IAAvB,CAA4B2H,KAA5B,CAAkC0f,WAAW6I,WAA7C,EAA0DE,IAA1D;EACD,OAFD,MAEO;EACL;EACA/I,mBAAW6I,WAAX,GAAyBE,IAAzB;EACD;EACF;;;EAED,yBAAe;EAAA;;EAAA;;EAEb,UAAKC,OAAL,GAAexxB,SAASxE,aAAT,CAAuB,QAAvB,CAAf;EACA,UAAKi2B,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BvxB,IAA1B,OAA5B;EACA,UAAKwxB,MAAL,GAAc,KAAd;EACA,UAAKC,eAAL,GAAuB,IAAvB;EACA,UAAKC,OAAL,GAAe,IAAf;EACA,UAAKC,eAAL,GAAuB,KAAvB;EACA,UAAKC,eAAL,GAAuB,KAAvB;EACA,UAAKzkB,IAAL;EATa;EAUd;;;;6BAEO;EAAA;;EACN,WAAKujB,IAAL,GAAY,IAAImB,WAAJ,CAAa/0B,OAAO2N,MAAP,CAAc;EACrCqV,gBAAQ,KAAKwR;EADwB,OAAd,EAEtB,EAAE9J,OAAO,EAAE/Z,OAAO,KAAKA,KAAd,EAAqBC,QAAQ,KAAKA,MAAlC,EAAT,EAFsB,CAAb,CAAZ;EAGA,WAAK+iB,IAAL,GAAY,IAAI9C,QAAJ,CAAa,EAAb,CAAZ;EACA,WAAKmE,MAAL,GAAc,KAAK3lB,WAAL,GAAd;EACA,WAAK4lB,UAAL,GAAkB,IAAIvB,YAAJ,CAAiB;EACjCE,cAAM,KAAKA,IADsB;EAEjCD,cAAM,KAAKA,IAFsB;EAGjCxM,eAAO;EAH0B,OAAjB,CAAlB;;EAMA,WAAK/b,aAAL,CAAmB,IAAI8pB,KAAJ,CAAU,SAAV,CAAnB;EACA,WAAKtB,IAAL,CAAU/J,SAAV,GAAsB,YAAM;EAC1B,YAAI,CAAC,OAAK6K,MAAV,EAAkB;EAChB,iBAAKl1B,WAAL,CAAiB,OAAKg1B,OAAtB;EACD;EACD,eAAKppB,aAAL,CAAmB,IAAI8pB,KAAJ,CAAU,SAAV,CAAnB;EACD,OALD;;EAOA,WAAKvB,IAAL,CAAUhE,EAAV,CAAa,kBAAb,EAAiC,KAAK8E,oBAAtC;EACD;;;6CAEuB;EACtB,WAAKQ,UAAL,CAAgBE,WAAhB;EACA,WAAKvB,IAAL,CAAUwB,WAAV;EACD;;;qCAEe;EACd,WAAKxB,IAAL,CAAUwB,WAAV;EACD;;;gCAEU;EACT,WAAKP,eAAL,GAAuB,KAAvB;EACA,WAAKC,eAAL,GAAuB,KAAvB;;EAEA,WAAKnB,IAAL,CAAUzhB,OAAV;EACA,WAAK0hB,IAAL,CAAU1hB,OAAV;EACA,WAAK8iB,MAAL,CAAYK,IAAZ;EACA,WAAK9X,KAAL,GAAa,IAAb;EACA,WAAK0X,UAAL,CAAgB/iB,OAAhB;EACA,WAAKyhB,IAAL,GAAY,IAAZ;EACA,WAAKC,IAAL,GAAY,IAAZ;EACA,WAAKoB,MAAL,GAAc,IAAd;EACD;;;sCAEgBxJ,YAAYuG,YAAY;EACvC;EACA,WAAK4B,IAAL,CAAU2B,WAAV,CAAsBvD,UAAtB;EACA,WAAK6B,IAAL,CAAU2B,WAAV,CAAsB/J,UAAtB;EACD;;;mCAEa7b,MAAM;EAClB,UAAI,KAAKmlB,eAAT,EAA0B;EACxB,aAAKnB,IAAL,CAAUzhB,OAAV;EACA,aAAKyhB,IAAL,GAAY,IAAI9C,QAAJ,CAAa,EAAb,CAAZ;EACD;EACD,WAAK8C,IAAL,CAAU6B,gBAAV,CAA2B7lB,IAA3B;EACA,WAAKmlB,eAAL,GAAuB,IAAvB;EACD;;;mCAEanlB,MAAM;EAClB,UAAI,KAAKklB,eAAT,EAA0B;EACxB,aAAKjB,IAAL,CAAU1hB,OAAV;EACA,aAAK0hB,IAAL,GAAY,IAAImB,WAAJ,CAAa/0B,OAAO2N,MAAP,CAAc;EACrCqV,kBAAQ,KAAKwR;EADwB,SAAd,EAEtB,EAAE9J,OAAO,EAAE/Z,OAAO,KAAKA,KAAd,EAAqBC,QAAQ,KAAKA,MAAlC,EAAT,EAFsB,CAAb,CAAZ;EAGD;EACD,WAAKgjB,IAAL,CAAUnI,gBAAV,CAA2B9b,IAA3B;EACA,WAAKklB,eAAL,GAAuB,IAAvB;EACD;;;6BAqGO;EAAA;;EACN,UAAI,KAAKF,eAAT,EAA0B;EACxB;EACD;;EAED,UAAI,KAAKD,MAAT,EAAiB;EACf,aAAKxiB,OAAL;EACA,aAAK7B,IAAL;EACD;EACD,WAAKskB,eAAL,GAAuBjvB,QAAQ+vB,GAAR,CAAY,CACjC,KAAK7B,IAAL,CAAUK,IAAV,EADiC,EAEjC,KAAKN,IAAL,CAAUM,IAAV,GAAiB/H,IAAjB,CAAsB,YAAM;EAC1B,eAAKyH,IAAL,CAAU+B,KAAV,GAAkB,IAAlB;EACD,OAFD,CAFiC,CAAZ,EAKpBxJ,IALoB,CAKf,YAAM;EACZ,eAAKyH,IAAL,CAAU+B,KAAV,GAAkB,KAAlB;EACA,eAAKV,MAAL,CAAYzX,KAAZ,CAAkB,YAAM;EACtB,cAAI,CAAC,OAAKA,KAAV,EAAiB;EACf,mBAAKA,KAAL,GAAa1L,KAAK4a,GAAL,EAAb;EACD;EACD,iBAAKgF,YAAL,GAAoB5f,KAAK4a,GAAL,KAAa,OAAKlP,KAAtC;EACA,iBAAKqW,IAAL,CAAU+B,QAAV,CAAmB,OAAKlE,YAAxB;EACD,SAND;;EAQA,eAAKkD,eAAL,GAAuB,IAAvB;EACA,eAAKD,MAAL,GAAc,IAAd;EACA,eAAKtpB,aAAL,CAAmB,IAAI8pB,KAAJ,CAAU,SAAV,CAAnB;EACA,eAAK9pB,aAAL,CAAmB,IAAI8pB,KAAJ,CAAU,MAAV,CAAnB;EACA,eAAKN,OAAL,GAAe,KAAf;EACD,OApBsB,CAAvB;EAqBD;;;8BAEQ;EACP,WAAKA,OAAL,GAAe,IAAf;EACA,WAAKjB,IAAL,CAAUK,KAAV;EACA,WAAKJ,IAAL,CAAUI,KAAV;;EAEA,WAAK5oB,aAAL,CAAmB,IAAI8pB,KAAJ,CAAU,OAAV,CAAnB;EACD;;;0BAzIY;EACX,aAAO,KAAK30B,YAAL,CAAkB,OAAlB,KAA8B,KAAKsnB,UAA1C;EACD;wBAEUqL,KAAK;EACd,WAAKxI,KAAL,CAAWkL,OAAX,GAAqB,cAArB;EACA,UAAMC,QAAQ,OAAO3C,GAAP,KAAe,QAAf,GAA6BA,GAA7B,UAAuCA,GAArD;EACA,WAAKzyB,YAAL,CAAkB,OAAlB,EAA2Bo1B,KAA3B;EACA,WAAKnL,KAAL,CAAW/Z,KAAX,GAAmBklB,KAAnB;EACA,WAAKrB,OAAL,CAAa7jB,KAAb,GAAqBuiB,GAArB;EACD;;;0BAEa;EACZ,aAAO,KAAK3yB,YAAL,CAAkB,QAAlB,CAAP;EACD;wBAEW2yB,KAAK;EACf,WAAKxI,KAAL,CAAWkL,OAAX,GAAqB,cAArB;EACA,UAAMC,QAAQ,OAAO3C,GAAP,KAAe,QAAf,GAA6BA,GAA7B,UAAuCA,GAArD;EACA,WAAKzyB,YAAL,CAAkB,QAAlB,EAA4Bo1B,KAA5B;EACA,WAAKnL,KAAL,CAAW9Z,MAAX,GAAoBilB,KAApB;EACA,WAAKrB,OAAL,CAAa5jB,MAAb,GAAsBsiB,GAAtB;EACD;;;0BAEiB;EAChB,UAAI,KAAKU,IAAL,IAAa,KAAKA,IAAL,CAAU/L,UAA3B,EAAuC;EACrC,eAAO,KAAK+L,IAAL,CAAU/L,UAAjB;EACD;EACD,aAAO,CAAP;EACD;;;0BAEkB;EACjB,UAAI,KAAK+L,IAAL,IAAa,KAAKA,IAAL,CAAU9L,WAA3B,EAAwC;EACtC,eAAO,KAAK8L,IAAL,CAAU9L,WAAjB;EACD;EACD,aAAO,CAAP;EACD;;;0BAEU;EACT,aAAO,KAAKvnB,YAAL,CAAkB,KAAlB,CAAP;EACD;wBAEQ2yB,KAAK;EACZ,WAAKzyB,YAAL,CAAkB,KAAlB,EAAyByyB,GAAzB;EACD;;;0BAEiB;EAChB,aAAO,KAAK2B,eAAL,GAAuB,KAAKjB,IAAL,CAAU5uB,UAAjC,GAA8C,CAArD;EACD;;;0BAEc;EACb,aAAO,KAAK6vB,eAAL,GAAuB,KAAKjB,IAAL,CAAUkC,OAAjC,GAA2C,KAAlD;EACD;;;0BAEkB;EACjB,aAAO,KAAKjB,eAAL,GAAuB,KAAKjB,IAAL,CAAU3J,WAAV,GAAwB,IAA/C,GAAsD,CAA7D;EACD;;;0BAEe;EACd,aAAO,KAAK6K,eAAL,GAAuB,KAAKnB,IAAL,CAAUvC,QAAjC,GAA4C,CAAnD;EACD;;;0BAEa;EACZ,aAAO,KAAKwD,OAAZ;EACD;;;0BAEmB;EAClB,UAAI,KAAKmB,YAAL,CAAkB,cAAlB,CAAJ,EAAuC;EACrC,eAAO,KAAKx1B,YAAL,CAAkB,cAAlB,CAAP;EACD,OAFD,MAEO;EACL,eAAO,GAAP;EACD;EACF;wBAEiB2yB,KAAK;EACrB,WAAKzyB,YAAL,CAAkB,cAAlB,EAAkCyyB,GAAlC;EACA,WAAKS,IAAL,CAAUqC,YAAV,GAAyB9C,GAAzB;EACA,WAAKU,IAAL,CAAUoC,YAAV,GAAyB9C,GAAzB;;EAEA,WAAK9nB,aAAL,CAAmB,IAAI8pB,KAAJ,CAAU,YAAV,CAAnB;EACD;;;0BAEY;EACX,UAAI,KAAKJ,eAAT,EAA0B;EACxB,eAAO,KAAKnB,IAAL,CAAUsC,KAAjB;EACD;EACD,aAAO,KAAP;EACD;;;0BAEe;EACd,UAAI,KAAKF,YAAL,CAAkB,UAAlB,CAAJ,EAAmC;EACjC,eAAO,KAAKx1B,YAAL,CAAkB,UAAlB,CAAP;EACD,OAFD,MAEO;EACL,eAAO,KAAP;EACD;EACF;wBACaoL,OAAO;EACnB,WAAKlL,YAAL,CAAkB,UAAlB,EAA8BkL,KAA9B;EACD;;;0BAyCa;EACZ,aAAO,KAAKgoB,IAAL,CAAU/B,MAAjB;EACD;wBAEWsE,KAAK;EACf,WAAKz1B,YAAL,CAAkB,QAAlB,EAA4By1B,GAA5B;EACA,WAAKvC,IAAL,CAAU/B,MAAV,GAAmBsE,GAAnB;EACD;;;0BAEY;EACX,UAAMC,YAAY,KAAK51B,YAAL,CAAkB,OAAlB,MAA+B,MAAjD;EACA,UAAI41B,cAAc9oB,SAAlB,EAA6B;EAC3B,eAAO8oB,SAAP;EACD,OAFD,MAEO,IAAI,KAAK51B,YAAL,CAAkB,QAAlB,CAAJ,EAAiC;EACtC,eAAO8rB,OAAOza,QAAP,CAAgB,KAAKrR,YAAL,CAAkB,QAAlB,CAAhB,MAAiD,CAAxD;EACD,OAFM,MAEA;EACL,eAAO,KAAP;EACD;EACF;wBAEU2yB,KAAK;EACd,WAAKzyB,YAAL,CAAkB,OAAlB,EAA2ByyB,GAA3B;EACA,UAAI,CAACA,GAAL,EAAU;EACR,aAAKS,IAAL,CAAU+B,KAAV,GAAkB,KAAlB;EACD,OAFD,MAEO;EACL,aAAK/B,IAAL,CAAU+B,KAAV,GAAkB,IAAlB;EACD;EACF;;;0BAEY;EACX,aAAO,KAAK9B,IAAL,CAAU9oB,KAAV,IAAmB,KAAK6oB,IAAL,CAAU7oB,KAApC;EACD;;;0BAEe;EACd,aAAO,KAAK8oB,IAAL,CAAUwC,QAAjB;EACD;;;;IAtTuBn0B;EAwT1B;;;EACA8K,eAAepG,MAAf,CAAsB,cAAtB,EAAsCutB,WAAtC;;;;"}