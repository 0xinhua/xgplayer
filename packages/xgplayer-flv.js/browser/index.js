window["FlvJsPlayer"] =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */

(function (global, factory) {
  ( false ? undefined : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
})(undefined, function () {
  'use strict';

  function objectOrFunction(x) {
    var type = typeof x === 'undefined' ? 'undefined' : _typeof(x);
    return x !== null && (type === 'object' || type === 'function');
  }

  function isFunction(x) {
    return typeof x === 'function';
  }

  var _isArray = void 0;
  if (Array.isArray) {
    _isArray = Array.isArray;
  } else {
    _isArray = function _isArray(x) {
      return Object.prototype.toString.call(x) === '[object Array]';
    };
  }

  var isArray = _isArray;

  var len = 0;
  var vertxNext = void 0;
  var customSchedulerFn = void 0;

  var asap = function asap(callback, arg) {
    queue[len] = callback;
    queue[len + 1] = arg;
    len += 2;
    if (len === 2) {
      // If len is 2, that means that we need to schedule an async flush.
      // If additional callbacks are queued before the queue is flushed, they
      // will be processed by this flush that we are scheduling.
      if (customSchedulerFn) {
        customSchedulerFn(flush);
      } else {
        scheduleFlush();
      }
    }
  };

  function setScheduler(scheduleFn) {
    customSchedulerFn = scheduleFn;
  }

  function setAsap(asapFn) {
    asap = asapFn;
  }

  var browserWindow = typeof window !== 'undefined' ? window : undefined;
  var browserGlobal = browserWindow || {};
  var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
  var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';

  // test for web worker but not in IE10
  var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';

  // node
  function useNextTick() {
    // node version 0.10.x displays a deprecation warning when nextTick is used recursively
    // see https://github.com/cujojs/when/issues/410 for details
    return function () {
      return process.nextTick(flush);
    };
  }

  // vertx
  function useVertxTimer() {
    if (typeof vertxNext !== 'undefined') {
      return function () {
        vertxNext(flush);
      };
    }

    return useSetTimeout();
  }

  function useMutationObserver() {
    var iterations = 0;
    var observer = new BrowserMutationObserver(flush);
    var node = document.createTextNode('');
    observer.observe(node, { characterData: true });

    return function () {
      node.data = iterations = ++iterations % 2;
    };
  }

  // web worker
  function useMessageChannel() {
    var channel = new MessageChannel();
    channel.port1.onmessage = flush;
    return function () {
      return channel.port2.postMessage(0);
    };
  }

  function useSetTimeout() {
    // Store setTimeout reference so es6-promise will be unaffected by
    // other code modifying setTimeout (like sinon.useFakeTimers())
    var globalSetTimeout = setTimeout;
    return function () {
      return globalSetTimeout(flush, 1);
    };
  }

  var queue = new Array(1000);
  function flush() {
    for (var i = 0; i < len; i += 2) {
      var callback = queue[i];
      var arg = queue[i + 1];

      callback(arg);

      queue[i] = undefined;
      queue[i + 1] = undefined;
    }

    len = 0;
  }

  function attemptVertx() {
    try {
      var vertx = Function('return this')().require('vertx');
      vertxNext = vertx.runOnLoop || vertx.runOnContext;
      return useVertxTimer();
    } catch (e) {
      return useSetTimeout();
    }
  }

  var scheduleFlush = void 0;
  // Decide what async method to use to triggering processing of queued callbacks:
  if (isNode) {
    scheduleFlush = useNextTick();
  } else if (BrowserMutationObserver) {
    scheduleFlush = useMutationObserver();
  } else if (isWorker) {
    scheduleFlush = useMessageChannel();
  } else if (browserWindow === undefined && "function" === 'function') {
    scheduleFlush = attemptVertx();
  } else {
    scheduleFlush = useSetTimeout();
  }

  function then(onFulfillment, onRejection) {
    var parent = this;

    var child = new this.constructor(noop);

    if (child[PROMISE_ID] === undefined) {
      makePromise(child);
    }

    var _state = parent._state;

    if (_state) {
      var callback = arguments[_state - 1];
      asap(function () {
        return invokeCallback(_state, child, callback, parent._result);
      });
    } else {
      subscribe(parent, child, onFulfillment, onRejection);
    }

    return child;
  }

  /**
    `Promise.resolve` returns a promise that will become resolved with the
    passed `value`. It is shorthand for the following:
  
    ```javascript
    let promise = new Promise(function(resolve, reject){
      resolve(1);
    });
  
    promise.then(function(value){
      // value === 1
    });
    ```
  
    Instead of writing the above, your code now simply becomes the following:
  
    ```javascript
    let promise = Promise.resolve(1);
  
    promise.then(function(value){
      // value === 1
    });
    ```
  
    @method resolve
    @static
    @param {Any} value value that the returned promise will be resolved with
    Useful for tooling.
    @return {Promise} a promise that will become fulfilled with the given
    `value`
  */
  function resolve$1(object) {
    /*jshint validthis:true */
    var Constructor = this;

    if (object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && object.constructor === Constructor) {
      return object;
    }

    var promise = new Constructor(noop);
    resolve(promise, object);
    return promise;
  }

  var PROMISE_ID = Math.random().toString(36).substring(2);

  function noop() {}

  var PENDING = void 0;
  var FULFILLED = 1;
  var REJECTED = 2;

  var TRY_CATCH_ERROR = { error: null };

  function selfFulfillment() {
    return new TypeError("You cannot resolve a promise with itself");
  }

  function cannotReturnOwn() {
    return new TypeError('A promises callback cannot return that same promise.');
  }

  function getThen(promise) {
    try {
      return promise.then;
    } catch (error) {
      TRY_CATCH_ERROR.error = error;
      return TRY_CATCH_ERROR;
    }
  }

  function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {
    try {
      then$$1.call(value, fulfillmentHandler, rejectionHandler);
    } catch (e) {
      return e;
    }
  }

  function handleForeignThenable(promise, thenable, then$$1) {
    asap(function (promise) {
      var sealed = false;
      var error = tryThen(then$$1, thenable, function (value) {
        if (sealed) {
          return;
        }
        sealed = true;
        if (thenable !== value) {
          resolve(promise, value);
        } else {
          fulfill(promise, value);
        }
      }, function (reason) {
        if (sealed) {
          return;
        }
        sealed = true;

        reject(promise, reason);
      }, 'Settle: ' + (promise._label || ' unknown promise'));

      if (!sealed && error) {
        sealed = true;
        reject(promise, error);
      }
    }, promise);
  }

  function handleOwnThenable(promise, thenable) {
    if (thenable._state === FULFILLED) {
      fulfill(promise, thenable._result);
    } else if (thenable._state === REJECTED) {
      reject(promise, thenable._result);
    } else {
      subscribe(thenable, undefined, function (value) {
        return resolve(promise, value);
      }, function (reason) {
        return reject(promise, reason);
      });
    }
  }

  function handleMaybeThenable(promise, maybeThenable, then$$1) {
    if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {
      handleOwnThenable(promise, maybeThenable);
    } else {
      if (then$$1 === TRY_CATCH_ERROR) {
        reject(promise, TRY_CATCH_ERROR.error);
        TRY_CATCH_ERROR.error = null;
      } else if (then$$1 === undefined) {
        fulfill(promise, maybeThenable);
      } else if (isFunction(then$$1)) {
        handleForeignThenable(promise, maybeThenable, then$$1);
      } else {
        fulfill(promise, maybeThenable);
      }
    }
  }

  function resolve(promise, value) {
    if (promise === value) {
      reject(promise, selfFulfillment());
    } else if (objectOrFunction(value)) {
      handleMaybeThenable(promise, value, getThen(value));
    } else {
      fulfill(promise, value);
    }
  }

  function publishRejection(promise) {
    if (promise._onerror) {
      promise._onerror(promise._result);
    }

    publish(promise);
  }

  function fulfill(promise, value) {
    if (promise._state !== PENDING) {
      return;
    }

    promise._result = value;
    promise._state = FULFILLED;

    if (promise._subscribers.length !== 0) {
      asap(publish, promise);
    }
  }

  function reject(promise, reason) {
    if (promise._state !== PENDING) {
      return;
    }
    promise._state = REJECTED;
    promise._result = reason;

    asap(publishRejection, promise);
  }

  function subscribe(parent, child, onFulfillment, onRejection) {
    var _subscribers = parent._subscribers;
    var length = _subscribers.length;

    parent._onerror = null;

    _subscribers[length] = child;
    _subscribers[length + FULFILLED] = onFulfillment;
    _subscribers[length + REJECTED] = onRejection;

    if (length === 0 && parent._state) {
      asap(publish, parent);
    }
  }

  function publish(promise) {
    var subscribers = promise._subscribers;
    var settled = promise._state;

    if (subscribers.length === 0) {
      return;
    }

    var child = void 0,
        callback = void 0,
        detail = promise._result;

    for (var i = 0; i < subscribers.length; i += 3) {
      child = subscribers[i];
      callback = subscribers[i + settled];

      if (child) {
        invokeCallback(settled, child, callback, detail);
      } else {
        callback(detail);
      }
    }

    promise._subscribers.length = 0;
  }

  function tryCatch(callback, detail) {
    try {
      return callback(detail);
    } catch (e) {
      TRY_CATCH_ERROR.error = e;
      return TRY_CATCH_ERROR;
    }
  }

  function invokeCallback(settled, promise, callback, detail) {
    var hasCallback = isFunction(callback),
        value = void 0,
        error = void 0,
        succeeded = void 0,
        failed = void 0;

    if (hasCallback) {
      value = tryCatch(callback, detail);

      if (value === TRY_CATCH_ERROR) {
        failed = true;
        error = value.error;
        value.error = null;
      } else {
        succeeded = true;
      }

      if (promise === value) {
        reject(promise, cannotReturnOwn());
        return;
      }
    } else {
      value = detail;
      succeeded = true;
    }

    if (promise._state !== PENDING) {
      // noop
    } else if (hasCallback && succeeded) {
      resolve(promise, value);
    } else if (failed) {
      reject(promise, error);
    } else if (settled === FULFILLED) {
      fulfill(promise, value);
    } else if (settled === REJECTED) {
      reject(promise, value);
    }
  }

  function initializePromise(promise, resolver) {
    try {
      resolver(function resolvePromise(value) {
        resolve(promise, value);
      }, function rejectPromise(reason) {
        reject(promise, reason);
      });
    } catch (e) {
      reject(promise, e);
    }
  }

  var id = 0;
  function nextId() {
    return id++;
  }

  function makePromise(promise) {
    promise[PROMISE_ID] = id++;
    promise._state = undefined;
    promise._result = undefined;
    promise._subscribers = [];
  }

  function validationError() {
    return new Error('Array Methods must be provided an Array');
  }

  var Enumerator = function () {
    function Enumerator(Constructor, input) {
      this._instanceConstructor = Constructor;
      this.promise = new Constructor(noop);

      if (!this.promise[PROMISE_ID]) {
        makePromise(this.promise);
      }

      if (isArray(input)) {
        this.length = input.length;
        this._remaining = input.length;

        this._result = new Array(this.length);

        if (this.length === 0) {
          fulfill(this.promise, this._result);
        } else {
          this.length = this.length || 0;
          this._enumerate(input);
          if (this._remaining === 0) {
            fulfill(this.promise, this._result);
          }
        }
      } else {
        reject(this.promise, validationError());
      }
    }

    Enumerator.prototype._enumerate = function _enumerate(input) {
      for (var i = 0; this._state === PENDING && i < input.length; i++) {
        this._eachEntry(input[i], i);
      }
    };

    Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {
      var c = this._instanceConstructor;
      var resolve$$1 = c.resolve;

      if (resolve$$1 === resolve$1) {
        var _then = getThen(entry);

        if (_then === then && entry._state !== PENDING) {
          this._settledAt(entry._state, i, entry._result);
        } else if (typeof _then !== 'function') {
          this._remaining--;
          this._result[i] = entry;
        } else if (c === Promise$1) {
          var promise = new c(noop);
          handleMaybeThenable(promise, entry, _then);
          this._willSettleAt(promise, i);
        } else {
          this._willSettleAt(new c(function (resolve$$1) {
            return resolve$$1(entry);
          }), i);
        }
      } else {
        this._willSettleAt(resolve$$1(entry), i);
      }
    };

    Enumerator.prototype._settledAt = function _settledAt(state, i, value) {
      var promise = this.promise;

      if (promise._state === PENDING) {
        this._remaining--;

        if (state === REJECTED) {
          reject(promise, value);
        } else {
          this._result[i] = value;
        }
      }

      if (this._remaining === 0) {
        fulfill(promise, this._result);
      }
    };

    Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {
      var enumerator = this;

      subscribe(promise, undefined, function (value) {
        return enumerator._settledAt(FULFILLED, i, value);
      }, function (reason) {
        return enumerator._settledAt(REJECTED, i, reason);
      });
    };

    return Enumerator;
  }();

  /**
    `Promise.all` accepts an array of promises, and returns a new promise which
    is fulfilled with an array of fulfillment values for the passed promises, or
    rejected with the reason of the first passed promise to be rejected. It casts all
    elements of the passed iterable to promises as it runs this algorithm.
  
    Example:
  
    ```javascript
    let promise1 = resolve(1);
    let promise2 = resolve(2);
    let promise3 = resolve(3);
    let promises = [ promise1, promise2, promise3 ];
  
    Promise.all(promises).then(function(array){
      // The array here would be [ 1, 2, 3 ];
    });
    ```
  
    If any of the `promises` given to `all` are rejected, the first promise
    that is rejected will be given as an argument to the returned promises's
    rejection handler. For example:
  
    Example:
  
    ```javascript
    let promise1 = resolve(1);
    let promise2 = reject(new Error("2"));
    let promise3 = reject(new Error("3"));
    let promises = [ promise1, promise2, promise3 ];
  
    Promise.all(promises).then(function(array){
      // Code here never runs because there are rejected promises!
    }, function(error) {
      // error.message === "2"
    });
    ```
  
    @method all
    @static
    @param {Array} entries array of promises
    @param {String} label optional string for labeling the promise.
    Useful for tooling.
    @return {Promise} promise that is fulfilled when all `promises` have been
    fulfilled, or rejected if any of them become rejected.
    @static
  */
  function all(entries) {
    return new Enumerator(this, entries).promise;
  }

  /**
    `Promise.race` returns a new promise which is settled in the same way as the
    first passed promise to settle.
  
    Example:
  
    ```javascript
    let promise1 = new Promise(function(resolve, reject){
      setTimeout(function(){
        resolve('promise 1');
      }, 200);
    });
  
    let promise2 = new Promise(function(resolve, reject){
      setTimeout(function(){
        resolve('promise 2');
      }, 100);
    });
  
    Promise.race([promise1, promise2]).then(function(result){
      // result === 'promise 2' because it was resolved before promise1
      // was resolved.
    });
    ```
  
    `Promise.race` is deterministic in that only the state of the first
    settled promise matters. For example, even if other promises given to the
    `promises` array argument are resolved, but the first settled promise has
    become rejected before the other promises became fulfilled, the returned
    promise will become rejected:
  
    ```javascript
    let promise1 = new Promise(function(resolve, reject){
      setTimeout(function(){
        resolve('promise 1');
      }, 200);
    });
  
    let promise2 = new Promise(function(resolve, reject){
      setTimeout(function(){
        reject(new Error('promise 2'));
      }, 100);
    });
  
    Promise.race([promise1, promise2]).then(function(result){
      // Code here never runs
    }, function(reason){
      // reason.message === 'promise 2' because promise 2 became rejected before
      // promise 1 became fulfilled
    });
    ```
  
    An example real-world use case is implementing timeouts:
  
    ```javascript
    Promise.race([ajax('foo.json'), timeout(5000)])
    ```
  
    @method race
    @static
    @param {Array} promises array of promises to observe
    Useful for tooling.
    @return {Promise} a promise which settles in the same way as the first passed
    promise to settle.
  */
  function race(entries) {
    /*jshint validthis:true */
    var Constructor = this;

    if (!isArray(entries)) {
      return new Constructor(function (_, reject) {
        return reject(new TypeError('You must pass an array to race.'));
      });
    } else {
      return new Constructor(function (resolve, reject) {
        var length = entries.length;
        for (var i = 0; i < length; i++) {
          Constructor.resolve(entries[i]).then(resolve, reject);
        }
      });
    }
  }

  /**
    `Promise.reject` returns a promise rejected with the passed `reason`.
    It is shorthand for the following:
  
    ```javascript
    let promise = new Promise(function(resolve, reject){
      reject(new Error('WHOOPS'));
    });
  
    promise.then(function(value){
      // Code here doesn't run because the promise is rejected!
    }, function(reason){
      // reason.message === 'WHOOPS'
    });
    ```
  
    Instead of writing the above, your code now simply becomes the following:
  
    ```javascript
    let promise = Promise.reject(new Error('WHOOPS'));
  
    promise.then(function(value){
      // Code here doesn't run because the promise is rejected!
    }, function(reason){
      // reason.message === 'WHOOPS'
    });
    ```
  
    @method reject
    @static
    @param {Any} reason value that the returned promise will be rejected with.
    Useful for tooling.
    @return {Promise} a promise rejected with the given `reason`.
  */
  function reject$1(reason) {
    /*jshint validthis:true */
    var Constructor = this;
    var promise = new Constructor(noop);
    reject(promise, reason);
    return promise;
  }

  function needsResolver() {
    throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
  }

  function needsNew() {
    throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
  }

  /**
    Promise objects represent the eventual result of an asynchronous operation. The
    primary way of interacting with a promise is through its `then` method, which
    registers callbacks to receive either a promise's eventual value or the reason
    why the promise cannot be fulfilled.
  
    Terminology
    -----------
  
    - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
    - `thenable` is an object or function that defines a `then` method.
    - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
    - `exception` is a value that is thrown using the throw statement.
    - `reason` is a value that indicates why a promise was rejected.
    - `settled` the final resting state of a promise, fulfilled or rejected.
  
    A promise can be in one of three states: pending, fulfilled, or rejected.
  
    Promises that are fulfilled have a fulfillment value and are in the fulfilled
    state.  Promises that are rejected have a rejection reason and are in the
    rejected state.  A fulfillment value is never a thenable.
  
    Promises can also be said to *resolve* a value.  If this value is also a
    promise, then the original promise's settled state will match the value's
    settled state.  So a promise that *resolves* a promise that rejects will
    itself reject, and a promise that *resolves* a promise that fulfills will
    itself fulfill.
  
  
    Basic Usage:
    ------------
  
    ```js
    let promise = new Promise(function(resolve, reject) {
      // on success
      resolve(value);
  
      // on failure
      reject(reason);
    });
  
    promise.then(function(value) {
      // on fulfillment
    }, function(reason) {
      // on rejection
    });
    ```
  
    Advanced Usage:
    ---------------
  
    Promises shine when abstracting away asynchronous interactions such as
    `XMLHttpRequest`s.
  
    ```js
    function getJSON(url) {
      return new Promise(function(resolve, reject){
        let xhr = new XMLHttpRequest();
  
        xhr.open('GET', url);
        xhr.onreadystatechange = handler;
        xhr.responseType = 'json';
        xhr.setRequestHeader('Accept', 'application/json');
        xhr.send();
  
        function handler() {
          if (this.readyState === this.DONE) {
            if (this.status === 200) {
              resolve(this.response);
            } else {
              reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
            }
          }
        };
      });
    }
  
    getJSON('/posts.json').then(function(json) {
      // on fulfillment
    }, function(reason) {
      // on rejection
    });
    ```
  
    Unlike callbacks, promises are great composable primitives.
  
    ```js
    Promise.all([
      getJSON('/posts'),
      getJSON('/comments')
    ]).then(function(values){
      values[0] // => postsJSON
      values[1] // => commentsJSON
  
      return values;
    });
    ```
  
    @class Promise
    @param {Function} resolver
    Useful for tooling.
    @constructor
  */

  var Promise$1 = function () {
    function Promise(resolver) {
      this[PROMISE_ID] = nextId();
      this._result = this._state = undefined;
      this._subscribers = [];

      if (noop !== resolver) {
        typeof resolver !== 'function' && needsResolver();
        this instanceof Promise ? initializePromise(this, resolver) : needsNew();
      }
    }

    /**
    The primary way of interacting with a promise is through its `then` method,
    which registers callbacks to receive either a promise's eventual value or the
    reason why the promise cannot be fulfilled.
     ```js
    findUser().then(function(user){
      // user is available
    }, function(reason){
      // user is unavailable, and you are given the reason why
    });
    ```
     Chaining
    --------
     The return value of `then` is itself a promise.  This second, 'downstream'
    promise is resolved with the return value of the first promise's fulfillment
    or rejection handler, or rejected if the handler throws an exception.
     ```js
    findUser().then(function (user) {
      return user.name;
    }, function (reason) {
      return 'default name';
    }).then(function (userName) {
      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
      // will be `'default name'`
    });
     findUser().then(function (user) {
      throw new Error('Found user, but still unhappy');
    }, function (reason) {
      throw new Error('`findUser` rejected and we're unhappy');
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
    });
    ```
    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
     ```js
    findUser().then(function (user) {
      throw new PedagogicalException('Upstream error');
    }).then(function (value) {
      // never reached
    }).then(function (value) {
      // never reached
    }, function (reason) {
      // The `PedgagocialException` is propagated all the way down to here
    });
    ```
     Assimilation
    ------------
     Sometimes the value you want to propagate to a downstream promise can only be
    retrieved asynchronously. This can be achieved by returning a promise in the
    fulfillment or rejection handler. The downstream promise will then be pending
    until the returned promise is settled. This is called *assimilation*.
     ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // The user's comments are now available
    });
    ```
     If the assimliated promise rejects, then the downstream promise will also reject.
     ```js
    findUser().then(function (user) {
      return findCommentsByAuthor(user);
    }).then(function (comments) {
      // If `findCommentsByAuthor` fulfills, we'll have the value here
    }, function (reason) {
      // If `findCommentsByAuthor` rejects, we'll have the reason here
    });
    ```
     Simple Example
    --------------
     Synchronous Example
     ```javascript
    let result;
     try {
      result = findResult();
      // success
    } catch(reason) {
      // failure
    }
    ```
     Errback Example
     ```js
    findResult(function(result, err){
      if (err) {
        // failure
      } else {
        // success
      }
    });
    ```
     Promise Example;
     ```javascript
    findResult().then(function(result){
      // success
    }, function(reason){
      // failure
    });
    ```
     Advanced Example
    --------------
     Synchronous Example
     ```javascript
    let author, books;
     try {
      author = findAuthor();
      books  = findBooksByAuthor(author);
      // success
    } catch(reason) {
      // failure
    }
    ```
     Errback Example
     ```js
     function foundBooks(books) {
     }
     function failure(reason) {
     }
     findAuthor(function(author, err){
      if (err) {
        failure(err);
        // failure
      } else {
        try {
          findBoooksByAuthor(author, function(books, err) {
            if (err) {
              failure(err);
            } else {
              try {
                foundBooks(books);
              } catch(reason) {
                failure(reason);
              }
            }
          });
        } catch(error) {
          failure(err);
        }
        // success
      }
    });
    ```
     Promise Example;
     ```javascript
    findAuthor().
      then(findBooksByAuthor).
      then(function(books){
        // found books
    }).catch(function(reason){
      // something went wrong
    });
    ```
     @method then
    @param {Function} onFulfilled
    @param {Function} onRejected
    Useful for tooling.
    @return {Promise}
    */

    /**
    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
    as the catch block of a try/catch statement.
    ```js
    function findAuthor(){
    throw new Error('couldn't find that author');
    }
    // synchronous
    try {
    findAuthor();
    } catch(reason) {
    // something went wrong
    }
    // async with promises
    findAuthor().catch(function(reason){
    // something went wrong
    });
    ```
    @method catch
    @param {Function} onRejection
    Useful for tooling.
    @return {Promise}
    */

    Promise.prototype.catch = function _catch(onRejection) {
      return this.then(null, onRejection);
    };

    /**
      `finally` will be invoked regardless of the promise's fate just as native
      try/catch/finally behaves
    
      Synchronous example:
    
      ```js
      findAuthor() {
        if (Math.random() > 0.5) {
          throw new Error();
        }
        return new Author();
      }
    
      try {
        return findAuthor(); // succeed or fail
      } catch(error) {
        return findOtherAuther();
      } finally {
        // always runs
        // doesn't affect the return value
      }
      ```
    
      Asynchronous example:
    
      ```js
      findAuthor().catch(function(reason){
        return findOtherAuther();
      }).finally(function(){
        // author was either found, or not
      });
      ```
    
      @method finally
      @param {Function} callback
      @return {Promise}
    */

    Promise.prototype.finally = function _finally(callback) {
      var promise = this;
      var constructor = promise.constructor;

      if (isFunction(callback)) {
        return promise.then(function (value) {
          return constructor.resolve(callback()).then(function () {
            return value;
          });
        }, function (reason) {
          return constructor.resolve(callback()).then(function () {
            throw reason;
          });
        });
      }

      return promise.then(callback, callback);
    };

    return Promise;
  }();

  Promise$1.prototype.then = then;
  Promise$1.all = all;
  Promise$1.race = race;
  Promise$1.resolve = resolve$1;
  Promise$1.reject = reject$1;
  Promise$1._setScheduler = setScheduler;
  Promise$1._setAsap = setAsap;
  Promise$1._asap = asap;

  /*global self*/
  function polyfill() {
    var local = void 0;

    if (typeof global !== 'undefined') {
      local = global;
    } else if (typeof self !== 'undefined') {
      local = self;
    } else {
      try {
        local = Function('return this')();
      } catch (e) {
        throw new Error('polyfill failed because global object is unavailable in this environment');
      }
    }

    var P = local.Promise;

    if (P) {
      var promiseToString = null;
      try {
        promiseToString = Object.prototype.toString.call(P.resolve());
      } catch (e) {
        // silently ignored
      }

      if (promiseToString === '[object Promise]' && !P.cast) {
        return;
      }
    }

    local.Promise = Promise$1;
  }

  // Strange compat..
  Promise$1.polyfill = polyfill;
  Promise$1.Promise = Promise$1;

  return Promise$1;
});

//# sourceMappingURL=es6-promise.map
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function (n) {
  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function (type) {
  var er, handler, len, args, i, listeners;

  if (!this._events) this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      } else {
        // At least give some kind of context to the user
        var err = new Error('Uncaught, unspecified "error" event. (' + er + ')');
        err.context = er;
        throw err;
      }
    }
  }

  handler = this._events[type];

  if (isUndefined(handler)) return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    args = Array.prototype.slice.call(arguments, 1);
    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++) {
      listeners[i].apply(this, args);
    }
  }

  return true;
};

EventEmitter.prototype.addListener = function (type, listener) {
  var m;

  if (!isFunction(listener)) throw TypeError('listener must be a function');

  if (!this._events) this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function (type, listener) {
  if (!isFunction(listener)) throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function (type, listener) {
  var list, position, length, i;

  if (!isFunction(listener)) throw TypeError('listener must be a function');

  if (!this._events || !this._events[type]) return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener || isFunction(list.listener) && list.listener === listener) {
    delete this._events[type];
    if (this._events.removeListener) this.emit('removeListener', type, listener);
  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener || list[i].listener && list[i].listener === listener) {
        position = i;
        break;
      }
    }

    if (position < 0) return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener) this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function (type) {
  var key, listeners;

  if (!this._events) return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else if (listeners) {
    // LIFO order
    while (listeners.length) {
      this.removeListener(type, listeners[listeners.length - 1]);
    }
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function (type) {
  var ret;
  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();
  return ret;
};

EventEmitter.prototype.listenerCount = function (type) {
  if (this._events) {
    var evlistener = this._events[type];

    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;
  }
  return 0;
};

EventEmitter.listenerCount = function (emitter, type) {
  return emitter.listenerCount(type);
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
})();
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }
}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) {
    return [];
};

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () {
    return '/';
};
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function () {
    return 0;
};

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var g;

// This works in non-strict mode
g = function () {
	return this;
}();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;

/***/ }),

/***/ "./node_modules/webworkify/index.js":
/*!******************************************!*\
  !*** ./node_modules/webworkify/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var bundleFn = arguments[3];
var sources = arguments[4];
var cache = arguments[5];

var stringify = JSON.stringify;

module.exports = function (fn, options) {
    var wkey;
    var cacheKeys = Object.keys(cache);

    for (var i = 0, l = cacheKeys.length; i < l; i++) {
        var key = cacheKeys[i];
        var exp = cache[key].exports;
        // Using babel as a transpiler to use esmodule, the export will always
        // be an object with the default export as a property of it. To ensure
        // the existing api and babel esmodule exports are both supported we
        // check for both
        if (exp === fn || exp && exp.default === fn) {
            wkey = key;
            break;
        }
    }

    if (!wkey) {
        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
        var wcache = {};
        for (var i = 0, l = cacheKeys.length; i < l; i++) {
            var key = cacheKeys[i];
            wcache[key] = key;
        }
        sources[wkey] = ['function(require,module,exports){' + fn + '(self); }', wcache];
    }
    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);

    var scache = {};scache[wkey] = wkey;
    sources[skey] = ['function(require,module,exports){' +
    // try to call default if defined to also support babel esmodule exports
    'var f = require(' + stringify(wkey) + ');' + '(f.default ? f.default : f)(self);' + '}', scache];

    var workerSources = {};
    resolveSources(skey);

    function resolveSources(key) {
        workerSources[key] = true;

        for (var depPath in sources[key][1]) {
            var depKey = sources[key][1][depPath];
            if (!workerSources[depKey]) {
                resolveSources(depKey);
            }
        }
    }

    var src = '(' + bundleFn + ')({' + Object.keys(workerSources).map(function (key) {
        return stringify(key) + ':[' + sources[key][0] + ',' + stringify(sources[key][1]) + ']';
    }).join(',') + '},{},[' + stringify(skey) + '])';

    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;

    var blob = new Blob([src], { type: 'text/javascript' });
    if (options && options.bare) {
        return blob;
    }
    var workerUrl = URL.createObjectURL(blob);
    var worker = new Worker(workerUrl);
    worker.objectURL = workerUrl;
    return worker;
};

/***/ }),

/***/ "./src/flv/config.js":
/*!***************************!*\
  !*** ./src/flv/config.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createDefaultConfig = createDefaultConfig;
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var defaultConfig = exports.defaultConfig = {
    enableWorker: false,
    enableStashBuffer: true,
    stashInitialSize: undefined,

    isLive: false,

    lazyLoad: true,
    lazyLoadMaxDuration: 3 * 60,
    lazyLoadRecoverDuration: 30,
    deferLoadAfterSourceOpen: true,

    // autoCleanupSourceBuffer: default as false, leave unspecified
    autoCleanupMaxBackwardDuration: 3 * 60,
    autoCleanupMinBackwardDuration: 2 * 60,

    statisticsInfoReportInterval: 600,

    fixAudioTimestampGap: true,

    accurateSeek: false,
    seekType: 'range', // [range, param, custom]
    seekParamStart: 'bstart',
    seekParamEnd: 'bend',
    rangeLoadZeroStart: false,
    customSeekHandler: undefined,
    reuseRedirectedURL: false
    // referrerPolicy: leave as unspecified
};

function createDefaultConfig() {
    return Object.assign({}, defaultConfig);
}

/***/ }),

/***/ "./src/flv/core/features.js":
/*!**********************************!*\
  !*** ./src/flv/core/features.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _ioController = __webpack_require__(/*! ../io/io-controller.js */ "./src/flv/io/io-controller.js");

var _ioController2 = _interopRequireDefault(_ioController);

var _config = __webpack_require__(/*! ../config.js */ "./src/flv/config.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Features = function () {
    function Features() {
        _classCallCheck(this, Features);
    }

    _createClass(Features, null, [{
        key: 'supportMSEH264Playback',
        value: function supportMSEH264Playback() {
            return window.MediaSource && window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
        }
    }, {
        key: 'supportNetworkStreamIO',
        value: function supportNetworkStreamIO() {
            var ioctl = new _ioController2.default({}, (0, _config.createDefaultConfig)());
            var loaderType = ioctl.loaderType;
            ioctl.destroy();
            return loaderType == 'fetch-stream-loader' || loaderType == 'xhr-moz-chunked-loader';
        }
    }, {
        key: 'getNetworkLoaderTypeName',
        value: function getNetworkLoaderTypeName() {
            var ioctl = new _ioController2.default({}, (0, _config.createDefaultConfig)());
            var loaderType = ioctl.loaderType;
            ioctl.destroy();
            return loaderType;
        }
    }, {
        key: 'supportNativeMediaPlayback',
        value: function supportNativeMediaPlayback(mimeType) {
            if (Features.videoElement == undefined) {
                Features.videoElement = window.document.createElement('video');
            }
            var canPlay = Features.videoElement.canPlayType(mimeType);
            return canPlay === 'probably' || canPlay == 'maybe';
        }
    }, {
        key: 'getFeatureList',
        value: function getFeatureList() {
            var features = {
                mseFlvPlayback: false,
                mseLiveFlvPlayback: false,
                networkStreamIO: false,
                networkLoaderName: '',
                nativeMP4H264Playback: false,
                nativeWebmVP8Playback: false,
                nativeWebmVP9Playback: false
            };

            features.mseFlvPlayback = Features.supportMSEH264Playback();
            features.networkStreamIO = Features.supportNetworkStreamIO();
            features.networkLoaderName = Features.getNetworkLoaderTypeName();
            features.mseLiveFlvPlayback = features.mseFlvPlayback && features.networkStreamIO;
            features.nativeMP4H264Playback = Features.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"');
            features.nativeWebmVP8Playback = Features.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"');
            features.nativeWebmVP9Playback = Features.supportNativeMediaPlayback('video/webm; codecs="vp9"');

            return features;
        }
    }]);

    return Features;
}();

exports.default = Features;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/media-info.js":
/*!************************************!*\
  !*** ./src/flv/core/media-info.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var MediaInfo = function () {
    function MediaInfo() {
        _classCallCheck(this, MediaInfo);

        this.mimeType = null;
        this.duration = null;

        this.hasAudio = null;
        this.hasVideo = null;
        this.audioCodec = null;
        this.videoCodec = null;
        this.audioDataRate = null;
        this.videoDataRate = null;

        this.audioSampleRate = null;
        this.audioChannelCount = null;

        this.width = null;
        this.height = null;
        this.fps = null;
        this.profile = null;
        this.level = null;
        this.refFrames = null;
        this.chromaFormat = null;
        this.sarNum = null;
        this.sarDen = null;

        this.metadata = null;
        this.segments = null; // MediaInfo[]
        this.segmentCount = null;
        this.hasKeyframesIndex = null;
        this.keyframesIndex = null;
    }

    _createClass(MediaInfo, [{
        key: "isComplete",
        value: function isComplete() {
            var audioInfoComplete = this.hasAudio === false || this.hasAudio === true && this.audioCodec != null && this.audioSampleRate != null && this.audioChannelCount != null;

            var videoInfoComplete = this.hasVideo === false || this.hasVideo === true && this.videoCodec != null && this.width != null && this.height != null && this.fps != null && this.profile != null && this.level != null && this.refFrames != null && this.chromaFormat != null && this.sarNum != null && this.sarDen != null;

            // keyframesIndex may not be present
            return this.mimeType != null && this.duration != null && this.metadata != null && this.hasKeyframesIndex != null && audioInfoComplete && videoInfoComplete;
        }
    }, {
        key: "isSeekable",
        value: function isSeekable() {
            return this.hasKeyframesIndex === true;
        }
    }, {
        key: "getNearestKeyframe",
        value: function getNearestKeyframe(milliseconds) {
            if (this.keyframesIndex == null) {
                return null;
            }

            var table = this.keyframesIndex;
            var keyframeIdx = this._search(table.times, milliseconds);

            return {
                index: keyframeIdx,
                milliseconds: table.times[keyframeIdx],
                fileposition: table.filepositions[keyframeIdx]
            };
        }
    }, {
        key: "_search",
        value: function _search(list, value) {
            var idx = 0;

            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (value < list[0]) {
                idx = 0;
                lbound = ubound + 1; // skip search
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || value >= list[mid] && value < list[mid + 1]) {
                    idx = mid;
                    break;
                } else if (list[mid] < value) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }

            return idx;
        }
    }]);

    return MediaInfo;
}();

exports.default = MediaInfo;
module.exports = exports["default"];

/***/ }),

/***/ "./src/flv/core/media-segment-info.js":
/*!********************************************!*\
  !*** ./src/flv/core/media-segment-info.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// Represents an media sample (audio / video)
var SampleInfo = exports.SampleInfo = function SampleInfo(dts, pts, duration, originalDts, isSync) {
    _classCallCheck(this, SampleInfo);

    this.dts = dts;
    this.pts = pts;
    this.duration = duration;
    this.originalDts = originalDts;
    this.isSyncPoint = isSync;
    this.fileposition = null;
};

// Media Segment concept is defined in Media Source Extensions spec.
// Particularly in ISO BMFF format, an Media Segment contains a moof box followed by a mdat box.


var MediaSegmentInfo = exports.MediaSegmentInfo = function () {
    function MediaSegmentInfo() {
        _classCallCheck(this, MediaSegmentInfo);

        this.beginDts = 0;
        this.endDts = 0;
        this.beginPts = 0;
        this.endPts = 0;
        this.originalBeginDts = 0;
        this.originalEndDts = 0;
        this.syncPoints = []; // SampleInfo[n], for video IDR frames only
        this.firstSample = null; // SampleInfo
        this.lastSample = null; // SampleInfo
    }

    _createClass(MediaSegmentInfo, [{
        key: "appendSyncPoint",
        value: function appendSyncPoint(sampleInfo) {
            // also called Random Access Point
            sampleInfo.isSyncPoint = true;
            this.syncPoints.push(sampleInfo);
        }
    }]);

    return MediaSegmentInfo;
}();

// Ordered list for recording video IDR frames, sorted by originalDts


var IDRSampleList = exports.IDRSampleList = function () {
    function IDRSampleList() {
        _classCallCheck(this, IDRSampleList);

        this._list = [];
    }

    _createClass(IDRSampleList, [{
        key: "clear",
        value: function clear() {
            this._list = [];
        }
    }, {
        key: "appendArray",
        value: function appendArray(syncPoints) {
            var list = this._list;

            if (syncPoints.length === 0) {
                return;
            }

            if (list.length > 0 && syncPoints[0].originalDts < list[list.length - 1].originalDts) {
                this.clear();
            }

            Array.prototype.push.apply(list, syncPoints);
        }
    }, {
        key: "getLastSyncPointBeforeDts",
        value: function getLastSyncPointBeforeDts(dts) {
            if (this._list.length == 0) {
                return null;
            }

            var list = this._list;
            var idx = 0;
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (dts < list[0].dts) {
                idx = 0;
                lbound = ubound + 1;
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || dts >= list[mid].dts && dts < list[mid + 1].dts) {
                    idx = mid;
                    break;
                } else if (list[mid].dts < dts) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
            return this._list[idx];
        }
    }]);

    return IDRSampleList;
}();

// Data structure for recording information of media segments in single track.


var MediaSegmentInfoList = exports.MediaSegmentInfoList = function () {
    function MediaSegmentInfoList(type) {
        _classCallCheck(this, MediaSegmentInfoList);

        this._type = type;
        this._list = [];
        this._lastAppendLocation = -1; // cached last insert location
    }

    _createClass(MediaSegmentInfoList, [{
        key: "isEmpty",
        value: function isEmpty() {
            return this._list.length === 0;
        }
    }, {
        key: "clear",
        value: function clear() {
            this._list = [];
            this._lastAppendLocation = -1;
        }
    }, {
        key: "_searchNearestSegmentBefore",
        value: function _searchNearestSegmentBefore(originalBeginDts) {
            var list = this._list;
            if (list.length === 0) {
                return -2;
            }
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            var idx = 0;

            if (originalBeginDts < list[0].originalBeginDts) {
                idx = -1;
                return idx;
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || originalBeginDts > list[mid].lastSample.originalDts && originalBeginDts < list[mid + 1].originalBeginDts) {
                    idx = mid;
                    break;
                } else if (list[mid].originalBeginDts < originalBeginDts) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
            return idx;
        }
    }, {
        key: "_searchNearestSegmentAfter",
        value: function _searchNearestSegmentAfter(originalBeginDts) {
            return this._searchNearestSegmentBefore(originalBeginDts) + 1;
        }
    }, {
        key: "append",
        value: function append(mediaSegmentInfo) {
            var list = this._list;
            var msi = mediaSegmentInfo;
            var lastAppendIdx = this._lastAppendLocation;
            var insertIdx = 0;

            if (lastAppendIdx !== -1 && lastAppendIdx < list.length && msi.originalBeginDts >= list[lastAppendIdx].lastSample.originalDts && (lastAppendIdx === list.length - 1 || lastAppendIdx < list.length - 1 && msi.originalBeginDts < list[lastAppendIdx + 1].originalBeginDts)) {
                insertIdx = lastAppendIdx + 1; // use cached location idx
            } else {
                if (list.length > 0) {
                    insertIdx = this._searchNearestSegmentBefore(msi.originalBeginDts) + 1;
                }
            }

            this._lastAppendLocation = insertIdx;
            this._list.splice(insertIdx, 0, msi);
        }
    }, {
        key: "getLastSegmentBefore",
        value: function getLastSegmentBefore(originalBeginDts) {
            var idx = this._searchNearestSegmentBefore(originalBeginDts);
            if (idx >= 0) {
                return this._list[idx];
            } else {
                // -1
                return null;
            }
        }
    }, {
        key: "getLastSampleBefore",
        value: function getLastSampleBefore(originalBeginDts) {
            var segment = this.getLastSegmentBefore(originalBeginDts);
            if (segment != null) {
                return segment.lastSample;
            } else {
                return null;
            }
        }
    }, {
        key: "getLastSyncPointBefore",
        value: function getLastSyncPointBefore(originalBeginDts) {
            var segmentIdx = this._searchNearestSegmentBefore(originalBeginDts);
            var syncPoints = this._list[segmentIdx].syncPoints;
            while (syncPoints.length === 0 && segmentIdx > 0) {
                segmentIdx--;
                syncPoints = this._list[segmentIdx].syncPoints;
            }
            if (syncPoints.length > 0) {
                return syncPoints[syncPoints.length - 1];
            } else {
                return null;
            }
        }
    }, {
        key: "type",
        get: function get() {
            return this._type;
        }
    }, {
        key: "length",
        get: function get() {
            return this._list.length;
        }
    }]);

    return MediaSegmentInfoList;
}();

/***/ }),

/***/ "./src/flv/core/mse-controller.js":
/*!****************************************!*\
  !*** ./src/flv/core/mse-controller.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _mseEvents = __webpack_require__(/*! ./mse-events.js */ "./src/flv/core/mse-events.js");

var _mseEvents2 = _interopRequireDefault(_mseEvents);

var _mediaSegmentInfo = __webpack_require__(/*! ./media-segment-info.js */ "./src/flv/core/media-segment-info.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Media Source Extensions controller
var MSEController = function () {
    function MSEController(config) {
        _classCallCheck(this, MSEController);

        this.TAG = 'MSEController';

        this._config = config;
        this._emitter = new _events2.default();

        if (this._config.isLive && this._config.autoCleanupSourceBuffer == undefined) {
            // For live stream, do auto cleanup by default
            this._config.autoCleanupSourceBuffer = true;
        }
        this.definitionChange = false;
        this.e = {
            onSourceOpen: this._onSourceOpen.bind(this),
            onSourceEnded: this._onSourceEnded.bind(this),
            onSourceClose: this._onSourceClose.bind(this),
            onSourceBufferError: this._onSourceBufferError.bind(this),
            onSourceBufferUpdateEnd: this._onSourceBufferUpdateEnd.bind(this)
        };

        this._mediaSource = null;
        this._mediaSourceObjectURL = null;
        this._mediaElement = null;

        this._isBufferFull = false;
        this._hasPendingEos = false;

        this._requireSetMediaDuration = false;
        this._pendingMediaDuration = 0;

        this._pendingSourceBufferInit = [];
        this._mimeTypes = {
            video: null,
            audio: null
        };
        this._sourceBuffers = {
            video: null,
            audio: null
        };
        this._lastInitSegments = {
            video: null,
            audio: null
        };
        this._pendingSegments = {
            video: [],
            audio: []
        };
        this._pendingRemoveRanges = {
            video: [],
            audio: []
        };
        this._idrList = new _mediaSegmentInfo.IDRSampleList();
    }

    _createClass(MSEController, [{
        key: 'destroy',
        value: function destroy() {
            if (this._mediaElement || this._mediaSource) {
                this.detachMediaElement();
            }
            this.e = null;
            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'attachMediaElement',
        value: function attachMediaElement(mediaElement) {
            if (this._mediaSource) {
                throw new _exception.IllegalStateException('MediaSource has been attached to an HTMLMediaElement!');
            }
            var ms = this._mediaSource = new window.MediaSource();
            ms.addEventListener('sourceopen', this.e.onSourceOpen);
            ms.addEventListener('sourceended', this.e.onSourceEnded);
            ms.addEventListener('sourceclose', this.e.onSourceClose);

            this._mediaElement = mediaElement;
            this._mediaSourceObjectURL = window.URL.createObjectURL(this._mediaSource);
            mediaElement.src = this._mediaSourceObjectURL;
        }
    }, {
        key: 'detachMediaElement',
        value: function detachMediaElement() {
            if (this._mediaSource) {
                var ms = this._mediaSource;
                for (var type in this._sourceBuffers) {
                    // pending segments should be discard
                    var ps = this._pendingSegments[type];
                    ps.splice(0, ps.length);
                    this._pendingSegments[type] = null;
                    this._pendingRemoveRanges[type] = null;
                    this._lastInitSegments[type] = null;

                    // remove all sourcebuffers
                    var sb = this._sourceBuffers[type];
                    if (sb) {
                        if (ms.readyState !== 'closed') {
                            ms.removeSourceBuffer(sb);
                            sb.removeEventListener('error', this.e.onSourceBufferError);
                            sb.removeEventListener('updateend', this.e.onSourceBufferUpdateEnd);
                        }
                        this._mimeTypes[type] = null;
                        this._sourceBuffers[type] = null;
                    }
                }
                if (ms.readyState === 'open') {
                    try {
                        ms.endOfStream();
                    } catch (error) {
                        _logger2.default.e(this.TAG, error.message);
                    }
                }
                ms.removeEventListener('sourceopen', this.e.onSourceOpen);
                ms.removeEventListener('sourceended', this.e.onSourceEnded);
                ms.removeEventListener('sourceclose', this.e.onSourceClose);
                this._pendingSourceBufferInit = [];
                this._isBufferFull = false;
                this._idrList.clear();
                this._mediaSource = null;
            }

            if (this._mediaElement) {
                this._mediaElement.src = '';
                this._mediaElement.removeAttribute('src');
                this._mediaElement = null;
            }
            if (this._mediaSourceObjectURL) {
                window.URL.revokeObjectURL(this._mediaSourceObjectURL);
                this._mediaSourceObjectURL = null;
            }
        }
    }, {
        key: 'newSourceInitSegment',
        value: function newSourceInitSegment(initSegment) {
            var is = initSegment;
            var mimeType = '' + is.container;
            if (is.codec && is.codec.length > 0) {
                mimeType += ';codecs=' + is.codec;
            }

            var ps = this._pendingSegments[is.type];
            ps.splice(0, ps.length);
            this._pendingSegments[is.type] = [];
            this._pendingRemoveRanges[is.type] = [];
            this._lastInitSegments[is.type] = [];
            var ms = this._mediaSource;
            this.definitionChange = true;
            if (this._sourceBuffers[is.type]) {
                ms.removeSourceBuffer(this._sourceBuffers[is.type]);
                var sb = this._sourceBuffers[is.type] = this._mediaSource.addSourceBuffer(mimeType);
                sb.addEventListener('error', this.e.onSourceBufferError);
                sb.addEventListener('updateend', this.e.onSourceBufferUpdateEnd);
            }
            // this.definitionChange = false;
        }
    }, {
        key: 'appendInitSegment',
        value: function appendInitSegment(initSegment, deferred) {
            if (!this._mediaSource || this._mediaSource.readyState !== 'open') {
                // sourcebuffer creation requires mediaSource.readyState === 'open'
                // so we defer the sourcebuffer creation, until sourceopen event triggered
                this._pendingSourceBufferInit.push(initSegment);
                // make sure that this InitSegment is in the front of pending segments queue
                this._pendingSegments[initSegment.type].push(initSegment);
                console.log('' + initSegment.type, initSegment);
                return;
            }

            var is = initSegment;
            var mimeType = '' + is.container;
            if (is.codec && is.codec.length > 0) {
                mimeType += ';codecs=' + is.codec;
            }

            var firstInitSegment = false;

            _logger2.default.v(this.TAG, 'Received Initialization Segment, mimeType: ' + mimeType);
            this._lastInitSegments[is.type] = is;

            if (mimeType !== this._mimeTypes[is.type]) {
                if (!this._mimeTypes[is.type]) {
                    // empty, first chance create sourcebuffer
                    firstInitSegment = true;
                    try {
                        var sb = this._sourceBuffers[is.type] = this._mediaSource.addSourceBuffer(mimeType);
                        sb.addEventListener('error', this.e.onSourceBufferError);
                        sb.addEventListener('updateend', this.e.onSourceBufferUpdateEnd);
                    } catch (error) {
                        _logger2.default.e(this.TAG, error.message);
                        this._emitter.emit(_mseEvents2.default.ERROR, { code: error.code, msg: error.message });
                        return;
                    }
                } else {
                    _logger2.default.v(this.TAG, 'Notice: ' + is.type + ' mimeType changed, origin: ' + this._mimeTypes[is.type] + ', target: ' + mimeType);
                }
                this._mimeTypes[is.type] = mimeType;
            }

            if (!deferred) {
                // deferred means this InitSegment has been pushed to pendingSegments queue
                this._pendingSegments[is.type].push(is);
            }
            if (!firstInitSegment) {
                // append immediately only if init segment in subsequence
                if (this._sourceBuffers[is.type] && !this._sourceBuffers[is.type].updating) {
                    this._doAppendSegments();
                }
            }
            if (_browser2.default.safari && is.container === 'audio/mpeg' && is.mediaDuration > 0) {
                // 'audio/mpeg' track under Safari may cause MediaElement's duration to be NaN
                // Manually correct MediaSource.duration to make progress bar seekable, and report right duration
                this._requireSetMediaDuration = true;
                this._pendingMediaDuration = is.mediaDuration / 1000; // in seconds
                this._updateMediaSourceDuration();
            }
        }
    }, {
        key: 'appendMediaSegment',
        value: function appendMediaSegment(mediaSegment) {
            var ms = mediaSegment;
            this._pendingSegments[ms.type].push(ms);

            if (this._config.autoCleanupSourceBuffer && this._needCleanupSourceBuffer()) {
                this._doCleanupSourceBuffer();
            }

            var sb = this._sourceBuffers[ms.type];
            if (sb && !sb.updating && !this._hasPendingRemoveRanges() && this.definitionChange === false) {
                this._doAppendSegments();
            }
        }
    }, {
        key: 'seek',
        value: function seek(seconds) {
            // remove all appended buffers
            for (var type in this._sourceBuffers) {
                if (!this._sourceBuffers[type]) {
                    continue;
                }

                // abort current buffer append algorithm
                var sb = this._sourceBuffers[type];
                if (this._mediaSource.readyState === 'open') {
                    try {
                        // If range removal algorithm is running, InvalidStateError will be throwed
                        // Ignore it.
                        sb.abort();
                    } catch (error) {
                        _logger2.default.e(this.TAG, error.message);
                    }
                }

                // IDRList should be clear
                this._idrList.clear();

                // pending segments should be discard
                var ps = this._pendingSegments[type];
                ps.splice(0, ps.length);

                if (this._mediaSource.readyState === 'closed') {
                    // Parent MediaSource object has been detached from HTMLMediaElement
                    continue;
                }

                // record ranges to be remove from SourceBuffer
                for (var i = 0; i < sb.buffered.length; i++) {
                    var start = sb.buffered.start(i);
                    var end = sb.buffered.end(i);
                    this._pendingRemoveRanges[type].push({ start: start, end: end });
                }

                // if sb is not updating, let's remove ranges now!
                if (!sb.updating) {
                    this._doRemoveRanges();
                }

                // Safari 10 may get InvalidStateError in the later appendBuffer() after SourceBuffer.remove() call
                // Internal parser's state may be invalid at this time. Re-append last InitSegment to workaround.
                // Related issue: https://bugs.webkit.org/show_bug.cgi?id=159230
                if (_browser2.default.safari) {
                    var lastInitSegment = this._lastInitSegments[type];
                    if (lastInitSegment) {
                        this._pendingSegments[type].push(lastInitSegment);
                        if (!sb.updating) {
                            this._doAppendSegments();
                        }
                    }
                }
            }
        }
    }, {
        key: 'endOfStream',
        value: function endOfStream() {
            var ms = this._mediaSource;
            var sb = this._sourceBuffers;
            if (!ms || ms.readyState !== 'open') {
                if (ms && ms.readyState === 'closed' && this._hasPendingSegments()) {
                    // If MediaSource hasn't turned into open state, and there're pending segments
                    // Mark pending endOfStream, defer call until all pending segments appended complete
                    this._hasPendingEos = true;
                }
                return;
            }
            if (sb.video && sb.video.updating || sb.audio && sb.audio.updating) {
                // If any sourcebuffer is updating, defer endOfStream operation
                // See _onSourceBufferUpdateEnd()
                this._hasPendingEos = true;
            } else {
                this._hasPendingEos = false;
                // Notify media data loading complete
                // This is helpful for correcting total duration to match last media segment
                // Otherwise MediaElement's ended event may not be triggered
                ms.endOfStream();
            }
        }
    }, {
        key: 'getNearestKeyframe',
        value: function getNearestKeyframe(dts) {
            return this._idrList.getLastSyncPointBeforeDts(dts);
        }
    }, {
        key: '_needCleanupSourceBuffer',
        value: function _needCleanupSourceBuffer() {
            if (!this._config.autoCleanupSourceBuffer) {
                return false;
            }

            var currentTime = this._mediaElement.currentTime;

            for (var type in this._sourceBuffers) {
                var sb = this._sourceBuffers[type];
                if (sb) {
                    var buffered = sb.buffered;
                    if (buffered.length >= 1) {
                        if (currentTime - buffered.start(0) >= this._config.autoCleanupMaxBackwardDuration) {
                            return true;
                        }
                    }
                }
            }

            return false;
        }
    }, {
        key: '_doCleanupSourceBuffer',
        value: function _doCleanupSourceBuffer() {
            var currentTime = this._mediaElement.currentTime;

            for (var type in this._sourceBuffers) {
                var sb = this._sourceBuffers[type];
                if (sb) {
                    var buffered = sb.buffered;
                    var doRemove = false;

                    for (var i = 0; i < buffered.length; i++) {
                        var start = buffered.start(i);
                        var end = buffered.end(i);

                        if (start <= currentTime && currentTime < end + 3) {
                            // padding 3 seconds
                            if (currentTime - start >= this._config.autoCleanupMaxBackwardDuration) {
                                doRemove = true;
                                var removeEnd = currentTime - this._config.autoCleanupMinBackwardDuration;
                                this._pendingRemoveRanges[type].push({ start: start, end: removeEnd });
                            }
                        } else if (end < currentTime) {
                            doRemove = true;
                            this._pendingRemoveRanges[type].push({ start: start, end: end });
                        }
                    }

                    if (doRemove && !sb.updating) {
                        this._doRemoveRanges();
                    }
                }
            }
        }
    }, {
        key: '_updateMediaSourceDuration',
        value: function _updateMediaSourceDuration() {
            var sb = this._sourceBuffers;
            if (this._mediaElement.readyState === 0 || this._mediaSource.readyState !== 'open') {
                return;
            }
            if (sb.video && sb.video.updating || sb.audio && sb.audio.updating) {
                return;
            }

            var current = this._mediaSource.duration;
            var target = this._pendingMediaDuration;

            if (target > 0 && (isNaN(current) || target > current)) {
                _logger2.default.v(this.TAG, 'Update MediaSource duration from ' + current + ' to ' + target);
                this._mediaSource.duration = target;
            }

            this._requireSetMediaDuration = false;
            this._pendingMediaDuration = 0;
        }
    }, {
        key: '_doRemoveRanges',
        value: function _doRemoveRanges() {
            for (var type in this._pendingRemoveRanges) {
                if (!this._sourceBuffers[type] || this._sourceBuffers[type].updating) {
                    continue;
                }
                var sb = this._sourceBuffers[type];
                var ranges = this._pendingRemoveRanges[type];
                while (ranges.length && !sb.updating) {
                    var range = ranges.shift();
                    sb.remove(range.start, range.end);
                }
            }
        }
    }, {
        key: '_doAppendSegments',
        value: function _doAppendSegments() {
            var pendingSegments = this._pendingSegments;
            for (var type in pendingSegments) {
                if (!this._sourceBuffers[type] || this._sourceBuffers[type].updating) {
                    continue;
                }

                if (pendingSegments[type].length > 0) {
                    var segment = pendingSegments[type].shift();

                    if (segment.timestampOffset) {
                        // For MPEG audio stream in MSE, if unbuffered-seeking occurred
                        // We need explicitly set timestampOffset to the desired point in timeline for mpeg SourceBuffer.
                        var currentOffset = this._sourceBuffers[type].timestampOffset;
                        var targetOffset = segment.timestampOffset / 1000; // in seconds

                        var delta = Math.abs(currentOffset - targetOffset);
                        if (delta > 0.1) {
                            // If time delta > 100ms
                            _logger2.default.v(this.TAG, 'Update MPEG audio timestampOffset from ' + currentOffset + ' to ' + targetOffset);
                            this._sourceBuffers[type].timestampOffset = targetOffset;
                        }
                        delete segment.timestampOffset;
                    }

                    if (!segment.data || segment.data.byteLength === 0) {
                        // Ignore empty buffer
                        continue;
                    }

                    try {
                        this._sourceBuffers[type].appendBuffer(segment.data);
                        this._isBufferFull = false;
                        if (type === 'video' && segment.hasOwnProperty('info')) {
                            this._idrList.appendArray(segment.info.syncPoints);
                        }
                    } catch (error) {
                        this._pendingSegments[type].unshift(segment);
                        if (error.code === 22) {
                            // QuotaExceededError
                            /* Notice that FireFox may not throw QuotaExceededError if SourceBuffer is full
                             * Currently we can only do lazy-load to avoid SourceBuffer become scattered.
                             * SourceBuffer eviction policy may be changed in future version of FireFox.
                             *
                             * Related issues:
                             * https://bugzilla.mozilla.org/show_bug.cgi?id=1279885
                             * https://bugzilla.mozilla.org/show_bug.cgi?id=1280023
                             */

                            // report buffer full, abort network IO
                            if (!this._isBufferFull) {
                                this._emitter.emit(_mseEvents2.default.BUFFER_FULL);
                            }
                            this._isBufferFull = true;
                        } else {
                            _logger2.default.e(this.TAG, error.message);
                            this._emitter.emit(_mseEvents2.default.ERROR, { code: error.code, msg: error.message });
                        }
                    }
                }
            }
        }
    }, {
        key: '_onSourceOpen',
        value: function _onSourceOpen() {
            _logger2.default.v(this.TAG, 'MediaSource onSourceOpen');
            this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);
            // deferred sourcebuffer creation / initialization
            if (this._pendingSourceBufferInit.length > 0) {
                var pendings = this._pendingSourceBufferInit;
                while (pendings.length) {
                    var segment = pendings.shift();
                    this.appendInitSegment(segment, true);
                }
            }
            // there may be some pending media segments, append them
            if (this._hasPendingSegments()) {
                this._doAppendSegments();
            }
            this._emitter.emit(_mseEvents2.default.SOURCE_OPEN);
        }
    }, {
        key: '_onSourceEnded',
        value: function _onSourceEnded() {
            // fired on endOfStream
            _logger2.default.v(this.TAG, 'MediaSource onSourceEnded');
        }
    }, {
        key: '_onSourceClose',
        value: function _onSourceClose() {
            // fired on detaching from media element
            _logger2.default.v(this.TAG, 'MediaSource onSourceClose');
            if (this._mediaSource && this.e != null) {
                this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);
                this._mediaSource.removeEventListener('sourceended', this.e.onSourceEnded);
                this._mediaSource.removeEventListener('sourceclose', this.e.onSourceClose);
            }
        }
    }, {
        key: '_hasPendingSegments',
        value: function _hasPendingSegments() {
            var ps = this._pendingSegments;
            return ps.video.length > 0 || ps.audio.length > 0;
        }
    }, {
        key: '_hasPendingRemoveRanges',
        value: function _hasPendingRemoveRanges() {
            var prr = this._pendingRemoveRanges;
            return prr.video.length > 0 || prr.audio.length > 0;
        }
    }, {
        key: '_onSourceBufferUpdateEnd',
        value: function _onSourceBufferUpdateEnd() {
            if (this._requireSetMediaDuration) {
                this._updateMediaSourceDuration();
            } else if (this._hasPendingRemoveRanges()) {
                this._doRemoveRanges();
            } else if (this._hasPendingSegments()) {
                this._doAppendSegments();
            } else if (this._hasPendingEos) {
                this.endOfStream();
            }
            this._emitter.emit(_mseEvents2.default.UPDATE_END);
        }
    }, {
        key: '_onSourceBufferError',
        value: function _onSourceBufferError(e) {
            _logger2.default.e(this.TAG, 'SourceBuffer Error: ' + e);
            // this error might not always be fatal, just ignore it
        }
    }]);

    return MSEController;
}();

exports.default = MSEController;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/mse-events.js":
/*!************************************!*\
  !*** ./src/flv/core/mse-events.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var MSEEvents = {
  ERROR: 'error',
  SOURCE_OPEN: 'source_open',
  UPDATE_END: 'update_end',
  BUFFER_FULL: 'buffer_full'
};

exports.default = MSEEvents;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxer.js":
/*!************************************!*\
  !*** ./src/flv/core/transmuxer.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loggingControl = __webpack_require__(/*! ../utils/logging-control.js */ "./src/flv/utils/logging-control.js");

var _loggingControl2 = _interopRequireDefault(_loggingControl);

var _transmuxingController = __webpack_require__(/*! ./transmuxing-controller.js */ "./src/flv/core/transmuxing-controller.js");

var _transmuxingController2 = _interopRequireDefault(_transmuxingController);

var _transmuxingEvents = __webpack_require__(/*! ./transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

var _transmuxingWorker = __webpack_require__(/*! ./transmuxing-worker.js */ "./src/flv/core/transmuxing-worker.js");

var _transmuxingWorker2 = _interopRequireDefault(_transmuxingWorker);

var _mediaInfo = __webpack_require__(/*! ./media-info.js */ "./src/flv/core/media-info.js");

var _mediaInfo2 = _interopRequireDefault(_mediaInfo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Transmuxer = function () {
    function Transmuxer(mediaDataSource, config) {
        var _this = this;

        _classCallCheck(this, Transmuxer);

        this.TAG = 'Transmuxer';
        this._emitter = new _events2.default();
        this.isDefinitionChanging = false;
        if (config.enableWorker && typeof Worker !== 'undefined') {
            try {
                var work = __webpack_require__(/*! webworkify */ "./node_modules/webworkify/index.js");
                this._worker = work(_transmuxingWorker2.default);
                this._workerDestroying = false;
                this._worker.addEventListener('message', this._onWorkerMessage.bind(this));
                this._worker.postMessage({ cmd: 'init', param: [mediaDataSource, config] });
                this.e = {
                    onLoggingConfigChanged: this._onLoggingConfigChanged.bind(this)
                };
                _loggingControl2.default.registerListener(this.e.onLoggingConfigChanged);
                this._worker.postMessage({ cmd: 'logging_config', param: _loggingControl2.default.getConfig() });
            } catch (error) {
                _logger2.default.e(this.TAG, 'Error while initialize transmuxing worker, fallback to inline transmuxing');
                this._worker = null;
                this._controller = new _transmuxingController2.default(mediaDataSource, config);
            }
        } else {
            this._controller = new _transmuxingController2.default(mediaDataSource, config);
        }

        this._controller._emitter.on('metadata_arrived', function (onMetaData) {
            _this._emitter.emit('metadata_arrived', onMetaData);
        });

        if (this._controller) {
            var ctl = this._controller;
            ctl.on(_transmuxingEvents2.default.IO_ERROR, this._onIOError.bind(this));
            ctl.on(_transmuxingEvents2.default.DEMUX_ERROR, this._onDemuxError.bind(this));
            ctl.on(_transmuxingEvents2.default.INIT_SEGMENT, this._onInitSegment.bind(this));
            ctl.on(_transmuxingEvents2.default.MEDIA_SEGMENT, this._onMediaSegment.bind(this));
            ctl.on(_transmuxingEvents2.default.LOADING_COMPLETE, this._onLoadingComplete.bind(this));
            ctl.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, this._onRecoveredEarlyEof.bind(this));
            ctl.on(_transmuxingEvents2.default.MEDIA_INFO, this._onMediaInfo.bind(this));
            ctl.on(_transmuxingEvents2.default.STATISTICS_INFO, this._onStatisticsInfo.bind(this));
            ctl.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, this._onRecommendSeekpoint.bind(this));
        }
    }

    _createClass(Transmuxer, [{
        key: 'destroy',
        value: function destroy() {
            if (this._worker) {
                if (!this._workerDestroying) {
                    this._workerDestroying = true;
                    this._worker.postMessage({ cmd: 'destroy' });
                    _loggingControl2.default.removeListener(this.e.onLoggingConfigChanged);
                    this.e = null;
                }
            } else {
                this._controller.destroy();
                this._controller = null;
            }
            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            this._emitter && this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter && this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'hasWorker',
        value: function hasWorker() {
            return this._worker != null;
        }
    }, {
        key: 'open',
        value: function open() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'start' });
            } else {
                this._controller.start();
            }
        }
    }, {
        key: 'close',
        value: function close() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'stop' });
            } else {
                this._controller.stop();
            }
        }
    }, {
        key: 'seek',
        value: function seek(milliseconds) {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'seek', param: milliseconds });
            } else {
                this._controller.seek(milliseconds);
            }
        }
    }, {
        key: 'pause',
        value: function pause() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'pause' });
            } else {
                this._controller.pause();
            }
        }
    }, {
        key: 'resume',
        value: function resume() {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'resume' });
            } else {
                this._controller.resume();
            }
        }
    }, {
        key: '_onInitSegment',
        value: function _onInitSegment(type, initSegment) {
            var _this2 = this;

            // do async invoke
            Promise.resolve().then(function () {
                _this2._emitter && _this2._emitter.emit(_transmuxingEvents2.default.INIT_SEGMENT, type, initSegment);
            });
        }
    }, {
        key: '_onMediaSegment',
        value: function _onMediaSegment(type, mediaSegment) {
            var _this3 = this;

            Promise.resolve().then(function () {
                _this3._emitter && _this3._emitter.emit(_transmuxingEvents2.default.MEDIA_SEGMENT, type, mediaSegment);
            });
        }
    }, {
        key: '_onLoadingComplete',
        value: function _onLoadingComplete() {
            var _this4 = this;

            Promise.resolve().then(function () {
                _this4._emitter && _this4._emitter.emit(_transmuxingEvents2.default.LOADING_COMPLETE);
            });
        }
    }, {
        key: '_onRecoveredEarlyEof',
        value: function _onRecoveredEarlyEof() {
            var _this5 = this;

            Promise.resolve().then(function () {
                _this5._emitter && _this5._emitter.emit(_transmuxingEvents2.default.RECOVERED_EARLY_EOF);
            });
        }
    }, {
        key: '_onMediaInfo',
        value: function _onMediaInfo(mediaInfo) {
            var _this6 = this;

            Promise.resolve().then(function () {
                _this6._emitter && _this6._emitter.emit(_transmuxingEvents2.default.MEDIA_INFO, mediaInfo);
            });
        }
    }, {
        key: '_onStatisticsInfo',
        value: function _onStatisticsInfo(statisticsInfo) {
            var _this7 = this;

            Promise.resolve().then(function () {
                _this7._emitter && _this7._emitter.emit(_transmuxingEvents2.default.STATISTICS_INFO, statisticsInfo);
            });
        }
    }, {
        key: '_onIOError',
        value: function _onIOError(type, info) {
            var _this8 = this;

            Promise.resolve().then(function () {
                _this8._emitter && _this8._emitter.emit(_transmuxingEvents2.default.IO_ERROR, type, info);
            });
        }
    }, {
        key: '_onDemuxError',
        value: function _onDemuxError(type, info) {
            var _this9 = this;

            Promise.resolve().then(function () {
                _this9._emitter && _this9._emitter.emit(_transmuxingEvents2.default.DEMUX_ERROR, type, info);
            });
        }
    }, {
        key: '_onRecommendSeekpoint',
        value: function _onRecommendSeekpoint(milliseconds) {
            var _this10 = this;

            Promise.resolve().then(function () {
                _this10._emitter && _this10._emitter.emit(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, milliseconds);
            });
        }
    }, {
        key: '_onLoggingConfigChanged',
        value: function _onLoggingConfigChanged(config) {
            if (this._worker) {
                this._worker.postMessage({ cmd: 'logging_config', param: config });
            }
        }
    }, {
        key: '_onWorkerMessage',
        value: function _onWorkerMessage(e) {
            var message = e.data;
            var data = message.data;

            if (message.msg === 'destroyed' || this._workerDestroying) {
                this._workerDestroying = false;
                this._worker.terminate();
                this._worker = null;
                return;
            }

            switch (message.msg) {
                case _transmuxingEvents2.default.INIT_SEGMENT:
                case _transmuxingEvents2.default.MEDIA_SEGMENT:
                    this._emitter.emit(message.msg, data.type, data.data);
                    break;
                case _transmuxingEvents2.default.LOADING_COMPLETE:
                case _transmuxingEvents2.default.RECOVERED_EARLY_EOF:
                    this._emitter.emit(message.msg);
                    break;
                case _transmuxingEvents2.default.MEDIA_INFO:
                    Object.setPrototypeOf(data, _mediaInfo2.default.prototype);
                    this._emitter.emit(message.msg, data);
                    break;
                case _transmuxingEvents2.default.STATISTICS_INFO:
                    this._emitter.emit(message.msg, data);
                    break;
                case _transmuxingEvents2.default.IO_ERROR:
                case _transmuxingEvents2.default.DEMUX_ERROR:
                    this._emitter.emit(message.msg, data.type, data.info);
                    break;
                case _transmuxingEvents2.default.RECOMMEND_SEEKPOINT:
                    this._emitter.emit(message.msg, data);
                    break;
                case 'logcat_callback':
                    _logger2.default.emitter.emit('log', data.type, data.logcat);
                    break;
                default:
                    break;
            }
        }
    }]);

    return Transmuxer;
}();

exports.default = Transmuxer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxing-controller.js":
/*!************************************************!*\
  !*** ./src/flv/core/transmuxing-controller.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _mediaInfo = __webpack_require__(/*! ./media-info.js */ "./src/flv/core/media-info.js");

var _mediaInfo2 = _interopRequireDefault(_mediaInfo);

var _flvDemuxer = __webpack_require__(/*! ../demux/flv-demuxer.js */ "./src/flv/demux/flv-demuxer.js");

var _flvDemuxer2 = _interopRequireDefault(_flvDemuxer);

var _mp4Remuxer = __webpack_require__(/*! ../remux/mp4-remuxer.js */ "./src/flv/remux/mp4-remuxer.js");

var _mp4Remuxer2 = _interopRequireDefault(_mp4Remuxer);

var _demuxErrors = __webpack_require__(/*! ../demux/demux-errors.js */ "./src/flv/demux/demux-errors.js");

var _demuxErrors2 = _interopRequireDefault(_demuxErrors);

var _ioController = __webpack_require__(/*! ../io/io-controller.js */ "./src/flv/io/io-controller.js");

var _ioController2 = _interopRequireDefault(_ioController);

var _transmuxingEvents = __webpack_require__(/*! ./transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

var _loader = __webpack_require__(/*! ../io/loader.js */ "./src/flv/io/loader.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Transmuxing (IO, Demuxing, Remuxing) controller, with multipart support
var TransmuxingController = function () {
    function TransmuxingController(mediaDataSource, config) {
        _classCallCheck(this, TransmuxingController);

        this.TAG = 'TransmuxingController';
        this._emitter = new _events2.default();

        this._config = config;

        // treat single part media as multipart media, which has only one segment
        if (!mediaDataSource.segments) {
            mediaDataSource.segments = [{
                duration: mediaDataSource.duration,
                filesize: mediaDataSource.filesize,
                url: mediaDataSource.url
            }];
        }

        // fill in default IO params if not exists
        if (typeof mediaDataSource.cors !== 'boolean') {
            mediaDataSource.cors = true;
        }
        if (typeof mediaDataSource.withCredentials !== 'boolean') {
            mediaDataSource.withCredentials = false;
        }

        this._mediaDataSource = mediaDataSource;
        this._currentSegmentIndex = 0;
        var totalDuration = 0;

        this._mediaDataSource.segments.forEach(function (segment) {
            // timestampBase for each segment, and calculate total duration
            segment.timestampBase = totalDuration;
            totalDuration += segment.duration;
            // params needed by IOController
            segment.cors = mediaDataSource.cors;
            segment.withCredentials = mediaDataSource.withCredentials;
            // referrer policy control, if exist
            if (config.referrerPolicy) {
                segment.referrerPolicy = config.referrerPolicy;
            }
        });

        if (!isNaN(totalDuration) && this._mediaDataSource.duration !== totalDuration) {
            this._mediaDataSource.duration = totalDuration;
        }

        this._mediaInfo = null;
        this._demuxer = null;
        this._remuxer = null;
        this._ioctl = null;

        this._pendingSeekTime = null;
        this._pendingResolveSeekPoint = null;

        this._statisticsReporter = null;
    }

    _createClass(TransmuxingController, [{
        key: 'destroy',
        value: function destroy() {
            this._mediaInfo = null;
            this._mediaDataSource = null;

            if (this._statisticsReporter) {
                this._disableStatisticsReporter();
            }
            if (this._ioctl) {
                this._ioctl.destroy();
                this._ioctl = null;
            }
            if (this._demuxer) {
                this._demuxer.destroy();
                this._demuxer = null;
            }
            if (this._remuxer) {
                this._remuxer.destroy();
                this._remuxer = null;
            }

            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'start',
        value: function start() {
            this._loadSegment(0);
            this._enableStatisticsReporter();
        }
    }, {
        key: '_loadSegment',
        value: function _loadSegment(segmentIndex, optionalFrom) {
            this._currentSegmentIndex = segmentIndex;
            var dataSource = this._mediaDataSource.segments[segmentIndex];

            var ioctl = this._ioctl = new _ioController2.default(dataSource, this._config, segmentIndex);
            ioctl.onError = this._onIOException.bind(this);
            ioctl.onSeeked = this._onIOSeeked.bind(this);
            ioctl.onComplete = this._onIOComplete.bind(this);
            ioctl.onRedirect = this._onIORedirect.bind(this);
            ioctl.onRecoveredEarlyEof = this._onIORecoveredEarlyEof.bind(this);

            if (optionalFrom) {
                this._demuxer.bindDataSource(this._ioctl);
            } else {
                ioctl.onDataArrival = this._onInitChunkArrival.bind(this);
            }

            ioctl.open(optionalFrom);
        }
    }, {
        key: 'stop',
        value: function stop() {
            this._internalAbort();
            this._disableStatisticsReporter();
        }
    }, {
        key: '_internalAbort',
        value: function _internalAbort() {
            if (this._ioctl) {
                this._ioctl.destroy();
                this._ioctl = null;
            }
        }
    }, {
        key: 'pause',
        value: function pause() {
            // take a rest
            if (this._ioctl && this._ioctl.isWorking()) {
                this._ioctl.pause();
                this._disableStatisticsReporter();
            }
        }
    }, {
        key: 'resume',
        value: function resume() {
            if (this._ioctl && this._ioctl.isPaused()) {
                this._ioctl.resume();
                this._enableStatisticsReporter();
            }
        }
    }, {
        key: 'seek',
        value: function seek(milliseconds) {
            if (this._mediaInfo == null || !this._mediaInfo.isSeekable()) {
                return;
            }

            var targetSegmentIndex = this._searchSegmentIndexContains(milliseconds);

            if (targetSegmentIndex === this._currentSegmentIndex) {
                // intra-segment seeking
                var segmentInfo = this._mediaInfo.segments[targetSegmentIndex];

                if (segmentInfo == undefined) {
                    // current segment loading started, but mediainfo hasn't received yet
                    // wait for the metadata loaded, then seek to expected position
                    this._pendingSeekTime = milliseconds;
                } else {
                    var keyframe = segmentInfo.getNearestKeyframe(milliseconds);
                    this._remuxer.seek(keyframe.milliseconds);
                    this._ioctl.seek(keyframe.fileposition);
                    // Will be resolved in _onRemuxerMediaSegmentArrival()
                    this._pendingResolveSeekPoint = keyframe.milliseconds;
                }
            } else {
                // cross-segment seeking
                var targetSegmentInfo = this._mediaInfo.segments[targetSegmentIndex];

                if (targetSegmentInfo == undefined) {
                    // target segment hasn't been loaded. We need metadata then seek to expected time
                    this._pendingSeekTime = milliseconds;
                    this._internalAbort();
                    this._remuxer.seek();
                    this._remuxer.insertDiscontinuity();
                    this._loadSegment(targetSegmentIndex);
                    // Here we wait for the metadata loaded, then seek to expected position
                } else {
                    // We have target segment's metadata, direct seek to target position
                    var _keyframe = targetSegmentInfo.getNearestKeyframe(milliseconds);
                    this._internalAbort();
                    this._remuxer.seek(milliseconds);
                    this._remuxer.insertDiscontinuity();
                    this._demuxer.resetMediaInfo();
                    this._demuxer.timestampBase = this._mediaDataSource.segments[targetSegmentIndex].timestampBase;
                    this._loadSegment(targetSegmentIndex, _keyframe.fileposition);
                    this._pendingResolveSeekPoint = _keyframe.milliseconds;
                    this._reportSegmentMediaInfo(targetSegmentIndex);
                }
            }

            this._enableStatisticsReporter();
        }
    }, {
        key: '_searchSegmentIndexContains',
        value: function _searchSegmentIndexContains(milliseconds) {
            var segments = this._mediaDataSource.segments;
            var idx = segments.length - 1;

            for (var i = 0; i < segments.length; i++) {
                if (milliseconds < segments[i].timestampBase) {
                    idx = i - 1;
                    break;
                }
            }
            return idx;
        }
    }, {
        key: '_onInitChunkArrival',
        value: function _onInitChunkArrival(data, byteStart) {
            var _this = this;

            var probeData = null;
            var consumed = 0;

            if (byteStart > 0) {
                // IOController seeked immediately after opened, byteStart > 0 callback may received
                this._demuxer.bindDataSource(this._ioctl);
                this._demuxer.timestampBase = this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase;

                consumed = this._demuxer.parseChunks(data, byteStart);
            } else if ((probeData = _flvDemuxer2.default.probe(data)).match) {
                // Always create new FLVDemuxer
                this._demuxer = new _flvDemuxer2.default(probeData, this._config);

                this._demuxer._emitter.on('metadata_arrived', function (onMetaData) {
                    _this._emitter.emit('metadata_arrived', onMetaData);
                });

                if (!this._remuxer) {
                    this._remuxer = new _mp4Remuxer2.default(this._config);
                }

                var mds = this._mediaDataSource;
                if (mds.duration != undefined && !isNaN(mds.duration)) {
                    this._demuxer.overridedDuration = mds.duration;
                }
                if (typeof mds.hasAudio === 'boolean') {
                    this._demuxer.overridedHasAudio = mds.hasAudio;
                }
                if (typeof mds.hasVideo === 'boolean') {
                    this._demuxer.overridedHasVideo = mds.hasVideo;
                }

                this._demuxer.timestampBase = mds.segments[this._currentSegmentIndex].timestampBase;

                this._demuxer.onError = this._onDemuxException.bind(this);
                this._demuxer.onMediaInfo = this._onMediaInfo.bind(this);

                this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl));

                this._remuxer.onInitSegment = this._onRemuxerInitSegmentArrival.bind(this);
                this._remuxer.onMediaSegment = this._onRemuxerMediaSegmentArrival.bind(this);

                consumed = this._demuxer.parseChunks(data, byteStart);
            } else {
                probeData = null;
                _logger2.default.e(this.TAG, 'Non-FLV, Unsupported media type!');
                Promise.resolve().then(function () {
                    _this._internalAbort();
                });
                this._emitter.emit(_transmuxingEvents2.default.DEMUX_ERROR, _demuxErrors2.default.FORMAT_UNSUPPORTED, 'Non-FLV, Unsupported media type');

                consumed = 0;
            }

            return consumed;
        }
    }, {
        key: '_onMediaInfo',
        value: function _onMediaInfo(mediaInfo) {
            var _this2 = this;

            if (this._mediaInfo == null) {
                // Store first segment's mediainfo as global mediaInfo
                this._mediaInfo = Object.assign({}, mediaInfo);
                this._mediaInfo.keyframesIndex = null;
                this._mediaInfo.segments = [];
                this._mediaInfo.segmentCount = this._mediaDataSource.segments.length;
                Object.setPrototypeOf(this._mediaInfo, _mediaInfo2.default.prototype);
            }

            var segmentInfo = Object.assign({}, mediaInfo);
            Object.setPrototypeOf(segmentInfo, _mediaInfo2.default.prototype);
            this._mediaInfo.segments[this._currentSegmentIndex] = segmentInfo;

            // notify mediaInfo update
            this._reportSegmentMediaInfo(this._currentSegmentIndex);

            if (this._pendingSeekTime != null) {
                Promise.resolve().then(function () {
                    var target = _this2._pendingSeekTime;
                    _this2._pendingSeekTime = null;
                    _this2.seek(target);
                });
            }
        }
    }, {
        key: '_onIOSeeked',
        value: function _onIOSeeked() {
            this._remuxer.insertDiscontinuity();
        }
    }, {
        key: '_onIOComplete',
        value: function _onIOComplete(extraData) {
            var segmentIndex = extraData;
            var nextSegmentIndex = segmentIndex + 1;

            if (nextSegmentIndex < this._mediaDataSource.segments.length) {
                this._internalAbort();
                this._loadSegment(nextSegmentIndex);
            } else {
                this._remuxer.flushStashedSamples();
                this._emitter.emit(_transmuxingEvents2.default.LOADING_COMPLETE);
                this._disableStatisticsReporter();
            }
        }
    }, {
        key: '_onIORedirect',
        value: function _onIORedirect(redirectedURL) {
            var segmentIndex = this._ioctl.extraData;
            this._mediaDataSource.segments[segmentIndex].redirectedURL = redirectedURL;
        }
    }, {
        key: '_onIORecoveredEarlyEof',
        value: function _onIORecoveredEarlyEof() {
            this._emitter.emit(_transmuxingEvents2.default.RECOVERED_EARLY_EOF);
        }
    }, {
        key: '_onIOException',
        value: function _onIOException(type, info) {
            _logger2.default.e(this.TAG, 'IOException: type = ' + type + ', code = ' + info.code + ', msg = ' + info.msg);
            this._emitter.emit(_transmuxingEvents2.default.IO_ERROR, type, info);
            this._disableStatisticsReporter();
        }
    }, {
        key: '_onDemuxException',
        value: function _onDemuxException(type, info) {
            _logger2.default.e(this.TAG, 'DemuxException: type = ' + type + ', info = ' + info);
            this._emitter.emit(_transmuxingEvents2.default.DEMUX_ERROR, type, info);
        }
    }, {
        key: '_onRemuxerInitSegmentArrival',
        value: function _onRemuxerInitSegmentArrival(type, initSegment) {
            this._emitter.emit(_transmuxingEvents2.default.INIT_SEGMENT, type, initSegment);
        }
    }, {
        key: '_onRemuxerMediaSegmentArrival',
        value: function _onRemuxerMediaSegmentArrival(type, mediaSegment) {
            if (this._pendingSeekTime != null) {
                // Media segments after new-segment cross-seeking should be dropped.
                return;
            }
            this._emitter.emit(_transmuxingEvents2.default.MEDIA_SEGMENT, type, mediaSegment);

            // Resolve pending seekPoint
            if (this._pendingResolveSeekPoint != null && type === 'video') {
                var syncPoints = mediaSegment.info.syncPoints;
                var seekpoint = this._pendingResolveSeekPoint;
                this._pendingResolveSeekPoint = null;

                // Safari: Pass PTS for recommend_seekpoint
                if (_browser2.default.safari && syncPoints.length > 0 && syncPoints[0].originalDts === seekpoint) {
                    seekpoint = syncPoints[0].pts;
                }
                // else: use original DTS (keyframe.milliseconds)

                this._emitter.emit(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, seekpoint);
            }
        }
    }, {
        key: '_enableStatisticsReporter',
        value: function _enableStatisticsReporter() {
            if (this._statisticsReporter == null) {
                this._statisticsReporter = self.setInterval(this._reportStatisticsInfo.bind(this), this._config.statisticsInfoReportInterval);
            }
        }
    }, {
        key: '_disableStatisticsReporter',
        value: function _disableStatisticsReporter() {
            if (this._statisticsReporter) {
                self.clearInterval(this._statisticsReporter);
                this._statisticsReporter = null;
            }
        }
    }, {
        key: '_reportSegmentMediaInfo',
        value: function _reportSegmentMediaInfo(segmentIndex) {
            var segmentInfo = this._mediaInfo.segments[segmentIndex];
            var exportInfo = Object.assign({}, segmentInfo);

            exportInfo.duration = this._mediaInfo.duration;
            exportInfo.segmentCount = this._mediaInfo.segmentCount;
            delete exportInfo.segments;
            delete exportInfo.keyframesIndex;

            this._emitter.emit(_transmuxingEvents2.default.MEDIA_INFO, exportInfo);
        }
    }, {
        key: '_reportStatisticsInfo',
        value: function _reportStatisticsInfo() {
            var info = {};

            info.url = this._ioctl.currentURL;
            info.hasRedirect = this._ioctl.hasRedirect;
            if (info.hasRedirect) {
                info.redirectedURL = this._ioctl.currentRedirectedURL;
            }

            info.speed = this._ioctl.currentSpeed;
            info.loaderType = this._ioctl.loaderType;
            info.currentSegmentIndex = this._currentSegmentIndex;
            info.totalSegmentCount = this._mediaDataSource.segments.length;

            this._emitter.emit(_transmuxingEvents2.default.STATISTICS_INFO, info);
        }
    }]);

    return TransmuxingController;
}();

exports.default = TransmuxingController;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxing-events.js":
/*!********************************************!*\
  !*** ./src/flv/core/transmuxing-events.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var TransmuxingEvents = {
  IO_ERROR: 'io_error',
  DEMUX_ERROR: 'demux_error',
  INIT_SEGMENT: 'init_segment',
  MEDIA_SEGMENT: 'media_segment',
  LOADING_COMPLETE: 'loading_complete',
  RECOVERED_EARLY_EOF: 'recovered_early_eof',
  MEDIA_INFO: 'media_info',
  STATISTICS_INFO: 'statistics_info',
  RECOMMEND_SEEKPOINT: 'recommend_seekpoint'
};

exports.default = TransmuxingEvents;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/core/transmuxing-worker.js":
/*!********************************************!*\
  !*** ./src/flv/core/transmuxing-worker.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loggingControl = __webpack_require__(/*! ../utils/logging-control.js */ "./src/flv/utils/logging-control.js");

var _loggingControl2 = _interopRequireDefault(_loggingControl);

var _polyfill = __webpack_require__(/*! ../utils/polyfill.js */ "./src/flv/utils/polyfill.js");

var _polyfill2 = _interopRequireDefault(_polyfill);

var _transmuxingController = __webpack_require__(/*! ./transmuxing-controller.js */ "./src/flv/core/transmuxing-controller.js");

var _transmuxingController2 = _interopRequireDefault(_transmuxingController);

var _transmuxingEvents = __webpack_require__(/*! ./transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* post message to worker:
   data: {
       cmd: string
       param: any
   }

   receive message from worker:
   data: {
       msg: string,
       data: any
   }
 */

var TransmuxingWorker = function TransmuxingWorker(self) {

    var TAG = 'TransmuxingWorker';
    var controller = null;
    var logcatListener = onLogcatCallback.bind(this);

    _polyfill2.default.install();

    self.addEventListener('message', function (e) {
        switch (e.data.cmd) {
            case 'init':
                controller = new _transmuxingController2.default(e.data.param[0], e.data.param[1]);
                controller.on(_transmuxingEvents2.default.IO_ERROR, onIOError.bind(this));
                controller.on(_transmuxingEvents2.default.DEMUX_ERROR, onDemuxError.bind(this));
                controller.on(_transmuxingEvents2.default.INIT_SEGMENT, onInitSegment.bind(this));
                controller.on(_transmuxingEvents2.default.MEDIA_SEGMENT, onMediaSegment.bind(this));
                controller.on(_transmuxingEvents2.default.LOADING_COMPLETE, onLoadingComplete.bind(this));
                controller.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, onRecoveredEarlyEof.bind(this));
                controller.on(_transmuxingEvents2.default.MEDIA_INFO, onMediaInfo.bind(this));
                controller.on(_transmuxingEvents2.default.STATISTICS_INFO, onStatisticsInfo.bind(this));
                controller.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, onRecommendSeekpoint.bind(this));
                break;
            case 'destroy':
                if (controller) {
                    controller.destroy();
                    controller = null;
                }
                self.postMessage({ msg: 'destroyed' });
                break;
            case 'start':
                controller.start();
                break;
            case 'stop':
                controller.stop();
                break;
            case 'seek':
                controller.seek(e.data.param);
                break;
            case 'pause':
                controller.pause();
                break;
            case 'resume':
                controller.resume();
                break;
            case 'logging_config':
                {
                    var config = e.data.param;
                    _loggingControl2.default.applyConfig(config);

                    if (config.enableCallback === true) {
                        _loggingControl2.default.addLogListener(logcatListener);
                    } else {
                        _loggingControl2.default.removeLogListener(logcatListener);
                    }
                    break;
                }
        }
    });

    function onInitSegment(type, initSegment) {
        var obj = {
            msg: _transmuxingEvents2.default.INIT_SEGMENT,
            data: {
                type: type,
                data: initSegment
            }
        };
        self.postMessage(obj, [initSegment.data]); // data: ArrayBuffer
    }

    function onMediaSegment(type, mediaSegment) {
        var obj = {
            msg: _transmuxingEvents2.default.MEDIA_SEGMENT,
            data: {
                type: type,
                data: mediaSegment
            }
        };
        self.postMessage(obj, [mediaSegment.data]); // data: ArrayBuffer
    }

    function onLoadingComplete() {
        var obj = {
            msg: _transmuxingEvents2.default.LOADING_COMPLETE
        };
        self.postMessage(obj);
    }

    function onRecoveredEarlyEof() {
        var obj = {
            msg: _transmuxingEvents2.default.RECOVERED_EARLY_EOF
        };
        self.postMessage(obj);
    }

    function onMediaInfo(mediaInfo) {
        var obj = {
            msg: _transmuxingEvents2.default.MEDIA_INFO,
            data: mediaInfo
        };
        self.postMessage(obj);
    }

    function onStatisticsInfo(statInfo) {
        var obj = {
            msg: _transmuxingEvents2.default.STATISTICS_INFO,
            data: statInfo
        };
        self.postMessage(obj);
    }

    function onIOError(type, info) {
        self.postMessage({
            msg: _transmuxingEvents2.default.IO_ERROR,
            data: {
                type: type,
                info: info
            }
        });
    }

    function onDemuxError(type, info) {
        self.postMessage({
            msg: _transmuxingEvents2.default.DEMUX_ERROR,
            data: {
                type: type,
                info: info
            }
        });
    }

    function onRecommendSeekpoint(milliseconds) {
        self.postMessage({
            msg: _transmuxingEvents2.default.RECOMMEND_SEEKPOINT,
            data: milliseconds
        });
    }

    function onLogcatCallback(type, str) {
        self.postMessage({
            msg: 'logcat_callback',
            data: {
                type: type,
                logcat: str
            }
        });
    }
}; /*
    * Copyright (C) 2016 Bilibili. All Rights Reserved.
    *
    * @author zheng qian <xqq@xqq.im>
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *     http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */

exports.default = TransmuxingWorker;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/amf-parser.js":
/*!*************************************!*\
  !*** ./src/flv/demux/amf-parser.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _utf8Conv = __webpack_require__(/*! ../utils/utf8-conv.js */ "./src/flv/utils/utf8-conv.js");

var _utf8Conv2 = _interopRequireDefault(_utf8Conv);

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var le = function () {
    var buf = new ArrayBuffer(2);
    new DataView(buf).setInt16(0, 256, true); // little-endian write
    return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE
}();

var AMF = function () {
    function AMF() {
        _classCallCheck(this, AMF);
    }

    _createClass(AMF, null, [{
        key: 'parseScriptData',
        value: function parseScriptData(arrayBuffer, dataOffset, dataSize) {
            var data = {};

            try {
                var name = AMF.parseValue(arrayBuffer, dataOffset, dataSize);
                var value = AMF.parseValue(arrayBuffer, dataOffset + name.size, dataSize - name.size);

                data[name.data] = value.data;
            } catch (e) {
                _logger2.default.e('AMF', e.toString());
            }

            return data;
        }
    }, {
        key: 'parseObject',
        value: function parseObject(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 3) {
                throw new _exception.IllegalStateException('Data not enough when parse ScriptDataObject');
            }
            var name = AMF.parseString(arrayBuffer, dataOffset, dataSize);
            var value = AMF.parseValue(arrayBuffer, dataOffset + name.size, dataSize - name.size);
            var isObjectEnd = value.objectEnd;

            return {
                data: {
                    name: name.data,
                    value: value.data
                },
                size: name.size + value.size,
                objectEnd: isObjectEnd
            };
        }
    }, {
        key: 'parseVariable',
        value: function parseVariable(arrayBuffer, dataOffset, dataSize) {
            return AMF.parseObject(arrayBuffer, dataOffset, dataSize);
        }
    }, {
        key: 'parseString',
        value: function parseString(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 2) {
                throw new _exception.IllegalStateException('Data not enough when parse String');
            }
            var v = new DataView(arrayBuffer, dataOffset, dataSize);
            var length = v.getUint16(0, !le);

            var str = void 0;
            if (length > 0) {
                str = (0, _utf8Conv2.default)(new Uint8Array(arrayBuffer, dataOffset + 2, length));
            } else {
                str = '';
            }

            return {
                data: str,
                size: 2 + length
            };
        }
    }, {
        key: 'parseLongString',
        value: function parseLongString(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 4) {
                throw new _exception.IllegalStateException('Data not enough when parse LongString');
            }
            var v = new DataView(arrayBuffer, dataOffset, dataSize);
            var length = v.getUint32(0, !le);

            var str = void 0;
            if (length > 0) {
                str = (0, _utf8Conv2.default)(new Uint8Array(arrayBuffer, dataOffset + 4, length));
            } else {
                str = '';
            }

            return {
                data: str,
                size: 4 + length
            };
        }
    }, {
        key: 'parseDate',
        value: function parseDate(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 10) {
                throw new _exception.IllegalStateException('Data size invalid when parse Date');
            }
            var v = new DataView(arrayBuffer, dataOffset, dataSize);
            var timestamp = v.getFloat64(0, !le);
            var localTimeOffset = v.getInt16(8, !le);
            timestamp += localTimeOffset * 60 * 1000; // get UTC time

            return {
                data: new Date(timestamp),
                size: 8 + 2
            };
        }
    }, {
        key: 'parseValue',
        value: function parseValue(arrayBuffer, dataOffset, dataSize) {
            if (dataSize < 1) {
                throw new _exception.IllegalStateException('Data not enough when parse Value');
            }

            var v = new DataView(arrayBuffer, dataOffset, dataSize);

            var offset = 1;
            var type = v.getUint8(0);
            var value = void 0;
            var objectEnd = false;

            try {
                switch (type) {
                    case 0:
                        // Number(Double) type
                        value = v.getFloat64(1, !le);
                        offset += 8;
                        break;
                    case 1:
                        {
                            // Boolean type
                            var b = v.getUint8(1);
                            value = b ? true : false;
                            offset += 1;
                            break;
                        }
                    case 2:
                        {
                            // String type
                            var amfstr = AMF.parseString(arrayBuffer, dataOffset + 1, dataSize - 1);
                            value = amfstr.data;
                            offset += amfstr.size;
                            break;
                        }
                    case 3:
                        {
                            // Object(s) type
                            value = {};
                            var terminal = 0; // workaround for malformed Objects which has missing ScriptDataObjectEnd
                            if ((v.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {
                                terminal = 3;
                            }
                            while (offset < dataSize - 4) {
                                // 4 === type(UI8) + ScriptDataObjectEnd(UI24)
                                var amfobj = AMF.parseObject(arrayBuffer, dataOffset + offset, dataSize - offset - terminal);
                                if (amfobj.objectEnd) break;
                                value[amfobj.data.name] = amfobj.data.value;
                                offset += amfobj.size;
                            }
                            if (offset <= dataSize - 3) {
                                var marker = v.getUint32(offset - 1, !le) & 0x00FFFFFF;
                                if (marker === 9) {
                                    offset += 3;
                                }
                            }
                            break;
                        }
                    case 8:
                        {
                            // ECMA array type (Mixed array)
                            value = {};
                            offset += 4; // ECMAArrayLength(UI32)
                            var _terminal = 0; // workaround for malformed MixedArrays which has missing ScriptDataObjectEnd
                            if ((v.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {
                                _terminal = 3;
                            }
                            while (offset < dataSize - 8) {
                                // 8 === type(UI8) + ECMAArrayLength(UI32) + ScriptDataVariableEnd(UI24)
                                var amfvar = AMF.parseVariable(arrayBuffer, dataOffset + offset, dataSize - offset - _terminal);
                                if (amfvar.objectEnd) break;
                                value[amfvar.data.name] = amfvar.data.value;
                                offset += amfvar.size;
                            }
                            if (offset <= dataSize - 3) {
                                var _marker = v.getUint32(offset - 1, !le) & 0x00FFFFFF;
                                if (_marker === 9) {
                                    offset += 3;
                                }
                            }
                            break;
                        }
                    case 9:
                        // ScriptDataObjectEnd
                        value = undefined;
                        offset = 1;
                        objectEnd = true;
                        break;
                    case 10:
                        {
                            // Strict array type
                            // ScriptDataValue[n]. NOTE: according to video_file_format_spec_v10_1.pdf
                            value = [];
                            var strictArrayLength = v.getUint32(1, !le);
                            offset += 4;
                            for (var i = 0; i < strictArrayLength; i++) {
                                var val = AMF.parseValue(arrayBuffer, dataOffset + offset, dataSize - offset);
                                value.push(val.data);
                                offset += val.size;
                            }
                            break;
                        }
                    case 11:
                        {
                            // Date type
                            var date = AMF.parseDate(arrayBuffer, dataOffset + 1, dataSize - 1);
                            value = date.data;
                            offset += date.size;
                            break;
                        }
                    case 12:
                        {
                            // Long string type
                            var amfLongStr = AMF.parseString(arrayBuffer, dataOffset + 1, dataSize - 1);
                            value = amfLongStr.data;
                            offset += amfLongStr.size;
                            break;
                        }
                    default:
                        // ignore and skip
                        offset = dataSize;
                        _logger2.default.w('AMF', 'Unsupported AMF value type ' + type);
                }
            } catch (e) {
                _logger2.default.e('AMF', e.toString());
            }

            return {
                data: value,
                size: offset,
                objectEnd: objectEnd
            };
        }
    }]);

    return AMF;
}();

exports.default = AMF;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/demux-errors.js":
/*!***************************************!*\
  !*** ./src/flv/demux/demux-errors.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var DemuxErrors = {
  OK: 'OK',
  FORMAT_ERROR: 'FormatError',
  FORMAT_UNSUPPORTED: 'FormatUnsupported',
  CODEC_UNSUPPORTED: 'CodecUnsupported'
};

exports.default = DemuxErrors;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/exp-golomb.js":
/*!*************************************!*\
  !*** ./src/flv/demux/exp-golomb.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Exponential-Golomb buffer decoder
var ExpGolomb = function () {
    function ExpGolomb(uint8array) {
        _classCallCheck(this, ExpGolomb);

        this.TAG = 'ExpGolomb';

        this._buffer = uint8array;
        this._buffer_index = 0;
        this._total_bytes = uint8array.byteLength;
        this._total_bits = uint8array.byteLength * 8;
        this._current_word = 0;
        this._current_word_bits_left = 0;
    }

    _createClass(ExpGolomb, [{
        key: 'destroy',
        value: function destroy() {
            this._buffer = null;
        }
    }, {
        key: '_fillCurrentWord',
        value: function _fillCurrentWord() {
            var buffer_bytes_left = this._total_bytes - this._buffer_index;
            if (buffer_bytes_left <= 0) throw new _exception.IllegalStateException('ExpGolomb: _fillCurrentWord() but no bytes available');

            var bytes_read = Math.min(4, buffer_bytes_left);
            var word = new Uint8Array(4);
            word.set(this._buffer.subarray(this._buffer_index, this._buffer_index + bytes_read));
            this._current_word = new DataView(word.buffer).getUint32(0, false);

            this._buffer_index += bytes_read;
            this._current_word_bits_left = bytes_read * 8;
        }
    }, {
        key: 'readBits',
        value: function readBits(bits) {
            if (bits > 32) throw new _exception.InvalidArgumentException('ExpGolomb: readBits() bits exceeded max 32bits!');

            if (bits <= this._current_word_bits_left) {
                var _result = this._current_word >>> 32 - bits;
                this._current_word <<= bits;
                this._current_word_bits_left -= bits;
                return _result;
            }

            var result = this._current_word_bits_left ? this._current_word : 0;
            result = result >>> 32 - this._current_word_bits_left;
            var bits_need_left = bits - this._current_word_bits_left;

            this._fillCurrentWord();
            var bits_read_next = Math.min(bits_need_left, this._current_word_bits_left);

            var result2 = this._current_word >>> 32 - bits_read_next;
            this._current_word <<= bits_read_next;
            this._current_word_bits_left -= bits_read_next;

            result = result << bits_read_next | result2;
            return result;
        }
    }, {
        key: 'readBool',
        value: function readBool() {
            return this.readBits(1) === 1;
        }
    }, {
        key: 'readByte',
        value: function readByte() {
            return this.readBits(8);
        }
    }, {
        key: '_skipLeadingZero',
        value: function _skipLeadingZero() {
            var zero_count = void 0;
            for (zero_count = 0; zero_count < this._current_word_bits_left; zero_count++) {
                if (0 !== (this._current_word & 0x80000000 >>> zero_count)) {
                    this._current_word <<= zero_count;
                    this._current_word_bits_left -= zero_count;
                    return zero_count;
                }
            }
            this._fillCurrentWord();
            return zero_count + this._skipLeadingZero();
        }
    }, {
        key: 'readUEG',
        value: function readUEG() {
            // unsigned exponential golomb
            var leading_zeros = this._skipLeadingZero();
            return this.readBits(leading_zeros + 1) - 1;
        }
    }, {
        key: 'readSEG',
        value: function readSEG() {
            // signed exponential golomb
            var value = this.readUEG();
            if (value & 0x01) {
                return value + 1 >>> 1;
            } else {
                return -1 * (value >>> 1);
            }
        }
    }]);

    return ExpGolomb;
}();

exports.default = ExpGolomb;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/flv-demuxer.js":
/*!**************************************!*\
  !*** ./src/flv/demux/flv-demuxer.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _amfParser = __webpack_require__(/*! ./amf-parser.js */ "./src/flv/demux/amf-parser.js");

var _amfParser2 = _interopRequireDefault(_amfParser);

var _spsParser = __webpack_require__(/*! ./sps-parser.js */ "./src/flv/demux/sps-parser.js");

var _spsParser2 = _interopRequireDefault(_spsParser);

var _demuxErrors = __webpack_require__(/*! ./demux-errors.js */ "./src/flv/demux/demux-errors.js");

var _demuxErrors2 = _interopRequireDefault(_demuxErrors);

var _mediaInfo = __webpack_require__(/*! ../core/media-info.js */ "./src/flv/core/media-info.js");

var _mediaInfo2 = _interopRequireDefault(_mediaInfo);

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Swap16(src) {
  return src >>> 8 & 0xFF | (src & 0xFF) << 8;
}

function Swap32(src) {
  return (src & 0xFF000000) >>> 24 | (src & 0x00FF0000) >>> 8 | (src & 0x0000FF00) << 8 | (src & 0x000000FF) << 24;
}

function ReadBig32(array, index) {
  return array[index] << 24 | array[index + 1] << 16 | array[index + 2] << 8 | array[index + 3];
}

var FLVDemuxer = function () {
  function FLVDemuxer(probeData, config) {
    _classCallCheck(this, FLVDemuxer);

    this.TAG = 'FLVDemuxer';

    this._emitter = new _events2.default();

    this._config = config;

    this._onError = null;
    this._onMediaInfo = null;
    this._onTrackMetadata = null;
    this._onDataAvailable = null;

    this._dataOffset = probeData.dataOffset;
    this._firstParse = true;
    this._dispatch = false;

    this._hasAudio = probeData.hasAudioTrack;
    this._hasVideo = probeData.hasVideoTrack;

    this._hasAudioFlagOverrided = false;
    this._hasVideoFlagOverrided = false;

    this._audioInitialMetadataDispatched = false;
    this._videoInitialMetadataDispatched = false;

    this._mediaInfo = new _mediaInfo2.default();
    this._mediaInfo.hasAudio = this._hasAudio;
    this._mediaInfo.hasVideo = this._hasVideo;
    this._metadata = null;
    this._audioMetadata = null;
    this._videoMetadata = null;

    this._naluLengthSize = 4;
    this._timestampBase = 0; // int32, in milliseconds
    this._timescale = 1000;
    this._duration = 0; // int32, in milliseconds
    this._durationOverrided = false;
    this._referenceFrameRate = {
      fixed: true,
      fps: 23.976,
      fps_num: 23976,
      fps_den: 1000
    };

    this._flvSoundRateTable = [5500, 11025, 22050, 44100, 48000];

    this._mpegSamplingRates = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];

    this._mpegAudioV10SampleRateTable = [44100, 48000, 32000, 0];
    this._mpegAudioV20SampleRateTable = [22050, 24000, 16000, 0];
    this._mpegAudioV25SampleRateTable = [11025, 12000, 8000, 0];

    this._mpegAudioL1BitRateTable = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, -1];
    this._mpegAudioL2BitRateTable = [0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, -1];
    this._mpegAudioL3BitRateTable = [0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, -1];

    this._videoTrack = { type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0 };
    this._audioTrack = { type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0 };

    this._littleEndian = function () {
      var buf = new ArrayBuffer(2);
      new DataView(buf).setInt16(0, 256, true); // little-endian write
      return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE
    }();
  }

  _createClass(FLVDemuxer, [{
    key: 'destroy',
    value: function destroy() {
      this._mediaInfo = null;
      this._metadata = null;
      this._audioMetadata = null;
      this._videoMetadata = null;
      this._videoTrack = null;
      this._audioTrack = null;

      this._onError = null;
      this._onMediaInfo = null;
      this._onTrackMetadata = null;
      this._onDataAvailable = null;

      this._emitter.removeAllListeners();
      this._emitter = null;
    }
  }, {
    key: 'bindDataSource',
    value: function bindDataSource(loader) {
      loader.onDataArrival = this.parseChunks.bind(this);
      return this;
    }

    // prototype: function(type: string, metadata: any): void

  }, {
    key: 'resetMediaInfo',
    value: function resetMediaInfo() {
      this._mediaInfo = new _mediaInfo2.default();
    }
  }, {
    key: '_isInitialMetadataDispatched',
    value: function _isInitialMetadataDispatched() {
      if (this._hasAudio && this._hasVideo) {
        // both audio & video
        return this._audioInitialMetadataDispatched && this._videoInitialMetadataDispatched;
      }
      if (this._hasAudio && !this._hasVideo) {
        // audio only
        return this._audioInitialMetadataDispatched;
      }
      if (!this._hasAudio && this._hasVideo) {
        // video only
        return this._videoInitialMetadataDispatched;
      }
      return false;
    }

    // function parseChunks(chunk: ArrayBuffer, byteStart: number): number;

  }, {
    key: 'parseChunks',
    value: function parseChunks(chunk, byteStart) {
      if (!this._onError || !this._onMediaInfo || !this._onTrackMetadata || !this._onDataAvailable) {
        throw new _exception.IllegalStateException('Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified');
      }

      var offset = 0;
      var le = this._littleEndian;

      if (byteStart === 0) {
        // buffer with FLV header
        if (chunk.byteLength > 13) {
          var probeData = FLVDemuxer.probe(chunk);
          offset = probeData.dataOffset;
        } else {
          return 0;
        }
      }

      if (this._firstParse) {
        // handle PreviousTagSize0 before Tag1
        this._firstParse = false;
        if (byteStart + offset !== this._dataOffset) {
          _logger2.default.w(this.TAG, 'First time parsing but chunk byteStart invalid!');
        }

        var v = new DataView(chunk, offset);
        var prevTagSize0 = v.getUint32(0, !le);
        if (prevTagSize0 !== 0) {
          _logger2.default.w(this.TAG, 'PrevTagSize0 !== 0 !!!');
        }
        offset += 4;
      }

      while (offset < chunk.byteLength) {
        this._dispatch = true;

        var _v = new DataView(chunk, offset);

        if (offset + 11 + 4 > chunk.byteLength) {
          // data not enough for parsing an flv tag
          break;
        }

        var tagType = _v.getUint8(0);
        var dataSize = _v.getUint32(0, !le) & 0x00FFFFFF;

        if (offset + 11 + dataSize + 4 > chunk.byteLength) {
          // data not enough for parsing actual data body
          break;
        }

        if (tagType !== 8 && tagType !== 9 && tagType !== 18) {
          _logger2.default.w(this.TAG, 'Unsupported tag type ' + tagType + ', skipped');
          // consume the whole tag (skip it)
          offset += 11 + dataSize + 4;
          continue;
        }

        var ts2 = _v.getUint8(4);
        var ts1 = _v.getUint8(5);
        var ts0 = _v.getUint8(6);
        var ts3 = _v.getUint8(7);

        var timestamp = ts0 | ts1 << 8 | ts2 << 16 | ts3 << 24;

        var streamId = _v.getUint32(7, !le) & 0x00FFFFFF;
        if (streamId !== 0) {
          _logger2.default.w(this.TAG, 'Meet tag which has StreamID != 0!');
        }

        var dataOffset = offset + 11;

        switch (tagType) {
          case 8:
            // Audio
            this._parseAudioData(chunk, dataOffset, dataSize, timestamp);
            break;
          case 9:
            // Video
            this._parseVideoData(chunk, dataOffset, dataSize, timestamp, byteStart + offset);
            break;
          case 18:
            // ScriptDataObject
            this._parseScriptData(chunk, dataOffset, dataSize);
            break;
        }

        var prevTagSize = _v.getUint32(11 + dataSize, !le);
        if (prevTagSize !== 11 + dataSize) {
          _logger2.default.w(this.TAG, 'Invalid PrevTagSize ' + prevTagSize);
        }

        offset += 11 + dataSize + 4; // tagBody + dataSize + prevTagSize
      }

      // dispatch parsed frames to consumer (typically, the remuxer)
      if (this._isInitialMetadataDispatched()) {
        if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {
          this._onDataAvailable(this._audioTrack, this._videoTrack);
        }
      }

      return offset; // consumed bytes, just equals latest offset index
    }
  }, {
    key: '_parseScriptData',
    value: function _parseScriptData(arrayBuffer, dataOffset, dataSize) {
      var scriptData = _amfParser2.default.parseScriptData(arrayBuffer, dataOffset, dataSize);

      if (scriptData.hasOwnProperty('onMetaData')) {
        if (scriptData.onMetaData == null || _typeof(scriptData.onMetaData) !== 'object') {
          _logger2.default.w(this.TAG, 'Invalid onMetaData structure!');
          return;
        }
        if (this._metadata) {
          _logger2.default.w(this.TAG, 'Found another onMetaData tag!');
        }
        this._metadata = scriptData;
        var onMetaData = this._metadata.onMetaData;
        this._emitter.emit('metadata_arrived', onMetaData);

        if (typeof onMetaData.hasAudio === 'boolean') {
          // hasAudio
          if (this._hasAudioFlagOverrided === false) {
            this._hasAudio = onMetaData.hasAudio;
            this._mediaInfo.hasAudio = this._hasAudio;
          }
        }
        if (typeof onMetaData.hasVideo === 'boolean') {
          // hasVideo
          if (this._hasVideoFlagOverrided === false) {
            this._hasVideo = onMetaData.hasVideo;
            this._mediaInfo.hasVideo = this._hasVideo;
          }
        }
        if (typeof onMetaData.audiodatarate === 'number') {
          // audiodatarate
          this._mediaInfo.audioDataRate = onMetaData.audiodatarate;
        }
        if (typeof onMetaData.videodatarate === 'number') {
          // videodatarate
          this._mediaInfo.videoDataRate = onMetaData.videodatarate;
        }
        if (typeof onMetaData.width === 'number') {
          // width
          this._mediaInfo.width = onMetaData.width;
        }
        if (typeof onMetaData.height === 'number') {
          // height
          this._mediaInfo.height = onMetaData.height;
        }
        if (typeof onMetaData.duration === 'number') {
          // duration
          if (!this._durationOverrided) {
            var duration = Math.floor(onMetaData.duration * this._timescale);
            this._duration = duration;
            this._mediaInfo.duration = duration;
          }
        } else {
          this._mediaInfo.duration = 0;
        }
        if (typeof onMetaData.framerate === 'number') {
          // framerate
          var fps_num = Math.floor(onMetaData.framerate * 1000);
          if (fps_num > 0) {
            var fps = fps_num / 1000;
            this._referenceFrameRate.fixed = true;
            this._referenceFrameRate.fps = fps;
            this._referenceFrameRate.fps_num = fps_num;
            this._referenceFrameRate.fps_den = 1000;
            this._mediaInfo.fps = fps;
          }
        }
        if (_typeof(onMetaData.keyframes) === 'object') {
          // keyframes
          this._mediaInfo.hasKeyframesIndex = true;
          var keyframes = onMetaData.keyframes;
          this._mediaInfo.keyframesIndex = this._parseKeyframesIndex(keyframes);
          onMetaData.keyframes = null; // keyframes has been extracted, remove it
        } else {
          this._mediaInfo.hasKeyframesIndex = false;
        }
        this._dispatch = false;
        this._mediaInfo.metadata = onMetaData;
        _logger2.default.v(this.TAG, 'Parsed onMetaData');
        if (this._mediaInfo.isComplete()) {
          this._onMediaInfo(this._mediaInfo);
        }
      }
    }
  }, {
    key: '_parseKeyframesIndex',
    value: function _parseKeyframesIndex(keyframes) {
      var times = [];
      var filepositions = [];

      // ignore first keyframe which is actually AVC Sequence Header (AVCDecoderConfigurationRecord)
      for (var i = 1; i < keyframes.times.length; i++) {
        var time = this._timestampBase + Math.floor(keyframes.times[i] * 1000);
        times.push(time);
        filepositions.push(keyframes.filepositions[i]);
      }

      return {
        times: times,
        filepositions: filepositions
      };
    }
  }, {
    key: '_parseAudioData',
    value: function _parseAudioData(arrayBuffer, dataOffset, dataSize, tagTimestamp) {
      if (dataSize <= 1) {
        _logger2.default.w(this.TAG, 'Flv: Invalid audio packet, missing SoundData payload!');
        return;
      }

      if (this._hasAudioFlagOverrided === true && this._hasAudio === false) {
        // If hasAudio: false indicated explicitly in MediaDataSource,
        // Ignore all the audio packets
        return;
      }

      var le = this._littleEndian;
      var v = new DataView(arrayBuffer, dataOffset, dataSize);

      var soundSpec = v.getUint8(0);

      var soundFormat = soundSpec >>> 4;
      if (soundFormat !== 2 && soundFormat !== 10) {
        // MP3 or AAC
        this._onError(_demuxErrors2.default.CODEC_UNSUPPORTED, 'Flv: Unsupported audio codec idx: ' + soundFormat);
        return;
      }

      var soundRate = 0;
      var soundRateIndex = (soundSpec & 12) >>> 2;
      if (soundRateIndex >= 0 && soundRateIndex <= 4) {
        soundRate = this._flvSoundRateTable[soundRateIndex];
      } else {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid audio sample rate idx: ' + soundRateIndex);
        return;
      }

      var soundSize = (soundSpec & 2) >>> 1; // unused
      var soundType = soundSpec & 1;

      var meta = this._audioMetadata;
      var track = this._audioTrack;

      if (!meta) {
        if (this._hasAudio === false && this._hasAudioFlagOverrided === false) {
          this._hasAudio = true;
          this._mediaInfo.hasAudio = true;
        }

        // initial metadata
        meta = this._audioMetadata = {};
        meta.type = 'audio';
        meta.id = track.id;
        meta.timescale = this._timescale;
        meta.duration = this._duration;
        meta.audioSampleRate = soundRate;
        meta.channelCount = soundType === 0 ? 1 : 2;
      }

      if (soundFormat === 10) {
        // AAC
        var aacData = this._parseAACAudioData(arrayBuffer, dataOffset + 1, dataSize - 1);
        if (aacData == undefined) {
          return;
        }

        if (aacData.packetType === 0) {
          // AAC sequence header (AudioSpecificConfig)
          if (meta.config) {
            _logger2.default.w(this.TAG, 'Found another AudioSpecificConfig!');
          }
          var misc = aacData.data;
          meta.audioSampleRate = misc.samplingRate;
          meta.channelCount = misc.channelCount;
          meta.codec = misc.codec;
          meta.originalCodec = misc.originalCodec;
          meta.config = misc.config;
          // The decode result of an aac sample is 1024 PCM samples
          meta.refSampleDuration = 1024 / meta.audioSampleRate * meta.timescale;
          _logger2.default.v(this.TAG, 'Parsed AudioSpecificConfig');

          if (this._isInitialMetadataDispatched()) {
            // Non-initial metadata, force dispatch (or flush) parsed frames to remuxer
            if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {
              this._onDataAvailable(this._audioTrack, this._videoTrack);
            }
          } else {
            this._audioInitialMetadataDispatched = true;
          }
          // then notify new metadata
          this._dispatch = false;
          this._onTrackMetadata('audio', meta);

          var mi = this._mediaInfo;
          mi.audioCodec = meta.originalCodec;
          mi.audioSampleRate = meta.audioSampleRate;
          mi.audioChannelCount = meta.channelCount;
          if (mi.hasVideo) {
            if (mi.videoCodec != null) {
              mi.mimeType = 'video/x-flv; codecs="' + mi.videoCodec + ',' + mi.audioCodec + '"';
            }
          } else {
            mi.mimeType = 'video/x-flv; codecs="' + mi.audioCodec + '"';
          }
          if (mi.isComplete()) {
            this._onMediaInfo(mi);
          }
        } else if (aacData.packetType === 1) {
          // AAC raw frame data
          var dts = this._timestampBase + tagTimestamp;
          var aacSample = { unit: aacData.data, length: aacData.data.byteLength, dts: dts, pts: dts };
          track.samples.push(aacSample);
          track.length += aacData.data.length;
        } else {
          _logger2.default.e(this.TAG, 'Flv: Unsupported AAC data type ' + aacData.packetType);
        }
      } else if (soundFormat === 2) {
        // MP3
        if (!meta.codec) {
          // We need metadata for mp3 audio track, extract info from frame header
          var _misc = this._parseMP3AudioData(arrayBuffer, dataOffset + 1, dataSize - 1, true);
          if (_misc == undefined) {
            return;
          }
          meta.audioSampleRate = _misc.samplingRate;
          meta.channelCount = _misc.channelCount;
          meta.codec = _misc.codec;
          meta.originalCodec = _misc.originalCodec;
          // The decode result of an mp3 sample is 1152 PCM samples
          meta.refSampleDuration = 1152 / meta.audioSampleRate * meta.timescale;
          _logger2.default.v(this.TAG, 'Parsed MPEG Audio Frame Header');

          this._audioInitialMetadataDispatched = true;
          this._onTrackMetadata('audio', meta);

          var _mi = this._mediaInfo;
          _mi.audioCodec = meta.codec;
          _mi.audioSampleRate = meta.audioSampleRate;
          _mi.audioChannelCount = meta.channelCount;
          _mi.audioDataRate = _misc.bitRate;
          if (_mi.hasVideo) {
            if (_mi.videoCodec != null) {
              _mi.mimeType = 'video/x-flv; codecs="' + _mi.videoCodec + ',' + _mi.audioCodec + '"';
            }
          } else {
            _mi.mimeType = 'video/x-flv; codecs="' + _mi.audioCodec + '"';
          }
          if (_mi.isComplete()) {
            this._onMediaInfo(_mi);
          }
        }

        // This packet is always a valid audio packet, extract it
        var data = this._parseMP3AudioData(arrayBuffer, dataOffset + 1, dataSize - 1, false);
        if (data == undefined) {
          return;
        }
        var _dts = this._timestampBase + tagTimestamp;
        var mp3Sample = { unit: data, length: data.byteLength, dts: _dts, pts: _dts };
        track.samples.push(mp3Sample);
        track.length += data.length;
      }
    }
  }, {
    key: '_parseAACAudioData',
    value: function _parseAACAudioData(arrayBuffer, dataOffset, dataSize) {
      if (dataSize <= 1) {
        _logger2.default.w(this.TAG, 'Flv: Invalid AAC packet, missing AACPacketType or/and Data!');
        return;
      }

      var result = {};
      var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);

      result.packetType = array[0];

      if (array[0] === 0) {
        result.data = this._parseAACAudioSpecificConfig(arrayBuffer, dataOffset + 1, dataSize - 1);
      } else {
        result.data = array.subarray(1);
      }

      return result;
    }
  }, {
    key: '_parseAACAudioSpecificConfig',
    value: function _parseAACAudioSpecificConfig(arrayBuffer, dataOffset, dataSize) {
      var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);
      var config = null;

      /* Audio Object Type:
         0: Null
         1: AAC Main
         2: AAC LC
         3: AAC SSR (Scalable Sample Rate)
         4: AAC LTP (Long Term Prediction)
         5: HE-AAC / SBR (Spectral Band Replication)
         6: AAC Scalable
      */

      var audioObjectType = 0;
      var originalAudioObjectType = 0;
      var audioExtensionObjectType = null;
      var samplingIndex = 0;
      var extensionSamplingIndex = null;

      // 5 bits
      audioObjectType = originalAudioObjectType = array[0] >>> 3;
      // 4 bits
      samplingIndex = (array[0] & 0x07) << 1 | array[1] >>> 7;
      if (samplingIndex < 0 || samplingIndex >= this._mpegSamplingRates.length) {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: AAC invalid sampling frequency index!');
        return;
      }

      var samplingFrequence = this._mpegSamplingRates[samplingIndex];

      // 4 bits
      var channelConfig = (array[1] & 0x78) >>> 3;
      if (channelConfig < 0 || channelConfig >= 8) {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: AAC invalid channel configuration');
        return;
      }

      if (audioObjectType === 5) {
        // HE-AAC?
        // 4 bits
        extensionSamplingIndex = (array[1] & 0x07) << 1 | array[2] >>> 7;
        // 5 bits
        audioExtensionObjectType = (array[2] & 0x7C) >>> 2;
      }

      // workarounds for various browsers
      var userAgent = self.navigator.userAgent.toLowerCase();

      if (userAgent.indexOf('firefox') !== -1) {
        // firefox: use SBR (HE-AAC) if freq less than 24kHz
        if (samplingIndex >= 6) {
          audioObjectType = 5;
          config = new Array(4);
          extensionSamplingIndex = samplingIndex - 3;
        } else {
          // use LC-AAC
          audioObjectType = 2;
          config = new Array(2);
          extensionSamplingIndex = samplingIndex;
        }
      } else if (userAgent.indexOf('android') !== -1) {
        // android: always use LC-AAC
        audioObjectType = 2;
        config = new Array(2);
        extensionSamplingIndex = samplingIndex;
      } else {
        // for other browsers, e.g. chrome...
        // Always use HE-AAC to make it easier to switch aac codec profile
        audioObjectType = 5;
        extensionSamplingIndex = samplingIndex;
        config = new Array(4);

        if (samplingIndex >= 6) {
          extensionSamplingIndex = samplingIndex - 3;
        } else if (channelConfig === 1) {
          // Mono channel
          audioObjectType = 2;
          config = new Array(2);
          extensionSamplingIndex = samplingIndex;
        }
      }

      config[0] = audioObjectType << 3;
      config[0] |= (samplingIndex & 0x0F) >>> 1;
      config[1] = (samplingIndex & 0x0F) << 7;
      config[1] |= (channelConfig & 0x0F) << 3;
      if (audioObjectType === 5) {
        config[1] |= (extensionSamplingIndex & 0x0F) >>> 1;
        config[2] = (extensionSamplingIndex & 0x01) << 7;
        // extended audio object type: force to 2 (LC-AAC)
        config[2] |= 2 << 2;
        config[3] = 0;
      }

      return {
        config: config,
        samplingRate: samplingFrequence,
        channelCount: channelConfig,
        codec: 'mp4a.40.' + audioObjectType,
        originalCodec: 'mp4a.40.' + originalAudioObjectType
      };
    }
  }, {
    key: '_parseMP3AudioData',
    value: function _parseMP3AudioData(arrayBuffer, dataOffset, dataSize, requestHeader) {
      if (dataSize < 4) {
        _logger2.default.w(this.TAG, 'Flv: Invalid MP3 packet, header missing!');
        return;
      }

      var le = this._littleEndian;
      var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);
      var result = null;

      if (requestHeader) {
        if (array[0] !== 0xFF) {
          return;
        }
        var ver = array[1] >>> 3 & 0x03;
        var layer = (array[1] & 0x06) >> 1;

        var bitrate_index = (array[2] & 0xF0) >>> 4;
        var sampling_freq_index = (array[2] & 0x0C) >>> 2;

        var channel_mode = array[3] >>> 6 & 0x03;
        var channel_count = channel_mode !== 3 ? 2 : 1;

        var sample_rate = 0;
        var bit_rate = 0;
        var object_type = 34; // Layer-3, listed in MPEG-4 Audio Object Types

        var codec = 'mp3';

        switch (ver) {
          case 0:
            // MPEG 2.5
            sample_rate = this._mpegAudioV25SampleRateTable[sampling_freq_index];
            break;
          case 2:
            // MPEG 2
            sample_rate = this._mpegAudioV20SampleRateTable[sampling_freq_index];
            break;
          case 3:
            // MPEG 1
            sample_rate = this._mpegAudioV10SampleRateTable[sampling_freq_index];
            break;
        }

        switch (layer) {
          case 1:
            // Layer 3
            object_type = 34;
            if (bitrate_index < this._mpegAudioL3BitRateTable.length) {
              bit_rate = this._mpegAudioL3BitRateTable[bitrate_index];
            }
            break;
          case 2:
            // Layer 2
            object_type = 33;
            if (bitrate_index < this._mpegAudioL2BitRateTable.length) {
              bit_rate = this._mpegAudioL2BitRateTable[bitrate_index];
            }
            break;
          case 3:
            // Layer 1
            object_type = 32;
            if (bitrate_index < this._mpegAudioL1BitRateTable.length) {
              bit_rate = this._mpegAudioL1BitRateTable[bitrate_index];
            }
            break;
        }

        result = {
          bitRate: bit_rate,
          samplingRate: sample_rate,
          channelCount: channel_count,
          codec: codec,
          originalCodec: codec
        };
      } else {
        result = array;
      }

      return result;
    }
  }, {
    key: '_parseVideoData',
    value: function _parseVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition) {
      if (dataSize <= 1) {
        _logger2.default.w(this.TAG, 'Flv: Invalid video packet, missing VideoData payload!');
        return;
      }

      if (this._hasVideoFlagOverrided === true && this._hasVideo === false) {
        // If hasVideo: false indicated explicitly in MediaDataSource,
        // Ignore all the video packets
        return;
      }

      var spec = new Uint8Array(arrayBuffer, dataOffset, dataSize)[0];

      var frameType = (spec & 240) >>> 4;
      var codecId = spec & 15;

      if (codecId !== 7) {
        this._onError(_demuxErrors2.default.CODEC_UNSUPPORTED, 'Flv: Unsupported codec in video frame: ' + codecId);
        return;
      }

      this._parseAVCVideoPacket(arrayBuffer, dataOffset + 1, dataSize - 1, tagTimestamp, tagPosition, frameType);
    }
  }, {
    key: '_parseAVCVideoPacket',
    value: function _parseAVCVideoPacket(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType) {
      if (dataSize < 4) {
        _logger2.default.w(this.TAG, 'Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime');
        return;
      }

      var le = this._littleEndian;
      var v = new DataView(arrayBuffer, dataOffset, dataSize);

      var packetType = v.getUint8(0);
      var cts_unsigned = v.getUint32(0, !le) & 0x00FFFFFF;
      var cts = cts_unsigned << 8 >> 8; // convert to 24-bit signed int

      if (packetType === 0) {
        // AVCDecoderConfigurationRecord
        this._parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset + 4, dataSize - 4);
      } else if (packetType === 1) {
        // One or more Nalus
        this._parseAVCVideoData(arrayBuffer, dataOffset + 4, dataSize - 4, tagTimestamp, tagPosition, frameType, cts);
      } else if (packetType === 2) {
        // empty, AVC end of sequence
      } else {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid video packet type ' + packetType);
        return;
      }
    }
  }, {
    key: '_parseAVCDecoderConfigurationRecord',
    value: function _parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset, dataSize) {
      if (dataSize < 7) {
        _logger2.default.w(this.TAG, 'Flv: Invalid AVCDecoderConfigurationRecord, lack of data!');
        return;
      }

      var meta = this._videoMetadata;
      var track = this._videoTrack;
      var le = this._littleEndian;
      var v = new DataView(arrayBuffer, dataOffset, dataSize);

      if (!meta) {
        if (this._hasVideo === false && this._hasVideoFlagOverrided === false) {
          this._hasVideo = true;
          this._mediaInfo.hasVideo = true;
        }

        meta = this._videoMetadata = {};
        meta.type = 'video';
        meta.id = track.id;
        meta.timescale = this._timescale;
        meta.duration = this._duration;
      } else {
        if (typeof meta.avcc !== 'undefined') {
          _logger2.default.w(this.TAG, 'Found another AVCDecoderConfigurationRecord!');
        }
      }

      var version = v.getUint8(0); // configurationVersion
      var avcProfile = v.getUint8(1); // avcProfileIndication
      var profileCompatibility = v.getUint8(2); // profile_compatibility
      var avcLevel = v.getUint8(3); // AVCLevelIndication

      if (version !== 1 || avcProfile === 0) {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');
        return;
      }

      this._naluLengthSize = (v.getUint8(4) & 3) + 1; // lengthSizeMinusOne
      if (this._naluLengthSize !== 3 && this._naluLengthSize !== 4) {
        // holy shit!!!
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Strange NaluLengthSizeMinusOne: ' + (this._naluLengthSize - 1));
        return;
      }

      var spsCount = v.getUint8(5) & 31; // numOfSequenceParameterSets
      if (spsCount === 0) {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No SPS');
        return;
      } else if (spsCount > 1) {
        _logger2.default.w(this.TAG, 'Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ' + spsCount);
      }

      var offset = 6;

      for (var i = 0; i < spsCount; i++) {
        var len = v.getUint16(offset, !le); // sequenceParameterSetLength
        offset += 2;

        if (len === 0) {
          continue;
        }

        // Notice: Nalu without startcode header (00 00 00 01)
        var sps = new Uint8Array(arrayBuffer, dataOffset + offset, len);
        offset += len;

        var config = _spsParser2.default.parseSPS(sps);
        if (i !== 0) {
          // ignore other sps's config
          continue;
        }

        meta.codecWidth = config.codec_size.width;
        meta.codecHeight = config.codec_size.height;
        meta.presentWidth = config.present_size.width;
        meta.presentHeight = config.present_size.height;

        meta.profile = config.profile_string;
        meta.level = config.level_string;
        meta.bitDepth = config.bit_depth;
        meta.chromaFormat = config.chroma_format;
        meta.sarRatio = config.par_ratio;
        meta.frameRate = config.frame_rate;

        if (config.frame_rate.fixed === false || config.frame_rate.fps_num === 0 || config.frame_rate.fps_den === 0) {
          meta.frameRate = this._referenceFrameRate;
        }

        var fps_den = meta.frameRate.fps_den;
        var fps_num = meta.frameRate.fps_num;
        meta.refSampleDuration = meta.timescale * (fps_den / fps_num);

        var codecArray = sps.subarray(1, 4);
        var codecString = 'avc1.';
        for (var j = 0; j < 3; j++) {
          var h = codecArray[j].toString(16);
          if (h.length < 2) {
            h = '0' + h;
          }
          codecString += h;
        }
        meta.codec = codecString;

        var mi = this._mediaInfo;
        mi.width = meta.codecWidth;
        mi.height = meta.codecHeight;
        mi.fps = meta.frameRate.fps;
        mi.profile = meta.profile;
        mi.level = meta.level;
        mi.refFrames = config.ref_frames;
        mi.chromaFormat = config.chroma_format_string;
        mi.sarNum = meta.sarRatio.width;
        mi.sarDen = meta.sarRatio.height;
        mi.videoCodec = codecString;

        if (mi.hasAudio) {
          if (mi.audioCodec != null) {
            mi.mimeType = 'video/x-flv; codecs="' + mi.videoCodec + ',' + mi.audioCodec + '"';
          }
        } else {
          mi.mimeType = 'video/x-flv; codecs="' + mi.videoCodec + '"';
        }
        if (mi.isComplete()) {
          this._onMediaInfo(mi);
        }
      }

      var ppsCount = v.getUint8(offset); // numOfPictureParameterSets
      if (ppsCount === 0) {
        this._onError(_demuxErrors2.default.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No PPS');
        return;
      } else if (ppsCount > 1) {
        _logger2.default.w(this.TAG, 'Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ' + ppsCount);
      }

      offset++;

      for (var _i = 0; _i < ppsCount; _i++) {
        var _len = v.getUint16(offset, !le); // pictureParameterSetLength
        offset += 2;

        if (_len === 0) {
          continue;
        }

        // pps is useless for extracting video information
        offset += _len;
      }

      meta.avcc = new Uint8Array(dataSize);
      meta.avcc.set(new Uint8Array(arrayBuffer, dataOffset, dataSize), 0);
      _logger2.default.v(this.TAG, 'Parsed AVCDecoderConfigurationRecord');

      if (this._isInitialMetadataDispatched()) {
        // flush parsed frames
        if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {
          this._onDataAvailable(this._audioTrack, this._videoTrack);
        }
      } else {
        this._videoInitialMetadataDispatched = true;
      }
      // notify new metadata
      this._dispatch = false;
      this._onTrackMetadata('video', meta);
    }
  }, {
    key: '_parseAVCVideoData',
    value: function _parseAVCVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType, cts) {
      var le = this._littleEndian;
      var v = new DataView(arrayBuffer, dataOffset, dataSize);

      var units = [],
          length = 0;

      var offset = 0;
      var lengthSize = this._naluLengthSize;
      var dts = this._timestampBase + tagTimestamp;
      var keyframe = frameType === 1; // from FLV Frame Type constants

      while (offset < dataSize) {
        if (offset + 4 >= dataSize) {
          _logger2.default.w(this.TAG, 'Malformed Nalu near timestamp ' + dts + ', offset = ' + offset + ', dataSize = ' + dataSize);
          break; // data not enough for next Nalu
        }
        // Nalu with length-header (AVC1)
        var naluSize = v.getUint32(offset, !le); // Big-Endian read
        if (lengthSize === 3) {
          naluSize >>>= 8;
        }
        if (naluSize > dataSize - lengthSize) {
          _logger2.default.w(this.TAG, 'Malformed Nalus near timestamp ' + dts + ', NaluSize > DataSize!');
          return;
        }

        var unitType = v.getUint8(offset + lengthSize) & 0x1F;

        if (unitType === 5) {
          // IDR
          keyframe = true;
        }

        var data = new Uint8Array(arrayBuffer, dataOffset + offset, lengthSize + naluSize);
        var unit = { type: unitType, data: data };
        units.push(unit);
        length += data.byteLength;

        offset += lengthSize + naluSize;
      }

      if (units.length) {
        var track = this._videoTrack;
        var avcSample = {
          units: units,
          length: length,
          isKeyframe: keyframe,
          dts: dts,
          cts: cts,
          pts: dts + cts
        };
        if (keyframe) {
          avcSample.fileposition = tagPosition;
        }
        track.samples.push(avcSample);
        track.length += length;
      }
    }
  }, {
    key: 'onTrackMetadata',
    get: function get() {
      return this._onTrackMetadata;
    },
    set: function set(callback) {
      this._onTrackMetadata = callback;
    }

    // prototype: function(mediaInfo: MediaInfo): void

  }, {
    key: 'onMediaInfo',
    get: function get() {
      return this._onMediaInfo;
    },
    set: function set(callback) {
      this._onMediaInfo = callback;
    }

    // prototype: function(type: number, info: string): void

  }, {
    key: 'onError',
    get: function get() {
      return this._onError;
    },
    set: function set(callback) {
      this._onError = callback;
    }

    // prototype: function(videoTrack: any, audioTrack: any): void

  }, {
    key: 'onDataAvailable',
    get: function get() {
      return this._onDataAvailable;
    },
    set: function set(callback) {
      this._onDataAvailable = callback;
    }

    // timestamp base for output samples, must be in milliseconds

  }, {
    key: 'timestampBase',
    get: function get() {
      return this._timestampBase;
    },
    set: function set(base) {
      this._timestampBase = base;
    }
  }, {
    key: 'overridedDuration',
    get: function get() {
      return this._duration;
    }

    // Force-override media duration. Must be in milliseconds, int32
    ,
    set: function set(duration) {
      this._durationOverrided = true;
      this._duration = duration;
      this._mediaInfo.duration = duration;
    }

    // Force-override audio track present flag, boolean

  }, {
    key: 'overridedHasAudio',
    set: function set(hasAudio) {
      this._hasAudioFlagOverrided = true;
      this._hasAudio = hasAudio;
      this._mediaInfo.hasAudio = hasAudio;
    }

    // Force-override video track present flag, boolean

  }, {
    key: 'overridedHasVideo',
    set: function set(hasVideo) {
      this._hasVideoFlagOverrided = true;
      this._hasVideo = hasVideo;
      this._mediaInfo.hasVideo = hasVideo;
    }
  }], [{
    key: 'probe',
    value: function probe(buffer) {
      var data = new Uint8Array(buffer);
      var mismatch = { match: false };

      if (data[0] !== 0x46 || data[1] !== 0x4C || data[2] !== 0x56 || data[3] !== 0x01) {
        return mismatch;
      }

      var hasAudio = (data[4] & 4) >>> 2 !== 0;
      var hasVideo = (data[4] & 1) !== 0;

      var offset = ReadBig32(data, 5);

      if (offset < 9) {
        return mismatch;
      }

      return {
        match: true,
        consumed: offset,
        dataOffset: offset,
        hasAudioTrack: hasAudio,
        hasVideoTrack: hasVideo
      };
    }
  }]);

  return FLVDemuxer;
}();

exports.default = FLVDemuxer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/demux/sps-parser.js":
/*!*************************************!*\
  !*** ./src/flv/demux/sps-parser.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _expGolomb = __webpack_require__(/*! ./exp-golomb.js */ "./src/flv/demux/exp-golomb.js");

var _expGolomb2 = _interopRequireDefault(_expGolomb);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SPSParser = function () {
    function SPSParser() {
        _classCallCheck(this, SPSParser);
    }

    _createClass(SPSParser, null, [{
        key: '_ebsp2rbsp',
        value: function _ebsp2rbsp(uint8array) {
            var src = uint8array;
            var src_length = src.byteLength;
            var dst = new Uint8Array(src_length);
            var dst_idx = 0;

            for (var i = 0; i < src_length; i++) {
                if (i >= 2) {
                    // Unescape: Skip 0x03 after 00 00
                    if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {
                        continue;
                    }
                }
                dst[dst_idx] = src[i];
                dst_idx++;
            }

            return new Uint8Array(dst.buffer, 0, dst_idx);
        }
    }, {
        key: 'parseSPS',
        value: function parseSPS(uint8array) {
            var rbsp = SPSParser._ebsp2rbsp(uint8array);
            var gb = new _expGolomb2.default(rbsp);

            gb.readByte();
            var profile_idc = gb.readByte(); // profile_idc
            gb.readByte(); // constraint_set_flags[5] + reserved_zero[3]
            var level_idc = gb.readByte(); // level_idc
            gb.readUEG(); // seq_parameter_set_id

            var profile_string = SPSParser.getProfileString(profile_idc);
            var level_string = SPSParser.getLevelString(level_idc);
            var chroma_format_idc = 1;
            var chroma_format = 420;
            var chroma_format_table = [0, 420, 422, 444];
            var bit_depth = 8;

            if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 || profile_idc === 244 || profile_idc === 44 || profile_idc === 83 || profile_idc === 86 || profile_idc === 118 || profile_idc === 128 || profile_idc === 138 || profile_idc === 144) {

                chroma_format_idc = gb.readUEG();
                if (chroma_format_idc === 3) {
                    gb.readBits(1); // separate_colour_plane_flag
                }
                if (chroma_format_idc <= 3) {
                    chroma_format = chroma_format_table[chroma_format_idc];
                }

                bit_depth = gb.readUEG() + 8; // bit_depth_luma_minus8
                gb.readUEG(); // bit_depth_chroma_minus8
                gb.readBits(1); // qpprime_y_zero_transform_bypass_flag
                if (gb.readBool()) {
                    // seq_scaling_matrix_present_flag
                    var scaling_list_count = chroma_format_idc !== 3 ? 8 : 12;
                    for (var i = 0; i < scaling_list_count; i++) {
                        if (gb.readBool()) {
                            // seq_scaling_list_present_flag
                            if (i < 6) {
                                SPSParser._skipScalingList(gb, 16);
                            } else {
                                SPSParser._skipScalingList(gb, 64);
                            }
                        }
                    }
                }
            }
            gb.readUEG(); // log2_max_frame_num_minus4
            var pic_order_cnt_type = gb.readUEG();
            if (pic_order_cnt_type === 0) {
                gb.readUEG(); // log2_max_pic_order_cnt_lsb_minus_4
            } else if (pic_order_cnt_type === 1) {
                gb.readBits(1); // delta_pic_order_always_zero_flag
                gb.readSEG(); // offset_for_non_ref_pic
                gb.readSEG(); // offset_for_top_to_bottom_field
                var num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();
                for (var _i = 0; _i < num_ref_frames_in_pic_order_cnt_cycle; _i++) {
                    gb.readSEG(); // offset_for_ref_frame
                }
            }
            var ref_frames = gb.readUEG(); // max_num_ref_frames
            gb.readBits(1); // gaps_in_frame_num_value_allowed_flag

            var pic_width_in_mbs_minus1 = gb.readUEG();
            var pic_height_in_map_units_minus1 = gb.readUEG();

            var frame_mbs_only_flag = gb.readBits(1);
            if (frame_mbs_only_flag === 0) {
                gb.readBits(1); // mb_adaptive_frame_field_flag
            }
            gb.readBits(1); // direct_8x8_inference_flag

            var frame_crop_left_offset = 0;
            var frame_crop_right_offset = 0;
            var frame_crop_top_offset = 0;
            var frame_crop_bottom_offset = 0;

            var frame_cropping_flag = gb.readBool();
            if (frame_cropping_flag) {
                frame_crop_left_offset = gb.readUEG();
                frame_crop_right_offset = gb.readUEG();
                frame_crop_top_offset = gb.readUEG();
                frame_crop_bottom_offset = gb.readUEG();
            }

            var sar_width = 1,
                sar_height = 1;
            var fps = 0,
                fps_fixed = true,
                fps_num = 0,
                fps_den = 0;

            var vui_parameters_present_flag = gb.readBool();
            if (vui_parameters_present_flag) {
                if (gb.readBool()) {
                    // aspect_ratio_info_present_flag
                    var aspect_ratio_idc = gb.readByte();
                    var sar_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];
                    var sar_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1];

                    if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {
                        sar_width = sar_w_table[aspect_ratio_idc - 1];
                        sar_height = sar_h_table[aspect_ratio_idc - 1];
                    } else if (aspect_ratio_idc === 255) {
                        sar_width = gb.readByte() << 8 | gb.readByte();
                        sar_height = gb.readByte() << 8 | gb.readByte();
                    }
                }

                if (gb.readBool()) {
                    // overscan_info_present_flag
                    gb.readBool(); // overscan_appropriate_flag
                }
                if (gb.readBool()) {
                    // video_signal_type_present_flag
                    gb.readBits(4); // video_format & video_full_range_flag
                    if (gb.readBool()) {
                        // colour_description_present_flag
                        gb.readBits(24); // colour_primaries & transfer_characteristics & matrix_coefficients
                    }
                }
                if (gb.readBool()) {
                    // chroma_loc_info_present_flag
                    gb.readUEG(); // chroma_sample_loc_type_top_field
                    gb.readUEG(); // chroma_sample_loc_type_bottom_field
                }
                if (gb.readBool()) {
                    // timing_info_present_flag
                    var num_units_in_tick = gb.readBits(32);
                    var time_scale = gb.readBits(32);
                    fps_fixed = gb.readBool(); // fixed_frame_rate_flag

                    fps_num = time_scale;
                    fps_den = num_units_in_tick * 2;
                    fps = fps_num / fps_den;
                }
            }

            var sarScale = 1;
            if (sar_width !== 1 || sar_height !== 1) {
                sarScale = sar_width / sar_height;
            }

            var crop_unit_x = 0,
                crop_unit_y = 0;
            if (chroma_format_idc === 0) {
                crop_unit_x = 1;
                crop_unit_y = 2 - frame_mbs_only_flag;
            } else {
                var sub_wc = chroma_format_idc === 3 ? 1 : 2;
                var sub_hc = chroma_format_idc === 1 ? 2 : 1;
                crop_unit_x = sub_wc;
                crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);
            }

            var codec_width = (pic_width_in_mbs_minus1 + 1) * 16;
            var codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);

            codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;
            codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;

            var present_width = Math.ceil(codec_width * sarScale);

            gb.destroy();
            gb = null;

            return {
                profile_string: profile_string, // baseline, high, high10, ...
                level_string: level_string, // 3, 3.1, 4, 4.1, 5, 5.1, ...
                bit_depth: bit_depth, // 8bit, 10bit, ...
                ref_frames: ref_frames,
                chroma_format: chroma_format, // 4:2:0, 4:2:2, ...
                chroma_format_string: SPSParser.getChromaFormatString(chroma_format),

                frame_rate: {
                    fixed: fps_fixed,
                    fps: fps,
                    fps_den: fps_den,
                    fps_num: fps_num
                },

                par_ratio: {
                    width: sar_width,
                    height: sar_height
                },

                codec_size: {
                    width: codec_width,
                    height: codec_height
                },

                present_size: {
                    width: present_width,
                    height: codec_height
                }
            };
        }
    }, {
        key: '_skipScalingList',
        value: function _skipScalingList(gb, count) {
            var last_scale = 8,
                next_scale = 8;
            var delta_scale = 0;
            for (var i = 0; i < count; i++) {
                if (next_scale !== 0) {
                    delta_scale = gb.readSEG();
                    next_scale = (last_scale + delta_scale + 256) % 256;
                }
                last_scale = next_scale === 0 ? last_scale : next_scale;
            }
        }
    }, {
        key: 'getProfileString',
        value: function getProfileString(profile_idc) {
            switch (profile_idc) {
                case 66:
                    return 'Baseline';
                case 77:
                    return 'Main';
                case 88:
                    return 'Extended';
                case 100:
                    return 'High';
                case 110:
                    return 'High10';
                case 122:
                    return 'High422';
                case 244:
                    return 'High444';
                default:
                    return 'Unknown';
            }
        }
    }, {
        key: 'getLevelString',
        value: function getLevelString(level_idc) {
            return (level_idc / 10).toFixed(1);
        }
    }, {
        key: 'getChromaFormatString',
        value: function getChromaFormatString(chroma) {
            switch (chroma) {
                case 420:
                    return '4:2:0';
                case 422:
                    return '4:2:2';
                case 444:
                    return '4:4:4';
                default:
                    return 'Unknown';
            }
        }
    }]);

    return SPSParser;
}();

exports.default = SPSParser;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/flv.js":
/*!************************!*\
  !*** ./src/flv/flv.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; /*
                                                                                                                                                                                                                                                                               * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                               * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                               * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                               * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                               * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                               * limitations under the License.
                                                                                                                                                                                                                                                                               */

var _polyfill = __webpack_require__(/*! ./utils/polyfill.js */ "./src/flv/utils/polyfill.js");

var _polyfill2 = _interopRequireDefault(_polyfill);

var _features = __webpack_require__(/*! ./core/features.js */ "./src/flv/core/features.js");

var _features2 = _interopRequireDefault(_features);

var _flvPlayer = __webpack_require__(/*! ./player/flv-player.js */ "./src/flv/player/flv-player.js");

var _flvPlayer2 = _interopRequireDefault(_flvPlayer);

var _nativePlayer = __webpack_require__(/*! ./player/native-player.js */ "./src/flv/player/native-player.js");

var _nativePlayer2 = _interopRequireDefault(_nativePlayer);

var _playerEvents = __webpack_require__(/*! ./player/player-events.js */ "./src/flv/player/player-events.js");

var _playerEvents2 = _interopRequireDefault(_playerEvents);

var _playerErrors = __webpack_require__(/*! ./player/player-errors.js */ "./src/flv/player/player-errors.js");

var _loggingControl = __webpack_require__(/*! ./utils/logging-control.js */ "./src/flv/utils/logging-control.js");

var _loggingControl2 = _interopRequireDefault(_loggingControl);

var _exception = __webpack_require__(/*! ./utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// here are all the interfaces

// install polyfills
_polyfill2.default.install();

// factory method
function createPlayer(mediaDataSource, optionalConfig) {
    var mds = mediaDataSource;
    if (mds == null || (typeof mds === 'undefined' ? 'undefined' : _typeof(mds)) !== 'object') {
        throw new _exception.InvalidArgumentException('MediaDataSource must be an javascript object!');
    }

    if (!mds.hasOwnProperty('type')) {
        throw new _exception.InvalidArgumentException('MediaDataSource must has type field to indicate video file type!');
    }

    switch (mds.type) {
        case 'flv':
            return new _flvPlayer2.default(mds, optionalConfig);
        default:
            return new _nativePlayer2.default(mds, optionalConfig);
    }
}

// feature detection
function isSupported() {
    return _features2.default.supportMSEH264Playback();
}

function getFeatureList() {
    return _features2.default.getFeatureList();
}

// interfaces
var flvjs = {};

flvjs.createPlayer = createPlayer;
flvjs.isSupported = isSupported;
flvjs.getFeatureList = getFeatureList;

flvjs.Events = _playerEvents2.default;
flvjs.ErrorTypes = _playerErrors.ErrorTypes;
flvjs.ErrorDetails = _playerErrors.ErrorDetails;

flvjs.FlvPlayer = _flvPlayer2.default;
flvjs.NativePlayer = _nativePlayer2.default;
flvjs.LoggingControl = _loggingControl2.default;

Object.defineProperty(flvjs, 'version', {
    enumerable: true,
    get: function get() {
        // replaced by browserify-versionify transform
        return '__VERSION__';
    }
});

exports.default = flvjs;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/fetch-stream-loader.js":
/*!*******************************************!*\
  !*** ./src/flv/io/fetch-stream-loader.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* fetch + stream IO loader. Currently working on chrome 43+.
 * fetch provides a better alternative http API to XMLHttpRequest
 *
 * fetch spec   https://fetch.spec.whatwg.org/
 * stream spec  https://streams.spec.whatwg.org/
 */
var FetchStreamLoader = function (_BaseLoader) {
    _inherits(FetchStreamLoader, _BaseLoader);

    _createClass(FetchStreamLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                // fetch + stream is broken on Microsoft Edge. Disable before build 15048.
                // see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8196907/
                // Fixed in Jan 10, 2017. Build 15048+ removed from blacklist.
                var isWorkWellEdge = _browser2.default.msedge && _browser2.default.version.minor >= 15048;
                var browserNotBlacklisted = _browser2.default.msedge ? isWorkWellEdge : true;
                return self.fetch && self.ReadableStream && browserNotBlacklisted;
            } catch (e) {
                return false;
            }
        }
    }]);

    function FetchStreamLoader(seekHandler, config) {
        _classCallCheck(this, FetchStreamLoader);

        var _this = _possibleConstructorReturn(this, (FetchStreamLoader.__proto__ || Object.getPrototypeOf(FetchStreamLoader)).call(this, 'fetch-stream-loader'));

        _this.TAG = 'FetchStreamLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = true;

        _this._requestAbort = false;
        _this._contentLength = null;
        _this._receivedLength = 0;
        return _this;
    }

    _createClass(FetchStreamLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            _get(FetchStreamLoader.prototype.__proto__ || Object.getPrototypeOf(FetchStreamLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            var _this2 = this;

            this._dataSource = dataSource;
            this._range = range;

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL && dataSource.redirectedURL != undefined) {
                sourceURL = dataSource.redirectedURL;
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);

            var headers = new self.Headers();

            if (_typeof(seekConfig.headers) === 'object') {
                var configHeaders = seekConfig.headers;
                for (var key in configHeaders) {
                    if (configHeaders.hasOwnProperty(key)) {
                        headers.append(key, configHeaders[key]);
                    }
                }
            }

            var params = {
                method: 'GET',
                headers: headers,
                mode: 'cors',
                cache: 'default',
                // The default policy of Fetch API in the whatwg standard
                // Safari incorrectly indicates 'no-referrer' as default policy, fuck it
                referrerPolicy: 'no-referrer-when-downgrade'
            };

            // cors is enabled by default
            if (dataSource.cors === false) {
                // no-cors means 'disregard cors policy', which can only be used in ServiceWorker
                params.mode = 'same-origin';
            }

            // withCredentials is disabled by default
            if (dataSource.withCredentials) {
                params.credentials = 'include';
            }

            // referrerPolicy from config
            if (dataSource.referrerPolicy) {
                params.referrerPolicy = dataSource.referrerPolicy;
            }

            this._status = _loader.LoaderStatus.kConnecting;
            self.fetch(seekConfig.url, params).then(function (res) {
                if (_this2._requestAbort) {
                    _this2._requestAbort = false;
                    _this2._status = _loader.LoaderStatus.kIdle;
                    return;
                }
                if (res.ok && res.status >= 200 && res.status <= 299) {
                    if (res.url !== seekConfig.url) {
                        if (_this2._onURLRedirect) {
                            var redirectedURL = _this2._seekHandler.removeURLParameters(res.url);
                            _this2._onURLRedirect(redirectedURL);
                        }
                    }

                    var lengthHeader = res.headers.get('Content-Length');
                    if (lengthHeader != null) {
                        _this2._contentLength = parseInt(lengthHeader);
                        if (_this2._contentLength !== 0) {
                            if (_this2._onContentLengthKnown) {
                                _this2._onContentLengthKnown(_this2._contentLength);
                            }
                        }
                    }

                    return _this2._pump.call(_this2, res.body.getReader());
                } else {
                    _this2._status = _loader.LoaderStatus.kError;
                    if (_this2._onError) {
                        _this2._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: res.status, msg: res.statusText });
                    } else {
                        throw new _exception.RuntimeException('FetchStreamLoader: Http code invalid, ' + res.status + ' ' + res.statusText);
                    }
                }
            }).catch(function (e) {
                _this2._status = _loader.LoaderStatus.kError;
                if (_this2._onError) {
                    _this2._onError(_loader.LoaderErrors.EXCEPTION, { code: -1, msg: e.message });
                } else {
                    throw e;
                }
            });
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._requestAbort = true;
        }
    }, {
        key: '_pump',
        value: function _pump(reader) {
            var _this3 = this;

            // ReadableStreamReader
            return reader.read().then(function (result) {
                if (result.done) {
                    _this3._status = _loader.LoaderStatus.kComplete;
                    if (_this3._onComplete) {
                        _this3._onComplete(_this3._range.from, _this3._range.from + _this3._receivedLength - 1);
                    }
                } else {
                    if (_this3._requestAbort === true) {
                        _this3._requestAbort = false;
                        _this3._status = _loader.LoaderStatus.kComplete;
                        return reader.cancel();
                    }

                    _this3._status = _loader.LoaderStatus.kBuffering;

                    var chunk = result.value.buffer;
                    var byteStart = _this3._range.from + _this3._receivedLength;
                    _this3._receivedLength += chunk.byteLength;

                    if (_this3._onDataArrival) {
                        _this3._onDataArrival(chunk, byteStart, _this3._receivedLength);
                    }

                    _this3._pump(reader);
                }
            }).catch(function (e) {
                if (e.code === 11 && _browser2.default.msedge) {
                    // InvalidStateError on Microsoft Edge
                    // Workaround: Edge may throw InvalidStateError after ReadableStreamReader.cancel() call
                    // Ignore the unknown exception.
                    // Related issue: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11265202/
                    return;
                }

                _this3._status = _loader.LoaderStatus.kError;
                var type = 0;
                var info = null;

                if ((e.code === 19 || e.message === 'network error') && ( // NETWORK_ERR
                _this3._contentLength === null || _this3._contentLength !== null && _this3._receivedLength < _this3._contentLength)) {
                    type = _loader.LoaderErrors.EARLY_EOF;
                    info = { code: e.code, msg: 'Fetch stream meet Early-EOF' };
                } else {
                    type = _loader.LoaderErrors.EXCEPTION;
                    info = { code: e.code, msg: e.message };
                }

                if (_this3._onError) {
                    _this3._onError(type, info);
                } else {
                    throw new _exception.RuntimeException(info.msg);
                }
            });
        }
    }]);

    return FetchStreamLoader;
}(_loader.BaseLoader);

exports.default = FetchStreamLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/io-controller.js":
/*!*************************************!*\
  !*** ./src/flv/io/io-controller.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _speedSampler = __webpack_require__(/*! ./speed-sampler.js */ "./src/flv/io/speed-sampler.js");

var _speedSampler2 = _interopRequireDefault(_speedSampler);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _fetchStreamLoader = __webpack_require__(/*! ./fetch-stream-loader.js */ "./src/flv/io/fetch-stream-loader.js");

var _fetchStreamLoader2 = _interopRequireDefault(_fetchStreamLoader);

var _xhrMozChunkedLoader = __webpack_require__(/*! ./xhr-moz-chunked-loader.js */ "./src/flv/io/xhr-moz-chunked-loader.js");

var _xhrMozChunkedLoader2 = _interopRequireDefault(_xhrMozChunkedLoader);

var _xhrMsstreamLoader = __webpack_require__(/*! ./xhr-msstream-loader.js */ "./src/flv/io/xhr-msstream-loader.js");

var _xhrMsstreamLoader2 = _interopRequireDefault(_xhrMsstreamLoader);

var _xhrRangeLoader = __webpack_require__(/*! ./xhr-range-loader.js */ "./src/flv/io/xhr-range-loader.js");

var _xhrRangeLoader2 = _interopRequireDefault(_xhrRangeLoader);

var _websocketLoader = __webpack_require__(/*! ./websocket-loader.js */ "./src/flv/io/websocket-loader.js");

var _websocketLoader2 = _interopRequireDefault(_websocketLoader);

var _rangeSeekHandler = __webpack_require__(/*! ./range-seek-handler.js */ "./src/flv/io/range-seek-handler.js");

var _rangeSeekHandler2 = _interopRequireDefault(_rangeSeekHandler);

var _paramSeekHandler = __webpack_require__(/*! ./param-seek-handler.js */ "./src/flv/io/param-seek-handler.js");

var _paramSeekHandler2 = _interopRequireDefault(_paramSeekHandler);

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * DataSource: {
 *     url: string,
 *     filesize: number,
 *     cors: boolean,
 *     withCredentials: boolean
 * }
 * 
 */

// Manage IO Loaders
var IOController = function () {
    function IOController(dataSource, config, extraData) {
        _classCallCheck(this, IOController);

        this.TAG = 'IOController';

        this._config = config;
        this._extraData = extraData;

        this._stashInitialSize = 1024 * 384; // default initial size: 384KB
        if (config.stashInitialSize != undefined && config.stashInitialSize > 0) {
            // apply from config
            this._stashInitialSize = config.stashInitialSize;
        }

        this._stashUsed = 0;
        this._stashSize = this._stashInitialSize;
        this._bufferSize = 1024 * 1024 * 3; // initial size: 3MB
        this._stashBuffer = new ArrayBuffer(this._bufferSize);
        this._stashByteStart = 0;
        this._enableStash = true;
        if (config.enableStashBuffer === false) {
            this._enableStash = false;
        }

        this._loader = null;
        this._loaderClass = null;
        this._seekHandler = null;

        this._dataSource = dataSource;
        this._isWebSocketURL = /wss?:\/\/(.+?)/.test(dataSource.url);
        this._refTotalLength = dataSource.filesize ? dataSource.filesize : null;
        this._totalLength = this._refTotalLength;
        this._fullRequestFlag = false;
        this._currentRange = null;
        this._redirectedURL = null;

        this._speedNormalized = 0;
        this._speedSampler = new _speedSampler2.default();
        this._speedNormalizeList = [64, 128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096];

        this._isEarlyEofReconnecting = false;

        this._paused = false;
        this._resumeFrom = 0;

        this._onDataArrival = null;
        this._onSeeked = null;
        this._onError = null;
        this._onComplete = null;
        this._onRedirect = null;
        this._onRecoveredEarlyEof = null;

        this._selectSeekHandler();
        this._selectLoader();
        this._createLoader();
    }

    _createClass(IOController, [{
        key: 'destroy',
        value: function destroy() {
            if (this._loader.isWorking()) {
                this._loader.abort();
            }
            this._loader.destroy();
            this._loader = null;
            this._loaderClass = null;
            this._dataSource = null;
            this._stashBuffer = null;
            this._stashUsed = this._stashSize = this._bufferSize = this._stashByteStart = 0;
            this._currentRange = null;
            this._speedSampler = null;

            this._isEarlyEofReconnecting = false;

            this._onDataArrival = null;
            this._onSeeked = null;
            this._onError = null;
            this._onComplete = null;
            this._onRedirect = null;
            this._onRecoveredEarlyEof = null;

            this._extraData = null;
        }
    }, {
        key: 'isWorking',
        value: function isWorking() {
            return this._loader && this._loader.isWorking() && !this._paused;
        }
    }, {
        key: 'isPaused',
        value: function isPaused() {
            return this._paused;
        }
    }, {
        key: '_selectSeekHandler',
        value: function _selectSeekHandler() {
            var config = this._config;

            if (config.seekType === 'range') {
                this._seekHandler = new _rangeSeekHandler2.default(this._config.rangeLoadZeroStart);
            } else if (config.seekType === 'param') {
                var paramStart = config.seekParamStart || 'bstart';
                var paramEnd = config.seekParamEnd || 'bend';

                this._seekHandler = new _paramSeekHandler2.default(paramStart, paramEnd);
            } else if (config.seekType === 'custom') {
                if (typeof config.customSeekHandler !== 'function') {
                    throw new _exception.InvalidArgumentException('Custom seekType specified in config but invalid customSeekHandler!');
                }
                this._seekHandler = new config.customSeekHandler();
            } else {
                throw new _exception.InvalidArgumentException('Invalid seekType in config: ' + config.seekType);
            }
        }
    }, {
        key: '_selectLoader',
        value: function _selectLoader() {
            if (this._isWebSocketURL) {
                this._loaderClass = _websocketLoader2.default;
            } else if (_fetchStreamLoader2.default.isSupported()) {
                this._loaderClass = _fetchStreamLoader2.default;
            } else if (_xhrMozChunkedLoader2.default.isSupported()) {
                this._loaderClass = _xhrMozChunkedLoader2.default;
            } else if (_xhrRangeLoader2.default.isSupported()) {
                this._loaderClass = _xhrRangeLoader2.default;
            } else {
                throw new _exception.RuntimeException('Your browser doesn\'t support xhr with arraybuffer responseType!');
            }
        }
    }, {
        key: '_createLoader',
        value: function _createLoader() {
            this._loader = new this._loaderClass(this._seekHandler, this._config);
            if (this._loader.needStashBuffer === false) {
                this._enableStash = false;
            }
            this._loader.onContentLengthKnown = this._onContentLengthKnown.bind(this);
            this._loader.onURLRedirect = this._onURLRedirect.bind(this);
            this._loader.onDataArrival = this._onLoaderChunkArrival.bind(this);
            this._loader.onComplete = this._onLoaderComplete.bind(this);
            this._loader.onError = this._onLoaderError.bind(this);
        }
    }, {
        key: 'open',
        value: function open(optionalFrom) {
            this._currentRange = { from: 0, to: -1 };
            if (optionalFrom) {
                this._currentRange.from = optionalFrom;
            }

            this._speedSampler.reset();
            if (!optionalFrom) {
                this._fullRequestFlag = true;
            }

            this._loader.open(this._dataSource, Object.assign({}, this._currentRange));
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._loader.abort();

            if (this._paused) {
                this._paused = false;
                this._resumeFrom = 0;
            }
        }
    }, {
        key: 'pause',
        value: function pause() {
            if (this.isWorking()) {
                this._loader.abort();

                if (this._stashUsed !== 0) {
                    this._resumeFrom = this._stashByteStart;
                    this._currentRange.to = this._stashByteStart - 1;
                } else {
                    this._resumeFrom = this._currentRange.to + 1;
                }
                this._stashUsed = 0;
                this._stashByteStart = 0;
                this._paused = true;
            }
        }
    }, {
        key: 'resume',
        value: function resume() {
            if (this._paused) {
                this._paused = false;
                var bytes = this._resumeFrom;
                this._resumeFrom = 0;
                this._internalSeek(bytes, true);
            }
        }
    }, {
        key: 'seek',
        value: function seek(bytes) {
            this._paused = false;
            this._stashUsed = 0;
            this._stashByteStart = 0;
            this._internalSeek(bytes, true);
        }

        /**
         * When seeking request is from media seeking, unconsumed stash data should be dropped
         * However, stash data shouldn't be dropped if seeking requested from http reconnection
         *
         * @dropUnconsumed: Ignore and discard all unconsumed data in stash buffer
         */

    }, {
        key: '_internalSeek',
        value: function _internalSeek(bytes, dropUnconsumed) {
            if (this._loader.isWorking()) {
                this._loader.abort();
            }

            // dispatch & flush stash buffer before seek
            this._flushStashBuffer(dropUnconsumed);

            this._loader.destroy();
            this._loader = null;

            var requestRange = { from: bytes, to: -1 };
            this._currentRange = { from: requestRange.from, to: -1 };

            this._speedSampler.reset();
            this._stashSize = this._stashInitialSize;
            this._createLoader();
            this._loader.open(this._dataSource, requestRange);

            if (this._onSeeked) {
                this._onSeeked();
            }
        }
    }, {
        key: 'updateUrl',
        value: function updateUrl(url) {
            if (!url || typeof url !== 'string' || url.length === 0) {
                throw new _exception.InvalidArgumentException('Url must be a non-empty string!');
            }

            this._dataSource.url = url;

            // TODO: replace with new url
        }
    }, {
        key: '_expandBuffer',
        value: function _expandBuffer(expectedBytes) {
            var bufferNewSize = this._stashSize;
            while (bufferNewSize + 1024 * 1024 * 1 < expectedBytes) {
                bufferNewSize *= 2;
            }

            bufferNewSize += 1024 * 1024 * 1; // bufferSize = stashSize + 1MB
            if (bufferNewSize === this._bufferSize) {
                return;
            }

            var newBuffer = new ArrayBuffer(bufferNewSize);

            if (this._stashUsed > 0) {
                // copy existing data into new buffer
                var stashOldArray = new Uint8Array(this._stashBuffer, 0, this._stashUsed);
                var stashNewArray = new Uint8Array(newBuffer, 0, bufferNewSize);
                stashNewArray.set(stashOldArray, 0);
            }

            this._stashBuffer = newBuffer;
            this._bufferSize = bufferNewSize;
        }
    }, {
        key: '_normalizeSpeed',
        value: function _normalizeSpeed(input) {
            var list = this._speedNormalizeList;
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (input < list[0]) {
                return list[0];
            }

            // binary search
            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || input >= list[mid] && input < list[mid + 1]) {
                    return list[mid];
                } else if (list[mid] < input) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
        }
    }, {
        key: '_adjustStashSize',
        value: function _adjustStashSize(normalized) {
            var stashSizeKB = 0;

            if (this._config.isLive) {
                // live stream: always use single normalized speed for size of stashSizeKB
                stashSizeKB = normalized;
            } else {
                if (normalized < 512) {
                    stashSizeKB = normalized;
                } else if (normalized >= 512 && normalized <= 1024) {
                    stashSizeKB = Math.floor(normalized * 1.5);
                } else {
                    stashSizeKB = normalized * 2;
                }
            }

            if (stashSizeKB > 8192) {
                stashSizeKB = 8192;
            }

            var bufferSize = stashSizeKB * 1024 + 1024 * 1024 * 1; // stashSize + 1MB
            if (this._bufferSize < bufferSize) {
                this._expandBuffer(bufferSize);
            }
            this._stashSize = stashSizeKB * 1024;
        }
    }, {
        key: '_dispatchChunks',
        value: function _dispatchChunks(chunks, byteStart) {
            this._currentRange.to = byteStart + chunks.byteLength - 1;
            return this._onDataArrival(chunks, byteStart);
        }
    }, {
        key: '_onURLRedirect',
        value: function _onURLRedirect(redirectedURL) {
            this._redirectedURL = redirectedURL;
            if (this._onRedirect) {
                this._onRedirect(redirectedURL);
            }
        }
    }, {
        key: '_onContentLengthKnown',
        value: function _onContentLengthKnown(contentLength) {
            if (contentLength && this._fullRequestFlag) {
                this._totalLength = contentLength;
                this._fullRequestFlag = false;
            }
        }
    }, {
        key: '_onLoaderChunkArrival',
        value: function _onLoaderChunkArrival(chunk, byteStart, receivedLength) {
            if (!this._onDataArrival) {
                throw new _exception.IllegalStateException('IOController: No existing consumer (onDataArrival) callback!');
            }
            if (this._paused) {
                return;
            }
            if (this._isEarlyEofReconnecting) {
                // Auto-reconnect for EarlyEof succeed, notify to upper-layer by callback
                this._isEarlyEofReconnecting = false;
                if (this._onRecoveredEarlyEof) {
                    this._onRecoveredEarlyEof();
                }
            }

            this._speedSampler.addBytes(chunk.byteLength);

            // adjust stash buffer size according to network speed dynamically
            var KBps = this._speedSampler.lastSecondKBps;
            if (KBps !== 0) {
                var normalized = this._normalizeSpeed(KBps);
                if (this._speedNormalized !== normalized) {
                    this._speedNormalized = normalized;
                    this._adjustStashSize(normalized);
                }
            }

            if (!this._enableStash) {
                // disable stash
                if (this._stashUsed === 0) {
                    // dispatch chunk directly to consumer;
                    // check ret value (consumed bytes) and stash unconsumed to stashBuffer
                    var consumed = this._dispatchChunks(chunk, byteStart);
                    if (consumed < chunk.byteLength) {
                        // unconsumed data remain.
                        var remain = chunk.byteLength - consumed;
                        if (remain > this._bufferSize) {
                            this._expandBuffer(remain);
                        }
                        var stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                        stashArray.set(new Uint8Array(chunk, consumed), 0);
                        this._stashUsed += remain;
                        this._stashByteStart = byteStart + consumed;
                    }
                } else {
                    // else: Merge chunk into stashBuffer, and dispatch stashBuffer to consumer.
                    if (this._stashUsed + chunk.byteLength > this._bufferSize) {
                        this._expandBuffer(this._stashUsed + chunk.byteLength);
                    }
                    var _stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                    _stashArray.set(new Uint8Array(chunk), this._stashUsed);
                    this._stashUsed += chunk.byteLength;
                    var _consumed = this._dispatchChunks(this._stashBuffer.slice(0, this._stashUsed), this._stashByteStart);
                    if (_consumed < this._stashUsed && _consumed > 0) {
                        // unconsumed data remain
                        var remainArray = new Uint8Array(this._stashBuffer, _consumed);
                        _stashArray.set(remainArray, 0);
                    }
                    this._stashUsed -= _consumed;
                    this._stashByteStart += _consumed;
                }
            } else {
                // enable stash
                if (this._stashUsed === 0 && this._stashByteStart === 0) {
                    // seeked? or init chunk?
                    // This is the first chunk after seek action
                    this._stashByteStart = byteStart;
                }
                if (this._stashUsed + chunk.byteLength <= this._stashSize) {
                    // just stash
                    var _stashArray2 = new Uint8Array(this._stashBuffer, 0, this._stashSize);
                    _stashArray2.set(new Uint8Array(chunk), this._stashUsed);
                    this._stashUsed += chunk.byteLength;
                } else {
                    // stashUsed + chunkSize > stashSize, size limit exceeded
                    var _stashArray3 = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                    if (this._stashUsed > 0) {
                        // There're stash datas in buffer
                        // dispatch the whole stashBuffer, and stash remain data
                        // then append chunk to stashBuffer (stash)
                        var buffer = this._stashBuffer.slice(0, this._stashUsed);
                        var _consumed2 = this._dispatchChunks(buffer, this._stashByteStart);
                        if (_consumed2 < buffer.byteLength) {
                            if (_consumed2 > 0) {
                                var _remainArray = new Uint8Array(buffer, _consumed2);
                                _stashArray3.set(_remainArray, 0);
                                this._stashUsed = _remainArray.byteLength;
                                this._stashByteStart += _consumed2;
                            }
                        } else {
                            this._stashUsed = 0;
                            this._stashByteStart += _consumed2;
                        }
                        if (this._stashUsed + chunk.byteLength > this._bufferSize) {
                            this._expandBuffer(this._stashUsed + chunk.byteLength);
                            _stashArray3 = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                        }
                        _stashArray3.set(new Uint8Array(chunk), this._stashUsed);
                        this._stashUsed += chunk.byteLength;
                    } else {
                        // stash buffer empty, but chunkSize > stashSize (oh, holy shit)
                        // dispatch chunk directly and stash remain data
                        var _consumed3 = this._dispatchChunks(chunk, byteStart);
                        if (_consumed3 < chunk.byteLength) {
                            var _remain = chunk.byteLength - _consumed3;
                            if (_remain > this._bufferSize) {
                                this._expandBuffer(_remain);
                                _stashArray3 = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                            }
                            _stashArray3.set(new Uint8Array(chunk, _consumed3), 0);
                            this._stashUsed += _remain;
                            this._stashByteStart = byteStart + _consumed3;
                        }
                    }
                }
            }
        }
    }, {
        key: '_flushStashBuffer',
        value: function _flushStashBuffer(dropUnconsumed) {
            if (this._stashUsed > 0) {
                var buffer = this._stashBuffer.slice(0, this._stashUsed);
                var consumed = this._dispatchChunks(buffer, this._stashByteStart);
                var remain = buffer.byteLength - consumed;

                if (consumed < buffer.byteLength) {
                    if (dropUnconsumed) {
                        _logger2.default.w(this.TAG, remain + ' bytes unconsumed data remain when flush buffer, dropped');
                    } else {
                        if (consumed > 0) {
                            var stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);
                            var remainArray = new Uint8Array(buffer, consumed);
                            stashArray.set(remainArray, 0);
                            this._stashUsed = remainArray.byteLength;
                            this._stashByteStart += consumed;
                        }
                        return 0;
                    }
                }
                this._stashUsed = 0;
                this._stashByteStart = 0;
                return remain;
            }
            return 0;
        }
    }, {
        key: '_onLoaderComplete',
        value: function _onLoaderComplete(from, to) {
            // Force-flush stash buffer, and drop unconsumed data
            this._flushStashBuffer(true);

            if (this._onComplete) {
                this._onComplete(this._extraData);
            }
        }
    }, {
        key: '_onLoaderError',
        value: function _onLoaderError(type, data) {
            _logger2.default.e(this.TAG, 'Loader error, code = ' + data.code + ', msg = ' + data.msg);

            this._flushStashBuffer(false);

            if (this._isEarlyEofReconnecting) {
                // Auto-reconnect for EarlyEof failed, throw UnrecoverableEarlyEof error to upper-layer
                this._isEarlyEofReconnecting = false;
                type = _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF;
            }

            switch (type) {
                case _loader.LoaderErrors.EARLY_EOF:
                    {
                        if (!this._config.isLive) {
                            // Do internal http reconnect if not live stream
                            if (this._totalLength) {
                                var nextFrom = this._currentRange.to + 1;
                                if (nextFrom < this._totalLength) {
                                    _logger2.default.w(this.TAG, 'Connection lost, trying reconnect...');
                                    this._isEarlyEofReconnecting = true;
                                    this._internalSeek(nextFrom, false);
                                }
                                return;
                            }
                            // else: We don't know totalLength, throw UnrecoverableEarlyEof
                        }
                        // live stream: throw UnrecoverableEarlyEof error to upper-layer
                        type = _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF;
                        break;
                    }
                case _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF:
                case _loader.LoaderErrors.CONNECTING_TIMEOUT:
                case _loader.LoaderErrors.HTTP_STATUS_CODE_INVALID:
                case _loader.LoaderErrors.EXCEPTION:
                    break;
            }

            if (this._onError) {
                this._onError(type, data);
            } else {
                throw new _exception.RuntimeException('IOException: ' + data.msg);
            }
        }
    }, {
        key: 'status',
        get: function get() {
            return this._loader.status;
        }
    }, {
        key: 'extraData',
        get: function get() {
            return this._extraData;
        },
        set: function set(data) {
            this._extraData = data;
        }

        // prototype: function onDataArrival(chunks: ArrayBuffer, byteStart: number): number

    }, {
        key: 'onDataArrival',
        get: function get() {
            return this._onDataArrival;
        },
        set: function set(callback) {
            this._onDataArrival = callback;
        }
    }, {
        key: 'onSeeked',
        get: function get() {
            return this._onSeeked;
        },
        set: function set(callback) {
            this._onSeeked = callback;
        }

        // prototype: function onError(type: number, info: {code: number, msg: string}): void

    }, {
        key: 'onError',
        get: function get() {
            return this._onError;
        },
        set: function set(callback) {
            this._onError = callback;
        }
    }, {
        key: 'onComplete',
        get: function get() {
            return this._onComplete;
        },
        set: function set(callback) {
            this._onComplete = callback;
        }
    }, {
        key: 'onRedirect',
        get: function get() {
            return this._onRedirect;
        },
        set: function set(callback) {
            this._onRedirect = callback;
        }
    }, {
        key: 'onRecoveredEarlyEof',
        get: function get() {
            return this._onRecoveredEarlyEof;
        },
        set: function set(callback) {
            this._onRecoveredEarlyEof = callback;
        }
    }, {
        key: 'currentURL',
        get: function get() {
            return this._dataSource.url;
        }
    }, {
        key: 'hasRedirect',
        get: function get() {
            return this._redirectedURL != null || this._dataSource.redirectedURL != undefined;
        }
    }, {
        key: 'currentRedirectedURL',
        get: function get() {
            return this._redirectedURL || this._dataSource.redirectedURL;
        }

        // in KB/s

    }, {
        key: 'currentSpeed',
        get: function get() {
            if (this._loaderClass === _xhrRangeLoader2.default) {
                // SpeedSampler is inaccuracy if loader is RangeLoader
                return this._loader.currentSpeed;
            }
            return this._speedSampler.lastSecondKBps;
        }
    }, {
        key: 'loaderType',
        get: function get() {
            return this._loader.type;
        }
    }]);

    return IOController;
}();

exports.default = IOController;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/loader.js":
/*!******************************!*\
  !*** ./src/flv/io/loader.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.BaseLoader = exports.LoaderErrors = exports.LoaderStatus = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LoaderStatus = exports.LoaderStatus = {
    kIdle: 0,
    kConnecting: 1,
    kBuffering: 2,
    kError: 3,
    kComplete: 4
};

var LoaderErrors = exports.LoaderErrors = {
    OK: 'OK',
    EXCEPTION: 'Exception',
    HTTP_STATUS_CODE_INVALID: 'HttpStatusCodeInvalid',
    CONNECTING_TIMEOUT: 'ConnectingTimeout',
    EARLY_EOF: 'EarlyEof',
    UNRECOVERABLE_EARLY_EOF: 'UnrecoverableEarlyEof'
};

/* Loader has callbacks which have following prototypes:
 *     function onContentLengthKnown(contentLength: number): void
 *     function onURLRedirect(url: string): void
 *     function onDataArrival(chunk: ArrayBuffer, byteStart: number, receivedLength: number): void
 *     function onError(errorType: number, errorInfo: {code: number, msg: string}): void
 *     function onComplete(rangeFrom: number, rangeTo: number): void
 */

var BaseLoader = exports.BaseLoader = function () {
    function BaseLoader(typeName) {
        _classCallCheck(this, BaseLoader);

        this._type = typeName || 'undefined';
        this._status = LoaderStatus.kIdle;
        this._needStash = false;
        // callbacks
        this._onContentLengthKnown = null;
        this._onURLRedirect = null;
        this._onDataArrival = null;
        this._onError = null;
        this._onComplete = null;
    }

    _createClass(BaseLoader, [{
        key: 'destroy',
        value: function destroy() {
            this._status = LoaderStatus.kIdle;
            this._onContentLengthKnown = null;
            this._onURLRedirect = null;
            this._onDataArrival = null;
            this._onError = null;
            this._onComplete = null;
        }
    }, {
        key: 'isWorking',
        value: function isWorking() {
            return this._status === LoaderStatus.kConnecting || this._status === LoaderStatus.kBuffering;
        }
    }, {
        key: 'open',


        // pure virtual
        value: function open(dataSource, range) {
            throw new _exception.NotImplementedException('Unimplemented abstract function!');
        }
    }, {
        key: 'abort',
        value: function abort() {
            throw new _exception.NotImplementedException('Unimplemented abstract function!');
        }
    }, {
        key: 'type',
        get: function get() {
            return this._type;
        }
    }, {
        key: 'status',
        get: function get() {
            return this._status;
        }
    }, {
        key: 'needStashBuffer',
        get: function get() {
            return this._needStash;
        }
    }, {
        key: 'onContentLengthKnown',
        get: function get() {
            return this._onContentLengthKnown;
        },
        set: function set(callback) {
            this._onContentLengthKnown = callback;
        }
    }, {
        key: 'onURLRedirect',
        get: function get() {
            return this._onURLRedirect;
        },
        set: function set(callback) {
            this._onURLRedirect = callback;
        }
    }, {
        key: 'onDataArrival',
        get: function get() {
            return this._onDataArrival;
        },
        set: function set(callback) {
            this._onDataArrival = callback;
        }
    }, {
        key: 'onError',
        get: function get() {
            return this._onError;
        },
        set: function set(callback) {
            this._onError = callback;
        }
    }, {
        key: 'onComplete',
        get: function get() {
            return this._onComplete;
        },
        set: function set(callback) {
            this._onComplete = callback;
        }
    }]);

    return BaseLoader;
}();

/***/ }),

/***/ "./src/flv/io/param-seek-handler.js":
/*!******************************************!*\
  !*** ./src/flv/io/param-seek-handler.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var ParamSeekHandler = function () {
    function ParamSeekHandler(paramStart, paramEnd) {
        _classCallCheck(this, ParamSeekHandler);

        this._startName = paramStart;
        this._endName = paramEnd;
    }

    _createClass(ParamSeekHandler, [{
        key: 'getConfig',
        value: function getConfig(baseUrl, range) {
            var url = baseUrl;

            if (range.from !== 0 || range.to !== -1) {
                var needAnd = true;
                if (url.indexOf('?') === -1) {
                    url += '?';
                    needAnd = false;
                }

                if (needAnd) {
                    url += '&';
                }

                url += this._startName + '=' + range.from.toString();

                if (range.to !== -1) {
                    url += '&' + this._endName + '=' + range.to.toString();
                }
            }

            return {
                url: url,
                headers: {}
            };
        }
    }, {
        key: 'removeURLParameters',
        value: function removeURLParameters(seekedURL) {
            var baseURL = seekedURL.split('?')[0];
            var params = undefined;

            var queryIndex = seekedURL.indexOf('?');
            if (queryIndex !== -1) {
                params = seekedURL.substring(queryIndex + 1);
            }

            var resultParams = '';

            if (params != undefined && params.length > 0) {
                var pairs = params.split('&');

                for (var i = 0; i < pairs.length; i++) {
                    var pair = pairs[i].split('=');
                    var requireAnd = i > 0;

                    if (pair[0] !== this._startName && pair[0] !== this._endName) {
                        if (requireAnd) {
                            resultParams += '&';
                        }
                        resultParams += pairs[i];
                    }
                }
            }

            return resultParams.length === 0 ? baseURL : baseURL + '?' + resultParams;
        }
    }]);

    return ParamSeekHandler;
}();

exports.default = ParamSeekHandler;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/range-seek-handler.js":
/*!******************************************!*\
  !*** ./src/flv/io/range-seek-handler.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var RangeSeekHandler = function () {
    function RangeSeekHandler(zeroStart) {
        _classCallCheck(this, RangeSeekHandler);

        this._zeroStart = zeroStart || false;
    }

    _createClass(RangeSeekHandler, [{
        key: 'getConfig',
        value: function getConfig(url, range) {
            var headers = {};

            if (range.from !== 0 || range.to !== -1) {
                var param = void 0;
                if (range.to !== -1) {
                    param = 'bytes=' + range.from.toString() + '-' + range.to.toString();
                } else {
                    param = 'bytes=' + range.from.toString() + '-';
                }
                headers['Range'] = param;
            } else if (this._zeroStart) {
                headers['Range'] = 'bytes=0-';
            }

            return {
                url: url,
                headers: headers
            };
        }
    }, {
        key: 'removeURLParameters',
        value: function removeURLParameters(seekedURL) {
            return seekedURL;
        }
    }]);

    return RangeSeekHandler;
}();

exports.default = RangeSeekHandler;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/speed-sampler.js":
/*!*************************************!*\
  !*** ./src/flv/io/speed-sampler.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// Utility class to calculate realtime network I/O speed
var SpeedSampler = function () {
    function SpeedSampler() {
        _classCallCheck(this, SpeedSampler);

        // milliseconds
        this._firstCheckpoint = 0;
        this._lastCheckpoint = 0;
        this._intervalBytes = 0;
        this._totalBytes = 0;
        this._lastSecondBytes = 0;

        // compatibility detection
        if (self.performance && self.performance.now) {
            this._now = self.performance.now.bind(self.performance);
        } else {
            this._now = Date.now;
        }
    }

    _createClass(SpeedSampler, [{
        key: "reset",
        value: function reset() {
            this._firstCheckpoint = this._lastCheckpoint = 0;
            this._totalBytes = this._intervalBytes = 0;
            this._lastSecondBytes = 0;
        }
    }, {
        key: "addBytes",
        value: function addBytes(bytes) {
            if (this._firstCheckpoint === 0) {
                this._firstCheckpoint = this._now();
                this._lastCheckpoint = this._firstCheckpoint;
                this._intervalBytes += bytes;
                this._totalBytes += bytes;
            } else if (this._now() - this._lastCheckpoint < 1000) {
                this._intervalBytes += bytes;
                this._totalBytes += bytes;
            } else {
                // duration >= 1000
                this._lastSecondBytes = this._intervalBytes;
                this._intervalBytes = bytes;
                this._totalBytes += bytes;
                this._lastCheckpoint = this._now();
            }
        }
    }, {
        key: "currentKBps",
        get: function get() {
            this.addBytes(0);

            var durationSeconds = (this._now() - this._lastCheckpoint) / 1000;
            if (durationSeconds == 0) durationSeconds = 1;
            return this._intervalBytes / durationSeconds / 1024;
        }
    }, {
        key: "lastSecondKBps",
        get: function get() {
            this.addBytes(0);

            if (this._lastSecondBytes !== 0) {
                return this._lastSecondBytes / 1024;
            } else {
                // lastSecondBytes === 0
                if (this._now() - this._lastCheckpoint >= 500) {
                    // if time interval since last checkpoint has exceeded 500ms
                    // the speed is nearly accurate
                    return this.currentKBps;
                } else {
                    // We don't know
                    return 0;
                }
            }
        }
    }, {
        key: "averageKBps",
        get: function get() {
            var durationSeconds = (this._now() - this._firstCheckpoint) / 1000;
            return this._totalBytes / durationSeconds / 1024;
        }
    }]);

    return SpeedSampler;
}();

exports.default = SpeedSampler;
module.exports = exports["default"];

/***/ }),

/***/ "./src/flv/io/websocket-loader.js":
/*!****************************************!*\
  !*** ./src/flv/io/websocket-loader.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

// For FLV over WebSocket live stream
var WebSocketLoader = function (_BaseLoader) {
    _inherits(WebSocketLoader, _BaseLoader);

    _createClass(WebSocketLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                return typeof self.WebSocket !== 'undefined';
            } catch (e) {
                return false;
            }
        }
    }]);

    function WebSocketLoader() {
        _classCallCheck(this, WebSocketLoader);

        var _this = _possibleConstructorReturn(this, (WebSocketLoader.__proto__ || Object.getPrototypeOf(WebSocketLoader)).call(this, 'websocket-loader'));

        _this.TAG = 'WebSocketLoader';

        _this._needStash = true;

        _this._ws = null;
        _this._requestAbort = false;
        _this._receivedLength = 0;
        return _this;
    }

    _createClass(WebSocketLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this._ws) {
                this.abort();
            }
            _get(WebSocketLoader.prototype.__proto__ || Object.getPrototypeOf(WebSocketLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource) {
            try {
                var ws = this._ws = new self.WebSocket(dataSource.url);
                ws.binaryType = 'arraybuffer';
                ws.onopen = this._onWebSocketOpen.bind(this);
                ws.onclose = this._onWebSocketClose.bind(this);
                ws.onmessage = this._onWebSocketMessage.bind(this);
                ws.onerror = this._onWebSocketError.bind(this);

                this._status = _loader.LoaderStatus.kConnecting;
            } catch (e) {
                this._status = _loader.LoaderStatus.kError;

                var info = { code: e.code, msg: e.message };

                if (this._onError) {
                    this._onError(_loader.LoaderErrors.EXCEPTION, info);
                } else {
                    throw new _exception.RuntimeException(info.msg);
                }
            }
        }
    }, {
        key: 'abort',
        value: function abort() {
            var ws = this._ws;
            if (ws && (ws.readyState === 0 || ws.readyState === 1)) {
                // CONNECTING || OPEN
                this._requestAbort = true;
                ws.close();
            }

            this._ws = null;
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_onWebSocketOpen',
        value: function _onWebSocketOpen(e) {
            this._status = _loader.LoaderStatus.kBuffering;
        }
    }, {
        key: '_onWebSocketClose',
        value: function _onWebSocketClose(e) {
            if (this._requestAbort === true) {
                this._requestAbort = false;
                return;
            }

            this._status = _loader.LoaderStatus.kComplete;

            if (this._onComplete) {
                this._onComplete(0, this._receivedLength - 1);
            }
        }
    }, {
        key: '_onWebSocketMessage',
        value: function _onWebSocketMessage(e) {
            var _this2 = this;

            if (e.data instanceof ArrayBuffer) {
                this._dispatchArrayBuffer(e.data);
            } else if (e.data instanceof Blob) {
                var reader = new FileReader();
                reader.onload = function () {
                    _this2._dispatchArrayBuffer(reader.result);
                };
                reader.readAsArrayBuffer(e.data);
            } else {
                this._status = _loader.LoaderStatus.kError;
                var info = { code: -1, msg: 'Unsupported WebSocket message type: ' + e.data.constructor.name };

                if (this._onError) {
                    this._onError(_loader.LoaderErrors.EXCEPTION, info);
                } else {
                    throw new _exception.RuntimeException(info.msg);
                }
            }
        }
    }, {
        key: '_dispatchArrayBuffer',
        value: function _dispatchArrayBuffer(arraybuffer) {
            var chunk = arraybuffer;
            var byteStart = this._receivedLength;
            this._receivedLength += chunk.byteLength;

            if (this._onDataArrival) {
                this._onDataArrival(chunk, byteStart, this._receivedLength);
            }
        }
    }, {
        key: '_onWebSocketError',
        value: function _onWebSocketError(e) {
            this._status = _loader.LoaderStatus.kError;

            var info = {
                code: e.code,
                msg: e.message
            };

            if (this._onError) {
                this._onError(_loader.LoaderErrors.EXCEPTION, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }]);

    return WebSocketLoader;
}(_loader.BaseLoader);

exports.default = WebSocketLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/xhr-moz-chunked-loader.js":
/*!**********************************************!*\
  !*** ./src/flv/io/xhr-moz-chunked-loader.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

// For FireFox browser which supports `xhr.responseType = 'moz-chunked-arraybuffer'`
var MozChunkedLoader = function (_BaseLoader) {
    _inherits(MozChunkedLoader, _BaseLoader);

    _createClass(MozChunkedLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                var xhr = new XMLHttpRequest();
                // Firefox 37- requires .open() to be called before setting responseType
                xhr.open('GET', 'https://example.com', true);
                xhr.responseType = 'moz-chunked-arraybuffer';
                return xhr.responseType === 'moz-chunked-arraybuffer';
            } catch (e) {
                _logger2.default.w('MozChunkedLoader', e.message);
                return false;
            }
        }
    }]);

    function MozChunkedLoader(seekHandler, config) {
        _classCallCheck(this, MozChunkedLoader);

        var _this = _possibleConstructorReturn(this, (MozChunkedLoader.__proto__ || Object.getPrototypeOf(MozChunkedLoader)).call(this, 'xhr-moz-chunked-loader'));

        _this.TAG = 'MozChunkedLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = true;

        _this._xhr = null;
        _this._requestAbort = false;
        _this._contentLength = null;
        _this._receivedLength = 0;
        return _this;
    }

    _createClass(MozChunkedLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr.onprogress = null;
                this._xhr.onloadend = null;
                this._xhr.onerror = null;
                this._xhr = null;
            }
            _get(MozChunkedLoader.prototype.__proto__ || Object.getPrototypeOf(MozChunkedLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            this._dataSource = dataSource;
            this._range = range;

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL && dataSource.redirectedURL != undefined) {
                sourceURL = dataSource.redirectedURL;
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);
            this._requestURL = seekConfig.url;

            var xhr = this._xhr = new XMLHttpRequest();
            xhr.open('GET', seekConfig.url, true);
            xhr.responseType = 'moz-chunked-arraybuffer';
            xhr.onreadystatechange = this._onReadyStateChange.bind(this);
            xhr.onprogress = this._onProgress.bind(this);
            xhr.onloadend = this._onLoadEnd.bind(this);
            xhr.onerror = this._onXhrError.bind(this);

            // cors is auto detected and enabled by xhr

            // withCredentials is disabled by default
            if (dataSource.withCredentials) {
                xhr.withCredentials = true;
            }

            if (_typeof(seekConfig.headers) === 'object') {
                var headers = seekConfig.headers;

                for (var key in headers) {
                    if (headers.hasOwnProperty(key)) {
                        xhr.setRequestHeader(key, headers[key]);
                    }
                }
            }

            this._status = _loader.LoaderStatus.kConnecting;
            xhr.send();
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._requestAbort = true;
            if (this._xhr) {
                this._xhr.abort();
            }
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_onReadyStateChange',
        value: function _onReadyStateChange(e) {
            var xhr = e.target;

            if (xhr.readyState === 2) {
                // HEADERS_RECEIVED
                if (xhr.responseURL != undefined && xhr.responseURL !== this._requestURL) {
                    if (this._onURLRedirect) {
                        var redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);
                        this._onURLRedirect(redirectedURL);
                    }
                }

                if (xhr.status !== 0 && (xhr.status < 200 || xhr.status > 299)) {
                    this._status = _loader.LoaderStatus.kError;
                    if (this._onError) {
                        this._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: xhr.status, msg: xhr.statusText });
                    } else {
                        throw new _exception.RuntimeException('MozChunkedLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);
                    }
                } else {
                    this._status = _loader.LoaderStatus.kBuffering;
                }
            }
        }
    }, {
        key: '_onProgress',
        value: function _onProgress(e) {
            if (this._status === _loader.LoaderStatus.kError) {
                // Ignore error response
                return;
            }

            if (this._contentLength === null) {
                if (e.total !== null && e.total !== 0) {
                    this._contentLength = e.total;
                    if (this._onContentLengthKnown) {
                        this._onContentLengthKnown(this._contentLength);
                    }
                }
            }

            var chunk = e.target.response;
            var byteStart = this._range.from + this._receivedLength;
            this._receivedLength += chunk.byteLength;

            if (this._onDataArrival) {
                this._onDataArrival(chunk, byteStart, this._receivedLength);
            }
        }
    }, {
        key: '_onLoadEnd',
        value: function _onLoadEnd(e) {
            if (this._requestAbort === true) {
                this._requestAbort = false;
                return;
            } else if (this._status === _loader.LoaderStatus.kError) {
                return;
            }

            this._status = _loader.LoaderStatus.kComplete;
            if (this._onComplete) {
                this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);
            }
        }
    }, {
        key: '_onXhrError',
        value: function _onXhrError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = 0;
            var info = null;

            if (this._contentLength && e.loaded < this._contentLength) {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: 'Moz-Chunked stream meet Early-Eof' };
            } else {
                type = _loader.LoaderErrors.EXCEPTION;
                info = { code: -1, msg: e.constructor.name + ' ' + e.type };
            }

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }]);

    return MozChunkedLoader;
}(_loader.BaseLoader);

exports.default = MozChunkedLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/xhr-msstream-loader.js":
/*!*******************************************!*\
  !*** ./src/flv/io/xhr-msstream-loader.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

/* Notice: ms-stream may cause IE/Edge browser crash if seek too frequently!!!
 * The browser may crash in wininet.dll. Disable for now.
 *
 * For IE11/Edge browser by microsoft which supports `xhr.responseType = 'ms-stream'`
 * Notice that ms-stream API sucks. The buffer is always expanding along with downloading.
 *
 * We need to abort the xhr if buffer size exceeded limit size (e.g. 16 MiB), then do reconnect.
 * in order to release previous ArrayBuffer to avoid memory leak
 *
 * Otherwise, the ArrayBuffer will increase to a terrible size that equals final file size.
 */
var MSStreamLoader = function (_BaseLoader) {
    _inherits(MSStreamLoader, _BaseLoader);

    _createClass(MSStreamLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                if (typeof self.MSStream === 'undefined' || typeof self.MSStreamReader === 'undefined') {
                    return false;
                }

                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'https://example.com', true);
                xhr.responseType = 'ms-stream';
                return xhr.responseType === 'ms-stream';
            } catch (e) {
                _logger2.default.w('MSStreamLoader', e.message);
                return false;
            }
        }
    }]);

    function MSStreamLoader(seekHandler, config) {
        _classCallCheck(this, MSStreamLoader);

        var _this = _possibleConstructorReturn(this, (MSStreamLoader.__proto__ || Object.getPrototypeOf(MSStreamLoader)).call(this, 'xhr-msstream-loader'));

        _this.TAG = 'MSStreamLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = true;

        _this._xhr = null;
        _this._reader = null; // MSStreamReader

        _this._totalRange = null;
        _this._currentRange = null;

        _this._currentRequestURL = null;
        _this._currentRedirectedURL = null;

        _this._contentLength = null;
        _this._receivedLength = 0;

        _this._bufferLimit = 16 * 1024 * 1024; // 16MB
        _this._lastTimeBufferSize = 0;
        _this._isReconnecting = false;
        return _this;
    }

    _createClass(MSStreamLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            if (this._reader) {
                this._reader.onprogress = null;
                this._reader.onload = null;
                this._reader.onerror = null;
                this._reader = null;
            }
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr = null;
            }
            _get(MSStreamLoader.prototype.__proto__ || Object.getPrototypeOf(MSStreamLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            this._internalOpen(dataSource, range, false);
        }
    }, {
        key: '_internalOpen',
        value: function _internalOpen(dataSource, range, isSubrange) {
            this._dataSource = dataSource;

            if (!isSubrange) {
                this._totalRange = range;
            } else {
                this._currentRange = range;
            }

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL) {
                if (this._currentRedirectedURL != undefined) {
                    sourceURL = this._currentRedirectedURL;
                } else if (dataSource.redirectedURL != undefined) {
                    sourceURL = dataSource.redirectedURL;
                }
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);
            this._currentRequestURL = seekConfig.url;

            var reader = this._reader = new self.MSStreamReader();
            reader.onprogress = this._msrOnProgress.bind(this);
            reader.onload = this._msrOnLoad.bind(this);
            reader.onerror = this._msrOnError.bind(this);

            var xhr = this._xhr = new XMLHttpRequest();
            xhr.open('GET', seekConfig.url, true);
            xhr.responseType = 'ms-stream';
            xhr.onreadystatechange = this._xhrOnReadyStateChange.bind(this);
            xhr.onerror = this._xhrOnError.bind(this);

            if (dataSource.withCredentials) {
                xhr.withCredentials = true;
            }

            if (_typeof(seekConfig.headers) === 'object') {
                var headers = seekConfig.headers;

                for (var key in headers) {
                    if (headers.hasOwnProperty(key)) {
                        xhr.setRequestHeader(key, headers[key]);
                    }
                }
            }

            if (this._isReconnecting) {
                this._isReconnecting = false;
            } else {
                this._status = _loader.LoaderStatus.kConnecting;
            }
            xhr.send();
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._internalAbort();
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_internalAbort',
        value: function _internalAbort() {
            if (this._reader) {
                if (this._reader.readyState === 1) {
                    // LOADING
                    this._reader.abort();
                }
                this._reader.onprogress = null;
                this._reader.onload = null;
                this._reader.onerror = null;
                this._reader = null;
            }
            if (this._xhr) {
                this._xhr.abort();
                this._xhr.onreadystatechange = null;
                this._xhr = null;
            }
        }
    }, {
        key: '_xhrOnReadyStateChange',
        value: function _xhrOnReadyStateChange(e) {
            var xhr = e.target;

            if (xhr.readyState === 2) {
                // HEADERS_RECEIVED
                if (xhr.status >= 200 && xhr.status <= 299) {
                    this._status = _loader.LoaderStatus.kBuffering;

                    if (xhr.responseURL != undefined) {
                        var redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);
                        if (xhr.responseURL !== this._currentRequestURL && redirectedURL !== this._currentRedirectedURL) {
                            this._currentRedirectedURL = redirectedURL;
                            if (this._onURLRedirect) {
                                this._onURLRedirect(redirectedURL);
                            }
                        }
                    }

                    var lengthHeader = xhr.getResponseHeader('Content-Length');
                    if (lengthHeader != null && this._contentLength == null) {
                        var length = parseInt(lengthHeader);
                        if (length > 0) {
                            this._contentLength = length;
                            if (this._onContentLengthKnown) {
                                this._onContentLengthKnown(this._contentLength);
                            }
                        }
                    }
                } else {
                    this._status = _loader.LoaderStatus.kError;
                    if (this._onError) {
                        this._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: xhr.status, msg: xhr.statusText });
                    } else {
                        throw new _exception.RuntimeException('MSStreamLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);
                    }
                }
            } else if (xhr.readyState === 3) {
                // LOADING
                if (xhr.status >= 200 && xhr.status <= 299) {
                    this._status = _loader.LoaderStatus.kBuffering;

                    var msstream = xhr.response;
                    this._reader.readAsArrayBuffer(msstream);
                }
            }
        }
    }, {
        key: '_xhrOnError',
        value: function _xhrOnError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = _loader.LoaderErrors.EXCEPTION;
            var info = { code: -1, msg: e.constructor.name + ' ' + e.type };

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }, {
        key: '_msrOnProgress',
        value: function _msrOnProgress(e) {
            var reader = e.target;
            var bigbuffer = reader.result;
            if (bigbuffer == null) {
                // result may be null, workaround for buggy M$
                this._doReconnectIfNeeded();
                return;
            }

            var slice = bigbuffer.slice(this._lastTimeBufferSize);
            this._lastTimeBufferSize = bigbuffer.byteLength;
            var byteStart = this._totalRange.from + this._receivedLength;
            this._receivedLength += slice.byteLength;

            if (this._onDataArrival) {
                this._onDataArrival(slice, byteStart, this._receivedLength);
            }

            if (bigbuffer.byteLength >= this._bufferLimit) {
                _logger2.default.v(this.TAG, 'MSStream buffer exceeded max size near ' + (byteStart + slice.byteLength) + ', reconnecting...');
                this._doReconnectIfNeeded();
            }
        }
    }, {
        key: '_doReconnectIfNeeded',
        value: function _doReconnectIfNeeded() {
            if (this._contentLength == null || this._receivedLength < this._contentLength) {
                this._isReconnecting = true;
                this._lastTimeBufferSize = 0;
                this._internalAbort();

                var range = {
                    from: this._totalRange.from + this._receivedLength,
                    to: -1
                };
                this._internalOpen(this._dataSource, range, true);
            }
        }
    }, {
        key: '_msrOnLoad',
        value: function _msrOnLoad(e) {
            // actually it is onComplete event
            this._status = _loader.LoaderStatus.kComplete;
            if (this._onComplete) {
                this._onComplete(this._totalRange.from, this._totalRange.from + this._receivedLength - 1);
            }
        }
    }, {
        key: '_msrOnError',
        value: function _msrOnError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = 0;
            var info = null;

            if (this._contentLength && this._receivedLength < this._contentLength) {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: 'MSStream meet Early-Eof' };
            } else {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: e.constructor.name + ' ' + e.type };
            }

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }]);

    return MSStreamLoader;
}(_loader.BaseLoader);

exports.default = MSStreamLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/io/xhr-range-loader.js":
/*!****************************************!*\
  !*** ./src/flv/io/xhr-range-loader.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _speedSampler = __webpack_require__(/*! ./speed-sampler.js */ "./src/flv/io/speed-sampler.js");

var _speedSampler2 = _interopRequireDefault(_speedSampler);

var _loader = __webpack_require__(/*! ./loader.js */ "./src/flv/io/loader.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */

// Universal IO Loader, implemented by adding Range header in xhr's request header
var RangeLoader = function (_BaseLoader) {
    _inherits(RangeLoader, _BaseLoader);

    _createClass(RangeLoader, null, [{
        key: 'isSupported',
        value: function isSupported() {
            try {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'https://example.com', true);
                xhr.responseType = 'arraybuffer';
                return xhr.responseType === 'arraybuffer';
            } catch (e) {
                _logger2.default.w('RangeLoader', e.message);
                return false;
            }
        }
    }]);

    function RangeLoader(seekHandler, config) {
        _classCallCheck(this, RangeLoader);

        var _this = _possibleConstructorReturn(this, (RangeLoader.__proto__ || Object.getPrototypeOf(RangeLoader)).call(this, 'xhr-range-loader'));

        _this.TAG = 'RangeLoader';

        _this._seekHandler = seekHandler;
        _this._config = config;
        _this._needStash = false;

        _this._chunkSizeKBList = [128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168, 8192];
        _this._currentChunkSizeKB = 384;
        _this._currentSpeedNormalized = 0;
        _this._zeroSpeedChunkCount = 0;

        _this._xhr = null;
        _this._speedSampler = new _speedSampler2.default();

        _this._requestAbort = false;
        _this._waitForTotalLength = false;
        _this._totalLengthReceived = false;

        _this._currentRequestURL = null;
        _this._currentRedirectedURL = null;
        _this._currentRequestRange = null;
        _this._totalLength = null; // size of the entire file
        _this._contentLength = null; // Content-Length of entire request range
        _this._receivedLength = 0; // total received bytes
        _this._lastTimeLoaded = 0; // received bytes of current request sub-range
        return _this;
    }

    _createClass(RangeLoader, [{
        key: 'destroy',
        value: function destroy() {
            if (this.isWorking()) {
                this.abort();
            }
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr.onprogress = null;
                this._xhr.onload = null;
                this._xhr.onerror = null;
                this._xhr = null;
            }
            _get(RangeLoader.prototype.__proto__ || Object.getPrototypeOf(RangeLoader.prototype), 'destroy', this).call(this);
        }
    }, {
        key: 'open',
        value: function open(dataSource, range) {
            this._dataSource = dataSource;
            this._range = range;
            this._status = _loader.LoaderStatus.kConnecting;

            var useRefTotalLength = false;
            if (this._dataSource.filesize != undefined && this._dataSource.filesize !== 0) {
                useRefTotalLength = true;
                this._totalLength = this._dataSource.filesize;
            }

            if (!this._totalLengthReceived && !useRefTotalLength) {
                // We need total filesize
                this._waitForTotalLength = true;
                this._internalOpen(this._dataSource, { from: 0, to: -1 });
            } else {
                // We have filesize, start loading
                this._openSubRange();
            }
        }
    }, {
        key: '_openSubRange',
        value: function _openSubRange() {
            var chunkSize = this._currentChunkSizeKB * 1024;

            var from = this._range.from + this._receivedLength;
            var to = from + chunkSize;

            if (this._contentLength != null) {
                if (to - this._range.from >= this._contentLength) {
                    to = this._range.from + this._contentLength - 1;
                }
            }

            this._currentRequestRange = { from: from, to: to };
            this._internalOpen(this._dataSource, this._currentRequestRange);
        }
    }, {
        key: '_internalOpen',
        value: function _internalOpen(dataSource, range) {
            this._lastTimeLoaded = 0;

            var sourceURL = dataSource.url;
            if (this._config.reuseRedirectedURL) {
                if (this._currentRedirectedURL != undefined) {
                    sourceURL = this._currentRedirectedURL;
                } else if (dataSource.redirectedURL != undefined) {
                    sourceURL = dataSource.redirectedURL;
                }
            }

            var seekConfig = this._seekHandler.getConfig(sourceURL, range);
            this._currentRequestURL = seekConfig.url;

            var xhr = this._xhr = new XMLHttpRequest();
            xhr.open('GET', seekConfig.url, true);
            xhr.responseType = 'arraybuffer';
            xhr.onreadystatechange = this._onReadyStateChange.bind(this);
            xhr.onprogress = this._onProgress.bind(this);
            xhr.onload = this._onLoad.bind(this);
            xhr.onerror = this._onXhrError.bind(this);

            if (dataSource.withCredentials) {
                xhr.withCredentials = true;
            }

            if (_typeof(seekConfig.headers) === 'object') {
                var headers = seekConfig.headers;

                for (var key in headers) {
                    if (headers.hasOwnProperty(key)) {
                        xhr.setRequestHeader(key, headers[key]);
                    }
                }
            }

            xhr.send();
        }
    }, {
        key: 'abort',
        value: function abort() {
            this._requestAbort = true;
            this._internalAbort();
            this._status = _loader.LoaderStatus.kComplete;
        }
    }, {
        key: '_internalAbort',
        value: function _internalAbort() {
            if (this._xhr) {
                this._xhr.onreadystatechange = null;
                this._xhr.onprogress = null;
                this._xhr.onload = null;
                this._xhr.onerror = null;
                this._xhr.abort();
                this._xhr = null;
            }
        }
    }, {
        key: '_onReadyStateChange',
        value: function _onReadyStateChange(e) {
            var xhr = e.target;

            if (xhr.readyState === 2) {
                // HEADERS_RECEIVED
                if (xhr.responseURL != undefined) {
                    // if the browser support this property
                    var redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);
                    if (xhr.responseURL !== this._currentRequestURL && redirectedURL !== this._currentRedirectedURL) {
                        this._currentRedirectedURL = redirectedURL;
                        if (this._onURLRedirect) {
                            this._onURLRedirect(redirectedURL);
                        }
                    }
                }

                if (xhr.status >= 200 && xhr.status <= 299) {
                    if (this._waitForTotalLength) {
                        return;
                    }
                    this._status = _loader.LoaderStatus.kBuffering;
                } else {
                    this._status = _loader.LoaderStatus.kError;
                    if (this._onError) {
                        this._onError(_loader.LoaderErrors.HTTP_STATUS_CODE_INVALID, { code: xhr.status, msg: xhr.statusText });
                    } else {
                        throw new _exception.RuntimeException('RangeLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);
                    }
                }
            }
        }
    }, {
        key: '_onProgress',
        value: function _onProgress(e) {
            if (this._status === _loader.LoaderStatus.kError) {
                // Ignore error response
                return;
            }

            if (this._contentLength === null) {
                var openNextRange = false;

                if (this._waitForTotalLength) {
                    this._waitForTotalLength = false;
                    this._totalLengthReceived = true;
                    openNextRange = true;

                    var total = e.total;
                    this._internalAbort();
                    if (total != null & total !== 0) {
                        this._totalLength = total;
                    }
                }

                // calculate currrent request range's contentLength
                if (this._range.to === -1) {
                    this._contentLength = this._totalLength - this._range.from;
                } else {
                    // to !== -1
                    this._contentLength = this._range.to - this._range.from + 1;
                }

                if (openNextRange) {
                    this._openSubRange();
                    return;
                }
                if (this._onContentLengthKnown) {
                    this._onContentLengthKnown(this._contentLength);
                }
            }

            var delta = e.loaded - this._lastTimeLoaded;
            this._lastTimeLoaded = e.loaded;
            this._speedSampler.addBytes(delta);
        }
    }, {
        key: '_normalizeSpeed',
        value: function _normalizeSpeed(input) {
            var list = this._chunkSizeKBList;
            var last = list.length - 1;
            var mid = 0;
            var lbound = 0;
            var ubound = last;

            if (input < list[0]) {
                return list[0];
            }

            while (lbound <= ubound) {
                mid = lbound + Math.floor((ubound - lbound) / 2);
                if (mid === last || input >= list[mid] && input < list[mid + 1]) {
                    return list[mid];
                } else if (list[mid] < input) {
                    lbound = mid + 1;
                } else {
                    ubound = mid - 1;
                }
            }
        }
    }, {
        key: '_onLoad',
        value: function _onLoad(e) {
            if (this._status === _loader.LoaderStatus.kError) {
                // Ignore error response
                return;
            }

            if (this._waitForTotalLength) {
                this._waitForTotalLength = false;
                return;
            }

            this._lastTimeLoaded = 0;
            var KBps = this._speedSampler.lastSecondKBps;
            if (KBps === 0) {
                this._zeroSpeedChunkCount++;
                if (this._zeroSpeedChunkCount >= 3) {
                    // Try get currentKBps after 3 chunks
                    KBps = this._speedSampler.currentKBps;
                }
            }

            if (KBps !== 0) {
                var normalized = this._normalizeSpeed(KBps);
                if (this._currentSpeedNormalized !== normalized) {
                    this._currentSpeedNormalized = normalized;
                    this._currentChunkSizeKB = normalized;
                }
            }

            var chunk = e.target.response;
            var byteStart = this._range.from + this._receivedLength;
            this._receivedLength += chunk.byteLength;

            var reportComplete = false;

            if (this._contentLength != null && this._receivedLength < this._contentLength) {
                // continue load next chunk
                this._openSubRange();
            } else {
                reportComplete = true;
            }

            // dispatch received chunk
            if (this._onDataArrival) {
                this._onDataArrival(chunk, byteStart, this._receivedLength);
            }

            if (reportComplete) {
                this._status = _loader.LoaderStatus.kComplete;
                if (this._onComplete) {
                    this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);
                }
            }
        }
    }, {
        key: '_onXhrError',
        value: function _onXhrError(e) {
            this._status = _loader.LoaderStatus.kError;
            var type = 0;
            var info = null;

            if (this._contentLength && this._receivedLength > 0 && this._receivedLength < this._contentLength) {
                type = _loader.LoaderErrors.EARLY_EOF;
                info = { code: -1, msg: 'RangeLoader meet Early-Eof' };
            } else {
                type = _loader.LoaderErrors.EXCEPTION;
                info = { code: -1, msg: e.constructor.name + ' ' + e.type };
            }

            if (this._onError) {
                this._onError(type, info);
            } else {
                throw new _exception.RuntimeException(info.msg);
            }
        }
    }, {
        key: 'currentSpeed',
        get: function get() {
            return this._speedSampler.lastSecondKBps;
        }
    }]);

    return RangeLoader;
}(_loader.BaseLoader);

exports.default = RangeLoader;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/player/flv-player.js":
/*!**************************************!*\
  !*** ./src/flv/player/flv-player.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _playerEvents = __webpack_require__(/*! ./player-events.js */ "./src/flv/player/player-events.js");

var _playerEvents2 = _interopRequireDefault(_playerEvents);

var _transmuxer = __webpack_require__(/*! ../core/transmuxer.js */ "./src/flv/core/transmuxer.js");

var _transmuxer2 = _interopRequireDefault(_transmuxer);

var _transmuxingEvents = __webpack_require__(/*! ../core/transmuxing-events.js */ "./src/flv/core/transmuxing-events.js");

var _transmuxingEvents2 = _interopRequireDefault(_transmuxingEvents);

var _mseController = __webpack_require__(/*! ../core/mse-controller.js */ "./src/flv/core/mse-controller.js");

var _mseController2 = _interopRequireDefault(_mseController);

var _mseEvents = __webpack_require__(/*! ../core/mse-events.js */ "./src/flv/core/mse-events.js");

var _mseEvents2 = _interopRequireDefault(_mseEvents);

var _playerErrors = __webpack_require__(/*! ./player-errors.js */ "./src/flv/player/player-errors.js");

var _config = __webpack_require__(/*! ../config.js */ "./src/flv/config.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* eslint-disable */
var FlvPlayer = function () {
  function FlvPlayer(mediaDataSource, config) {
    _classCallCheck(this, FlvPlayer);

    this.TAG = 'FlvPlayer';
    this._type = 'FlvPlayer';
    this._emitter = new _events2.default();

    this._config = (0, _config.createDefaultConfig)();
    if ((typeof config === 'undefined' ? 'undefined' : _typeof(config)) === 'object') {
      Object.assign(this._config, config);
    }

    if (mediaDataSource.type.toLowerCase() !== 'flv') {
      throw new _exception.InvalidArgumentException('FlvPlayer requires an flv MediaDataSource input!');
    }

    if (mediaDataSource.isLive === true) {
      this._config.isLive = true;
    }

    this.e = {
      onvLoadedMetadata: this._onvLoadedMetadata.bind(this),
      onvSeeking: this._onvSeeking.bind(this),
      onvCanPlay: this._onvCanPlay.bind(this),
      onvStalled: this._onvStalled.bind(this),
      onvProgress: this._onvProgress.bind(this)
    };

    if (window.performance && window.performance.now) {
      this._now = window.performance.now.bind(window.performance);
    } else {
      this._now = Date.now;
    }

    this._pendingSeekTime = null; // in seconds
    this._requestSetTime = false;
    this._seekpointRecord = null;
    this._progressChecker = null;

    this._mediaDataSource = mediaDataSource;
    this._mediaElement = null;
    this._msectl = null;
    this._transmuxer = null;

    this._mseSourceOpened = false;
    this._hasPendingLoad = false;
    this._receivedCanPlay = false;

    this._mediaInfo = null;
    this._statisticsInfo = null;

    var chromeNeedIDRFix = _browser2.default.chrome && (_browser2.default.version.major < 50 || _browser2.default.version.major === 50 && _browser2.default.version.build < 2661);
    this._alwaysSeekKeyframe = !!(chromeNeedIDRFix || _browser2.default.msedge || _browser2.default.msie);

    if (this._alwaysSeekKeyframe) {
      this._config.accurateSeek = false;
    }
    this._tempPendingSegments = {
      audio: [],
      video: []
    };
    this._definitionRetryTimes = 0;
  }

  _createClass(FlvPlayer, [{
    key: 'destroy',
    value: function destroy() {
      if (this._progressChecker != null) {
        window.clearInterval(this._progressChecker);
        this._progressChecker = null;
      }
      if (this._transmuxer) {
        this.unload();
      }
      if (this._mediaElement) {
        this.detachMediaElement();
      }
      this.e = null;
      this._mediaDataSource = null;

      this._emitter.removeAllListeners();
      this._emitter = null;
    }
  }, {
    key: 'on',
    value: function on(event, listener) {
      var _this = this;

      if (event === _playerEvents2.default.MEDIA_INFO) {
        if (this._mediaInfo != null) {
          Promise.resolve().then(function () {
            _this._emitter.emit(_playerEvents2.default.MEDIA_INFO, _this.mediaInfo);
          });
        }
      } else if (event === _playerEvents2.default.STATISTICS_INFO) {
        if (this._statisticsInfo != null) {
          Promise.resolve().then(function () {
            _this._emitter.emit(_playerEvents2.default.STATISTICS_INFO, _this.statisticsInfo);
          });
        }
      }
      this._emitter.addListener(event, listener);
    }
  }, {
    key: 'off',
    value: function off(event, listener) {
      this._emitter.removeListener(event, listener);
    }
  }, {
    key: 'attachMediaElement',
    value: function attachMediaElement(mediaElement) {
      var _this2 = this;

      this._mediaElement = mediaElement;
      mediaElement.addEventListener('loadedmetadata', this.e.onvLoadedMetadata);
      mediaElement.addEventListener('seeking', this.e.onvSeeking);
      mediaElement.addEventListener('canplay', this.e.onvCanPlay);
      mediaElement.addEventListener('stalled', this.e.onvStalled);
      mediaElement.addEventListener('progress', this.e.onvProgress);

      this._msectl = new _mseController2.default(this._config);

      this._msectl.on(_mseEvents2.default.UPDATE_END, this._onmseUpdateEnd.bind(this));
      this._msectl.on(_mseEvents2.default.BUFFER_FULL, this._onmseBufferFull.bind(this));
      this._msectl.on(_mseEvents2.default.SOURCE_OPEN, function () {
        _this2._mseSourceOpened = true;
        if (_this2._hasPendingLoad) {
          _this2._hasPendingLoad = false;
          _this2.load();
        }
      });
      this._msectl.on(_mseEvents2.default.ERROR, function (info) {
        _this2._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.MEDIA_ERROR, _playerErrors.ErrorDetails.MEDIA_MSE_ERROR, info);
      });

      this._msectl.attachMediaElement(mediaElement);

      if (this._pendingSeekTime != null) {
        try {
          mediaElement.currentTime = this._pendingSeekTime;
          this._pendingSeekTime = null;
        } catch (e) {
          // IE11 may throw InvalidStateError if readyState === 0
          // We can defer set currentTime operation after loadedmetadata
        }
      }
    }
  }, {
    key: 'detachMediaElement',
    value: function detachMediaElement() {
      if (this._mediaElement) {
        this._msectl.detachMediaElement();
        this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata);
        this._mediaElement.removeEventListener('seeking', this.e.onvSeeking);
        this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);
        this._mediaElement.removeEventListener('stalled', this.e.onvStalled);
        this._mediaElement.removeEventListener('progress', this.e.onvProgress);
        this._mediaElement = null;
      }
      if (this._msectl) {
        this._msectl.destroy();
        this._msectl = null;
      }
    }
  }, {
    key: 'onDefinitionChange',
    value: function onDefinitionChange(url) {
      var _this3 = this;

      var expectTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;

      // setTimeout(() => {
      //   if (!this.isDefinitionDataReady && this._definitionRetryTimes < 3) {
      //     this._definitionRetryTimes += 1
      //     this.onDefinitionChange(url, expectTime)
      //   } else if (this.isDefinitionDataReady) {
      //     if (this._transmuxer !== this._tempTransmuxer) {
      //       this._transmuxer.destroy()
      //       this._transmuxer = this._tempTransmuxer
      //       let currentTime = this._mediaElement.currentTime
      //       this._tempTransmuxer.seek(currentTime * 1000)
      //     }
      //     Object.keys(this._tempPendingSegments).forEach(key => {
      //       this._msectl._pendingSegments[key] = this._tempPendingSegments[key]
      //     })
      //     this._tempPendingSegments = {
      //       audio: [],
      //       video: []
      //     }
      //
      //     this._definitionRetryTimes = 0
      //   } else if (this._definitionRetryTimes >= 3) {
      //     this._definitionRetryTimes = 0
      //     if (this._tempTransmuxer) {
      //       this._tempTransmuxer.destroy()
      //       this._tempTransmuxer = null
      //       this._emitter.emit(PlayerEvents.ERROR, ErrorTypes.NETWORK_ERROR, '', '清晰度切换失败！')
      //     }
      //     this._definitionRetryTimes = 0
      //   }
      //   this._tempPendingSegments = {
      //     audio: [],
      //     video: []
      //   }
      // }, expectTime * 1000)

      this._mediaDataSource.segments[0].url = url;
      this._tempMds = Object.assign({}, this._mediaDataSource, { url: url });

      this._tempTransmuxer = new _transmuxer2.default(this._tempMds, this._config);
      this._tempTransmuxer._emitter.on('metadata_arrived', function (onMetaData) {
        _this3._emitter.emit('metadata_arrived', onMetaData);
      });

      this._tempTransmuxer.on(_transmuxingEvents2.default.INIT_SEGMENT, function (type, is) {
        if (!_this3._config.isLive) {
          _this3._tempPendingSegments[type] = [is];
          // this._msectl.appendInitSegment(is)
          if (_this3._transmuxer !== _this3._tempTransmuxer && _this3._tempTransmuxer) {
            var currentTime = _this3._mediaElement.currentTime;
            _this3._tempTransmuxer.seek(currentTime * 1000);
          }
          // if (this._transmuxer !== this._tempTransmuxer) {
          //   this._transmuxer.destroy()
          // }
          // this._transmuxer = this._tempTransmuxer
        } else {
          _this3._msectl.doClearSourceBuffer();
          _this3._msectl.appendInitSegment(is);
          if (_this3._transmuxer !== _this3._tempTransmuxer) {
            _this3._transmuxer.destroy();
          }
          _this3._transmuxer = _this3._tempTransmuxer;
        }
      });

      this._tempTransmuxer.on(_transmuxingEvents2.default.MEDIA_SEGMENT, function (type, ms) {
        if (!_this3._config.isLive) {
          if (!_this3._tempTransmuxer) {
            _this3._msectl.appendMediaSegment(ms);
          } else {
            _this3._tempPendingSegments[type] && _this3._tempPendingSegments[type].push(ms);
            if (_this3.isDefinitionDataReady) {
              Object.keys(_this3._tempPendingSegments).forEach(function (key) {
                _this3._msectl._pendingSegments[key] = _this3._tempPendingSegments[key];
              });
              _this3._tempPendingSegments = {
                audio: [],
                video: []
              };
              _this3._transmuxer.destroy();
              _this3._transmuxer = _this3._tempTransmuxer;
              delete _this3._tempTransmuxer;
            }
          }
        } else {
          _this3._msectl.appendMediaSegment(ms);
        }

        // lazyLoad check
        if (_this3._config.lazyLoad && !_this3._config.isLive) {
          var currentTime = _this3._mediaElement.currentTime;
          if (ms.info.endDts >= (currentTime + _this3._config.lazyLoadMaxDuration) * 1000) {
            if (_this3._progressChecker == null) {
              _logger2.default.v(_this3.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');
              _this3._suspendTransmuxer();
            }
          }
        }
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.LOADING_COMPLETE, function () {
        _this3._msectl.endOfStream();
        _this3._emitter.emit(_playerEvents2.default.LOADING_COMPLETE);
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, function () {
        _this3._emitter.emit(_playerEvents2.default.RECOVERED_EARLY_EOF);
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.IO_ERROR, function (detail, info) {
        _this3._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.NETWORK_ERROR, detail, info);
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.DEMUX_ERROR, function (detail, info) {
        _this3._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.MEDIA_ERROR, detail, { code: -1, msg: info });
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.MEDIA_INFO, function (mediaInfo) {
        _this3._mediaInfo = mediaInfo;
        _this3._tempTransmuxer.seek((_this3._mediaElement.currentTime + expectTime) * 1000);
        _this3._emitter.emit(_playerEvents2.default.MEDIA_INFO, Object.assign({}, mediaInfo));
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.STATISTICS_INFO, function (statInfo) {
        _this3._statisticsInfo = _this3._fillStatisticsInfo(statInfo);
        _this3._emitter.emit(_playerEvents2.default.STATISTICS_INFO, Object.assign({}, _this3._statisticsInfo));
      });
      this._tempTransmuxer.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, function (milliseconds) {
        if (_this3._transmuxer === _this3._tempTransmuxer && _this3._mediaElement && !_this3._config.accurateSeek) {
          _this3._requestSetTime = true;
          _this3._mediaElement.currentTime = milliseconds / 1000;
        }
      });

      this._tempTransmuxer.open();
    }
  }, {
    key: 'load',
    value: function load() {
      var _this4 = this;

      if (!this._mediaElement) {
        throw new _exception.IllegalStateException('HTMLMediaElement must be attached before load()!');
      }
      if (this._transmuxer) {
        throw new _exception.IllegalStateException('FlvPlayer.load() has been called, please call unload() first!');
      }
      if (this._hasPendingLoad) {
        return;
      }

      if (this._config.deferLoadAfterSourceOpen && this._mseSourceOpened === false) {
        this._hasPendingLoad = true;
        return;
      }

      if (this._mediaElement.readyState > 0) {
        this._requestSetTime = true;
        // IE11 may throw InvalidStateError if readyState === 0
        this._mediaElement.currentTime = 0;
      }

      this._transmuxer = new _transmuxer2.default(this._mediaDataSource, this._config);
      this._transmuxer._emitter.on('metadata_arrived', function (onMetaData) {
        _this4._emitter.emit('metadata_arrived', onMetaData);
      });

      this._transmuxer.on(_transmuxingEvents2.default.INIT_SEGMENT, function (type, is) {
        _this4._msectl.appendInitSegment(is);
      });
      this._transmuxer.on(_transmuxingEvents2.default.MEDIA_SEGMENT, function (type, ms) {
        _this4._msectl.appendMediaSegment(ms);

        // lazyLoad check
        if (_this4._config.lazyLoad && !_this4._config.isLive) {
          var currentTime = _this4._mediaElement.currentTime;
          if (ms.info.endDts >= (currentTime + _this4._config.lazyLoadMaxDuration) * 1000) {
            if (_this4._progressChecker == null) {
              _logger2.default.v(_this4.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');
              _this4._suspendTransmuxer();
            }
          }
        }
      });
      this._transmuxer.on(_transmuxingEvents2.default.LOADING_COMPLETE, function () {
        _this4._msectl.endOfStream();
        _this4._emitter.emit(_playerEvents2.default.LOADING_COMPLETE);
      });
      this._transmuxer.on(_transmuxingEvents2.default.RECOVERED_EARLY_EOF, function () {
        _this4._emitter.emit(_playerEvents2.default.RECOVERED_EARLY_EOF);
      });
      this._transmuxer.on(_transmuxingEvents2.default.IO_ERROR, function (detail, info) {
        _this4._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.NETWORK_ERROR, detail, info);
      });
      this._transmuxer.on(_transmuxingEvents2.default.DEMUX_ERROR, function (detail, info) {
        _this4._emitter.emit(_playerEvents2.default.ERROR, _playerErrors.ErrorTypes.MEDIA_ERROR, detail, { code: -1, msg: info });
      });
      this._transmuxer.on(_transmuxingEvents2.default.MEDIA_INFO, function (mediaInfo) {
        _this4._mediaInfo = mediaInfo;
        _this4._emitter.emit(_playerEvents2.default.MEDIA_INFO, Object.assign({}, mediaInfo));
      });
      this._transmuxer.on(_transmuxingEvents2.default.STATISTICS_INFO, function (statInfo) {
        _this4._statisticsInfo = _this4._fillStatisticsInfo(statInfo);
        _this4._emitter.emit(_playerEvents2.default.STATISTICS_INFO, Object.assign({}, _this4._statisticsInfo));
      });
      this._transmuxer.on(_transmuxingEvents2.default.RECOMMEND_SEEKPOINT, function (milliseconds) {
        if (_this4._mediaElement && !_this4._config.accurateSeek) {
          _this4._requestSetTime = true;
          _this4._mediaElement.currentTime = milliseconds / 1000;
        }
      });

      this._transmuxer.open();
    }
  }, {
    key: 'unload',
    value: function unload() {
      if (this._mediaElement) {
        this._mediaElement.pause();
      }
      if (this._msectl) {
        this._msectl.seek(0);
      }
      if (this._transmuxer) {
        this._transmuxer.close();
        this._transmuxer.destroy();
        this._transmuxer = null;
      }
    }
  }, {
    key: 'play',
    value: function play() {
      return this._mediaElement.play();
    }
  }, {
    key: 'pause',
    value: function pause() {
      this._mediaElement.pause();
    }
  }, {
    key: '_fillStatisticsInfo',
    value: function _fillStatisticsInfo(statInfo) {
      statInfo.playerType = this._type;

      if (!(this._mediaElement instanceof window.HTMLVideoElement)) {
        return statInfo;
      }

      var hasQualityInfo = true;
      var decoded = 0;
      var dropped = 0;

      if (this._mediaElement.getVideoPlaybackQuality) {
        var quality = this._mediaElement.getVideoPlaybackQuality();
        decoded = quality.totalVideoFrames;
        dropped = quality.droppedVideoFrames;
      } else if (this._mediaElement.webkitDecodedFrameCount != undefined) {
        decoded = this._mediaElement.webkitDecodedFrameCount;
        dropped = this._mediaElement.webkitDroppedFrameCount;
      } else {
        hasQualityInfo = false;
      }

      if (hasQualityInfo) {
        statInfo.decodedFrames = decoded;
        statInfo.droppedFrames = dropped;
      }

      return statInfo;
    }
  }, {
    key: '_onmseUpdateEnd',
    value: function _onmseUpdateEnd() {
      if (!this._config.lazyLoad || this._config.isLive) {
        return;
      }

      var buffered = this._mediaElement.buffered;
      var currentTime = this._mediaElement.currentTime;
      var currentRangeStart = 0;
      var currentRangeEnd = 0;

      for (var i = 0; i < buffered.length; i++) {
        var start = buffered.start(i);
        var end = buffered.end(i);
        if (start <= currentTime && currentTime < end) {
          currentRangeStart = start;
          currentRangeEnd = end;
          break;
        }
      }

      if (currentRangeEnd >= currentTime + this._config.lazyLoadMaxDuration && this._progressChecker == null) {
        _logger2.default.v(this.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');
        this._suspendTransmuxer();
      }
    }
  }, {
    key: '_onmseBufferFull',
    value: function _onmseBufferFull() {
      _logger2.default.v(this.TAG, 'MSE SourceBuffer is full, suspend transmuxing task');
      if (this._progressChecker == null) {
        this._suspendTransmuxer();
      }
    }
  }, {
    key: '_suspendTransmuxer',
    value: function _suspendTransmuxer() {
      if (this._transmuxer) {
        this._transmuxer.pause();

        if (this._progressChecker == null) {
          this._progressChecker = window.setInterval(this._checkProgressAndResume.bind(this), 1000);
        }
      }
    }
  }, {
    key: '_checkProgressAndResume',
    value: function _checkProgressAndResume() {
      var currentTime = this._mediaElement.currentTime;
      var buffered = this._mediaElement.buffered;

      var needResume = false;

      for (var i = 0; i < buffered.length; i++) {
        var from = buffered.start(i);
        var to = buffered.end(i);
        if (currentTime >= from && currentTime < to) {
          if (currentTime >= to - this._config.lazyLoadRecoverDuration) {
            needResume = true;
          }
          break;
        }
      }

      if (needResume) {
        window.clearInterval(this._progressChecker);
        this._progressChecker = null;
        if (needResume) {
          _logger2.default.v(this.TAG, 'Continue loading from paused position');
          this._transmuxer.resume();
        }
      }
    }
  }, {
    key: '_isTimepointBuffered',
    value: function _isTimepointBuffered(seconds) {
      var buffered = this._mediaElement.buffered;

      for (var i = 0; i < buffered.length; i++) {
        var from = buffered.start(i);
        var to = buffered.end(i);
        if (seconds >= from && seconds < to) {
          return true;
        }
      }
      return false;
    }
  }, {
    key: '_internalSeek',
    value: function _internalSeek(seconds) {
      var directSeek = this._isTimepointBuffered(seconds);

      var directSeekBegin = false;
      var directSeekBeginTime = 0;

      if (seconds < 1.0 && this._mediaElement.buffered.length > 0) {
        var videoBeginTime = this._mediaElement.buffered.start(0);
        if (videoBeginTime < 1.0 && seconds < videoBeginTime || _browser2.default.safari) {
          directSeekBegin = true;
          // also workaround for Safari: Seek to 0 may cause video stuck, use 0.1 to avoid
          directSeekBeginTime = _browser2.default.safari ? 0.1 : videoBeginTime;
        }
      }

      if (directSeekBegin) {
        // seek to video begin, set currentTime directly if beginPTS buffered
        this._requestSetTime = true;
        this._mediaElement.currentTime = directSeekBeginTime;
      } else if (directSeek) {
        // buffered position
        if (!this._alwaysSeekKeyframe) {
          this._requestSetTime = true;
          this._mediaElement.currentTime = seconds;
        } else {
          var idr = this._msectl.getNearestKeyframe(Math.floor(seconds * 1000));
          this._requestSetTime = true;
          if (idr != null) {
            this._mediaElement.currentTime = idr.dts / 1000;
          } else {
            this._mediaElement.currentTime = seconds;
          }
        }
        if (this._progressChecker != null) {
          this._checkProgressAndResume();
        }
      } else {
        if (this._progressChecker != null) {
          window.clearInterval(this._progressChecker);
          this._progressChecker = null;
        }
        this._msectl.seek(seconds);
        this._transmuxer.seek(Math.floor(seconds * 1000)); // in milliseconds
        // no need to set mediaElement.currentTime if non-accurateSeek,
        // just wait for the recommend_seekpoint callback
        if (this._config.accurateSeek) {
          this._requestSetTime = true;
          this._mediaElement.currentTime = seconds;
        }
      }
    }
  }, {
    key: '_checkAndApplyUnbufferedSeekpoint',
    value: function _checkAndApplyUnbufferedSeekpoint() {
      if (this._seekpointRecord) {
        if (this._seekpointRecord.recordTime <= this._now() - 100) {
          var target = this._mediaElement.currentTime;
          this._seekpointRecord = null;
          if (!this._isTimepointBuffered(target)) {
            if (this._progressChecker != null) {
              window.clearTimeout(this._progressChecker);
              this._progressChecker = null;
            }
            // .currentTime is consists with .buffered timestamp
            // Chrome/Edge use DTS, while FireFox/Safari use PTS
            this._msectl.seek(target);
            this._transmuxer.seek(Math.floor(target * 1000));
            // set currentTime if accurateSeek, or wait for recommend_seekpoint callback
            if (this._config.accurateSeek) {
              this._requestSetTime = true;
              this._mediaElement.currentTime = target;
            }
          }
        } else {
          window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);
        }
      }
    }
  }, {
    key: '_checkAndResumeStuckPlayback',
    value: function _checkAndResumeStuckPlayback(stalled) {
      var media = this._mediaElement;
      if (stalled || !this._receivedCanPlay || media.readyState < 2) {
        // HAVE_CURRENT_DATA
        var buffered = media.buffered;
        if (buffered.length > 0 && media.currentTime < buffered.start(0)) {
          _logger2.default.w(this.TAG, 'Playback seems stuck at ' + media.currentTime + ', seek to ' + buffered.start(0));
          this._requestSetTime = true;
          this._mediaElement.currentTime = buffered.start(0);
          this._mediaElement.removeEventListener('progress', this.e.onvProgress);
        }
      } else {
        // Playback didn't stuck, remove progress event listener
        this._mediaElement.removeEventListener('progress', this.e.onvProgress);
      }
    }
  }, {
    key: '_onvLoadedMetadata',
    value: function _onvLoadedMetadata(e) {
      if (this._pendingSeekTime != null) {
        this._mediaElement.currentTime = this._pendingSeekTime;
        this._pendingSeekTime = null;
      }
    }
  }, {
    key: '_onvSeeking',
    value: function _onvSeeking(e) {
      // handle seeking request from browser's progress bar
      var target = this._mediaElement.currentTime;
      var buffered = this._mediaElement.buffered;

      if (this._requestSetTime) {
        this._requestSetTime = false;
        return;
      }

      if (target < 1.0 && buffered.length > 0) {
        // seek to video begin, set currentTime directly if beginPTS buffered
        var videoBeginTime = buffered.start(0);
        if (videoBeginTime < 1.0 && target < videoBeginTime || _browser2.default.safari) {
          this._requestSetTime = true;
          // also workaround for Safari: Seek to 0 may cause video stuck, use 0.1 to avoid
          this._mediaElement.currentTime = _browser2.default.safari ? 0.1 : videoBeginTime;
          return;
        }
      }

      if (this._isTimepointBuffered(target)) {
        if (this._alwaysSeekKeyframe) {
          var idr = this._msectl.getNearestKeyframe(Math.floor(target * 1000));
          if (idr != null) {
            this._requestSetTime = true;
            this._mediaElement.currentTime = idr.dts / 1000;
          }
        }
        if (this._progressChecker != null) {
          this._checkProgressAndResume();
        }
        return;
      }

      this._seekpointRecord = {
        seekPoint: target,
        recordTime: this._now()
      };
      window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);
    }
  }, {
    key: '_onvCanPlay',
    value: function _onvCanPlay(e) {
      this._receivedCanPlay = true;
      this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);
    }
  }, {
    key: '_onvStalled',
    value: function _onvStalled(e) {
      this._checkAndResumeStuckPlayback(true);
    }
  }, {
    key: '_onvProgress',
    value: function _onvProgress(e) {
      this._checkAndResumeStuckPlayback();
    }
  }, {
    key: 'type',
    get: function get() {
      return this._type;
    }
  }, {
    key: 'buffered',
    get: function get() {
      return this._mediaElement.buffered;
    }
  }, {
    key: 'duration',
    get: function get() {
      return this._mediaElement.duration;
    }
  }, {
    key: 'volume',
    get: function get() {
      return this._mediaElement.volume;
    },
    set: function set(value) {
      this._mediaElement.volume = value;
    }
  }, {
    key: 'muted',
    get: function get() {
      return this._mediaElement.muted;
    },
    set: function set(muted) {
      this._mediaElement.muted = muted;
    }
  }, {
    key: 'currentTime',
    get: function get() {
      if (this._mediaElement) {
        return this._mediaElement.currentTime;
      }
      return 0;
    },
    set: function set(seconds) {
      if (this._mediaElement) {
        this._internalSeek(seconds);
      } else {
        this._pendingSeekTime = seconds;
      }
    }
  }, {
    key: 'mediaInfo',
    get: function get() {
      return Object.assign({}, this._mediaInfo);
    }
  }, {
    key: 'statisticsInfo',
    get: function get() {
      if (this._statisticsInfo == null) {
        this._statisticsInfo = {};
      }
      this._statisticsInfo = this._fillStatisticsInfo(this._statisticsInfo);
      return Object.assign({}, this._statisticsInfo);
    }
  }, {
    key: 'isDefinitionDataReady',
    get: function get() {
      var _this5 = this;

      var minSegmentLen = 10;
      return Object.keys(this._tempPendingSegments).every(function (key) {
        return _this5._tempPendingSegments[key].length >= minSegmentLen;
      });
    }
  }]);

  return FlvPlayer;
}();

exports.default = FlvPlayer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/player/native-player.js":
/*!*****************************************!*\
  !*** ./src/flv/player/native-player.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _playerEvents = __webpack_require__(/*! ./player-events.js */ "./src/flv/player/player-events.js");

var _playerEvents2 = _interopRequireDefault(_playerEvents);

var _config = __webpack_require__(/*! ../config.js */ "./src/flv/config.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Player wrapper for browser's native player (HTMLVideoElement) without MediaSource src. 
var NativePlayer = function () {
    function NativePlayer(mediaDataSource, config) {
        _classCallCheck(this, NativePlayer);

        this.TAG = 'NativePlayer';
        this._type = 'NativePlayer';
        this._emitter = new _events2.default();

        this._config = (0, _config.createDefaultConfig)();
        if ((typeof config === 'undefined' ? 'undefined' : _typeof(config)) === 'object') {
            Object.assign(this._config, config);
        }

        if (mediaDataSource.type.toLowerCase() === 'flv') {
            throw new _exception.InvalidArgumentException('NativePlayer does\'t support flv MediaDataSource input!');
        }
        if (mediaDataSource.hasOwnProperty('segments')) {
            throw new _exception.InvalidArgumentException('NativePlayer(' + mediaDataSource.type + ') doesn\'t support multipart playback!');
        }

        this.e = {
            onvLoadedMetadata: this._onvLoadedMetadata.bind(this)
        };

        this._pendingSeekTime = null;
        this._statisticsReporter = null;

        this._mediaDataSource = mediaDataSource;
        this._mediaElement = null;
    }

    _createClass(NativePlayer, [{
        key: 'destroy',
        value: function destroy() {
            if (this._mediaElement) {
                this.unload();
                this.detachMediaElement();
            }
            this.e = null;
            this._mediaDataSource = null;
            this._emitter.removeAllListeners();
            this._emitter = null;
        }
    }, {
        key: 'on',
        value: function on(event, listener) {
            var _this = this;

            if (event === _playerEvents2.default.MEDIA_INFO) {
                if (this._mediaElement != null && this._mediaElement.readyState !== 0) {
                    // HAVE_NOTHING
                    Promise.resolve().then(function () {
                        _this._emitter.emit(_playerEvents2.default.MEDIA_INFO, _this.mediaInfo);
                    });
                }
            } else if (event === _playerEvents2.default.STATISTICS_INFO) {
                if (this._mediaElement != null && this._mediaElement.readyState !== 0) {
                    Promise.resolve().then(function () {
                        _this._emitter.emit(_playerEvents2.default.STATISTICS_INFO, _this.statisticsInfo);
                    });
                }
            }
            this._emitter.addListener(event, listener);
        }
    }, {
        key: 'off',
        value: function off(event, listener) {
            this._emitter.removeListener(event, listener);
        }
    }, {
        key: 'attachMediaElement',
        value: function attachMediaElement(mediaElement) {
            this._mediaElement = mediaElement;
            mediaElement.addEventListener('loadedmetadata', this.e.onvLoadedMetadata);

            if (this._pendingSeekTime != null) {
                try {
                    mediaElement.currentTime = this._pendingSeekTime;
                    this._pendingSeekTime = null;
                } catch (e) {
                    // IE11 may throw InvalidStateError if readyState === 0
                    // Defer set currentTime operation after loadedmetadata
                }
            }
        }
    }, {
        key: 'detachMediaElement',
        value: function detachMediaElement() {
            if (this._mediaElement) {
                this._mediaElement.src = '';
                this._mediaElement.removeAttribute('src');
                this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata);
                this._mediaElement = null;
            }
            if (this._statisticsReporter != null) {
                window.clearInterval(this._statisticsReporter);
                this._statisticsReporter = null;
            }
        }
    }, {
        key: 'load',
        value: function load() {
            if (!this._mediaElement) {
                throw new _exception.IllegalStateException('HTMLMediaElement must be attached before load()!');
            }
            this._mediaElement.src = this._mediaDataSource.url;

            if (this._mediaElement.readyState > 0) {
                this._mediaElement.currentTime = 0;
            }

            this._mediaElement.preload = 'auto';
            this._mediaElement.load();
            this._statisticsReporter = window.setInterval(this._reportStatisticsInfo.bind(this), this._config.statisticsInfoReportInterval);
        }
    }, {
        key: 'unload',
        value: function unload() {
            if (this._mediaElement) {
                this._mediaElement.src = '';
                this._mediaElement.removeAttribute('src');
            }
            if (this._statisticsReporter != null) {
                window.clearInterval(this._statisticsReporter);
                this._statisticsReporter = null;
            }
        }
    }, {
        key: 'play',
        value: function play() {
            return this._mediaElement.play();
        }
    }, {
        key: 'pause',
        value: function pause() {
            this._mediaElement.pause();
        }
    }, {
        key: '_onvLoadedMetadata',
        value: function _onvLoadedMetadata(e) {
            if (this._pendingSeekTime != null) {
                this._mediaElement.currentTime = this._pendingSeekTime;
                this._pendingSeekTime = null;
            }
            this._emitter.emit(_playerEvents2.default.MEDIA_INFO, this.mediaInfo);
        }
    }, {
        key: '_reportStatisticsInfo',
        value: function _reportStatisticsInfo() {
            this._emitter.emit(_playerEvents2.default.STATISTICS_INFO, this.statisticsInfo);
        }
    }, {
        key: 'type',
        get: function get() {
            return this._type;
        }
    }, {
        key: 'buffered',
        get: function get() {
            return this._mediaElement.buffered;
        }
    }, {
        key: 'duration',
        get: function get() {
            return this._mediaElement.duration;
        }
    }, {
        key: 'volume',
        get: function get() {
            return this._mediaElement.volume;
        },
        set: function set(value) {
            this._mediaElement.volume = value;
        }
    }, {
        key: 'muted',
        get: function get() {
            return this._mediaElement.muted;
        },
        set: function set(muted) {
            this._mediaElement.muted = muted;
        }
    }, {
        key: 'currentTime',
        get: function get() {
            if (this._mediaElement) {
                return this._mediaElement.currentTime;
            }
            return 0;
        },
        set: function set(seconds) {
            if (this._mediaElement) {
                this._mediaElement.currentTime = seconds;
            } else {
                this._pendingSeekTime = seconds;
            }
        }
    }, {
        key: 'mediaInfo',
        get: function get() {
            var mediaPrefix = this._mediaElement instanceof HTMLAudioElement ? 'audio/' : 'video/';
            var info = {
                mimeType: mediaPrefix + this._mediaDataSource.type
            };
            if (this._mediaElement) {
                info.duration = Math.floor(this._mediaElement.duration * 1000);
                if (this._mediaElement instanceof HTMLVideoElement) {
                    info.width = this._mediaElement.videoWidth;
                    info.height = this._mediaElement.videoHeight;
                }
            }
            return info;
        }
    }, {
        key: 'statisticsInfo',
        get: function get() {
            var info = {
                playerType: this._type,
                url: this._mediaDataSource.url
            };

            if (!(this._mediaElement instanceof HTMLVideoElement)) {
                return info;
            }

            var hasQualityInfo = true;
            var decoded = 0;
            var dropped = 0;

            if (this._mediaElement.getVideoPlaybackQuality) {
                var quality = this._mediaElement.getVideoPlaybackQuality();
                decoded = quality.totalVideoFrames;
                dropped = quality.droppedVideoFrames;
            } else if (this._mediaElement.webkitDecodedFrameCount != undefined) {
                decoded = this._mediaElement.webkitDecodedFrameCount;
                dropped = this._mediaElement.webkitDroppedFrameCount;
            } else {
                hasQualityInfo = false;
            }

            if (hasQualityInfo) {
                info.decodedFrames = decoded;
                info.droppedFrames = dropped;
            }

            return info;
        }
    }]);

    return NativePlayer;
}();

exports.default = NativePlayer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/player/player-errors.js":
/*!*****************************************!*\
  !*** ./src/flv/player/player-errors.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.ErrorDetails = exports.ErrorTypes = undefined;

var _loader = __webpack_require__(/*! ../io/loader.js */ "./src/flv/io/loader.js");

var _demuxErrors = __webpack_require__(/*! ../demux/demux-errors.js */ "./src/flv/demux/demux-errors.js");

var _demuxErrors2 = _interopRequireDefault(_demuxErrors);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var ErrorTypes = exports.ErrorTypes = {
    NETWORK_ERROR: 'NetworkError',
    MEDIA_ERROR: 'MediaError',
    OTHER_ERROR: 'OtherError'
};

var ErrorDetails = exports.ErrorDetails = {
    NETWORK_EXCEPTION: _loader.LoaderErrors.EXCEPTION,
    NETWORK_STATUS_CODE_INVALID: _loader.LoaderErrors.HTTP_STATUS_CODE_INVALID,
    NETWORK_TIMEOUT: _loader.LoaderErrors.CONNECTING_TIMEOUT,
    NETWORK_UNRECOVERABLE_EARLY_EOF: _loader.LoaderErrors.UNRECOVERABLE_EARLY_EOF,

    MEDIA_MSE_ERROR: 'MediaMSEError',

    MEDIA_FORMAT_ERROR: _demuxErrors2.default.FORMAT_ERROR,
    MEDIA_FORMAT_UNSUPPORTED: _demuxErrors2.default.FORMAT_UNSUPPORTED,
    MEDIA_CODEC_UNSUPPORTED: _demuxErrors2.default.CODEC_UNSUPPORTED
};

/***/ }),

/***/ "./src/flv/player/player-events.js":
/*!*****************************************!*\
  !*** ./src/flv/player/player-events.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var PlayerEvents = {
  ERROR: 'error',
  LOADING_COMPLETE: 'loading_complete',
  RECOVERED_EARLY_EOF: 'recovered_early_eof',
  MEDIA_INFO: 'media_info',
  STATISTICS_INFO: 'statistics_info'
};

exports.default = PlayerEvents;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/remux/aac-silent.js":
/*!*************************************!*\
  !*** ./src/flv/remux/aac-silent.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * This file is modified from dailymotion's hls.js library (hls.js/src/helper/aac.js)
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var AAC = function () {
    function AAC() {
        _classCallCheck(this, AAC);
    }

    _createClass(AAC, null, [{
        key: 'getSilentFrame',
        value: function getSilentFrame(codec, channelCount) {
            if (codec === 'mp4a.40.2') {
                // handle LC-AAC
                if (channelCount === 1) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);
                } else if (channelCount === 2) {
                    return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);
                } else if (channelCount === 3) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);
                } else if (channelCount === 4) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);
                } else if (channelCount === 5) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);
                } else if (channelCount === 6) {
                    return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);
                }
            } else {
                // handle HE-AAC (mp4a.40.5 / mp4a.40.29)
                if (channelCount === 1) {
                    // ffmpeg -y -f lavfi -i "aevalsrc=0:d=0.05" -c:a libfdk_aac -profile:a aac_he -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
                    return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x4e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x1c, 0x6, 0xf1, 0xc1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                } else if (channelCount === 2) {
                    // ffmpeg -y -f lavfi -i "aevalsrc=0|0:d=0.05" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
                    return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                } else if (channelCount === 3) {
                    // ffmpeg -y -f lavfi -i "aevalsrc=0|0|0:d=0.05" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 "0x%x," "\n"' -v output.aac
                    return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                }
            }
            return null;
        }
    }]);

    return AAC;
}();

exports.default = AAC;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/remux/mp4-generator.js":
/*!****************************************!*\
  !*** ./src/flv/remux/mp4-generator.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * This file is derived from dailymotion's hls.js library (hls.js/src/remux/mp4-generator.js)
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

//  MP4 boxes generator for ISO BMFF (ISO Base Media File Format, defined in ISO/IEC 14496-12)
var MP4 = function () {
  function MP4() {
    _classCallCheck(this, MP4);
  }

  _createClass(MP4, null, [{
    key: 'init',
    value: function init() {
      MP4.types = {
        avc1: [],
        avcC: [],
        btrt: [],
        dinf: [],
        dref: [],
        esds: [],
        ftyp: [],
        hdlr: [],
        mdat: [],
        mdhd: [],
        mdia: [],
        mfhd: [],
        minf: [],
        moof: [],
        moov: [],
        mp4a: [],
        mvex: [],
        mvhd: [],
        sdtp: [],
        stbl: [],
        stco: [],
        stsc: [],
        stsd: [],
        stsz: [],
        stts: [],
        tfdt: [],
        tfhd: [],
        traf: [],
        trak: [],
        trun: [],
        trex: [],
        tkhd: [],
        vmhd: [],
        smhd: [],
        '.mp3': []
      };

      for (var name in MP4.types) {
        if (MP4.types.hasOwnProperty(name)) {
          MP4.types[name] = [name.charCodeAt(0), name.charCodeAt(1), name.charCodeAt(2), name.charCodeAt(3)];
        }
      }

      var constants = MP4.constants = {};

      constants.FTYP = new Uint8Array([0x69, 0x73, 0x6F, 0x6D, // major_brand: isom
      0x0, 0x0, 0x0, 0x1, // minor_version: 0x01
      0x69, 0x73, 0x6F, 0x6D, // isom
      0x61, 0x76, 0x63, 0x31 // avc1
      ]);

      constants.STSD_PREFIX = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x01 // entry_count
      ]);

      constants.STTS = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00 // entry_count
      ]);

      constants.STSC = constants.STCO = constants.STTS;

      constants.STSZ = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // sample_size
      0x00, 0x00, 0x00, 0x00 // sample_count
      ]);

      constants.HDLR_VIDEO = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // pre_defined
      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'
      0x00, 0x00, 0x00, 0x00, // reserved: 3 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x56, 0x69, 0x64, 0x65, 0x6F, 0x48, 0x61, 0x6E, 0x64, 0x6C, 0x65, 0x72, 0x00 // name: VideoHandler
      ]);

      constants.HDLR_AUDIO = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // pre_defined
      0x73, 0x6F, 0x75, 0x6E, // handler_type: 'soun'
      0x00, 0x00, 0x00, 0x00, // reserved: 3 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 0x6F, 0x75, 0x6E, 0x64, 0x48, 0x61, 0x6E, 0x64, 0x6C, 0x65, 0x72, 0x00 // name: SoundHandler
      ]);

      constants.DREF = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x01, // entry_count
      0x00, 0x00, 0x00, 0x0C, // entry_size
      0x75, 0x72, 0x6C, 0x20, // type 'url '
      0x00, 0x00, 0x00, 0x01 // version(0) + flags
      ]);

      // Sound media header
      constants.SMHD = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00 // balance(2) + reserved(2)
      ]);

      // video media header
      constants.VMHD = new Uint8Array([0x00, 0x00, 0x00, 0x01, // version(0) + flags
      0x00, 0x00, // graphicsmode: 2 bytes
      0x00, 0x00, 0x00, 0x00, // opcolor: 3 * 2 bytes
      0x00, 0x00]);
    }

    // Generate a box

  }, {
    key: 'box',
    value: function box(type) {
      var size = 8;
      var result = null;
      var datas = Array.prototype.slice.call(arguments, 1);
      var arrayCount = datas.length;

      for (var i = 0; i < arrayCount; i++) {
        size += datas[i].byteLength;
      }

      result = new Uint8Array(size);
      result[0] = size >>> 24 & 0xFF; // size
      result[1] = size >>> 16 & 0xFF;
      result[2] = size >>> 8 & 0xFF;
      result[3] = size & 0xFF;

      result.set(type, 4); // type

      var offset = 8;
      for (var _i = 0; _i < arrayCount; _i++) {
        // data body
        result.set(datas[_i], offset);
        offset += datas[_i].byteLength;
      }

      return result;
    }

    // emit ftyp & moov

  }, {
    key: 'generateInitSegment',
    value: function generateInitSegment(meta) {
      var ftyp = MP4.box(MP4.types.ftyp, MP4.constants.FTYP);
      var moov = MP4.moov(meta);

      var result = new Uint8Array(ftyp.byteLength + moov.byteLength);
      result.set(ftyp, 0);
      result.set(moov, ftyp.byteLength);
      return result;
    }

    // Movie metadata box

  }, {
    key: 'moov',
    value: function moov(meta) {
      var mvhd = MP4.mvhd(meta.timescale, meta.duration);
      var trak = MP4.trak(meta);
      var mvex = MP4.mvex(meta);
      return MP4.box(MP4.types.moov, mvhd, trak, mvex);
    }

    // Movie header box

  }, {
    key: 'mvhd',
    value: function mvhd(timescale, duration) {
      return MP4.box(MP4.types.mvhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // creation_time
      0x00, 0x00, 0x00, 0x00, // modification_time
      timescale >>> 24 & 0xFF, // timescale: 4 bytes
      timescale >>> 16 & 0xFF, timescale >>> 8 & 0xFF, timescale & 0xFF, duration >>> 24 & 0xFF, // duration: 4 bytes
      duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x00, 0x01, 0x00, 0x00, // Preferred rate: 1.0
      0x01, 0x00, 0x00, 0x00, // PreferredVolume(1.0, 2bytes) + reserved(2bytes)
      0x00, 0x00, 0x00, 0x00, // reserved: 4 + 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, // ----begin composition matrix----
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // ----end composition matrix----
      0x00, 0x00, 0x00, 0x00, // ----begin pre_defined 6 * 4 bytes----
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ----end pre_defined 6 * 4 bytes----
      0xFF, 0xFF, 0xFF, 0xFF // next_track_ID
      ]));
    }

    // Track box

  }, {
    key: 'trak',
    value: function trak(meta) {
      return MP4.box(MP4.types.trak, MP4.tkhd(meta), MP4.mdia(meta));
    }

    // Track header box

  }, {
    key: 'tkhd',
    value: function tkhd(meta) {
      var trackId = meta.id,
          duration = meta.duration;
      var width = meta.presentWidth,
          height = meta.presentHeight;

      return MP4.box(MP4.types.tkhd, new Uint8Array([0x00, 0x00, 0x00, 0x07, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // creation_time
      0x00, 0x00, 0x00, 0x00, // modification_time
      trackId >>> 24 & 0xFF, // track_ID: 4 bytes
      trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF, 0x00, 0x00, 0x00, 0x00, // reserved: 4 bytes
      duration >>> 24 & 0xFF, // duration: 4 bytes
      duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // layer(2bytes) + alternate_group(2bytes)
      0x00, 0x00, 0x00, 0x00, // volume(2bytes) + reserved(2bytes)
      0x00, 0x01, 0x00, 0x00, // ----begin composition matrix----
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // ----end composition matrix----
      width >>> 8 & 0xFF, // width and height
      width & 0xFF, 0x00, 0x00, height >>> 8 & 0xFF, height & 0xFF, 0x00, 0x00]));
    }

    // Media Box

  }, {
    key: 'mdia',
    value: function mdia(meta) {
      return MP4.box(MP4.types.mdia, MP4.mdhd(meta), MP4.hdlr(meta), MP4.minf(meta));
    }

    // Media header box

  }, {
    key: 'mdhd',
    value: function mdhd(meta) {
      var timescale = meta.timescale;
      var duration = meta.duration;
      return MP4.box(MP4.types.mdhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      0x00, 0x00, 0x00, 0x00, // creation_time
      0x00, 0x00, 0x00, 0x00, // modification_time
      timescale >>> 24 & 0xFF, // timescale: 4 bytes
      timescale >>> 16 & 0xFF, timescale >>> 8 & 0xFF, timescale & 0xFF, duration >>> 24 & 0xFF, // duration: 4 bytes
      duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x55, 0xC4, // language: und (undetermined)
      0x00, 0x00 // pre_defined = 0
      ]));
    }

    // Media handler reference box

  }, {
    key: 'hdlr',
    value: function hdlr(meta) {
      var data = null;
      if (meta.type === 'audio') {
        data = MP4.constants.HDLR_AUDIO;
      } else {
        data = MP4.constants.HDLR_VIDEO;
      }
      return MP4.box(MP4.types.hdlr, data);
    }

    // Media infomation box

  }, {
    key: 'minf',
    value: function minf(meta) {
      var xmhd = null;
      if (meta.type === 'audio') {
        xmhd = MP4.box(MP4.types.smhd, MP4.constants.SMHD);
      } else {
        xmhd = MP4.box(MP4.types.vmhd, MP4.constants.VMHD);
      }
      return MP4.box(MP4.types.minf, xmhd, MP4.dinf(), MP4.stbl(meta));
    }

    // Data infomation box

  }, {
    key: 'dinf',
    value: function dinf() {
      var result = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, MP4.constants.DREF));
      return result;
    }

    // Sample table box

  }, {
    key: 'stbl',
    value: function stbl(meta) {
      var result = MP4.box(MP4.types.stbl, // type: stbl
      MP4.stsd(meta), // Sample Description Table
      MP4.box(MP4.types.stts, MP4.constants.STTS), // Time-To-Sample
      MP4.box(MP4.types.stsc, MP4.constants.STSC), // Sample-To-Chunk
      MP4.box(MP4.types.stsz, MP4.constants.STSZ), // Sample size
      MP4.box(MP4.types.stco, MP4.constants.STCO) // Chunk offset
      );
      return result;
    }

    // Sample description box

  }, {
    key: 'stsd',
    value: function stsd(meta) {
      if (meta.type === 'audio') {
        if (meta.codec === 'mp3') {
          return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp3(meta));
        }
        // else: aac -> mp4a
        return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta));
      } else {
        return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta));
      }
    }
  }, {
    key: 'mp3',
    value: function mp3(meta) {
      var channelCount = meta.channelCount;
      var sampleRate = meta.audioSampleRate;

      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4)
      0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)
      0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, channelCount, // channelCount(2)
      0x00, 0x10, // sampleSize(2)
      0x00, 0x00, 0x00, 0x00, // reserved(4)
      sampleRate >>> 8 & 0xFF, // Audio sample rate
      sampleRate & 0xFF, 0x00, 0x00]);

      return MP4.box(MP4.types['.mp3'], data);
    }
  }, {
    key: 'mp4a',
    value: function mp4a(meta) {
      var channelCount = meta.channelCount;
      var sampleRate = meta.audioSampleRate;

      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4)
      0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)
      0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, channelCount, // channelCount(2)
      0x00, 0x10, // sampleSize(2)
      0x00, 0x00, 0x00, 0x00, // reserved(4)
      sampleRate >>> 8 & 0xFF, // Audio sample rate
      sampleRate & 0xFF, 0x00, 0x00]);

      return MP4.box(MP4.types.mp4a, data, MP4.esds(meta));
    }
  }, {
    key: 'esds',
    value: function esds(meta) {
      var config = meta.config || [];
      var configSize = config.length;
      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version 0 + flags

      0x03, // descriptor_type
      0x17 + configSize, // length3
      0x00, 0x01, // es_id
      0x00, // stream_priority

      0x04, // descriptor_type
      0x0F + configSize, // length
      0x40, // codec: mpeg4_audio
      0x15, // stream_type: Audio
      0x00, 0x00, 0x00, // buffer_size
      0x00, 0x00, 0x00, 0x00, // maxBitrate
      0x00, 0x00, 0x00, 0x00, // avgBitrate

      0x05 // descriptor_type
      ].concat([configSize]).concat(config).concat([0x06, 0x01, 0x02 // GASpecificConfig
      ]));
      return MP4.box(MP4.types.esds, data);
    }
  }, {
    key: 'avc1',
    value: function avc1(meta) {
      var avcc = meta.avcc;
      var width = meta.codecWidth,
          height = meta.codecHeight;

      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4)
      0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)
      0x00, 0x00, 0x00, 0x00, // pre_defined(2) + reserved(2)
      0x00, 0x00, 0x00, 0x00, // pre_defined: 3 * 4 bytes
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, width >>> 8 & 0xFF, // width: 2 bytes
      width & 0xFF, height >>> 8 & 0xFF, // height: 2 bytes
      height & 0xFF, 0x00, 0x48, 0x00, 0x00, // horizresolution: 4 bytes
      0x00, 0x48, 0x00, 0x00, // vertresolution: 4 bytes
      0x00, 0x00, 0x00, 0x00, // reserved: 4 bytes
      0x00, 0x01, // frame_count
      0x0A, // strlen
      0x78, 0x71, 0x71, 0x2F, // compressorname: 32 bytes
      0x66, 0x6C, 0x76, 0x2E, 0x6A, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, // depth
      0xFF, 0xFF // pre_defined = -1
      ]);
      return MP4.box(MP4.types.avc1, data, MP4.box(MP4.types.avcC, avcc));
    }

    // Movie Extends box

  }, {
    key: 'mvex',
    value: function mvex(meta) {
      return MP4.box(MP4.types.mvex, MP4.trex(meta));
    }

    // Track Extends box

  }, {
    key: 'trex',
    value: function trex(meta) {
      var trackId = meta.id;
      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags
      trackId >>> 24 & 0xFF, // track_ID
      trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF, 0x00, 0x00, 0x00, 0x01, // default_sample_description_index
      0x00, 0x00, 0x00, 0x00, // default_sample_duration
      0x00, 0x00, 0x00, 0x00, // default_sample_size
      0x00, 0x01, 0x00, 0x01 // default_sample_flags
      ]);
      return MP4.box(MP4.types.trex, data);
    }

    // Movie fragment box

  }, {
    key: 'moof',
    value: function moof(track, baseMediaDecodeTime) {
      return MP4.box(MP4.types.moof, MP4.mfhd(track.sequenceNumber), MP4.traf(track, baseMediaDecodeTime));
    }
  }, {
    key: 'mfhd',
    value: function mfhd(sequenceNumber) {
      var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, sequenceNumber >>> 24 & 0xFF, // sequence_number: int32
      sequenceNumber >>> 16 & 0xFF, sequenceNumber >>> 8 & 0xFF, sequenceNumber & 0xFF]);
      return MP4.box(MP4.types.mfhd, data);
    }

    // Track fragment box

  }, {
    key: 'traf',
    value: function traf(track, baseMediaDecodeTime) {
      var trackId = track.id;

      // Track fragment header box
      var tfhd = MP4.box(MP4.types.tfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) & flags
      trackId >>> 24 & 0xFF, // track_ID
      trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF]));
      // Track Fragment Decode Time
      var tfdt = MP4.box(MP4.types.tfdt, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) & flags
      baseMediaDecodeTime >>> 24 & 0xFF, // baseMediaDecodeTime: int32
      baseMediaDecodeTime >>> 16 & 0xFF, baseMediaDecodeTime >>> 8 & 0xFF, baseMediaDecodeTime & 0xFF]));
      var sdtp = MP4.sdtp(track);
      var trun = MP4.trun(track, sdtp.byteLength + 16 + 16 + 8 + 16 + 8 + 8);
      if (trackId === 1) {
        console.log(trun);
      }
      return MP4.box(MP4.types.traf, tfhd, tfdt, trun, sdtp);
    }

    // Sample Dependency Type box

  }, {
    key: 'sdtp',
    value: function sdtp(track) {
      var samples = track.samples || [];
      var sampleCount = samples.length;
      var data = new Uint8Array(4 + sampleCount);
      // 0~4 bytes: version(0) & flags
      for (var i = 0; i < sampleCount; i++) {
        var flags = samples[i].flags;
        data[i + 4] = flags.isLeading << 6 | // is_leading: 2 (bit)
        flags.dependsOn << 4 | // sample_depends_on
        flags.isDependedOn << 2 | // sample_is_depended_on
        flags.hasRedundancy; // sample_has_redundancy
      }
      return MP4.box(MP4.types.sdtp, data);
    }

    // Track fragment run box

  }, {
    key: 'trun',
    value: function trun(track, offset) {
      var samples = track.samples || [];
      var sampleCount = samples.length;
      var dataSize = 12 + 16 * sampleCount;
      var data = new Uint8Array(dataSize);
      offset += 8 + dataSize;

      data.set([0x00, 0x00, 0x0F, 0x01, // version(0) & flags
      sampleCount >>> 24 & 0xFF, // sample_count
      sampleCount >>> 16 & 0xFF, sampleCount >>> 8 & 0xFF, sampleCount & 0xFF, offset >>> 24 & 0xFF, // data_offset
      offset >>> 16 & 0xFF, offset >>> 8 & 0xFF, offset & 0xFF], 0);

      for (var i = 0; i < sampleCount; i++) {
        // console.log(samples[i].duration)
        var duration = samples[i].duration;
        var size = samples[i].size;
        var flags = samples[i].flags;
        var cts = samples[i].cts;
        data.set([duration >>> 24 & 0xFF, // sample_duration
        duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, size >>> 24 & 0xFF, // sample_size
        size >>> 16 & 0xFF, size >>> 8 & 0xFF, size & 0xFF, flags.isLeading << 2 | flags.dependsOn, // sample_flags
        flags.isDependedOn << 6 | flags.hasRedundancy << 4 | flags.isNonSync, 0x00, 0x00, // sample_degradation_priority
        cts >>> 24 & 0xFF, // sample_composition_time_offset
        cts >>> 16 & 0xFF, cts >>> 8 & 0xFF, cts & 0xFF], 12 + 16 * i);
      }
      return MP4.box(MP4.types.trun, data);
    }
  }, {
    key: 'mdat',
    value: function mdat(data) {
      return MP4.box(MP4.types.mdat, data);
    }
  }]);

  return MP4;
}();

MP4.init();

exports.default = MP4;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/remux/mp4-remuxer.js":
/*!**************************************!*\
  !*** ./src/flv/remux/mp4-remuxer.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _logger = __webpack_require__(/*! ../utils/logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

var _mp4Generator = __webpack_require__(/*! ./mp4-generator.js */ "./src/flv/remux/mp4-generator.js");

var _mp4Generator2 = _interopRequireDefault(_mp4Generator);

var _aacSilent = __webpack_require__(/*! ./aac-silent.js */ "./src/flv/remux/aac-silent.js");

var _aacSilent2 = _interopRequireDefault(_aacSilent);

var _browser = __webpack_require__(/*! ../utils/browser.js */ "./src/flv/utils/browser.js");

var _browser2 = _interopRequireDefault(_browser);

var _mediaSegmentInfo = __webpack_require__(/*! ../core/media-segment-info.js */ "./src/flv/core/media-segment-info.js");

var _exception = __webpack_require__(/*! ../utils/exception.js */ "./src/flv/utils/exception.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Fragmented mp4 remuxer
var MP4Remuxer = function () {
  function MP4Remuxer(config) {
    _classCallCheck(this, MP4Remuxer);

    this.TAG = 'MP4Remuxer';

    this._config = config;
    this._isLive = config.isLive === true;

    this._dtsBase = -1;
    this._dtsBaseInited = false;
    this._audioDtsBase = Infinity;
    this._videoDtsBase = Infinity;
    this._audioNextDts = undefined;
    this._videoNextDts = undefined;
    this._audioStashedLastSample = null;
    this._videoStashedLastSample = null;

    this._audioMeta = null;
    this._videoMeta = null;

    this._audioSegmentInfoList = new _mediaSegmentInfo.MediaSegmentInfoList('audio');
    this._videoSegmentInfoList = new _mediaSegmentInfo.MediaSegmentInfoList('video');

    this._onInitSegment = null;
    this._onMediaSegment = null;

    // Workaround for chrome < 50: Always force first sample as a Random Access Point in media segment
    // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412
    this._forceFirstIDR = !!(_browser2.default.chrome && (_browser2.default.version.major < 50 || _browser2.default.version.major === 50 && _browser2.default.version.build < 2661));

    // Workaround for IE11/Edge: Fill silent aac frame after keyframe-seeking
    // Make audio beginDts equals with video beginDts, in order to fix seek freeze
    this._fillSilentAfterSeek = _browser2.default.msedge || _browser2.default.msie;

    // While only FireFox supports 'audio/mp4, codecs="mp3"', use 'audio/mpeg' for chrome, safari, ...
    this._mp3UseMpegAudio = !_browser2.default.firefox;

    this._fillAudioTimestampGap = this._config.fixAudioTimestampGap;
  }

  _createClass(MP4Remuxer, [{
    key: 'destroy',
    value: function destroy() {
      this._dtsBase = -1;
      this._dtsBaseInited = false;
      this._audioMeta = null;
      this._videoMeta = null;
      this._audioSegmentInfoList.clear();
      this._audioSegmentInfoList = null;
      this._videoSegmentInfoList.clear();
      this._videoSegmentInfoList = null;
      this._onInitSegment = null;
      this._onMediaSegment = null;
    }
  }, {
    key: 'bindDataSource',
    value: function bindDataSource(producer) {
      producer.onDataAvailable = this.remux.bind(this);
      producer.onTrackMetadata = this._onTrackMetadataReceived.bind(this);
      return this;
    }

    /* prototype: function onInitSegment(type: string, initSegment: ArrayBuffer): void
         InitSegment: {
             type: string,
             data: ArrayBuffer,
             codec: string,
             container: string
         }
      */

  }, {
    key: 'insertDiscontinuity',
    value: function insertDiscontinuity() {
      this._audioNextDts = this._videoNextDts = undefined;
    }
  }, {
    key: 'seek',
    value: function seek(originalDts) {
      this._audioStashedLastSample = null;
      this._videoStashedLastSample = null;
      this._videoSegmentInfoList.clear();
      this._audioSegmentInfoList.clear();
    }
  }, {
    key: 'remux',
    value: function remux(audioTrack, videoTrack) {
      if (!this._onMediaSegment) {
        throw new _exception.IllegalStateException('MP4Remuxer: onMediaSegment callback must be specificed!');
      }
      if (!this._dtsBaseInited) {
        this._calculateDtsBase(audioTrack, videoTrack);
      }
      this._remuxVideo(videoTrack);
      this._remuxAudio(audioTrack);
    }
  }, {
    key: '_onTrackMetadataReceived',
    value: function _onTrackMetadataReceived(type, metadata) {
      var metabox = null;

      var container = 'mp4';
      var codec = metadata.codec;

      if (type === 'audio') {
        this._audioMeta = metadata;
        if (metadata.codec === 'mp3' && this._mp3UseMpegAudio) {
          // 'audio/mpeg' for MP3 audio track
          container = 'mpeg';
          codec = '';
          metabox = new Uint8Array();
        } else {
          // 'audio/mp4, codecs="codec"'
          metabox = _mp4Generator2.default.generateInitSegment(metadata);
        }
      } else if (type === 'video') {
        this._videoMeta = metadata;
        metabox = _mp4Generator2.default.generateInitSegment(metadata);
      } else {
        return;
      }

      // dispatch metabox (Initialization Segment)
      if (!this._onInitSegment) {
        throw new _exception.IllegalStateException('MP4Remuxer: onInitSegment callback must be specified!');
      }
      this._onInitSegment(type, {
        type: type,
        data: metabox.buffer,
        codec: codec,
        container: type + '/' + container,
        mediaDuration: metadata.duration // in timescale 1000 (milliseconds)
      });
    }
  }, {
    key: '_calculateDtsBase',
    value: function _calculateDtsBase(audioTrack, videoTrack) {
      if (this._dtsBaseInited) {
        return;
      }

      if (audioTrack.samples && audioTrack.samples.length) {
        this._audioDtsBase = audioTrack.samples[0].dts;
      }
      if (videoTrack.samples && videoTrack.samples.length) {
        this._videoDtsBase = videoTrack.samples[0].dts;
      }

      this._dtsBase = Math.min(this._audioDtsBase, this._videoDtsBase);
      this._dtsBaseInited = true;
    }
  }, {
    key: 'flushStashedSamples',
    value: function flushStashedSamples() {
      var videoSample = this._videoStashedLastSample;
      var audioSample = this._audioStashedLastSample;

      var videoTrack = {
        type: 'video',
        id: 1,
        sequenceNumber: 0,
        samples: [],
        length: 0
      };

      if (videoSample != null) {
        videoTrack.samples.push(videoSample);
        videoTrack.length = videoSample.length;
      }

      var audioTrack = {
        type: 'audio',
        id: 2,
        sequenceNumber: 0,
        samples: [],
        length: 0
      };

      if (audioSample != null) {
        audioTrack.samples.push(audioSample);
        audioTrack.length = audioSample.length;
      }

      this._videoStashedLastSample = null;
      this._audioStashedLastSample = null;

      this._remuxVideo(videoTrack, true);
      this._remuxAudio(audioTrack, true);
    }
  }, {
    key: '_remuxAudio',
    value: function _remuxAudio(audioTrack, force) {
      if (this._audioMeta == null) {
        return;
      }

      var track = audioTrack;
      var samples = track.samples;
      var dtsCorrection = void 0;
      var firstDts = -1,
          lastDts = -1,
          lastPts = -1;
      var refSampleDuration = this._audioMeta.refSampleDuration;

      var mpegRawTrack = this._audioMeta.codec === 'mp3' && this._mp3UseMpegAudio;
      var firstSegmentAfterSeek = this._dtsBaseInited && this._audioNextDts === undefined;

      var insertPrefixSilentFrame = false;

      if (!samples || samples.length === 0) {
        return;
      }
      if (samples.length === 1 && !force) {
        // If [sample count in current batch] === 1 && (force != true)
        // Ignore and keep in demuxer's queue
        return;
      } // else if (force === true) do remux

      var offset = 0;
      var mdatbox = null;
      var mdatBytes = 0;

      // calculate initial mdat size
      if (mpegRawTrack) {
        // for raw mpeg buffer
        offset = 0;
        mdatBytes = track.length;
      } else {
        // for fmp4 mdat box
        offset = 8; // size + type
        mdatBytes = 8 + track.length;
      }

      var lastSample = null;

      // Pop the lastSample and waiting for stash
      if (samples.length > 1) {
        lastSample = samples.pop();
        mdatBytes -= lastSample.length;
      }

      // Insert [stashed lastSample in the previous batch] to the front
      if (this._audioStashedLastSample != null) {
        var sample = this._audioStashedLastSample;
        this._audioStashedLastSample = null;
        samples.unshift(sample);
        mdatBytes += sample.length;
      }

      // Stash the lastSample of current batch, waiting for next batch
      if (lastSample != null) {
        this._audioStashedLastSample = lastSample;
      }

      var firstSampleOriginalDts = samples[0].dts - this._dtsBase;

      // calculate dtsCorrection
      if (this._audioNextDts) {
        dtsCorrection = firstSampleOriginalDts - this._audioNextDts;
      } else {
        // this._audioNextDts == undefined
        if (this._audioSegmentInfoList.isEmpty()) {
          dtsCorrection = 0;
          if (this._fillSilentAfterSeek && !this._videoSegmentInfoList.isEmpty()) {
            if (this._audioMeta.originalCodec !== 'mp3') {
              insertPrefixSilentFrame = true;
            }
          }
        } else {
          var _lastSample = this._audioSegmentInfoList.getLastSampleBefore(firstSampleOriginalDts);
          if (_lastSample != null) {
            var distance = firstSampleOriginalDts - (_lastSample.originalDts + _lastSample.duration);
            if (distance <= 3) {
              distance = 0;
            }
            var expectedDts = _lastSample.dts + _lastSample.duration + distance;
            dtsCorrection = firstSampleOriginalDts - expectedDts;
          } else {
            // lastSample == null, cannot found
            dtsCorrection = 0;
          }
        }
      }

      if (insertPrefixSilentFrame) {
        // align audio segment beginDts to match with current video segment's beginDts
        var firstSampleDts = firstSampleOriginalDts - dtsCorrection;
        var videoSegment = this._videoSegmentInfoList.getLastSegmentBefore(firstSampleOriginalDts);
        if (videoSegment != null && videoSegment.beginDts < firstSampleDts) {
          var silentUnit = _aacSilent2.default.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount);
          if (silentUnit) {
            var dts = videoSegment.beginDts;
            var silentFrameDuration = firstSampleDts - videoSegment.beginDts;
            _logger2.default.v(this.TAG, 'InsertPrefixSilentAudio: dts: ' + dts + ', duration: ' + silentFrameDuration);
            samples.unshift({ unit: silentUnit, dts: dts, pts: dts });
            mdatBytes += silentUnit.byteLength;
          } // silentUnit == null: Cannot generate, skip
        } else {
          insertPrefixSilentFrame = false;
        }
      }

      var mp4Samples = [];

      // Correct dts for each sample, and calculate sample duration. Then output to mp4Samples
      for (var i = 0; i < samples.length; i++) {
        var _sample = samples[i];
        var unit = _sample.unit;
        var originalDts = _sample.dts - this._dtsBase;
        var _dts = originalDts - dtsCorrection;

        if (firstDts === -1) {
          firstDts = _dts;
        }

        var sampleDuration = 0;

        if (i !== samples.length - 1) {
          var nextDts = samples[i + 1].dts - this._dtsBase - dtsCorrection;
          sampleDuration = nextDts - _dts;
        } else {
          // the last sample
          if (lastSample != null) {
            // use stashed sample's dts to calculate sample duration
            var _nextDts = lastSample.dts - this._dtsBase - dtsCorrection;
            sampleDuration = _nextDts - _dts;
          } else if (mp4Samples.length >= 1) {
            // use second last sample duration
            sampleDuration = mp4Samples[mp4Samples.length - 1].duration;
          } else {
            // the only one sample, use reference sample duration
            sampleDuration = Math.floor(refSampleDuration);
          }
        }

        var needFillSilentFrames = false;
        var silentFrames = null;

        // Silent frame generation, if large timestamp gap detected && config.fixAudioTimestampGap
        if (sampleDuration > refSampleDuration * 1.5 && this._audioMeta.codec !== 'mp3' && this._fillAudioTimestampGap && !_browser2.default.safari) {
          // We need to insert silent frames to fill timestamp gap
          needFillSilentFrames = true;
          var delta = Math.abs(sampleDuration - refSampleDuration);
          var frameCount = Math.ceil(delta / refSampleDuration);
          var currentDts = _dts + refSampleDuration; // Notice: in float

          _logger2.default.w(this.TAG, 'Large audio timestamp gap detected, may cause AV sync to drift. ' + 'Silent frames will be generated to avoid unsync.\n' + ('dts: ' + (_dts + sampleDuration) + ' ms, expected: ' + (_dts + Math.round(refSampleDuration)) + ' ms, ') + ('delta: ' + Math.round(delta) + ' ms, generate: ' + frameCount + ' frames'));

          var _silentUnit = _aacSilent2.default.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount);
          if (_silentUnit == null) {
            _logger2.default.w(this.TAG, 'Unable to generate silent frame for ' + (this._audioMeta.originalCodec + ' with ' + this._audioMeta.channelCount + ' channels, repeat last frame'));
            // Repeat last frame
            _silentUnit = unit;
          }
          silentFrames = [];

          for (var j = 0; j < frameCount; j++) {
            var intDts = Math.round(currentDts); // round to integer
            if (silentFrames.length > 0) {
              // Set previous frame sample duration
              var previousFrame = silentFrames[silentFrames.length - 1];
              previousFrame.duration = intDts - previousFrame.dts;
            }
            var frame = {
              dts: intDts,
              pts: intDts,
              cts: 0,
              unit: _silentUnit,
              size: _silentUnit.byteLength,
              duration: 0, // wait for next sample
              originalDts: originalDts,
              flags: {
                isLeading: 0,
                dependsOn: 1,
                isDependedOn: 0,
                hasRedundancy: 0
              }
            };
            silentFrames.push(frame);
            mdatBytes += unit.byteLength;
            currentDts += refSampleDuration;
          }

          // last frame: align end time to next frame dts
          var lastFrame = silentFrames[silentFrames.length - 1];
          lastFrame.duration = _dts + sampleDuration - lastFrame.dts;

          // silentFrames.forEach((frame) => {
          //     Log.w(this.TAG, `SilentAudio: dts: ${frame.dts}, duration: ${frame.duration}`);
          // });

          // Set correct sample duration for current frame
          sampleDuration = Math.round(refSampleDuration);
        }

        mp4Samples.push({
          dts: _dts,
          pts: _dts,
          cts: 0,
          unit: _sample.unit,
          size: _sample.unit.byteLength,
          duration: sampleDuration,
          originalDts: originalDts,
          flags: {
            isLeading: 0,
            dependsOn: 1,
            isDependedOn: 0,
            hasRedundancy: 0
          }
        });

        if (needFillSilentFrames) {
          // Silent frames should be inserted after wrong-duration frame
          mp4Samples.push.apply(mp4Samples, silentFrames);
        }
      }

      // allocate mdatbox
      if (mpegRawTrack) {
        // allocate for raw mpeg buffer
        mdatbox = new Uint8Array(mdatBytes);
      } else {
        // allocate for fmp4 mdat box
        mdatbox = new Uint8Array(mdatBytes);
        // size field
        mdatbox[0] = mdatBytes >>> 24 & 0xFF;
        mdatbox[1] = mdatBytes >>> 16 & 0xFF;
        mdatbox[2] = mdatBytes >>> 8 & 0xFF;
        mdatbox[3] = mdatBytes & 0xFF;
        // type field (fourCC)
        mdatbox.set(_mp4Generator2.default.types.mdat, 4);
      }

      // Write samples into mdatbox
      for (var _i = 0; _i < mp4Samples.length; _i++) {
        var _unit = mp4Samples[_i].unit;
        mdatbox.set(_unit, offset);
        offset += _unit.byteLength;
      }

      var latest = mp4Samples[mp4Samples.length - 1];
      lastDts = latest.dts + latest.duration;
      this._audioNextDts = lastDts;

      // fill media segment info & add to info list
      var info = new _mediaSegmentInfo.MediaSegmentInfo();
      info.beginDts = firstDts;
      info.endDts = lastDts;
      info.beginPts = firstDts;
      info.endPts = lastDts;
      info.originalBeginDts = mp4Samples[0].originalDts;
      info.originalEndDts = latest.originalDts + latest.duration;
      info.firstSample = new _mediaSegmentInfo.SampleInfo(mp4Samples[0].dts, mp4Samples[0].pts, mp4Samples[0].duration, mp4Samples[0].originalDts, false);
      info.lastSample = new _mediaSegmentInfo.SampleInfo(latest.dts, latest.pts, latest.duration, latest.originalDts, false);
      if (!this._isLive) {
        this._audioSegmentInfoList.append(info);
      }

      track.samples = mp4Samples;
      track.sequenceNumber++;

      var moofbox = null;

      if (mpegRawTrack) {
        // Generate empty buffer, because useless for raw mpeg
        moofbox = new Uint8Array();
      } else {
        // Generate moof for fmp4 segment
        moofbox = _mp4Generator2.default.moof(track, firstDts);
      }

      track.samples = [];
      track.length = 0;

      var segment = {
        type: 'audio',
        data: this._mergeBoxes(moofbox, mdatbox).buffer,
        sampleCount: mp4Samples.length,
        info: info
      };

      if (mpegRawTrack && firstSegmentAfterSeek) {
        // For MPEG audio stream in MSE, if seeking occurred, before appending new buffer
        // We need explicitly set timestampOffset to the desired point in timeline for mpeg SourceBuffer.
        segment.timestampOffset = firstDts;
      }

      this._onMediaSegment('audio', segment);
    }
  }, {
    key: '_remuxVideo',
    value: function _remuxVideo(videoTrack, force) {
      if (this._videoMeta == null) {
        return;
      }

      var track = videoTrack;
      var samples = track.samples;
      var dtsCorrection = void 0;
      var firstDts = -1,
          lastDts = -1;
      var firstPts = -1,
          lastPts = -1;

      if (!samples || samples.length === 0) {
        return;
      }
      if (samples.length === 1 && !force) {
        // If [sample count in current batch] === 1 && (force != true)
        // Ignore and keep in demuxer's queue
        return;
      } // else if (force === true) do remux

      var offset = 8;
      var mdatbox = null;
      var mdatBytes = 8 + videoTrack.length;

      var lastSample = null;

      // Pop the lastSample and waiting for stash
      if (samples.length > 1) {
        lastSample = samples.pop();
        mdatBytes -= lastSample.length;
      }

      // Insert [stashed lastSample in the previous batch] to the front
      if (this._videoStashedLastSample != null) {
        var sample = this._videoStashedLastSample;
        this._videoStashedLastSample = null;
        samples.unshift(sample);
        mdatBytes += sample.length;
      }

      // Stash the lastSample of current batch, waiting for next batch
      if (lastSample != null) {
        this._videoStashedLastSample = lastSample;
      }

      var firstSampleOriginalDts = samples[0].dts - this._dtsBase;

      // calculate dtsCorrection
      if (this._videoNextDts) {
        dtsCorrection = firstSampleOriginalDts - this._videoNextDts;
      } else {
        // this._videoNextDts == undefined
        if (this._videoSegmentInfoList.isEmpty()) {
          dtsCorrection = 0;
        } else {
          var _lastSample2 = this._videoSegmentInfoList.getLastSampleBefore(firstSampleOriginalDts);
          if (_lastSample2 != null) {
            var distance = firstSampleOriginalDts - (_lastSample2.originalDts + _lastSample2.duration);
            if (distance <= 3) {
              distance = 0;
            }
            var expectedDts = _lastSample2.dts + _lastSample2.duration + distance;
            dtsCorrection = firstSampleOriginalDts - expectedDts;
          } else {
            // lastSample == null, cannot found
            dtsCorrection = 0;
          }
        }
      }
      var info = new _mediaSegmentInfo.MediaSegmentInfo();
      var mp4Samples = [];

      // Correct dts for each sample, and calculate sample duration. Then output to mp4Samples
      for (var i = 0; i < samples.length; i++) {
        var _sample2 = samples[i];
        var originalDts = _sample2.dts - this._dtsBase;
        var isKeyframe = _sample2.isKeyframe;
        var dts = originalDts - dtsCorrection;
        var cts = _sample2.cts;
        var pts = dts + cts;

        if (firstDts === -1) {
          firstDts = dts;
          firstPts = pts;
        }

        var sampleDuration = 0;

        if (i !== samples.length - 1) {
          var nextDts = samples[i + 1].dts - this._dtsBase - dtsCorrection;
          sampleDuration = nextDts - dts;
        } else {
          // the last sample
          if (lastSample != null) {
            // use stashed sample's dts to calculate sample duration
            var _nextDts2 = lastSample.dts - this._dtsBase - dtsCorrection;
            sampleDuration = _nextDts2 - dts;
          } else if (mp4Samples.length >= 1) {
            // use second last sample duration
            sampleDuration = mp4Samples[mp4Samples.length - 1].duration;
          } else {
            // the only one sample, use reference sample duration
            sampleDuration = Math.floor(this._videoMeta.refSampleDuration);
          }
        }

        if (isKeyframe) {
          var syncPoint = new _mediaSegmentInfo.SampleInfo(dts, pts, sampleDuration, _sample2.dts, true);
          syncPoint.fileposition = _sample2.fileposition;
          info.appendSyncPoint(syncPoint);
        }

        mp4Samples.push({
          dts: dts,
          pts: pts,
          cts: cts,
          units: _sample2.units,
          size: _sample2.length,
          isKeyframe: isKeyframe,
          duration: sampleDuration,
          originalDts: originalDts,
          flags: {
            isLeading: 0,
            dependsOn: isKeyframe ? 2 : 1,
            isDependedOn: isKeyframe ? 1 : 0,
            hasRedundancy: 0,
            isNonSync: isKeyframe ? 0 : 1
          }
        });
      }

      // allocate mdatbox
      mdatbox = new Uint8Array(mdatBytes);
      mdatbox[0] = mdatBytes >>> 24 & 0xFF;
      mdatbox[1] = mdatBytes >>> 16 & 0xFF;
      mdatbox[2] = mdatBytes >>> 8 & 0xFF;
      mdatbox[3] = mdatBytes & 0xFF;
      mdatbox.set(_mp4Generator2.default.types.mdat, 4);

      // Write samples into mdatbox
      for (var _i2 = 0; _i2 < mp4Samples.length; _i2++) {
        var units = mp4Samples[_i2].units;
        while (units.length) {
          var unit = units.shift();
          var data = unit.data;
          mdatbox.set(data, offset);
          offset += data.byteLength;
        }
      }

      var latest = mp4Samples[mp4Samples.length - 1];
      lastDts = latest.dts + latest.duration;
      lastPts = latest.pts + latest.duration;
      this._videoNextDts = lastDts;

      // fill media segment info & add to info list
      info.beginDts = firstDts;
      info.endDts = lastDts;
      info.beginPts = firstPts;
      info.endPts = lastPts;
      info.originalBeginDts = mp4Samples[0].originalDts;
      info.originalEndDts = latest.originalDts + latest.duration;
      info.firstSample = new _mediaSegmentInfo.SampleInfo(mp4Samples[0].dts, mp4Samples[0].pts, mp4Samples[0].duration, mp4Samples[0].originalDts, mp4Samples[0].isKeyframe);
      info.lastSample = new _mediaSegmentInfo.SampleInfo(latest.dts, latest.pts, latest.duration, latest.originalDts, latest.isKeyframe);
      if (!this._isLive) {
        this._videoSegmentInfoList.append(info);
      }

      track.samples = mp4Samples;
      track.sequenceNumber++;

      // workaround for chrome < 50: force first sample as a random access point
      // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412
      if (this._forceFirstIDR) {
        var flags = mp4Samples[0].flags;
        flags.dependsOn = 2;
        flags.isNonSync = 0;
      }

      var moofbox = _mp4Generator2.default.moof(track, firstDts);
      track.samples = [];
      track.length = 0;

      this._onMediaSegment('video', {
        type: 'video',
        data: this._mergeBoxes(moofbox, mdatbox).buffer,
        sampleCount: mp4Samples.length,
        info: info
      });
    }
  }, {
    key: '_mergeBoxes',
    value: function _mergeBoxes(moof, mdat) {
      var result = new Uint8Array(moof.byteLength + mdat.byteLength);
      result.set(moof, 0);
      result.set(mdat, moof.byteLength);
      return result;
    }
  }, {
    key: 'onInitSegment',
    get: function get() {
      return this._onInitSegment;
    },
    set: function set(callback) {
      this._onInitSegment = callback;
    }

    /* prototype: function onMediaSegment(type: string, mediaSegment: MediaSegment): void
         MediaSegment: {
             type: string,
             data: ArrayBuffer,
             sampleCount: int32
             info: MediaSegmentInfo
         }
      */

  }, {
    key: 'onMediaSegment',
    get: function get() {
      return this._onMediaSegment;
    },
    set: function set(callback) {
      this._onMediaSegment = callback;
    }
  }]);

  return MP4Remuxer;
}();

exports.default = MP4Remuxer;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/browser.js":
/*!**********************************!*\
  !*** ./src/flv/utils/browser.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Browser = {};

function detect() {
    // modified from jquery-browser-plugin

    var ua = self.navigator.userAgent.toLowerCase();

    var match = /(edge)\/([\w.]+)/.exec(ua) || /(opr)[\/]([\w.]+)/.exec(ua) || /(chrome)[ \/]([\w.]+)/.exec(ua) || /(iemobile)[\/]([\w.]+)/.exec(ua) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || ua.indexOf('trident') >= 0 && /(rv)(?::| )([\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(firefox)[ \/]([\w.]+)/.exec(ua) || [];

    var platform_match = /(ipad)/.exec(ua) || /(ipod)/.exec(ua) || /(windows phone)/.exec(ua) || /(iphone)/.exec(ua) || /(kindle)/.exec(ua) || /(android)/.exec(ua) || /(windows)/.exec(ua) || /(mac)/.exec(ua) || /(linux)/.exec(ua) || /(cros)/.exec(ua) || [];

    var matched = {
        browser: match[5] || match[3] || match[1] || '',
        version: match[2] || match[4] || '0',
        majorVersion: match[4] || match[2] || '0',
        platform: platform_match[0] || ''
    };

    var browser = {};
    if (matched.browser) {
        browser[matched.browser] = true;

        var versionArray = matched.majorVersion.split('.');
        browser.version = {
            major: parseInt(matched.majorVersion, 10),
            string: matched.version
        };
        if (versionArray.length > 1) {
            browser.version.minor = parseInt(versionArray[1], 10);
        }
        if (versionArray.length > 2) {
            browser.version.build = parseInt(versionArray[2], 10);
        }
    }

    if (matched.platform) {
        browser[matched.platform] = true;
    }

    if (browser.chrome || browser.opr || browser.safari) {
        browser.webkit = true;
    }

    // MSIE. IE11 has 'rv' identifer
    if (browser.rv || browser.iemobile) {
        if (browser.rv) {
            delete browser.rv;
        }
        var msie = 'msie';
        matched.browser = msie;
        browser[msie] = true;
    }

    // Microsoft Edge
    if (browser.edge) {
        delete browser.edge;
        var msedge = 'msedge';
        matched.browser = msedge;
        browser[msedge] = true;
    }

    // Opera 15+
    if (browser.opr) {
        var opera = 'opera';
        matched.browser = opera;
        browser[opera] = true;
    }

    // Stock android browsers are marked as Safari
    if (browser.safari && browser.android) {
        var android = 'android';
        matched.browser = android;
        browser[android] = true;
    }

    browser.name = matched.browser;
    browser.platform = matched.platform;

    for (var key in Browser) {
        if (Browser.hasOwnProperty(key)) {
            delete Browser[key];
        }
    }
    Object.assign(Browser, browser);
}

detect();

exports.default = Browser;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/exception.js":
/*!************************************!*\
  !*** ./src/flv/utils/exception.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var RuntimeException = exports.RuntimeException = function () {
    function RuntimeException(message) {
        _classCallCheck(this, RuntimeException);

        this._message = message;
    }

    _createClass(RuntimeException, [{
        key: 'toString',
        value: function toString() {
            return this.name + ': ' + this.message;
        }
    }, {
        key: 'name',
        get: function get() {
            return 'RuntimeException';
        }
    }, {
        key: 'message',
        get: function get() {
            return this._message;
        }
    }]);

    return RuntimeException;
}();

var IllegalStateException = exports.IllegalStateException = function (_RuntimeException) {
    _inherits(IllegalStateException, _RuntimeException);

    function IllegalStateException(message) {
        _classCallCheck(this, IllegalStateException);

        return _possibleConstructorReturn(this, (IllegalStateException.__proto__ || Object.getPrototypeOf(IllegalStateException)).call(this, message));
    }

    _createClass(IllegalStateException, [{
        key: 'name',
        get: function get() {
            return 'IllegalStateException';
        }
    }]);

    return IllegalStateException;
}(RuntimeException);

var InvalidArgumentException = exports.InvalidArgumentException = function (_RuntimeException2) {
    _inherits(InvalidArgumentException, _RuntimeException2);

    function InvalidArgumentException(message) {
        _classCallCheck(this, InvalidArgumentException);

        return _possibleConstructorReturn(this, (InvalidArgumentException.__proto__ || Object.getPrototypeOf(InvalidArgumentException)).call(this, message));
    }

    _createClass(InvalidArgumentException, [{
        key: 'name',
        get: function get() {
            return 'InvalidArgumentException';
        }
    }]);

    return InvalidArgumentException;
}(RuntimeException);

var NotImplementedException = exports.NotImplementedException = function (_RuntimeException3) {
    _inherits(NotImplementedException, _RuntimeException3);

    function NotImplementedException(message) {
        _classCallCheck(this, NotImplementedException);

        return _possibleConstructorReturn(this, (NotImplementedException.__proto__ || Object.getPrototypeOf(NotImplementedException)).call(this, message));
    }

    _createClass(NotImplementedException, [{
        key: 'name',
        get: function get() {
            return 'NotImplementedException';
        }
    }]);

    return NotImplementedException;
}(RuntimeException);

/***/ }),

/***/ "./src/flv/utils/logger.js":
/*!*********************************!*\
  !*** ./src/flv/utils/logger.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Log = function () {
  function Log() {
    _classCallCheck(this, Log);
  }

  _createClass(Log, null, [{
    key: 'e',
    value: function e(tag, msg) {
      if (!tag || Log.FORCE_GLOBAL_TAG) {
        tag = Log.GLOBAL_TAG;
      }

      var str = '[' + tag + '] > ' + msg;

      if (Log.ENABLE_CALLBACK) {
        Log.emitter.emit('log', 'error', str);
      }

      if (!Log.ENABLE_ERROR) {
        return;
      }

      if (console.error) {
        console.error(str);
      } else if (console.warn) {
        console.warn(str);
      } else {
        console.log(str);
      }
    }
  }, {
    key: 'i',
    value: function i(tag, msg) {
      if (!tag || Log.FORCE_GLOBAL_TAG) {
        tag = Log.GLOBAL_TAG;
      }

      var str = '[' + tag + '] > ' + msg;

      if (Log.ENABLE_CALLBACK) {
        Log.emitter.emit('log', 'info', str);
      }

      if (!Log.ENABLE_INFO) {
        return;
      }

      if (console.info) {
        console.info(str);
      } else {
        console.log(str);
      }
    }
  }, {
    key: 'w',
    value: function w(tag, msg) {
      if (!tag || Log.FORCE_GLOBAL_TAG) {
        tag = Log.GLOBAL_TAG;
      }

      var str = '[' + tag + '] > ' + msg;

      if (Log.ENABLE_CALLBACK) {
        Log.emitter.emit('log', 'warn', str);
      }

      if (!Log.ENABLE_WARN) {
        return;
      }

      if (console.warn) {
        console.warn(str);
      } else {
        console.log(str);
      }
    }
  }, {
    key: 'd',
    value: function d(tag, msg) {
      if (!tag || Log.FORCE_GLOBAL_TAG) {
        tag = Log.GLOBAL_TAG;
      }

      var str = '[' + tag + '] > ' + msg;

      if (Log.ENABLE_CALLBACK) {
        Log.emitter.emit('log', 'debug', str);
      }

      if (!Log.ENABLE_DEBUG) {
        return;
      }

      if (console.debug) {
        console.debug(str);
      } else {
        console.log(str);
      }
    }
  }, {
    key: 'v',
    value: function v(tag, msg) {
      if (!tag || Log.FORCE_GLOBAL_TAG) {
        tag = Log.GLOBAL_TAG;
      }

      var str = '[' + tag + '] > ' + msg;

      if (Log.ENABLE_CALLBACK) {
        Log.emitter.emit('log', 'verbose', str);
      }

      if (!Log.ENABLE_VERBOSE) {
        return;
      }

      console.log(str);
    }
  }]);

  return Log;
}();

Log.GLOBAL_TAG = 'flv.js';
Log.FORCE_GLOBAL_TAG = false;
Log.ENABLE_ERROR = true;
Log.ENABLE_INFO = true;
Log.ENABLE_WARN = true;
Log.ENABLE_DEBUG = true;
Log.ENABLE_VERBOSE = true;

Log.ENABLE_CALLBACK = false;

Log.emitter = new _events2.default();

exports.default = Log;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/logging-control.js":
/*!******************************************!*\
  !*** ./src/flv/utils/logging-control.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the "License");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an "AS IS" BASIS,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _events = __webpack_require__(/*! events */ "./node_modules/events/events.js");

var _events2 = _interopRequireDefault(_events);

var _logger = __webpack_require__(/*! ./logger.js */ "./src/flv/utils/logger.js");

var _logger2 = _interopRequireDefault(_logger);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LoggingControl = function () {
    function LoggingControl() {
        _classCallCheck(this, LoggingControl);
    }

    _createClass(LoggingControl, null, [{
        key: 'getConfig',
        value: function getConfig() {
            return {
                globalTag: _logger2.default.GLOBAL_TAG,
                forceGlobalTag: _logger2.default.FORCE_GLOBAL_TAG,
                enableVerbose: _logger2.default.ENABLE_VERBOSE,
                enableDebug: _logger2.default.ENABLE_DEBUG,
                enableInfo: _logger2.default.ENABLE_INFO,
                enableWarn: _logger2.default.ENABLE_WARN,
                enableError: _logger2.default.ENABLE_ERROR,
                enableCallback: _logger2.default.ENABLE_CALLBACK
            };
        }
    }, {
        key: 'applyConfig',
        value: function applyConfig(config) {
            _logger2.default.GLOBAL_TAG = config.globalTag;
            _logger2.default.FORCE_GLOBAL_TAG = config.forceGlobalTag;
            _logger2.default.ENABLE_VERBOSE = config.enableVerbose;
            _logger2.default.ENABLE_DEBUG = config.enableDebug;
            _logger2.default.ENABLE_INFO = config.enableInfo;
            _logger2.default.ENABLE_WARN = config.enableWarn;
            _logger2.default.ENABLE_ERROR = config.enableError;
            _logger2.default.ENABLE_CALLBACK = config.enableCallback;
        }
    }, {
        key: '_notifyChange',
        value: function _notifyChange() {
            var emitter = LoggingControl.emitter;

            if (emitter.listenerCount('change') > 0) {
                var config = LoggingControl.getConfig();
                emitter.emit('change', config);
            }
        }
    }, {
        key: 'registerListener',
        value: function registerListener(listener) {
            LoggingControl.emitter.addListener('change', listener);
        }
    }, {
        key: 'removeListener',
        value: function removeListener(listener) {
            LoggingControl.emitter.removeListener('change', listener);
        }
    }, {
        key: 'addLogListener',
        value: function addLogListener(listener) {
            _logger2.default.emitter.addListener('log', listener);
            if (_logger2.default.emitter.listenerCount('log') > 0) {
                _logger2.default.ENABLE_CALLBACK = true;
                LoggingControl._notifyChange();
            }
        }
    }, {
        key: 'removeLogListener',
        value: function removeLogListener(listener) {
            _logger2.default.emitter.removeListener('log', listener);
            if (_logger2.default.emitter.listenerCount('log') === 0) {
                _logger2.default.ENABLE_CALLBACK = false;
                LoggingControl._notifyChange();
            }
        }
    }, {
        key: 'forceGlobalTag',
        get: function get() {
            return _logger2.default.FORCE_GLOBAL_TAG;
        },
        set: function set(enable) {
            _logger2.default.FORCE_GLOBAL_TAG = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'globalTag',
        get: function get() {
            return _logger2.default.GLOBAL_TAG;
        },
        set: function set(tag) {
            _logger2.default.GLOBAL_TAG = tag;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableAll',
        get: function get() {
            return _logger2.default.ENABLE_VERBOSE && _logger2.default.ENABLE_DEBUG && _logger2.default.ENABLE_INFO && _logger2.default.ENABLE_WARN && _logger2.default.ENABLE_ERROR;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_VERBOSE = enable;
            _logger2.default.ENABLE_DEBUG = enable;
            _logger2.default.ENABLE_INFO = enable;
            _logger2.default.ENABLE_WARN = enable;
            _logger2.default.ENABLE_ERROR = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableDebug',
        get: function get() {
            return _logger2.default.ENABLE_DEBUG;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_DEBUG = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableVerbose',
        get: function get() {
            return _logger2.default.ENABLE_VERBOSE;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_VERBOSE = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableInfo',
        get: function get() {
            return _logger2.default.ENABLE_INFO;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_INFO = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableWarn',
        get: function get() {
            return _logger2.default.ENABLE_WARN;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_WARN = enable;
            LoggingControl._notifyChange();
        }
    }, {
        key: 'enableError',
        get: function get() {
            return _logger2.default.ENABLE_ERROR;
        },
        set: function set(enable) {
            _logger2.default.ENABLE_ERROR = enable;
            LoggingControl._notifyChange();
        }
    }]);

    return LoggingControl;
}();

LoggingControl.emitter = new _events2.default();

exports.default = LoggingControl;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/polyfill.js":
/*!***********************************!*\
  !*** ./src/flv/utils/polyfill.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Polyfill = function () {
    function Polyfill() {
        _classCallCheck(this, Polyfill);
    }

    _createClass(Polyfill, null, [{
        key: 'install',
        value: function install() {
            // ES6 Object.setPrototypeOf
            Object.setPrototypeOf = Object.setPrototypeOf || function (obj, proto) {
                obj.__proto__ = proto;
                return obj;
            };

            // ES6 Object.assign
            Object.assign = Object.assign || function (target) {
                if (target === undefined || target === null) {
                    throw new TypeError('Cannot convert undefined or null to object');
                }

                var output = Object(target);
                for (var i = 1; i < arguments.length; i++) {
                    var source = arguments[i];
                    if (source !== undefined && source !== null) {
                        for (var key in source) {
                            if (source.hasOwnProperty(key)) {
                                output[key] = source[key];
                            }
                        }
                    }
                }
                return output;
            };

            // ES6 Promise (missing support in IE11)
            if (typeof self.Promise !== 'function') {
                __webpack_require__(/*! es6-promise */ "./node_modules/es6-promise/dist/es6-promise.js").polyfill();
            }
        }
    }]);

    return Polyfill;
}();

Polyfill.install();

exports.default = Polyfill;
module.exports = exports['default'];

/***/ }),

/***/ "./src/flv/utils/utf8-conv.js":
/*!************************************!*\
  !*** ./src/flv/utils/utf8-conv.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
/*
 * Copyright (C) 2016 Bilibili. All Rights Reserved.
 *
 * This file is derived from C++ project libWinTF8 (https://github.com/m13253/libWinTF8)
 * @author zheng qian <xqq@xqq.im>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function checkContinuation(uint8array, start, checkLength) {
    var array = uint8array;
    if (start + checkLength < array.length) {
        while (checkLength--) {
            if ((array[++start] & 0xC0) !== 0x80) return false;
        }
        return true;
    } else {
        return false;
    }
}

function decodeUTF8(uint8array) {
    var out = [];
    var input = uint8array;
    var i = 0;
    var length = uint8array.length;

    while (i < length) {
        if (input[i] < 0x80) {
            out.push(String.fromCharCode(input[i]));
            ++i;
            continue;
        } else if (input[i] < 0xC0) {
            // fallthrough
        } else if (input[i] < 0xE0) {
            if (checkContinuation(input, i, 1)) {
                var ucs4 = (input[i] & 0x1F) << 6 | input[i + 1] & 0x3F;
                if (ucs4 >= 0x80) {
                    out.push(String.fromCharCode(ucs4 & 0xFFFF));
                    i += 2;
                    continue;
                }
            }
        } else if (input[i] < 0xF0) {
            if (checkContinuation(input, i, 2)) {
                var _ucs = (input[i] & 0xF) << 12 | (input[i + 1] & 0x3F) << 6 | input[i + 2] & 0x3F;
                if (_ucs >= 0x800 && (_ucs & 0xF800) !== 0xD800) {
                    out.push(String.fromCharCode(_ucs & 0xFFFF));
                    i += 3;
                    continue;
                }
            }
        } else if (input[i] < 0xF8) {
            if (checkContinuation(input, i, 3)) {
                var _ucs2 = (input[i] & 0x7) << 18 | (input[i + 1] & 0x3F) << 12 | (input[i + 2] & 0x3F) << 6 | input[i + 3] & 0x3F;
                if (_ucs2 > 0x10000 && _ucs2 < 0x110000) {
                    _ucs2 -= 0x10000;
                    out.push(String.fromCharCode(_ucs2 >>> 10 | 0xD800));
                    out.push(String.fromCharCode(_ucs2 & 0x3FF | 0xDC00));
                    i += 4;
                    continue;
                }
            }
        }
        out.push(String.fromCharCode(0xFFFD));
        ++i;
    }

    return out.join('');
}

exports.default = decodeUTF8;
module.exports = exports['default'];

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _xgplayer = __webpack_require__(/*! xgplayer */ "xgplayer");

var _xgplayer2 = _interopRequireDefault(_xgplayer);

var _flv = __webpack_require__(/*! ./flv/flv */ "./src/flv/flv.js");

var _flv2 = _interopRequireDefault(_flv);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FlvJsPlayer = function (_Player) {
  _inherits(FlvJsPlayer, _Player);

  function FlvJsPlayer(options) {
    _classCallCheck(this, FlvJsPlayer);

    var _this = _possibleConstructorReturn(this, (FlvJsPlayer.__proto__ || Object.getPrototypeOf(FlvJsPlayer)).call(this, options));

    _this.flvOpts = { type: 'flv' };
    _xgplayer2.default.util.deepCopy(_this.flvOpts, options);
    var player = _this;
    player.once('complete', function () {
      player.__flv__ = _flv2.default.createPlayer(_this.flvOpts);
      player.createInstance(player.__flv__);
    });
    return _this;
  }

  _createClass(FlvJsPlayer, [{
    key: 'createInstance',
    value: function createInstance(flv) {
      var player = this;
      var util = _xgplayer2.default.util;
      flv.attachMediaElement(player.video);
      flv.load();
      flv.play();
      if (this.flvOpts.isLive) {
        util.addClass(player.root, 'xgplayer-is-live');
        var live = util.createDom('xg-live', '正在直播', {}, 'xgplayer-live');
        player.controls.appendChild(live);
      }
      flv.on(_flv2.default.Events.ERROR, function (e) {
        player.emit('error', new _xgplayer2.default.Errors('other', player.config.url));
      });

      player.once('destroy', function () {
        flv.destroy();
        player.__flv__ = null;
      });
    }
  }, {
    key: 'switchURL',
    value: function switchURL(url) {
      var player = this;
      var flvPlayer = player.__flv__;
      player.config.url = url;
      if (!player.config.isLive) {
        flvPlayer.onDefinitionChange(url, player.config.retryTimes);
      } else {
        var tempFlvPlayer = _flv2.default.createPlayer(player.flvOpts);
        flvPlayer.destroy();
        player.createInstance(tempFlvPlayer);
        player.__flv__ = tempFlvPlayer;
      }
    }
  }]);

  return FlvJsPlayer;
}(_xgplayer2.default);

FlvJsPlayer.isSupported = _flv2.default.isSupported;
exports.default = FlvJsPlayer;
module.exports = exports['default'];

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");


/***/ }),

/***/ "xgplayer":
/*!*************************!*\
  !*** external "Player" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

(function() { module.exports = window["Player"]; }());

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9GbHZKc1BsYXllci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL25vZGVfbW9kdWxlcy93ZWJ3b3JraWZ5L2luZGV4LmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9jb25maWcuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L2NvcmUvZmVhdHVyZXMuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L2NvcmUvbWVkaWEtaW5mby5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvY29yZS9tZWRpYS1zZWdtZW50LWluZm8uanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L2NvcmUvbXNlLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L2NvcmUvbXNlLWV2ZW50cy5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvY29yZS90cmFuc211eGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9jb3JlL3RyYW5zbXV4aW5nLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L2NvcmUvdHJhbnNtdXhpbmctZXZlbnRzLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9jb3JlL3RyYW5zbXV4aW5nLXdvcmtlci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvZGVtdXgvYW1mLXBhcnNlci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvZGVtdXgvZGVtdXgtZXJyb3JzLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9kZW11eC9leHAtZ29sb21iLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9kZW11eC9mbHYtZGVtdXhlci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvZGVtdXgvc3BzLXBhcnNlci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvZmx2LmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby9mZXRjaC1zdHJlYW0tbG9hZGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby9pby1jb250cm9sbGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L2lvL3BhcmFtLXNlZWstaGFuZGxlci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvaW8vcmFuZ2Utc2Vlay1oYW5kbGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby9zcGVlZC1zYW1wbGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby93ZWJzb2NrZXQtbG9hZGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby94aHItbW96LWNodW5rZWQtbG9hZGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby94aHItbXNzdHJlYW0tbG9hZGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9pby94aHItcmFuZ2UtbG9hZGVyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9wbGF5ZXIvZmx2LXBsYXllci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvcGxheWVyL25hdGl2ZS1wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L3BsYXllci9wbGF5ZXItZXJyb3JzLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi9wbGF5ZXIvcGxheWVyLWV2ZW50cy5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvcmVtdXgvYWFjLXNpbGVudC5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvcmVtdXgvbXA0LWdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvcmVtdXgvbXA0LXJlbXV4ZXIuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L3V0aWxzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L3V0aWxzL2V4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly9GbHZKc1BsYXllci8uL3NyYy9mbHYvdXRpbHMvbG9nZ2VyLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi91dGlscy9sb2dnaW5nLWNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvZmx2L3V0aWxzL3BvbHlmaWxsLmpzIiwid2VicGFjazovL0ZsdkpzUGxheWVyLy4vc3JjL2Zsdi91dGlscy91dGY4LWNvbnYuanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vRmx2SnNQbGF5ZXIvZXh0ZXJuYWwgXCJQbGF5ZXJcIiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsIm9iamVjdE9yRnVuY3Rpb24iLCJ4IiwidHlwZSIsImlzRnVuY3Rpb24iLCJfaXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImxlbiIsInZlcnR4TmV4dCIsImN1c3RvbVNjaGVkdWxlckZuIiwiYXNhcCIsImNhbGxiYWNrIiwiYXJnIiwicXVldWUiLCJmbHVzaCIsInNjaGVkdWxlRmx1c2giLCJzZXRTY2hlZHVsZXIiLCJzY2hlZHVsZUZuIiwic2V0QXNhcCIsImFzYXBGbiIsImJyb3dzZXJXaW5kb3ciLCJ3aW5kb3ciLCJ1bmRlZmluZWQiLCJicm93c2VyR2xvYmFsIiwiQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImlzTm9kZSIsInNlbGYiLCJwcm9jZXNzIiwiaXNXb3JrZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImltcG9ydFNjcmlwdHMiLCJNZXNzYWdlQ2hhbm5lbCIsInVzZU5leHRUaWNrIiwibmV4dFRpY2siLCJ1c2VWZXJ0eFRpbWVyIiwidXNlU2V0VGltZW91dCIsInVzZU11dGF0aW9uT2JzZXJ2ZXIiLCJpdGVyYXRpb25zIiwib2JzZXJ2ZXIiLCJub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiZGF0YSIsInVzZU1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsImdsb2JhbFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiaSIsImF0dGVtcHRWZXJ0eCIsInZlcnR4IiwiRnVuY3Rpb24iLCJyZXF1aXJlIiwicnVuT25Mb29wIiwicnVuT25Db250ZXh0IiwiZSIsInRoZW4iLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJwYXJlbnQiLCJjaGlsZCIsImNvbnN0cnVjdG9yIiwibm9vcCIsIlBST01JU0VfSUQiLCJtYWtlUHJvbWlzZSIsIl9zdGF0ZSIsImFyZ3VtZW50cyIsImludm9rZUNhbGxiYWNrIiwiX3Jlc3VsdCIsInN1YnNjcmliZSIsInJlc29sdmUkMSIsIm9iamVjdCIsIkNvbnN0cnVjdG9yIiwicHJvbWlzZSIsInJlc29sdmUiLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiUEVORElORyIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwiVFJZX0NBVENIX0VSUk9SIiwiZXJyb3IiLCJzZWxmRnVsZmlsbG1lbnQiLCJUeXBlRXJyb3IiLCJjYW5ub3RSZXR1cm5Pd24iLCJnZXRUaGVuIiwidHJ5VGhlbiIsInRoZW4kJDEiLCJ2YWx1ZSIsImZ1bGZpbGxtZW50SGFuZGxlciIsInJlamVjdGlvbkhhbmRsZXIiLCJoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJ0aGVuYWJsZSIsInNlYWxlZCIsImZ1bGZpbGwiLCJyZWFzb24iLCJyZWplY3QiLCJfbGFiZWwiLCJoYW5kbGVPd25UaGVuYWJsZSIsImhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwicHVibGlzaFJlamVjdGlvbiIsIl9vbmVycm9yIiwicHVibGlzaCIsIl9zdWJzY3JpYmVycyIsImxlbmd0aCIsInN1YnNjcmliZXJzIiwic2V0dGxlZCIsImRldGFpbCIsInRyeUNhdGNoIiwiaGFzQ2FsbGJhY2siLCJzdWNjZWVkZWQiLCJmYWlsZWQiLCJpbml0aWFsaXplUHJvbWlzZSIsInJlc29sdmVyIiwicmVzb2x2ZVByb21pc2UiLCJyZWplY3RQcm9taXNlIiwiaWQiLCJuZXh0SWQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsIkVudW1lcmF0b3IiLCJpbnB1dCIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX3JlbWFpbmluZyIsIl9lbnVtZXJhdGUiLCJfZWFjaEVudHJ5IiwiZW50cnkiLCJjIiwicmVzb2x2ZSQkMSIsIl90aGVuIiwiX3NldHRsZWRBdCIsIlByb21pc2UkMSIsIl93aWxsU2V0dGxlQXQiLCJzdGF0ZSIsImVudW1lcmF0b3IiLCJhbGwiLCJlbnRyaWVzIiwicmFjZSIsIl8iLCJyZWplY3QkMSIsIm5lZWRzUmVzb2x2ZXIiLCJuZWVkc05ldyIsIlByb21pc2UiLCJjYXRjaCIsIl9jYXRjaCIsImZpbmFsbHkiLCJfZmluYWxseSIsIl9zZXRTY2hlZHVsZXIiLCJfc2V0QXNhcCIsIl9hc2FwIiwicG9seWZpbGwiLCJsb2NhbCIsIlAiLCJwcm9taXNlVG9TdHJpbmciLCJjYXN0IiwiRXZlbnRFbWl0dGVyIiwiX2V2ZW50cyIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwic2V0TWF4TGlzdGVuZXJzIiwibiIsImlzTnVtYmVyIiwiaXNOYU4iLCJlbWl0IiwiZXIiLCJoYW5kbGVyIiwiYXJncyIsImxpc3RlbmVycyIsImlzT2JqZWN0IiwiZXJyIiwiY29udGV4dCIsImlzVW5kZWZpbmVkIiwic2xpY2UiLCJhcHBseSIsImFkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJtIiwibmV3TGlzdGVuZXIiLCJwdXNoIiwid2FybmVkIiwiY29uc29sZSIsInRyYWNlIiwib24iLCJvbmNlIiwiZmlyZWQiLCJnIiwicmVtb3ZlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJzcGxpY2UiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXkiLCJyZXQiLCJsaXN0ZW5lckNvdW50IiwiZXZsaXN0ZW5lciIsImVtaXR0ZXIiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwicnVuQ2xlYXJUaW1lb3V0IiwibWFya2VyIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib2ZmIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsIm5hbWUiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImV2YWwiLCJidW5kbGVGbiIsInNvdXJjZXMiLCJjYWNoZSIsInN0cmluZ2lmeSIsIkpTT04iLCJmbiIsIm9wdGlvbnMiLCJ3a2V5IiwiY2FjaGVLZXlzIiwia2V5cyIsImwiLCJleHAiLCJkZWZhdWx0IiwiZmxvb3IiLCJwb3ciLCJ3Y2FjaGUiLCJza2V5Iiwic2NhY2hlIiwid29ya2VyU291cmNlcyIsInJlc29sdmVTb3VyY2VzIiwiZGVwUGF0aCIsImRlcEtleSIsInNyYyIsIm1hcCIsImpvaW4iLCJVUkwiLCJ3ZWJraXRVUkwiLCJtb3pVUkwiLCJtc1VSTCIsImJsb2IiLCJCbG9iIiwiYmFyZSIsIndvcmtlclVybCIsImNyZWF0ZU9iamVjdFVSTCIsIndvcmtlciIsIldvcmtlciIsIm9iamVjdFVSTCIsImNyZWF0ZURlZmF1bHRDb25maWciLCJkZWZhdWx0Q29uZmlnIiwiZW5hYmxlV29ya2VyIiwiZW5hYmxlU3Rhc2hCdWZmZXIiLCJzdGFzaEluaXRpYWxTaXplIiwiaXNMaXZlIiwibGF6eUxvYWQiLCJsYXp5TG9hZE1heER1cmF0aW9uIiwibGF6eUxvYWRSZWNvdmVyRHVyYXRpb24iLCJkZWZlckxvYWRBZnRlclNvdXJjZU9wZW4iLCJhdXRvQ2xlYW51cE1heEJhY2t3YXJkRHVyYXRpb24iLCJhdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb24iLCJzdGF0aXN0aWNzSW5mb1JlcG9ydEludGVydmFsIiwiZml4QXVkaW9UaW1lc3RhbXBHYXAiLCJhY2N1cmF0ZVNlZWsiLCJzZWVrVHlwZSIsInNlZWtQYXJhbVN0YXJ0Iiwic2Vla1BhcmFtRW5kIiwicmFuZ2VMb2FkWmVyb1N0YXJ0IiwiY3VzdG9tU2Vla0hhbmRsZXIiLCJyZXVzZVJlZGlyZWN0ZWRVUkwiLCJhc3NpZ24iLCJGZWF0dXJlcyIsIk1lZGlhU291cmNlIiwiaXNUeXBlU3VwcG9ydGVkIiwiaW9jdGwiLCJJT0NvbnRyb2xsZXIiLCJsb2FkZXJUeXBlIiwiZGVzdHJveSIsIm1pbWVUeXBlIiwidmlkZW9FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNhblBsYXkiLCJjYW5QbGF5VHlwZSIsImZlYXR1cmVzIiwibXNlRmx2UGxheWJhY2siLCJtc2VMaXZlRmx2UGxheWJhY2siLCJuZXR3b3JrU3RyZWFtSU8iLCJuZXR3b3JrTG9hZGVyTmFtZSIsIm5hdGl2ZU1QNEgyNjRQbGF5YmFjayIsIm5hdGl2ZVdlYm1WUDhQbGF5YmFjayIsIm5hdGl2ZVdlYm1WUDlQbGF5YmFjayIsInN1cHBvcnRNU0VIMjY0UGxheWJhY2siLCJzdXBwb3J0TmV0d29ya1N0cmVhbUlPIiwiZ2V0TmV0d29ya0xvYWRlclR5cGVOYW1lIiwic3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2siLCJNZWRpYUluZm8iLCJkdXJhdGlvbiIsImhhc0F1ZGlvIiwiaGFzVmlkZW8iLCJhdWRpb0NvZGVjIiwidmlkZW9Db2RlYyIsImF1ZGlvRGF0YVJhdGUiLCJ2aWRlb0RhdGFSYXRlIiwiYXVkaW9TYW1wbGVSYXRlIiwiYXVkaW9DaGFubmVsQ291bnQiLCJ3aWR0aCIsImhlaWdodCIsImZwcyIsInByb2ZpbGUiLCJsZXZlbCIsInJlZkZyYW1lcyIsImNocm9tYUZvcm1hdCIsInNhck51bSIsInNhckRlbiIsIm1ldGFkYXRhIiwic2VnbWVudHMiLCJzZWdtZW50Q291bnQiLCJoYXNLZXlmcmFtZXNJbmRleCIsImtleWZyYW1lc0luZGV4IiwiYXVkaW9JbmZvQ29tcGxldGUiLCJ2aWRlb0luZm9Db21wbGV0ZSIsIm1pbGxpc2Vjb25kcyIsInRhYmxlIiwia2V5ZnJhbWVJZHgiLCJfc2VhcmNoIiwidGltZXMiLCJpbmRleCIsImZpbGVwb3NpdGlvbiIsImZpbGVwb3NpdGlvbnMiLCJpZHgiLCJsYXN0IiwibWlkIiwibGJvdW5kIiwidWJvdW5kIiwiU2FtcGxlSW5mbyIsImR0cyIsInB0cyIsIm9yaWdpbmFsRHRzIiwiaXNTeW5jIiwiaXNTeW5jUG9pbnQiLCJNZWRpYVNlZ21lbnRJbmZvIiwiYmVnaW5EdHMiLCJlbmREdHMiLCJiZWdpblB0cyIsImVuZFB0cyIsIm9yaWdpbmFsQmVnaW5EdHMiLCJvcmlnaW5hbEVuZER0cyIsInN5bmNQb2ludHMiLCJmaXJzdFNhbXBsZSIsImxhc3RTYW1wbGUiLCJzYW1wbGVJbmZvIiwiSURSU2FtcGxlTGlzdCIsIl9saXN0IiwiY2xlYXIiLCJNZWRpYVNlZ21lbnRJbmZvTGlzdCIsIl90eXBlIiwiX2xhc3RBcHBlbmRMb2NhdGlvbiIsIl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZSIsIm1lZGlhU2VnbWVudEluZm8iLCJtc2kiLCJsYXN0QXBwZW5kSWR4IiwiaW5zZXJ0SWR4Iiwic2VnbWVudCIsImdldExhc3RTZWdtZW50QmVmb3JlIiwic2VnbWVudElkeCIsIk1TRUNvbnRyb2xsZXIiLCJjb25maWciLCJUQUciLCJfY29uZmlnIiwiX2VtaXR0ZXIiLCJhdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciIsImRlZmluaXRpb25DaGFuZ2UiLCJvblNvdXJjZU9wZW4iLCJfb25Tb3VyY2VPcGVuIiwiYmluZCIsIm9uU291cmNlRW5kZWQiLCJfb25Tb3VyY2VFbmRlZCIsIm9uU291cmNlQ2xvc2UiLCJfb25Tb3VyY2VDbG9zZSIsIm9uU291cmNlQnVmZmVyRXJyb3IiLCJfb25Tb3VyY2VCdWZmZXJFcnJvciIsIm9uU291cmNlQnVmZmVyVXBkYXRlRW5kIiwiX29uU291cmNlQnVmZmVyVXBkYXRlRW5kIiwiX21lZGlhU291cmNlIiwiX21lZGlhU291cmNlT2JqZWN0VVJMIiwiX21lZGlhRWxlbWVudCIsIl9pc0J1ZmZlckZ1bGwiLCJfaGFzUGVuZGluZ0VvcyIsIl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiIsIl9wZW5kaW5nTWVkaWFEdXJhdGlvbiIsIl9wZW5kaW5nU291cmNlQnVmZmVySW5pdCIsIl9taW1lVHlwZXMiLCJ2aWRlbyIsImF1ZGlvIiwiX3NvdXJjZUJ1ZmZlcnMiLCJfbGFzdEluaXRTZWdtZW50cyIsIl9wZW5kaW5nU2VnbWVudHMiLCJfcGVuZGluZ1JlbW92ZVJhbmdlcyIsIl9pZHJMaXN0IiwiZGV0YWNoTWVkaWFFbGVtZW50IiwiZXZlbnQiLCJtZWRpYUVsZW1lbnQiLCJJbGxlZ2FsU3RhdGVFeGNlcHRpb24iLCJtcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcyIsInNiIiwicmVhZHlTdGF0ZSIsInJlbW92ZVNvdXJjZUJ1ZmZlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbmRPZlN0cmVhbSIsIkxvZyIsIm1lc3NhZ2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXZva2VPYmplY3RVUkwiLCJpbml0U2VnbWVudCIsImlzIiwiY29udGFpbmVyIiwiY29kZWMiLCJhZGRTb3VyY2VCdWZmZXIiLCJkZWZlcnJlZCIsImxvZyIsImZpcnN0SW5pdFNlZ21lbnQiLCJ2IiwiTVNFRXZlbnRzIiwiRVJST1IiLCJjb2RlIiwibXNnIiwidXBkYXRpbmciLCJfZG9BcHBlbmRTZWdtZW50cyIsIkJyb3dzZXIiLCJzYWZhcmkiLCJtZWRpYUR1cmF0aW9uIiwiX3VwZGF0ZU1lZGlhU291cmNlRHVyYXRpb24iLCJtZWRpYVNlZ21lbnQiLCJfbmVlZENsZWFudXBTb3VyY2VCdWZmZXIiLCJfZG9DbGVhbnVwU291cmNlQnVmZmVyIiwiX2hhc1BlbmRpbmdSZW1vdmVSYW5nZXMiLCJzZWNvbmRzIiwiYWJvcnQiLCJidWZmZXJlZCIsInN0YXJ0IiwiZW5kIiwiX2RvUmVtb3ZlUmFuZ2VzIiwibGFzdEluaXRTZWdtZW50IiwiX2hhc1BlbmRpbmdTZWdtZW50cyIsImdldExhc3RTeW5jUG9pbnRCZWZvcmVEdHMiLCJjdXJyZW50VGltZSIsImRvUmVtb3ZlIiwicmVtb3ZlRW5kIiwiY3VycmVudCIsInRhcmdldCIsInJhbmdlcyIsInJhbmdlIiwic2hpZnQiLCJyZW1vdmUiLCJwZW5kaW5nU2VnbWVudHMiLCJ0aW1lc3RhbXBPZmZzZXQiLCJjdXJyZW50T2Zmc2V0IiwidGFyZ2V0T2Zmc2V0IiwiZGVsdGEiLCJhYnMiLCJieXRlTGVuZ3RoIiwiYXBwZW5kQnVmZmVyIiwiaGFzT3duUHJvcGVydHkiLCJhcHBlbmRBcnJheSIsImluZm8iLCJ1bnNoaWZ0IiwiQlVGRkVSX0ZVTEwiLCJwZW5kaW5ncyIsImFwcGVuZEluaXRTZWdtZW50IiwiU09VUkNFX09QRU4iLCJwcnIiLCJVUERBVEVfRU5EIiwiVHJhbnNtdXhlciIsIm1lZGlhRGF0YVNvdXJjZSIsImlzRGVmaW5pdGlvbkNoYW5naW5nIiwid29yayIsIl93b3JrZXIiLCJUcmFuc211eGluZ1dvcmtlciIsIl93b3JrZXJEZXN0cm95aW5nIiwiX29uV29ya2VyTWVzc2FnZSIsImNtZCIsInBhcmFtIiwib25Mb2dnaW5nQ29uZmlnQ2hhbmdlZCIsIl9vbkxvZ2dpbmdDb25maWdDaGFuZ2VkIiwiTG9nZ2luZ0NvbnRyb2wiLCJyZWdpc3Rlckxpc3RlbmVyIiwiZ2V0Q29uZmlnIiwiX2NvbnRyb2xsZXIiLCJUcmFuc211eGluZ0NvbnRyb2xsZXIiLCJvbk1ldGFEYXRhIiwiY3RsIiwiVHJhbnNtdXhpbmdFdmVudHMiLCJJT19FUlJPUiIsIl9vbklPRXJyb3IiLCJERU1VWF9FUlJPUiIsIl9vbkRlbXV4RXJyb3IiLCJJTklUX1NFR01FTlQiLCJfb25Jbml0U2VnbWVudCIsIk1FRElBX1NFR01FTlQiLCJfb25NZWRpYVNlZ21lbnQiLCJMT0FESU5HX0NPTVBMRVRFIiwiX29uTG9hZGluZ0NvbXBsZXRlIiwiUkVDT1ZFUkVEX0VBUkxZX0VPRiIsIl9vblJlY292ZXJlZEVhcmx5RW9mIiwiTUVESUFfSU5GTyIsIl9vbk1lZGlhSW5mbyIsIlNUQVRJU1RJQ1NfSU5GTyIsIl9vblN0YXRpc3RpY3NJbmZvIiwiUkVDT01NRU5EX1NFRUtQT0lOVCIsIl9vblJlY29tbWVuZFNlZWtwb2ludCIsInN0b3AiLCJzZWVrIiwicGF1c2UiLCJyZXN1bWUiLCJtZWRpYUluZm8iLCJzdGF0aXN0aWNzSW5mbyIsInRlcm1pbmF0ZSIsInNldFByb3RvdHlwZU9mIiwibG9nY2F0IiwiZmlsZXNpemUiLCJ1cmwiLCJjb3JzIiwid2l0aENyZWRlbnRpYWxzIiwiX21lZGlhRGF0YVNvdXJjZSIsIl9jdXJyZW50U2VnbWVudEluZGV4IiwidG90YWxEdXJhdGlvbiIsImZvckVhY2giLCJ0aW1lc3RhbXBCYXNlIiwicmVmZXJyZXJQb2xpY3kiLCJfbWVkaWFJbmZvIiwiX2RlbXV4ZXIiLCJfcmVtdXhlciIsIl9pb2N0bCIsIl9wZW5kaW5nU2Vla1RpbWUiLCJfcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQiLCJfc3RhdGlzdGljc1JlcG9ydGVyIiwiX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIiLCJfbG9hZFNlZ21lbnQiLCJfZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyIiwic2VnbWVudEluZGV4Iiwib3B0aW9uYWxGcm9tIiwiZGF0YVNvdXJjZSIsIm9uRXJyb3IiLCJfb25JT0V4Y2VwdGlvbiIsIm9uU2Vla2VkIiwiX29uSU9TZWVrZWQiLCJvbkNvbXBsZXRlIiwiX29uSU9Db21wbGV0ZSIsIm9uUmVkaXJlY3QiLCJfb25JT1JlZGlyZWN0Iiwib25SZWNvdmVyZWRFYXJseUVvZiIsIl9vbklPUmVjb3ZlcmVkRWFybHlFb2YiLCJiaW5kRGF0YVNvdXJjZSIsIm9uRGF0YUFycml2YWwiLCJfb25Jbml0Q2h1bmtBcnJpdmFsIiwib3BlbiIsIl9pbnRlcm5hbEFib3J0IiwiaXNXb3JraW5nIiwiaXNQYXVzZWQiLCJpc1NlZWthYmxlIiwidGFyZ2V0U2VnbWVudEluZGV4IiwiX3NlYXJjaFNlZ21lbnRJbmRleENvbnRhaW5zIiwic2VnbWVudEluZm8iLCJrZXlmcmFtZSIsImdldE5lYXJlc3RLZXlmcmFtZSIsInRhcmdldFNlZ21lbnRJbmZvIiwiaW5zZXJ0RGlzY29udGludWl0eSIsInJlc2V0TWVkaWFJbmZvIiwiX3JlcG9ydFNlZ21lbnRNZWRpYUluZm8iLCJieXRlU3RhcnQiLCJwcm9iZURhdGEiLCJjb25zdW1lZCIsInBhcnNlQ2h1bmtzIiwiRkxWRGVtdXhlciIsInByb2JlIiwibWF0Y2giLCJNUDRSZW11eGVyIiwibWRzIiwib3ZlcnJpZGVkRHVyYXRpb24iLCJvdmVycmlkZWRIYXNBdWRpbyIsIm92ZXJyaWRlZEhhc1ZpZGVvIiwiX29uRGVtdXhFeGNlcHRpb24iLCJvbk1lZGlhSW5mbyIsIm9uSW5pdFNlZ21lbnQiLCJfb25SZW11eGVySW5pdFNlZ21lbnRBcnJpdmFsIiwib25NZWRpYVNlZ21lbnQiLCJfb25SZW11eGVyTWVkaWFTZWdtZW50QXJyaXZhbCIsIkRlbXV4RXJyb3JzIiwiRk9STUFUX1VOU1VQUE9SVEVEIiwiZXh0cmFEYXRhIiwibmV4dFNlZ21lbnRJbmRleCIsImZsdXNoU3Rhc2hlZFNhbXBsZXMiLCJyZWRpcmVjdGVkVVJMIiwic2Vla3BvaW50Iiwic2V0SW50ZXJ2YWwiLCJfcmVwb3J0U3RhdGlzdGljc0luZm8iLCJjbGVhckludGVydmFsIiwiZXhwb3J0SW5mbyIsImN1cnJlbnRVUkwiLCJoYXNSZWRpcmVjdCIsImN1cnJlbnRSZWRpcmVjdGVkVVJMIiwic3BlZWQiLCJjdXJyZW50U3BlZWQiLCJjdXJyZW50U2VnbWVudEluZGV4IiwidG90YWxTZWdtZW50Q291bnQiLCJjb250cm9sbGVyIiwibG9nY2F0TGlzdGVuZXIiLCJvbkxvZ2NhdENhbGxiYWNrIiwiUG9seWZpbGwiLCJpbnN0YWxsIiwib25JT0Vycm9yIiwib25EZW11eEVycm9yIiwib25Mb2FkaW5nQ29tcGxldGUiLCJvblN0YXRpc3RpY3NJbmZvIiwib25SZWNvbW1lbmRTZWVrcG9pbnQiLCJhcHBseUNvbmZpZyIsImVuYWJsZUNhbGxiYWNrIiwiYWRkTG9nTGlzdGVuZXIiLCJyZW1vdmVMb2dMaXN0ZW5lciIsIm9iaiIsInN0YXRJbmZvIiwic3RyIiwibGUiLCJidWYiLCJBcnJheUJ1ZmZlciIsIkRhdGFWaWV3Iiwic2V0SW50MTYiLCJJbnQxNkFycmF5IiwiQU1GIiwiYXJyYXlCdWZmZXIiLCJkYXRhT2Zmc2V0IiwiZGF0YVNpemUiLCJwYXJzZVZhbHVlIiwic2l6ZSIsInBhcnNlU3RyaW5nIiwiaXNPYmplY3RFbmQiLCJvYmplY3RFbmQiLCJwYXJzZU9iamVjdCIsImdldFVpbnQxNiIsIlVpbnQ4QXJyYXkiLCJnZXRVaW50MzIiLCJ0aW1lc3RhbXAiLCJnZXRGbG9hdDY0IiwibG9jYWxUaW1lT2Zmc2V0IiwiZ2V0SW50MTYiLCJEYXRlIiwib2Zmc2V0IiwiZ2V0VWludDgiLCJiIiwiYW1mc3RyIiwidGVybWluYWwiLCJhbWZvYmoiLCJhbWZ2YXIiLCJwYXJzZVZhcmlhYmxlIiwic3RyaWN0QXJyYXlMZW5ndGgiLCJ2YWwiLCJkYXRlIiwicGFyc2VEYXRlIiwiYW1mTG9uZ1N0ciIsInciLCJPSyIsIkZPUk1BVF9FUlJPUiIsIkNPREVDX1VOU1VQUE9SVEVEIiwiRXhwR29sb21iIiwidWludDhhcnJheSIsIl9idWZmZXIiLCJfYnVmZmVyX2luZGV4IiwiX3RvdGFsX2J5dGVzIiwiX3RvdGFsX2JpdHMiLCJfY3VycmVudF93b3JkIiwiX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQiLCJidWZmZXJfYnl0ZXNfbGVmdCIsImJ5dGVzX3JlYWQiLCJtaW4iLCJ3b3JkIiwic2V0Iiwic3ViYXJyYXkiLCJidWZmZXIiLCJiaXRzIiwiSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uIiwicmVzdWx0IiwiYml0c19uZWVkX2xlZnQiLCJfZmlsbEN1cnJlbnRXb3JkIiwiYml0c19yZWFkX25leHQiLCJyZXN1bHQyIiwicmVhZEJpdHMiLCJ6ZXJvX2NvdW50IiwiX3NraXBMZWFkaW5nWmVybyIsImxlYWRpbmdfemVyb3MiLCJyZWFkVUVHIiwiU3dhcDE2IiwiU3dhcDMyIiwiUmVhZEJpZzMyIiwiX29uRXJyb3IiLCJfb25UcmFja01ldGFkYXRhIiwiX29uRGF0YUF2YWlsYWJsZSIsIl9kYXRhT2Zmc2V0IiwiX2ZpcnN0UGFyc2UiLCJfZGlzcGF0Y2giLCJfaGFzQXVkaW8iLCJoYXNBdWRpb1RyYWNrIiwiX2hhc1ZpZGVvIiwiaGFzVmlkZW9UcmFjayIsIl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQiLCJfaGFzVmlkZW9GbGFnT3ZlcnJpZGVkIiwiX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCIsIl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQiLCJfbWV0YWRhdGEiLCJfYXVkaW9NZXRhZGF0YSIsIl92aWRlb01ldGFkYXRhIiwiX25hbHVMZW5ndGhTaXplIiwiX3RpbWVzdGFtcEJhc2UiLCJfdGltZXNjYWxlIiwiX2R1cmF0aW9uIiwiX2R1cmF0aW9uT3ZlcnJpZGVkIiwiX3JlZmVyZW5jZUZyYW1lUmF0ZSIsImZpeGVkIiwiZnBzX251bSIsImZwc19kZW4iLCJfZmx2U291bmRSYXRlVGFibGUiLCJfbXBlZ1NhbXBsaW5nUmF0ZXMiLCJfbXBlZ0F1ZGlvVjEwU2FtcGxlUmF0ZVRhYmxlIiwiX21wZWdBdWRpb1YyMFNhbXBsZVJhdGVUYWJsZSIsIl9tcGVnQXVkaW9WMjVTYW1wbGVSYXRlVGFibGUiLCJfbXBlZ0F1ZGlvTDFCaXRSYXRlVGFibGUiLCJfbXBlZ0F1ZGlvTDJCaXRSYXRlVGFibGUiLCJfbXBlZ0F1ZGlvTDNCaXRSYXRlVGFibGUiLCJfdmlkZW9UcmFjayIsInNlcXVlbmNlTnVtYmVyIiwic2FtcGxlcyIsIl9hdWRpb1RyYWNrIiwiX2xpdHRsZUVuZGlhbiIsImxvYWRlciIsImNodW5rIiwicHJldlRhZ1NpemUwIiwidGFnVHlwZSIsInRzMiIsInRzMSIsInRzMCIsInRzMyIsInN0cmVhbUlkIiwiX3BhcnNlQXVkaW9EYXRhIiwiX3BhcnNlVmlkZW9EYXRhIiwiX3BhcnNlU2NyaXB0RGF0YSIsInByZXZUYWdTaXplIiwiX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCIsInNjcmlwdERhdGEiLCJwYXJzZVNjcmlwdERhdGEiLCJhdWRpb2RhdGFyYXRlIiwidmlkZW9kYXRhcmF0ZSIsImZyYW1lcmF0ZSIsImtleWZyYW1lcyIsIl9wYXJzZUtleWZyYW1lc0luZGV4IiwiaXNDb21wbGV0ZSIsInRpbWUiLCJ0YWdUaW1lc3RhbXAiLCJzb3VuZFNwZWMiLCJzb3VuZEZvcm1hdCIsInNvdW5kUmF0ZSIsInNvdW5kUmF0ZUluZGV4Iiwic291bmRTaXplIiwic291bmRUeXBlIiwibWV0YSIsInRyYWNrIiwidGltZXNjYWxlIiwiY2hhbm5lbENvdW50IiwiYWFjRGF0YSIsIl9wYXJzZUFBQ0F1ZGlvRGF0YSIsInBhY2tldFR5cGUiLCJtaXNjIiwic2FtcGxpbmdSYXRlIiwib3JpZ2luYWxDb2RlYyIsInJlZlNhbXBsZUR1cmF0aW9uIiwibWkiLCJhYWNTYW1wbGUiLCJ1bml0IiwiX3BhcnNlTVAzQXVkaW9EYXRhIiwiYml0UmF0ZSIsIm1wM1NhbXBsZSIsIl9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWciLCJhdWRpb09iamVjdFR5cGUiLCJvcmlnaW5hbEF1ZGlvT2JqZWN0VHlwZSIsImF1ZGlvRXh0ZW5zaW9uT2JqZWN0VHlwZSIsInNhbXBsaW5nSW5kZXgiLCJleHRlbnNpb25TYW1wbGluZ0luZGV4Iiwic2FtcGxpbmdGcmVxdWVuY2UiLCJjaGFubmVsQ29uZmlnIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwicmVxdWVzdEhlYWRlciIsInZlciIsImxheWVyIiwiYml0cmF0ZV9pbmRleCIsInNhbXBsaW5nX2ZyZXFfaW5kZXgiLCJjaGFubmVsX21vZGUiLCJjaGFubmVsX2NvdW50Iiwic2FtcGxlX3JhdGUiLCJiaXRfcmF0ZSIsIm9iamVjdF90eXBlIiwidGFnUG9zaXRpb24iLCJzcGVjIiwiZnJhbWVUeXBlIiwiY29kZWNJZCIsIl9wYXJzZUFWQ1ZpZGVvUGFja2V0IiwiY3RzX3Vuc2lnbmVkIiwiY3RzIiwiX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQiLCJfcGFyc2VBVkNWaWRlb0RhdGEiLCJhdmNjIiwiYXZjUHJvZmlsZSIsInByb2ZpbGVDb21wYXRpYmlsaXR5IiwiYXZjTGV2ZWwiLCJzcHNDb3VudCIsInNwcyIsIlNQU1BhcnNlciIsInBhcnNlU1BTIiwiY29kZWNXaWR0aCIsImNvZGVjX3NpemUiLCJjb2RlY0hlaWdodCIsInByZXNlbnRXaWR0aCIsInByZXNlbnRfc2l6ZSIsInByZXNlbnRIZWlnaHQiLCJwcm9maWxlX3N0cmluZyIsImxldmVsX3N0cmluZyIsImJpdERlcHRoIiwiYml0X2RlcHRoIiwiY2hyb21hX2Zvcm1hdCIsInNhclJhdGlvIiwicGFyX3JhdGlvIiwiZnJhbWVSYXRlIiwiZnJhbWVfcmF0ZSIsImNvZGVjQXJyYXkiLCJjb2RlY1N0cmluZyIsImoiLCJoIiwicmVmX2ZyYW1lcyIsImNocm9tYV9mb3JtYXRfc3RyaW5nIiwicHBzQ291bnQiLCJ1bml0cyIsImxlbmd0aFNpemUiLCJuYWx1U2l6ZSIsInVuaXRUeXBlIiwiYXZjU2FtcGxlIiwiaXNLZXlmcmFtZSIsImJhc2UiLCJtaXNtYXRjaCIsInNyY19sZW5ndGgiLCJkc3QiLCJkc3RfaWR4IiwicmJzcCIsIl9lYnNwMnJic3AiLCJnYiIsInJlYWRCeXRlIiwicHJvZmlsZV9pZGMiLCJsZXZlbF9pZGMiLCJnZXRQcm9maWxlU3RyaW5nIiwiZ2V0TGV2ZWxTdHJpbmciLCJjaHJvbWFfZm9ybWF0X2lkYyIsImNocm9tYV9mb3JtYXRfdGFibGUiLCJyZWFkQm9vbCIsInNjYWxpbmdfbGlzdF9jb3VudCIsIl9za2lwU2NhbGluZ0xpc3QiLCJwaWNfb3JkZXJfY250X3R5cGUiLCJyZWFkU0VHIiwibnVtX3JlZl9mcmFtZXNfaW5fcGljX29yZGVyX2NudF9jeWNsZSIsInBpY193aWR0aF9pbl9tYnNfbWludXMxIiwicGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxIiwiZnJhbWVfbWJzX29ubHlfZmxhZyIsImZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQiLCJmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCIsImZyYW1lX2Nyb3BfdG9wX29mZnNldCIsImZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCIsImZyYW1lX2Nyb3BwaW5nX2ZsYWciLCJzYXJfd2lkdGgiLCJzYXJfaGVpZ2h0IiwiZnBzX2ZpeGVkIiwidnVpX3BhcmFtZXRlcnNfcHJlc2VudF9mbGFnIiwiYXNwZWN0X3JhdGlvX2lkYyIsInNhcl93X3RhYmxlIiwic2FyX2hfdGFibGUiLCJudW1fdW5pdHNfaW5fdGljayIsInRpbWVfc2NhbGUiLCJzYXJTY2FsZSIsImNyb3BfdW5pdF94IiwiY3JvcF91bml0X3kiLCJzdWJfd2MiLCJzdWJfaGMiLCJjb2RlY193aWR0aCIsImNvZGVjX2hlaWdodCIsInByZXNlbnRfd2lkdGgiLCJjZWlsIiwiZ2V0Q2hyb21hRm9ybWF0U3RyaW5nIiwiY291bnQiLCJsYXN0X3NjYWxlIiwibmV4dF9zY2FsZSIsImRlbHRhX3NjYWxlIiwidG9GaXhlZCIsImNocm9tYSIsImNyZWF0ZVBsYXllciIsIm9wdGlvbmFsQ29uZmlnIiwiRmx2UGxheWVyIiwiTmF0aXZlUGxheWVyIiwiaXNTdXBwb3J0ZWQiLCJnZXRGZWF0dXJlTGlzdCIsImZsdmpzIiwiRXZlbnRzIiwiUGxheWVyRXZlbnRzIiwiRXJyb3JUeXBlcyIsIkVycm9yRGV0YWlscyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIkZldGNoU3RyZWFtTG9hZGVyIiwiaXNXb3JrV2VsbEVkZ2UiLCJtc2VkZ2UiLCJtaW5vciIsImJyb3dzZXJOb3RCbGFja2xpc3RlZCIsImZldGNoIiwiUmVhZGFibGVTdHJlYW0iLCJzZWVrSGFuZGxlciIsIl9zZWVrSGFuZGxlciIsIl9uZWVkU3Rhc2giLCJfcmVxdWVzdEFib3J0IiwiX2NvbnRlbnRMZW5ndGgiLCJfcmVjZWl2ZWRMZW5ndGgiLCJfZGF0YVNvdXJjZSIsIl9yYW5nZSIsInNvdXJjZVVSTCIsInNlZWtDb25maWciLCJoZWFkZXJzIiwiSGVhZGVycyIsImNvbmZpZ0hlYWRlcnMiLCJhcHBlbmQiLCJwYXJhbXMiLCJtZXRob2QiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJfc3RhdHVzIiwiTG9hZGVyU3RhdHVzIiwia0Nvbm5lY3RpbmciLCJyZXMiLCJrSWRsZSIsIm9rIiwic3RhdHVzIiwiX29uVVJMUmVkaXJlY3QiLCJyZW1vdmVVUkxQYXJhbWV0ZXJzIiwibGVuZ3RoSGVhZGVyIiwicGFyc2VJbnQiLCJfb25Db250ZW50TGVuZ3RoS25vd24iLCJfcHVtcCIsImJvZHkiLCJnZXRSZWFkZXIiLCJrRXJyb3IiLCJMb2FkZXJFcnJvcnMiLCJIVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQiLCJzdGF0dXNUZXh0IiwiUnVudGltZUV4Y2VwdGlvbiIsIkVYQ0VQVElPTiIsInJlYWRlciIsInJlYWQiLCJkb25lIiwia0NvbXBsZXRlIiwiX29uQ29tcGxldGUiLCJmcm9tIiwiY2FuY2VsIiwia0J1ZmZlcmluZyIsIl9vbkRhdGFBcnJpdmFsIiwiRUFSTFlfRU9GIiwiQmFzZUxvYWRlciIsIl9leHRyYURhdGEiLCJfc3Rhc2hJbml0aWFsU2l6ZSIsIl9zdGFzaFVzZWQiLCJfc3Rhc2hTaXplIiwiX2J1ZmZlclNpemUiLCJfc3Rhc2hCdWZmZXIiLCJfc3Rhc2hCeXRlU3RhcnQiLCJfZW5hYmxlU3Rhc2giLCJfbG9hZGVyIiwiX2xvYWRlckNsYXNzIiwiX2lzV2ViU29ja2V0VVJMIiwidGVzdCIsIl9yZWZUb3RhbExlbmd0aCIsIl90b3RhbExlbmd0aCIsIl9mdWxsUmVxdWVzdEZsYWciLCJfY3VycmVudFJhbmdlIiwiX3JlZGlyZWN0ZWRVUkwiLCJfc3BlZWROb3JtYWxpemVkIiwiX3NwZWVkU2FtcGxlciIsIlNwZWVkU2FtcGxlciIsIl9zcGVlZE5vcm1hbGl6ZUxpc3QiLCJfaXNFYXJseUVvZlJlY29ubmVjdGluZyIsIl9wYXVzZWQiLCJfcmVzdW1lRnJvbSIsIl9vblNlZWtlZCIsIl9vblJlZGlyZWN0IiwiX3NlbGVjdFNlZWtIYW5kbGVyIiwiX3NlbGVjdExvYWRlciIsIl9jcmVhdGVMb2FkZXIiLCJSYW5nZVNlZWtIYW5kbGVyIiwicGFyYW1TdGFydCIsInBhcmFtRW5kIiwiUGFyYW1TZWVrSGFuZGxlciIsIldlYlNvY2tldExvYWRlciIsIk1vekNodW5rZWRMb2FkZXIiLCJSYW5nZUxvYWRlciIsIm5lZWRTdGFzaEJ1ZmZlciIsIm9uQ29udGVudExlbmd0aEtub3duIiwib25VUkxSZWRpcmVjdCIsIl9vbkxvYWRlckNodW5rQXJyaXZhbCIsIl9vbkxvYWRlckNvbXBsZXRlIiwiX29uTG9hZGVyRXJyb3IiLCJ0byIsInJlc2V0IiwiYnl0ZXMiLCJfaW50ZXJuYWxTZWVrIiwiZHJvcFVuY29uc3VtZWQiLCJfZmx1c2hTdGFzaEJ1ZmZlciIsInJlcXVlc3RSYW5nZSIsImV4cGVjdGVkQnl0ZXMiLCJidWZmZXJOZXdTaXplIiwibmV3QnVmZmVyIiwic3Rhc2hPbGRBcnJheSIsInN0YXNoTmV3QXJyYXkiLCJub3JtYWxpemVkIiwic3Rhc2hTaXplS0IiLCJidWZmZXJTaXplIiwiX2V4cGFuZEJ1ZmZlciIsImNodW5rcyIsImNvbnRlbnRMZW5ndGgiLCJyZWNlaXZlZExlbmd0aCIsImFkZEJ5dGVzIiwiS0JwcyIsImxhc3RTZWNvbmRLQnBzIiwiX25vcm1hbGl6ZVNwZWVkIiwiX2FkanVzdFN0YXNoU2l6ZSIsIl9kaXNwYXRjaENodW5rcyIsInJlbWFpbiIsInN0YXNoQXJyYXkiLCJyZW1haW5BcnJheSIsIlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GIiwibmV4dEZyb20iLCJDT05ORUNUSU5HX1RJTUVPVVQiLCJ0eXBlTmFtZSIsIk5vdEltcGxlbWVudGVkRXhjZXB0aW9uIiwiX3N0YXJ0TmFtZSIsIl9lbmROYW1lIiwiYmFzZVVybCIsIm5lZWRBbmQiLCJzZWVrZWRVUkwiLCJiYXNlVVJMIiwic3BsaXQiLCJxdWVyeUluZGV4IiwicmVzdWx0UGFyYW1zIiwicGFpcnMiLCJwYWlyIiwicmVxdWlyZUFuZCIsInplcm9TdGFydCIsIl96ZXJvU3RhcnQiLCJfZmlyc3RDaGVja3BvaW50IiwiX2xhc3RDaGVja3BvaW50IiwiX2ludGVydmFsQnl0ZXMiLCJfdG90YWxCeXRlcyIsIl9sYXN0U2Vjb25kQnl0ZXMiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIl9ub3ciLCJkdXJhdGlvblNlY29uZHMiLCJjdXJyZW50S0JwcyIsIldlYlNvY2tldCIsIl93cyIsIndzIiwiYmluYXJ5VHlwZSIsIm9ub3BlbiIsIl9vbldlYlNvY2tldE9wZW4iLCJvbmNsb3NlIiwiX29uV2ViU29ja2V0Q2xvc2UiLCJfb25XZWJTb2NrZXRNZXNzYWdlIiwib25lcnJvciIsIl9vbldlYlNvY2tldEVycm9yIiwiY2xvc2UiLCJfZGlzcGF0Y2hBcnJheUJ1ZmZlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImFycmF5YnVmZmVyIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJfeGhyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwib25wcm9ncmVzcyIsIm9ubG9hZGVuZCIsIl9yZXF1ZXN0VVJMIiwiX29uUmVhZHlTdGF0ZUNoYW5nZSIsIl9vblByb2dyZXNzIiwiX29uTG9hZEVuZCIsIl9vblhockVycm9yIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJyZXNwb25zZVVSTCIsInRvdGFsIiwicmVzcG9uc2UiLCJsb2FkZWQiLCJNU1N0cmVhbUxvYWRlciIsIk1TU3RyZWFtIiwiTVNTdHJlYW1SZWFkZXIiLCJfcmVhZGVyIiwiX3RvdGFsUmFuZ2UiLCJfY3VycmVudFJlcXVlc3RVUkwiLCJfY3VycmVudFJlZGlyZWN0ZWRVUkwiLCJfYnVmZmVyTGltaXQiLCJfbGFzdFRpbWVCdWZmZXJTaXplIiwiX2lzUmVjb25uZWN0aW5nIiwiX2ludGVybmFsT3BlbiIsImlzU3VicmFuZ2UiLCJfbXNyT25Qcm9ncmVzcyIsIl9tc3JPbkxvYWQiLCJfbXNyT25FcnJvciIsIl94aHJPblJlYWR5U3RhdGVDaGFuZ2UiLCJfeGhyT25FcnJvciIsImdldFJlc3BvbnNlSGVhZGVyIiwibXNzdHJlYW0iLCJiaWdidWZmZXIiLCJfZG9SZWNvbm5lY3RJZk5lZWRlZCIsIl9jaHVua1NpemVLQkxpc3QiLCJfY3VycmVudENodW5rU2l6ZUtCIiwiX2N1cnJlbnRTcGVlZE5vcm1hbGl6ZWQiLCJfemVyb1NwZWVkQ2h1bmtDb3VudCIsIl93YWl0Rm9yVG90YWxMZW5ndGgiLCJfdG90YWxMZW5ndGhSZWNlaXZlZCIsIl9jdXJyZW50UmVxdWVzdFJhbmdlIiwiX2xhc3RUaW1lTG9hZGVkIiwidXNlUmVmVG90YWxMZW5ndGgiLCJfb3BlblN1YlJhbmdlIiwiY2h1bmtTaXplIiwiX29uTG9hZCIsIm9wZW5OZXh0UmFuZ2UiLCJyZXBvcnRDb21wbGV0ZSIsIm9udkxvYWRlZE1ldGFkYXRhIiwiX29udkxvYWRlZE1ldGFkYXRhIiwib252U2Vla2luZyIsIl9vbnZTZWVraW5nIiwib252Q2FuUGxheSIsIl9vbnZDYW5QbGF5Iiwib252U3RhbGxlZCIsIl9vbnZTdGFsbGVkIiwib252UHJvZ3Jlc3MiLCJfb252UHJvZ3Jlc3MiLCJfcmVxdWVzdFNldFRpbWUiLCJfc2Vla3BvaW50UmVjb3JkIiwiX3Byb2dyZXNzQ2hlY2tlciIsIl9tc2VjdGwiLCJfdHJhbnNtdXhlciIsIl9tc2VTb3VyY2VPcGVuZWQiLCJfaGFzUGVuZGluZ0xvYWQiLCJfcmVjZWl2ZWRDYW5QbGF5IiwiX3N0YXRpc3RpY3NJbmZvIiwiY2hyb21lTmVlZElEUkZpeCIsImNocm9tZSIsIm1ham9yIiwiYnVpbGQiLCJfYWx3YXlzU2Vla0tleWZyYW1lIiwibXNpZSIsIl90ZW1wUGVuZGluZ1NlZ21lbnRzIiwiX2RlZmluaXRpb25SZXRyeVRpbWVzIiwidW5sb2FkIiwiX29ubXNlVXBkYXRlRW5kIiwiX29ubXNlQnVmZmVyRnVsbCIsImxvYWQiLCJNRURJQV9FUlJPUiIsIk1FRElBX01TRV9FUlJPUiIsImF0dGFjaE1lZGlhRWxlbWVudCIsImV4cGVjdFRpbWUiLCJfdGVtcE1kcyIsIl90ZW1wVHJhbnNtdXhlciIsImRvQ2xlYXJTb3VyY2VCdWZmZXIiLCJhcHBlbmRNZWRpYVNlZ21lbnQiLCJpc0RlZmluaXRpb25EYXRhUmVhZHkiLCJfc3VzcGVuZFRyYW5zbXV4ZXIiLCJORVRXT1JLX0VSUk9SIiwiX2ZpbGxTdGF0aXN0aWNzSW5mbyIsInBsYXkiLCJwbGF5ZXJUeXBlIiwiSFRNTFZpZGVvRWxlbWVudCIsImhhc1F1YWxpdHlJbmZvIiwiZGVjb2RlZCIsImRyb3BwZWQiLCJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSIsInF1YWxpdHkiLCJ0b3RhbFZpZGVvRnJhbWVzIiwiZHJvcHBlZFZpZGVvRnJhbWVzIiwid2Via2l0RGVjb2RlZEZyYW1lQ291bnQiLCJ3ZWJraXREcm9wcGVkRnJhbWVDb3VudCIsImRlY29kZWRGcmFtZXMiLCJkcm9wcGVkRnJhbWVzIiwiY3VycmVudFJhbmdlU3RhcnQiLCJjdXJyZW50UmFuZ2VFbmQiLCJfY2hlY2tQcm9ncmVzc0FuZFJlc3VtZSIsIm5lZWRSZXN1bWUiLCJkaXJlY3RTZWVrIiwiX2lzVGltZXBvaW50QnVmZmVyZWQiLCJkaXJlY3RTZWVrQmVnaW4iLCJkaXJlY3RTZWVrQmVnaW5UaW1lIiwidmlkZW9CZWdpblRpbWUiLCJpZHIiLCJyZWNvcmRUaW1lIiwiX2NoZWNrQW5kQXBwbHlVbmJ1ZmZlcmVkU2Vla3BvaW50Iiwic3RhbGxlZCIsIm1lZGlhIiwic2Vla1BvaW50IiwiX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjayIsInZvbHVtZSIsIm11dGVkIiwibWluU2VnbWVudExlbiIsImV2ZXJ5IiwicHJlbG9hZCIsIm1lZGlhUHJlZml4IiwiSFRNTEF1ZGlvRWxlbWVudCIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsIk9USEVSX0VSUk9SIiwiTkVUV09SS19FWENFUFRJT04iLCJORVRXT1JLX1NUQVRVU19DT0RFX0lOVkFMSUQiLCJORVRXT1JLX1RJTUVPVVQiLCJORVRXT1JLX1VOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GIiwiTUVESUFfRk9STUFUX0VSUk9SIiwiTUVESUFfRk9STUFUX1VOU1VQUE9SVEVEIiwiTUVESUFfQ09ERUNfVU5TVVBQT1JURUQiLCJBQUMiLCJNUDQiLCJ0eXBlcyIsImF2YzEiLCJhdmNDIiwiYnRydCIsImRpbmYiLCJkcmVmIiwiZXNkcyIsImZ0eXAiLCJoZGxyIiwibWRhdCIsIm1kaGQiLCJtZGlhIiwibWZoZCIsIm1pbmYiLCJtb29mIiwibW9vdiIsIm1wNGEiLCJtdmV4IiwibXZoZCIsInNkdHAiLCJzdGJsIiwic3RjbyIsInN0c2MiLCJzdHNkIiwic3RzeiIsInN0dHMiLCJ0ZmR0IiwidGZoZCIsInRyYWYiLCJ0cmFrIiwidHJ1biIsInRyZXgiLCJ0a2hkIiwidm1oZCIsInNtaGQiLCJjaGFyQ29kZUF0IiwiY29uc3RhbnRzIiwiRlRZUCIsIlNUU0RfUFJFRklYIiwiU1RUUyIsIlNUU0MiLCJTVENPIiwiU1RTWiIsIkhETFJfVklERU8iLCJIRExSX0FVRElPIiwiRFJFRiIsIlNNSEQiLCJWTUhEIiwiZGF0YXMiLCJhcnJheUNvdW50IiwiYm94IiwidHJhY2tJZCIsInhtaGQiLCJtcDMiLCJzYW1wbGVSYXRlIiwiY29uZmlnU2l6ZSIsImJhc2VNZWRpYURlY29kZVRpbWUiLCJzYW1wbGVDb3VudCIsImZsYWdzIiwiaXNMZWFkaW5nIiwiZGVwZW5kc09uIiwiaXNEZXBlbmRlZE9uIiwiaGFzUmVkdW5kYW5jeSIsImlzTm9uU3luYyIsImluaXQiLCJfaXNMaXZlIiwiX2R0c0Jhc2UiLCJfZHRzQmFzZUluaXRlZCIsIl9hdWRpb0R0c0Jhc2UiLCJJbmZpbml0eSIsIl92aWRlb0R0c0Jhc2UiLCJfYXVkaW9OZXh0RHRzIiwiX3ZpZGVvTmV4dER0cyIsIl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlIiwiX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUiLCJfYXVkaW9NZXRhIiwiX3ZpZGVvTWV0YSIsIl9hdWRpb1NlZ21lbnRJbmZvTGlzdCIsIl92aWRlb1NlZ21lbnRJbmZvTGlzdCIsIl9mb3JjZUZpcnN0SURSIiwiX2ZpbGxTaWxlbnRBZnRlclNlZWsiLCJfbXAzVXNlTXBlZ0F1ZGlvIiwiZmlyZWZveCIsIl9maWxsQXVkaW9UaW1lc3RhbXBHYXAiLCJwcm9kdWNlciIsIm9uRGF0YUF2YWlsYWJsZSIsInJlbXV4Iiwib25UcmFja01ldGFkYXRhIiwiX29uVHJhY2tNZXRhZGF0YVJlY2VpdmVkIiwiYXVkaW9UcmFjayIsInZpZGVvVHJhY2siLCJfY2FsY3VsYXRlRHRzQmFzZSIsIl9yZW11eFZpZGVvIiwiX3JlbXV4QXVkaW8iLCJtZXRhYm94IiwiZ2VuZXJhdGVJbml0U2VnbWVudCIsInZpZGVvU2FtcGxlIiwiYXVkaW9TYW1wbGUiLCJmb3JjZSIsImR0c0NvcnJlY3Rpb24iLCJmaXJzdER0cyIsImxhc3REdHMiLCJsYXN0UHRzIiwibXBlZ1Jhd1RyYWNrIiwiZmlyc3RTZWdtZW50QWZ0ZXJTZWVrIiwiaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUiLCJtZGF0Ym94IiwibWRhdEJ5dGVzIiwicG9wIiwic2FtcGxlIiwiZmlyc3RTYW1wbGVPcmlnaW5hbER0cyIsImlzRW1wdHkiLCJnZXRMYXN0U2FtcGxlQmVmb3JlIiwiZGlzdGFuY2UiLCJleHBlY3RlZER0cyIsImZpcnN0U2FtcGxlRHRzIiwidmlkZW9TZWdtZW50Iiwic2lsZW50VW5pdCIsImdldFNpbGVudEZyYW1lIiwic2lsZW50RnJhbWVEdXJhdGlvbiIsIm1wNFNhbXBsZXMiLCJzYW1wbGVEdXJhdGlvbiIsIm5leHREdHMiLCJuZWVkRmlsbFNpbGVudEZyYW1lcyIsInNpbGVudEZyYW1lcyIsImZyYW1lQ291bnQiLCJjdXJyZW50RHRzIiwicm91bmQiLCJpbnREdHMiLCJwcmV2aW91c0ZyYW1lIiwiZnJhbWUiLCJsYXN0RnJhbWUiLCJsYXRlc3QiLCJtb29mYm94IiwiX21lcmdlQm94ZXMiLCJmaXJzdFB0cyIsInN5bmNQb2ludCIsImFwcGVuZFN5bmNQb2ludCIsImRldGVjdCIsInVhIiwiZXhlYyIsInBsYXRmb3JtX21hdGNoIiwibWF0Y2hlZCIsIm1ham9yVmVyc2lvbiIsInBsYXRmb3JtIiwidmVyc2lvbkFycmF5Iiwic3RyaW5nIiwib3ByIiwid2Via2l0IiwicnYiLCJpZW1vYmlsZSIsImVkZ2UiLCJvcGVyYSIsImFuZHJvaWQiLCJfbWVzc2FnZSIsInRhZyIsIkZPUkNFX0dMT0JBTF9UQUciLCJHTE9CQUxfVEFHIiwiRU5BQkxFX0NBTExCQUNLIiwiRU5BQkxFX0VSUk9SIiwid2FybiIsIkVOQUJMRV9JTkZPIiwiRU5BQkxFX1dBUk4iLCJFTkFCTEVfREVCVUciLCJkZWJ1ZyIsIkVOQUJMRV9WRVJCT1NFIiwiZ2xvYmFsVGFnIiwiZm9yY2VHbG9iYWxUYWciLCJlbmFibGVWZXJib3NlIiwiZW5hYmxlRGVidWciLCJlbmFibGVJbmZvIiwiZW5hYmxlV2FybiIsImVuYWJsZUVycm9yIiwiX25vdGlmeUNoYW5nZSIsImVuYWJsZSIsInByb3RvIiwiX19wcm90b19fIiwib3V0cHV0Iiwic291cmNlIiwiY2hlY2tDb250aW51YXRpb24iLCJjaGVja0xlbmd0aCIsImRlY29kZVVURjgiLCJvdXQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ1Y3M0IiwiRmx2SnNQbGF5ZXIiLCJmbHZPcHRzIiwiUGxheWVyIiwidXRpbCIsImRlZXBDb3B5IiwicGxheWVyIiwiX19mbHZfXyIsIkZsdiIsImNyZWF0ZUluc3RhbmNlIiwiZmx2IiwiYWRkQ2xhc3MiLCJyb290IiwibGl2ZSIsImNyZWF0ZURvbSIsImNvbnRyb2xzIiwiYXBwZW5kQ2hpbGQiLCJFcnJvcnMiLCJmbHZQbGF5ZXIiLCJvbkRlZmluaXRpb25DaGFuZ2UiLCJyZXRyeVRpbWVzIiwidGVtcEZsdlBsYXllciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Es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QVksU0FBWixFQUF1QixZQUFNO0FBQzNCaXZDLFlBQUlob0MsT0FBSjtBQUNBNG5DLGVBQU9DLE9BQVAsR0FBaUIsSUFBakI7QUFDRCxPQUhEO0FBSUQ7Ozs4QkFDVXg0QixHLEVBQUs7QUFDZCxVQUFNdTRCLFNBQVMsSUFBZjtBQUNBLFVBQU1ZLFlBQVlaLE9BQU9DLE9BQXpCO0FBQ0FELGFBQU9uaUMsTUFBUCxDQUFjNEosR0FBZCxHQUFvQkEsR0FBcEI7QUFDQSxVQUFJLENBQUN1NEIsT0FBT25pQyxNQUFQLENBQWNoSCxNQUFuQixFQUEyQjtBQUN6QitwQyxrQkFBVUMsa0JBQVYsQ0FBNkJwNUIsR0FBN0IsRUFBa0N1NEIsT0FBT25pQyxNQUFQLENBQWNpakMsVUFBaEQ7QUFDRCxPQUZELE1BRU87QUFDTCxZQUFNQyxnQkFBZ0JiLGNBQUk3Z0IsWUFBSixDQUFpQjJnQixPQUFPSixPQUF4QixDQUF0QjtBQUNBZ0Isa0JBQVV4b0MsT0FBVjtBQUNBNG5DLGVBQU9HLGNBQVAsQ0FBc0JZLGFBQXRCO0FBQ0FmLGVBQU9DLE9BQVAsR0FBaUJjLGFBQWpCO0FBQ0Q7QUFDRjs7OztFQTNDdUJsQixrQjs7QUE2QzFCRixZQUFZbGdCLFdBQVosR0FBMEJ5Z0IsY0FBSXpnQixXQUE5QjtrQkFDZWtnQixXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRGYsYUFBYSxtQ0FBbUMsRUFBRSxJIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICB2NC4yLjUrN2YyYjUyNmRcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuRVM2UHJvbWlzZSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7XG4gIHJldHVybiB4ICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG5cbnZhciBfaXNBcnJheSA9IHZvaWQgMDtcbmlmIChBcnJheS5pc0FycmF5KSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufVxuXG52YXIgaXNBcnJheSA9IF9pc0FycmF5O1xuXG52YXIgbGVuID0gMDtcbnZhciB2ZXJ0eE5leHQgPSB2b2lkIDA7XG52YXIgY3VzdG9tU2NoZWR1bGVyRm4gPSB2b2lkIDA7XG5cbnZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICBjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG59XG5cbmZ1bmN0aW9uIHNldEFzYXAoYXNhcEZuKSB7XG4gIGFzYXAgPSBhc2FwRm47XG59XG5cbnZhciBicm93c2VyV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG52YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICBpZiAodHlwZW9mIHZlcnR4TmV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmVydHhOZXh0KGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIC8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIGVzNi1wcm9taXNlIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbiAgdmFyIGdsb2JhbFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgfTtcbn1cblxudmFyIHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICB2YXIgYXJnID0gcXVldWVbaSArIDFdO1xuXG4gICAgY2FsbGJhY2soYXJnKTtcblxuICAgIHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdmVydHggPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpLnJlcXVpcmUoJ3ZlcnR4Jyk7XG4gICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICByZXR1cm4gdXNlVmVydHhUaW1lcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG52YXIgc2NoZWR1bGVGbHVzaCA9IHZvaWQgMDtcbi8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG5pZiAoaXNOb2RlKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xufSBlbHNlIGlmIChpc1dvcmtlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTtcbn0gZWxzZSBpZiAoYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSBhdHRlbXB0VmVydHgoKTtcbn0gZWxzZSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZnVuY3Rpb24gcmVzb2x2ZSQxKG9iamVjdCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxudmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxudmFyIFRSWV9DQVRDSF9FUlJPUiA9IHsgZXJyb3I6IG51bGwgfTtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGhlbihwcm9taXNlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlcnJvcjtcbiAgICByZXR1cm4gVFJZX0NBVENIX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiQkMSwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4kJDEuY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbiQkMSkge1xuICBhc2FwKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgIHZhciBlcnJvciA9IHRyeVRoZW4odGhlbiQkMSwgdGhlbmFibGUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICB9XG4gIH0sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBGVUxGSUxMRUQpIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkMSA9PT0gdGhlbiAmJiBtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yLnJlc29sdmUgPT09IHJlc29sdmUkMSkge1xuICAgIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGVuJCQxID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBUUllfQ0FUQ0hfRVJST1IuZXJyb3IpO1xuICAgICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHRoZW4kJDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkMSkpIHtcbiAgICAgIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgc2VsZkZ1bGZpbGxtZW50KCkpO1xuICB9IGVsc2UgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSwgZ2V0VGhlbih2YWx1ZSkpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgcmV0dXJuIFRSWV9DQVRDSF9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB2b2lkIDAsXG4gICAgICBlcnJvciA9IHZvaWQgMCxcbiAgICAgIHN1Y2NlZWRlZCA9IHZvaWQgMCxcbiAgICAgIGZhaWxlZCA9IHZvaWQgMDtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgaWYgKHZhbHVlID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgdmFsdWUuZXJyb3IgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIC8vIG5vb3BcbiAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB0cnkge1xuICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxudmFyIGlkID0gMDtcbmZ1bmN0aW9uIG5leHRJZCgpIHtcbiAgcmV0dXJuIGlkKys7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgcHJvbWlzZVtQUk9NSVNFX0lEXSA9IGlkKys7XG4gIHByb21pc2UuX3N0YXRlID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG59XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSQkMSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUkJDEgPT09IHJlc29sdmUkMSkge1xuICAgICAgdmFyIF90aGVuID0gZ2V0VGhlbihlbnRyeSk7XG5cbiAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UkMSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbiAocmVzb2x2ZSQkMSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlJCQxKGVudHJ5KTtcbiAgICAgICAgfSksIGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZSQkMShlbnRyeSksIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24gX3NldHRsZWRBdChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuXG4gICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgICB0aGlzLl9yZW1haW5pbmctLTtcblxuICAgICAgaWYgKHN0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24gX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKSB7XG4gICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoUkVKRUNURUQsIGksIHJlYXNvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEVudW1lcmF0b3I7XG59KCk7XG5cbi8qKlxuICBgUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSByZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gVGhlIGFycmF5IGhlcmUgd291bGQgYmUgWyAxLCAyLCAzIF07XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYGFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZWplY3QobmV3IEVycm9yKFwiMlwiKSk7XG4gIGxldCBwcm9taXNlMyA9IHJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzKSB7XG4gIHJldHVybiBuZXcgRW51bWVyYXRvcih0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xufVxuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIHBhc3NlZCBgcmVhc29uYC5cbiAgSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0JDEocmVhc29uKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIG5lZWRzUmVzb2x2ZXIoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbn1cblxuZnVuY3Rpb24gbmVlZHNOZXcoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG59XG5cbi8qKlxuICBQcm9taXNlIG9iamVjdHMgcmVwcmVzZW50IHRoZSBldmVudHVhbCByZXN1bHQgb2YgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi4gVGhlXG4gIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsIHdoaWNoXG4gIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICBUZXJtaW5vbG9neVxuICAtLS0tLS0tLS0tLVxuXG4gIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gIEJhc2ljIFVzYWdlOlxuICAtLS0tLS0tLS0tLS1cblxuICBgYGBqc1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgIC8vIG9uIGZhaWx1cmVcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBBZHZhbmNlZCBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICBgYGBqc1xuICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgYGBganNcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSk7XG4gIGBgYFxuXG4gIEBjbGFzcyBQcm9taXNlXG4gIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVyXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQGNvbnN0cnVjdG9yXG4qL1xuXG52YXIgUHJvbWlzZSQxID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZSQxLnByb3RvdHlwZS50aGVuID0gdGhlbjtcblByb21pc2UkMS5hbGwgPSBhbGw7XG5Qcm9taXNlJDEucmFjZSA9IHJhY2U7XG5Qcm9taXNlJDEucmVzb2x2ZSA9IHJlc29sdmUkMTtcblByb21pc2UkMS5yZWplY3QgPSByZWplY3QkMTtcblByb21pc2UkMS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZSQxLl9zZXRBc2FwID0gc2V0QXNhcDtcblByb21pc2UkMS5fYXNhcCA9IGFzYXA7XG5cbi8qZ2xvYmFsIHNlbGYqL1xuZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gIHZhciBsb2NhbCA9IHZvaWQgMDtcblxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbCA9IHNlbGY7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICBpZiAoUCkge1xuICAgIHZhciBwcm9taXNlVG9TdHJpbmcgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBwcm9taXNlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNpbGVudGx5IGlnbm9yZWRcbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZVRvU3RyaW5nID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGxvY2FsLlByb21pc2UgPSBQcm9taXNlJDE7XG59XG5cbi8vIFN0cmFuZ2UgY29tcGF0Li5cblByb21pc2UkMS5wb2x5ZmlsbCA9IHBvbHlmaWxsO1xuUHJvbWlzZSQxLlByb21pc2UgPSBQcm9taXNlJDE7XG5cbnJldHVybiBQcm9taXNlJDE7XG5cbn0pKSk7XG5cblxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lczYtcHJvbWlzZS5tYXBcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwidmFyIGJ1bmRsZUZuID0gYXJndW1lbnRzWzNdO1xudmFyIHNvdXJjZXMgPSBhcmd1bWVudHNbNF07XG52YXIgY2FjaGUgPSBhcmd1bWVudHNbNV07XG5cbnZhciBzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcbiAgICB2YXIgd2tleTtcbiAgICB2YXIgY2FjaGVLZXlzID0gT2JqZWN0LmtleXMoY2FjaGUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYWNoZUtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBjYWNoZUtleXNbaV07XG4gICAgICAgIHZhciBleHAgPSBjYWNoZVtrZXldLmV4cG9ydHM7XG4gICAgICAgIC8vIFVzaW5nIGJhYmVsIGFzIGEgdHJhbnNwaWxlciB0byB1c2UgZXNtb2R1bGUsIHRoZSBleHBvcnQgd2lsbCBhbHdheXNcbiAgICAgICAgLy8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGRlZmF1bHQgZXhwb3J0IGFzIGEgcHJvcGVydHkgb2YgaXQuIFRvIGVuc3VyZVxuICAgICAgICAvLyB0aGUgZXhpc3RpbmcgYXBpIGFuZCBiYWJlbCBlc21vZHVsZSBleHBvcnRzIGFyZSBib3RoIHN1cHBvcnRlZCB3ZVxuICAgICAgICAvLyBjaGVjayBmb3IgYm90aFxuICAgICAgICBpZiAoZXhwID09PSBmbiB8fCBleHAgJiYgZXhwLmRlZmF1bHQgPT09IGZuKSB7XG4gICAgICAgICAgICB3a2V5ID0ga2V5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXdrZXkpIHtcbiAgICAgICAgd2tleSA9IE1hdGguZmxvb3IoTWF0aC5wb3coMTYsIDgpICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO1xuICAgICAgICB2YXIgd2NhY2hlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2FjaGVLZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGNhY2hlS2V5c1tpXTtcbiAgICAgICAgICAgIHdjYWNoZVtrZXldID0ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZXNbd2tleV0gPSBbXG4gICAgICAgICAgICAnZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7JyArIGZuICsgJyhzZWxmKTsgfScsXG4gICAgICAgICAgICB3Y2FjaGVcbiAgICAgICAgXTtcbiAgICB9XG4gICAgdmFyIHNrZXkgPSBNYXRoLmZsb29yKE1hdGgucG93KDE2LCA4KSAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcblxuICAgIHZhciBzY2FjaGUgPSB7fTsgc2NhY2hlW3drZXldID0gd2tleTtcbiAgICBzb3VyY2VzW3NrZXldID0gW1xuICAgICAgICAnZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7JyArXG4gICAgICAgICAgICAvLyB0cnkgdG8gY2FsbCBkZWZhdWx0IGlmIGRlZmluZWQgdG8gYWxzbyBzdXBwb3J0IGJhYmVsIGVzbW9kdWxlIGV4cG9ydHNcbiAgICAgICAgICAgICd2YXIgZiA9IHJlcXVpcmUoJyArIHN0cmluZ2lmeSh3a2V5KSArICcpOycgK1xuICAgICAgICAgICAgJyhmLmRlZmF1bHQgPyBmLmRlZmF1bHQgOiBmKShzZWxmKTsnICtcbiAgICAgICAgJ30nLFxuICAgICAgICBzY2FjaGVcbiAgICBdO1xuXG4gICAgdmFyIHdvcmtlclNvdXJjZXMgPSB7fTtcbiAgICByZXNvbHZlU291cmNlcyhza2V5KTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVTb3VyY2VzKGtleSkge1xuICAgICAgICB3b3JrZXJTb3VyY2VzW2tleV0gPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIGRlcFBhdGggaW4gc291cmNlc1trZXldWzFdKSB7XG4gICAgICAgICAgICB2YXIgZGVwS2V5ID0gc291cmNlc1trZXldWzFdW2RlcFBhdGhdO1xuICAgICAgICAgICAgaWYgKCF3b3JrZXJTb3VyY2VzW2RlcEtleV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlU291cmNlcyhkZXBLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNyYyA9ICcoJyArIGJ1bmRsZUZuICsgJykoeydcbiAgICAgICAgKyBPYmplY3Qua2V5cyh3b3JrZXJTb3VyY2VzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShrZXkpICsgJzpbJ1xuICAgICAgICAgICAgICAgICsgc291cmNlc1trZXldWzBdXG4gICAgICAgICAgICAgICAgKyAnLCcgKyBzdHJpbmdpZnkoc291cmNlc1trZXldWzFdKSArICddJ1xuICAgICAgICAgICAgO1xuICAgICAgICB9KS5qb2luKCcsJylcbiAgICAgICAgKyAnfSx7fSxbJyArIHN0cmluZ2lmeShza2V5KSArICddKSdcbiAgICA7XG5cbiAgICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmJhcmUpIHsgcmV0dXJuIGJsb2I7IH1cbiAgICB2YXIgd29ya2VyVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVcmwpO1xuICAgIHdvcmtlci5vYmplY3RVUkwgPSB3b3JrZXJVcmw7XG4gICAgcmV0dXJuIHdvcmtlcjtcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgZW5hYmxlV29ya2VyOiBmYWxzZSxcbiAgICBlbmFibGVTdGFzaEJ1ZmZlcjogdHJ1ZSxcbiAgICBzdGFzaEluaXRpYWxTaXplOiB1bmRlZmluZWQsXG5cbiAgICBpc0xpdmU6IGZhbHNlLFxuXG4gICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgbGF6eUxvYWRNYXhEdXJhdGlvbjogMyAqIDYwLFxuICAgIGxhenlMb2FkUmVjb3ZlckR1cmF0aW9uOiAzMCxcbiAgICBkZWZlckxvYWRBZnRlclNvdXJjZU9wZW46IHRydWUsXG5cbiAgICAvLyBhdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlcjogZGVmYXVsdCBhcyBmYWxzZSwgbGVhdmUgdW5zcGVjaWZpZWRcbiAgICBhdXRvQ2xlYW51cE1heEJhY2t3YXJkRHVyYXRpb246IDMgKiA2MCxcbiAgICBhdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb246IDIgKiA2MCxcblxuICAgIHN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWw6IDYwMCxcblxuICAgIGZpeEF1ZGlvVGltZXN0YW1wR2FwOiB0cnVlLFxuXG4gICAgYWNjdXJhdGVTZWVrOiBmYWxzZSxcbiAgICBzZWVrVHlwZTogJ3JhbmdlJywgIC8vIFtyYW5nZSwgcGFyYW0sIGN1c3RvbV1cbiAgICBzZWVrUGFyYW1TdGFydDogJ2JzdGFydCcsXG4gICAgc2Vla1BhcmFtRW5kOiAnYmVuZCcsXG4gICAgcmFuZ2VMb2FkWmVyb1N0YXJ0OiBmYWxzZSxcbiAgICBjdXN0b21TZWVrSGFuZGxlcjogdW5kZWZpbmVkLFxuICAgIHJldXNlUmVkaXJlY3RlZFVSTDogZmFsc2VcbiAgICAvLyByZWZlcnJlclBvbGljeTogbGVhdmUgYXMgdW5zcGVjaWZpZWRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0Q29uZmlnKCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlnKTtcbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IElPQ29udHJvbGxlciBmcm9tICcuLi9pby9pby1jb250cm9sbGVyLmpzJztcbmltcG9ydCB7Y3JlYXRlRGVmYXVsdENvbmZpZ30gZnJvbSAnLi4vY29uZmlnLmpzJztcblxuY2xhc3MgRmVhdHVyZXMge1xuXG4gICAgc3RhdGljIHN1cHBvcnRNU0VIMjY0UGxheWJhY2soKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuTWVkaWFTb3VyY2UgJiZcbiAgICAgICAgICAgICAgIHdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUUsbXA0YS40MC4yXCInKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc3VwcG9ydE5ldHdvcmtTdHJlYW1JTygpIHtcbiAgICAgICAgbGV0IGlvY3RsID0gbmV3IElPQ29udHJvbGxlcih7fSwgY3JlYXRlRGVmYXVsdENvbmZpZygpKTtcbiAgICAgICAgbGV0IGxvYWRlclR5cGUgPSBpb2N0bC5sb2FkZXJUeXBlO1xuICAgICAgICBpb2N0bC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBsb2FkZXJUeXBlID09ICdmZXRjaC1zdHJlYW0tbG9hZGVyJyB8fCBsb2FkZXJUeXBlID09ICd4aHItbW96LWNodW5rZWQtbG9hZGVyJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TmV0d29ya0xvYWRlclR5cGVOYW1lKCkge1xuICAgICAgICBsZXQgaW9jdGwgPSBuZXcgSU9Db250cm9sbGVyKHt9LCBjcmVhdGVEZWZhdWx0Q29uZmlnKCkpO1xuICAgICAgICBsZXQgbG9hZGVyVHlwZSA9IGlvY3RsLmxvYWRlclR5cGU7XG4gICAgICAgIGlvY3RsLmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIGxvYWRlclR5cGU7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1cHBvcnROYXRpdmVNZWRpYVBsYXliYWNrKG1pbWVUeXBlKSB7XG4gICAgICAgIGlmIChGZWF0dXJlcy52aWRlb0VsZW1lbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBGZWF0dXJlcy52aWRlb0VsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2FuUGxheSA9IEZlYXR1cmVzLnZpZGVvRWxlbWVudC5jYW5QbGF5VHlwZShtaW1lVHlwZSk7XG4gICAgICAgIHJldHVybiBjYW5QbGF5ID09PSAncHJvYmFibHknIHx8IGNhblBsYXkgPT0gJ21heWJlJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RmVhdHVyZUxpc3QoKSB7XG4gICAgICAgIGxldCBmZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIG1zZUZsdlBsYXliYWNrOiBmYWxzZSxcbiAgICAgICAgICAgIG1zZUxpdmVGbHZQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBuZXR3b3JrU3RyZWFtSU86IGZhbHNlLFxuICAgICAgICAgICAgbmV0d29ya0xvYWRlck5hbWU6ICcnLFxuICAgICAgICAgICAgbmF0aXZlTVA0SDI2NFBsYXliYWNrOiBmYWxzZSxcbiAgICAgICAgICAgIG5hdGl2ZVdlYm1WUDhQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBuYXRpdmVXZWJtVlA5UGxheWJhY2s6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZmVhdHVyZXMubXNlRmx2UGxheWJhY2sgPSBGZWF0dXJlcy5zdXBwb3J0TVNFSDI2NFBsYXliYWNrKCk7XG4gICAgICAgIGZlYXR1cmVzLm5ldHdvcmtTdHJlYW1JTyA9IEZlYXR1cmVzLnN1cHBvcnROZXR3b3JrU3RyZWFtSU8oKTtcbiAgICAgICAgZmVhdHVyZXMubmV0d29ya0xvYWRlck5hbWUgPSBGZWF0dXJlcy5nZXROZXR3b3JrTG9hZGVyVHlwZU5hbWUoKTtcbiAgICAgICAgZmVhdHVyZXMubXNlTGl2ZUZsdlBsYXliYWNrID0gZmVhdHVyZXMubXNlRmx2UGxheWJhY2sgJiYgZmVhdHVyZXMubmV0d29ya1N0cmVhbUlPO1xuICAgICAgICBmZWF0dXJlcy5uYXRpdmVNUDRIMjY0UGxheWJhY2sgPSBGZWF0dXJlcy5zdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjaygndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyMDAxRSwgbXA0YS40MC4yXCInKTtcbiAgICAgICAgZmVhdHVyZXMubmF0aXZlV2VibVZQOFBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOC4wLCB2b3JiaXNcIicpO1xuICAgICAgICBmZWF0dXJlcy5uYXRpdmVXZWJtVlA5UGxheWJhY2sgPSBGZWF0dXJlcy5zdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjaygndmlkZW8vd2VibTsgY29kZWNzPVwidnA5XCInKTtcblxuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmVzOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBNZWRpYUluZm8ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWltZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhc0F1ZGlvID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNWaWRlbyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9EYXRhUmF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9EYXRhUmF0ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ2hhbm5lbENvdW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLndpZHRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgICAgICB0aGlzLmZwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZmlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnJlZkZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hyb21hRm9ybWF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zYXJOdW0gPSBudWxsO1xuICAgICAgICB0aGlzLnNhckRlbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBudWxsOyAgLy8gTWVkaWFJbmZvW11cbiAgICAgICAgdGhpcy5zZWdtZW50Q291bnQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0tleWZyYW1lc0luZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlmcmFtZXNJbmRleCA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgbGV0IGF1ZGlvSW5mb0NvbXBsZXRlID0gKHRoaXMuaGFzQXVkaW8gPT09IGZhbHNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5oYXNBdWRpbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvZGVjICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9TYW1wbGVSYXRlICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9DaGFubmVsQ291bnQgIT0gbnVsbCk7XG5cbiAgICAgICAgbGV0IHZpZGVvSW5mb0NvbXBsZXRlID0gKHRoaXMuaGFzVmlkZW8gPT09IGZhbHNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5oYXNWaWRlbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb0NvZGVjICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2lkdGggIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcHMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9maWxlICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZGcmFtZXMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHJvbWFGb3JtYXQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXJOdW0gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXJEZW4gIT0gbnVsbCk7XG5cbiAgICAgICAgLy8ga2V5ZnJhbWVzSW5kZXggbWF5IG5vdCBiZSBwcmVzZW50XG4gICAgICAgIHJldHVybiB0aGlzLm1pbWVUeXBlICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICB0aGlzLmhhc0tleWZyYW1lc0luZGV4ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIGF1ZGlvSW5mb0NvbXBsZXRlICYmXG4gICAgICAgICAgICAgICB2aWRlb0luZm9Db21wbGV0ZTtcbiAgICB9XG5cbiAgICBpc1NlZWthYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNLZXlmcmFtZXNJbmRleCA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXROZWFyZXN0S2V5ZnJhbWUobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLmtleWZyYW1lc0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRhYmxlID0gdGhpcy5rZXlmcmFtZXNJbmRleDtcbiAgICAgICAgbGV0IGtleWZyYW1lSWR4ID0gdGhpcy5fc2VhcmNoKHRhYmxlLnRpbWVzLCBtaWxsaXNlY29uZHMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDoga2V5ZnJhbWVJZHgsXG4gICAgICAgICAgICBtaWxsaXNlY29uZHM6IHRhYmxlLnRpbWVzW2tleWZyYW1lSWR4XSxcbiAgICAgICAgICAgIGZpbGVwb3NpdGlvbjogdGFibGUuZmlsZXBvc2l0aW9uc1trZXlmcmFtZUlkeF1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfc2VhcmNoKGxpc3QsIHZhbHVlKSB7XG4gICAgICAgIGxldCBpZHggPSAwO1xuXG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGlmICh2YWx1ZSA8IGxpc3RbMF0pIHtcbiAgICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgICAgICBsYm91bmQgPSB1Ym91bmQgKyAxOyAgLy8gc2tpcCBzZWFyY2hcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8ICh2YWx1ZSA+PSBsaXN0W21pZF0gJiYgdmFsdWUgPCBsaXN0W21pZCArIDFdKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdIDwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVkaWFJbmZvOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBSZXByZXNlbnRzIGFuIG1lZGlhIHNhbXBsZSAoYXVkaW8gLyB2aWRlbylcbmV4cG9ydCBjbGFzcyBTYW1wbGVJbmZvIHtcblxuICAgIGNvbnN0cnVjdG9yKGR0cywgcHRzLCBkdXJhdGlvbiwgb3JpZ2luYWxEdHMsIGlzU3luYykge1xuICAgICAgICB0aGlzLmR0cyA9IGR0cztcbiAgICAgICAgdGhpcy5wdHMgPSBwdHM7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbER0cyA9IG9yaWdpbmFsRHRzO1xuICAgICAgICB0aGlzLmlzU3luY1BvaW50ID0gaXNTeW5jO1xuICAgICAgICB0aGlzLmZpbGVwb3NpdGlvbiA9IG51bGw7XG4gICAgfVxuXG59XG5cbi8vIE1lZGlhIFNlZ21lbnQgY29uY2VwdCBpcyBkZWZpbmVkIGluIE1lZGlhIFNvdXJjZSBFeHRlbnNpb25zIHNwZWMuXG4vLyBQYXJ0aWN1bGFybHkgaW4gSVNPIEJNRkYgZm9ybWF0LCBhbiBNZWRpYSBTZWdtZW50IGNvbnRhaW5zIGEgbW9vZiBib3ggZm9sbG93ZWQgYnkgYSBtZGF0IGJveC5cbmV4cG9ydCBjbGFzcyBNZWRpYVNlZ21lbnRJbmZvIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJlZ2luRHRzID0gMDtcbiAgICAgICAgdGhpcy5lbmREdHMgPSAwO1xuICAgICAgICB0aGlzLmJlZ2luUHRzID0gMDtcbiAgICAgICAgdGhpcy5lbmRQdHMgPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQmVnaW5EdHMgPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRW5kRHRzID0gMDtcbiAgICAgICAgdGhpcy5zeW5jUG9pbnRzID0gW107ICAgICAvLyBTYW1wbGVJbmZvW25dLCBmb3IgdmlkZW8gSURSIGZyYW1lcyBvbmx5XG4gICAgICAgIHRoaXMuZmlyc3RTYW1wbGUgPSBudWxsOyAgLy8gU2FtcGxlSW5mb1xuICAgICAgICB0aGlzLmxhc3RTYW1wbGUgPSBudWxsOyAgIC8vIFNhbXBsZUluZm9cbiAgICB9XG5cbiAgICBhcHBlbmRTeW5jUG9pbnQoc2FtcGxlSW5mbykgeyAgLy8gYWxzbyBjYWxsZWQgUmFuZG9tIEFjY2VzcyBQb2ludFxuICAgICAgICBzYW1wbGVJbmZvLmlzU3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zeW5jUG9pbnRzLnB1c2goc2FtcGxlSW5mbyk7XG4gICAgfVxuXG59XG5cbi8vIE9yZGVyZWQgbGlzdCBmb3IgcmVjb3JkaW5nIHZpZGVvIElEUiBmcmFtZXMsIHNvcnRlZCBieSBvcmlnaW5hbER0c1xuZXhwb3J0IGNsYXNzIElEUlNhbXBsZUxpc3Qge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgIH1cblxuICAgIGFwcGVuZEFycmF5KHN5bmNQb2ludHMpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9saXN0O1xuXG4gICAgICAgIGlmIChzeW5jUG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCAmJiBzeW5jUG9pbnRzWzBdLm9yaWdpbmFsRHRzIDwgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLm9yaWdpbmFsRHRzKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsaXN0LCBzeW5jUG9pbnRzKTtcbiAgICB9XG5cbiAgICBnZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzKGR0cykge1xuICAgICAgICBpZiAodGhpcy5fbGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBsZXQgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAoZHRzIDwgbGlzdFswXS5kdHMpIHtcbiAgICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgICAgICBsYm91bmQgPSB1Ym91bmQgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKGR0cyA+PSBsaXN0W21pZF0uZHRzICYmIGR0cyA8IGxpc3RbbWlkICsgMV0uZHRzKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdLmR0cyA8IGR0cykge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaWR4XTtcbiAgICB9XG5cbn1cblxuLy8gRGF0YSBzdHJ1Y3R1cmUgZm9yIHJlY29yZGluZyBpbmZvcm1hdGlvbiBvZiBtZWRpYSBzZWdtZW50cyBpbiBzaW5nbGUgdHJhY2suXG5leHBvcnQgY2xhc3MgTWVkaWFTZWdtZW50SW5mb0xpc3Qge1xuXG4gICAgY29uc3RydWN0b3IodHlwZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSAtMTsgIC8vIGNhY2hlZCBsYXN0IGluc2VydCBsb2NhdGlvblxuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdC5sZW5ndGg7XG4gICAgfVxuXG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9saXN0ID0gW107XG4gICAgICAgIHRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbiA9IC0xO1xuICAgIH1cblxuICAgIF9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fbGlzdDtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgbGV0IGlkeCA9IDA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0WzBdLm9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgICAgIGlkeCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChvcmlnaW5hbEJlZ2luRHRzID4gbGlzdFttaWRdLmxhc3RTYW1wbGUub3JpZ2luYWxEdHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0W21pZCArIDFdLm9yaWdpbmFsQmVnaW5EdHMpKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdLm9yaWdpbmFsQmVnaW5EdHMgPCBvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cblxuICAgIF9zZWFyY2hOZWFyZXN0U2VnbWVudEFmdGVyKG9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpICsgMTtcbiAgICB9XG5cbiAgICBhcHBlbmQobWVkaWFTZWdtZW50SW5mbykge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGxldCBtc2kgPSBtZWRpYVNlZ21lbnRJbmZvO1xuICAgICAgICBsZXQgbGFzdEFwcGVuZElkeCA9IHRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbjtcbiAgICAgICAgbGV0IGluc2VydElkeCA9IDA7XG5cbiAgICAgICAgaWYgKGxhc3RBcHBlbmRJZHggIT09IC0xICYmIGxhc3RBcHBlbmRJZHggPCBsaXN0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNpLm9yaWdpbmFsQmVnaW5EdHMgPj0gbGlzdFtsYXN0QXBwZW5kSWR4XS5sYXN0U2FtcGxlLm9yaWdpbmFsRHRzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGxhc3RBcHBlbmRJZHggPT09IGxpc3QubGVuZ3RoIC0gMSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsYXN0QXBwZW5kSWR4IDwgbGlzdC5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2kub3JpZ2luYWxCZWdpbkR0cyA8IGxpc3RbbGFzdEFwcGVuZElkeCArIDFdLm9yaWdpbmFsQmVnaW5EdHMpKSkge1xuICAgICAgICAgICAgaW5zZXJ0SWR4ID0gbGFzdEFwcGVuZElkeCArIDE7ICAvLyB1c2UgY2FjaGVkIGxvY2F0aW9uIGlkeFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGluc2VydElkeCA9IHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG1zaS5vcmlnaW5hbEJlZ2luRHRzKSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSBpbnNlcnRJZHg7XG4gICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGluc2VydElkeCwgMCwgbXNpKTtcbiAgICB9XG5cbiAgICBnZXRMYXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBpZHggPSB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdFtpZHhdO1xuICAgICAgICB9IGVsc2UgeyAgLy8gLTFcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGFzdFNhbXBsZUJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gdGhpcy5nZXRMYXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKTtcbiAgICAgICAgaWYgKHNlZ21lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnQubGFzdFNhbXBsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGFzdFN5bmNQb2ludEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBzZWdtZW50SWR4ID0gdGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGxldCBzeW5jUG9pbnRzID0gdGhpcy5fbGlzdFtzZWdtZW50SWR4XS5zeW5jUG9pbnRzO1xuICAgICAgICB3aGlsZSAoc3luY1BvaW50cy5sZW5ndGggPT09IDAgJiYgc2VnbWVudElkeCA+IDApIHtcbiAgICAgICAgICAgIHNlZ21lbnRJZHgtLTtcbiAgICAgICAgICAgIHN5bmNQb2ludHMgPSB0aGlzLl9saXN0W3NlZ21lbnRJZHhdLnN5bmNQb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN5bmNQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bmNQb2ludHNbc3luY1BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IE1TRUV2ZW50cyBmcm9tICcuL21zZS1ldmVudHMuanMnO1xuaW1wb3J0IHtTYW1wbGVJbmZvLCBJRFJTYW1wbGVMaXN0fSBmcm9tICcuL21lZGlhLXNlZ21lbnQtaW5mby5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gTWVkaWEgU291cmNlIEV4dGVuc2lvbnMgY29udHJvbGxlclxuY2xhc3MgTVNFQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnTVNFQ29udHJvbGxlcic7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuaXNMaXZlICYmIHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEZvciBsaXZlIHN0cmVhbSwgZG8gYXV0byBjbGVhbnVwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZpbml0aW9uQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgIG9uU291cmNlT3BlbjogdGhpcy5fb25Tb3VyY2VPcGVuLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvblNvdXJjZUVuZGVkOiB0aGlzLl9vblNvdXJjZUVuZGVkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvblNvdXJjZUNsb3NlOiB0aGlzLl9vblNvdXJjZUNsb3NlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvblNvdXJjZUJ1ZmZlckVycm9yOiB0aGlzLl9vblNvdXJjZUJ1ZmZlckVycm9yLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZDogdGhpcy5fb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQuYmluZCh0aGlzKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX21lZGlhU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwgPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2lzQnVmZmVyRnVsbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9oYXNQZW5kaW5nRW9zID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcmVxdWlyZVNldE1lZGlhRHVyYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ01lZGlhRHVyYXRpb24gPSAwO1xuXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0ID0gW107XG4gICAgICAgIHRoaXMuX21pbWVUeXBlcyA9IHtcbiAgICAgICAgICAgIHZpZGVvOiBudWxsLFxuICAgICAgICAgICAgYXVkaW86IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc291cmNlQnVmZmVycyA9IHtcbiAgICAgICAgICAgIHZpZGVvOiBudWxsLFxuICAgICAgICAgICAgYXVkaW86IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbGFzdEluaXRTZWdtZW50cyA9IHtcbiAgICAgICAgICAgIHZpZGVvOiBudWxsLFxuICAgICAgICAgICAgYXVkaW86IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzID0ge1xuICAgICAgICAgICAgdmlkZW86IFtdLFxuICAgICAgICAgICAgYXVkaW86IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXMgPSB7XG4gICAgICAgICAgICB2aWRlbzogW10sXG4gICAgICAgICAgICBhdWRpbzogW11cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faWRyTGlzdCA9IG5ldyBJRFJTYW1wbGVMaXN0KCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCB8fCB0aGlzLl9tZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGF0dGFjaE1lZGlhRWxlbWVudChtZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdNZWRpYVNvdXJjZSBoYXMgYmVlbiBhdHRhY2hlZCB0byBhbiBIVE1MTWVkaWFFbGVtZW50IScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtcyA9IHRoaXMuX21lZGlhU291cmNlID0gbmV3IHdpbmRvdy5NZWRpYVNvdXJjZSgpO1xuICAgICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5lLm9uU291cmNlT3Blbik7XG4gICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5lLm9uU291cmNlRW5kZWQpO1xuICAgICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMuZS5vblNvdXJjZUNsb3NlKTtcblxuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBtZWRpYUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5fbWVkaWFTb3VyY2UpO1xuICAgICAgICBtZWRpYUVsZW1lbnQuc3JjID0gdGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkw7XG4gICAgfVxuXG4gICAgZGV0YWNoTWVkaWFFbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UpIHtcbiAgICAgICAgICAgIGxldCBtcyA9IHRoaXMuX21lZGlhU291cmNlO1xuICAgICAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKSB7XG4gICAgICAgICAgICAgICAgLy8gcGVuZGluZyBzZWdtZW50cyBzaG91bGQgYmUgZGlzY2FyZFxuICAgICAgICAgICAgICAgIGxldCBwcyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXTtcbiAgICAgICAgICAgICAgICBwcy5zcGxpY2UoMCwgcHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbdHlwZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RJbml0U2VnbWVudHNbdHlwZV0gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBzb3VyY2VidWZmZXJzXG4gICAgICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoc2IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1zLnJlYWR5U3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtcy5yZW1vdmVTb3VyY2VCdWZmZXIoc2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2IucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmUub25Tb3VyY2VCdWZmZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLmUub25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlc1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtcy5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtcy5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5lLm9uU291cmNlT3Blbik7XG4gICAgICAgICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMuZS5vblNvdXJjZUVuZGVkKTtcbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5lLm9uU291cmNlQ2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyRnVsbCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faWRyTGlzdC5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCkge1xuICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5ld1NvdXJjZUluaXRTZWdtZW50IChpbml0U2VnbWVudCkge1xuICAgICAgICBsZXQgaXMgPSBpbml0U2VnbWVudDtcbiAgICAgICAgbGV0IG1pbWVUeXBlID0gYCR7aXMuY29udGFpbmVyfWA7XG4gICAgICAgIGlmIChpcy5jb2RlYyAmJiBpcy5jb2RlYy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtaW1lVHlwZSArPSBgO2NvZGVjcz0ke2lzLmNvZGVjfWA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHMgPSB0aGlzLl9wZW5kaW5nU2VnbWVudHNbaXMudHlwZV07XG4gICAgICAgIHBzLnNwbGljZSgwLCBwcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbaXMudHlwZV0gPSBbXTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1tpcy50eXBlXSA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0SW5pdFNlZ21lbnRzW2lzLnR5cGVdID0gW107XG4gICAgICAgIGxldCBtcyA9IHRoaXMuX21lZGlhU291cmNlO1xuICAgICAgICB0aGlzLmRlZmluaXRpb25DaGFuZ2UgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc291cmNlQnVmZmVyc1tpcy50eXBlXSkge1xuICAgICAgICAgICAgbXMucmVtb3ZlU291cmNlQnVmZmVyKHRoaXMuX3NvdXJjZUJ1ZmZlcnNbaXMudHlwZV0pO1xuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1tpcy50eXBlXSA9IHRoaXMuX21lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihtaW1lVHlwZSk7XG4gICAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKTtcbiAgICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5kZWZpbml0aW9uQ2hhbmdlID0gZmFsc2U7XG5cbiAgICB9XG5cbiAgICBhcHBlbmRJbml0U2VnbWVudChpbml0U2VnbWVudCwgZGVmZXJyZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYVNvdXJjZSB8fCB0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIC8vIHNvdXJjZWJ1ZmZlciBjcmVhdGlvbiByZXF1aXJlcyBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbidcbiAgICAgICAgICAgIC8vIHNvIHdlIGRlZmVyIHRoZSBzb3VyY2VidWZmZXIgY3JlYXRpb24sIHVudGlsIHNvdXJjZW9wZW4gZXZlbnQgdHJpZ2dlcmVkXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdC5wdXNoKGluaXRTZWdtZW50KTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoaXMgSW5pdFNlZ21lbnQgaXMgaW4gdGhlIGZyb250IG9mIHBlbmRpbmcgc2VnbWVudHMgcXVldWVcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1tpbml0U2VnbWVudC50eXBlXS5wdXNoKGluaXRTZWdtZW50KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2luaXRTZWdtZW50LnR5cGV9YCwgaW5pdFNlZ21lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXMgPSBpbml0U2VnbWVudDtcbiAgICAgICAgbGV0IG1pbWVUeXBlID0gYCR7aXMuY29udGFpbmVyfWA7XG4gICAgICAgIGlmIChpcy5jb2RlYyAmJiBpcy5jb2RlYy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtaW1lVHlwZSArPSBgO2NvZGVjcz0ke2lzLmNvZGVjfWA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmlyc3RJbml0U2VnbWVudCA9IGZhbHNlO1xuXG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnUmVjZWl2ZWQgSW5pdGlhbGl6YXRpb24gU2VnbWVudCwgbWltZVR5cGU6ICcgKyBtaW1lVHlwZSk7XG4gICAgICAgIHRoaXMuX2xhc3RJbml0U2VnbWVudHNbaXMudHlwZV0gPSBpcztcblxuICAgICAgICBpZiAobWltZVR5cGUgIT09IHRoaXMuX21pbWVUeXBlc1tpcy50eXBlXSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9taW1lVHlwZXNbaXMudHlwZV0pIHsgIC8vIGVtcHR5LCBmaXJzdCBjaGFuY2UgY3JlYXRlIHNvdXJjZWJ1ZmZlclxuICAgICAgICAgICAgICAgIGZpcnN0SW5pdFNlZ21lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbaXMudHlwZV0gPSB0aGlzLl9tZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2IuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5lLm9uU291cmNlQnVmZmVyVXBkYXRlRW5kKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChNU0VFdmVudHMuRVJST1IsIHtjb2RlOiBlcnJvci5jb2RlLCBtc2c6IGVycm9yLm1lc3NhZ2V9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBOb3RpY2U6ICR7aXMudHlwZX0gbWltZVR5cGUgY2hhbmdlZCwgb3JpZ2luOiAke3RoaXMuX21pbWVUeXBlc1tpcy50eXBlXX0sIHRhcmdldDogJHttaW1lVHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlc1tpcy50eXBlXSA9IG1pbWVUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZlcnJlZCkge1xuICAgICAgICAgICAgLy8gZGVmZXJyZWQgbWVhbnMgdGhpcyBJbml0U2VnbWVudCBoYXMgYmVlbiBwdXNoZWQgdG8gcGVuZGluZ1NlZ21lbnRzIHF1ZXVlXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbaXMudHlwZV0ucHVzaChpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmaXJzdEluaXRTZWdtZW50KSB7ICAvLyBhcHBlbmQgaW1tZWRpYXRlbHkgb25seSBpZiBpbml0IHNlZ21lbnQgaW4gc3Vic2VxdWVuY2VcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2VCdWZmZXJzW2lzLnR5cGVdICYmICF0aGlzLl9zb3VyY2VCdWZmZXJzW2lzLnR5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChCcm93c2VyLnNhZmFyaSAmJiBpcy5jb250YWluZXIgPT09ICdhdWRpby9tcGVnJyAmJiBpcy5tZWRpYUR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgLy8gJ2F1ZGlvL21wZWcnIHRyYWNrIHVuZGVyIFNhZmFyaSBtYXkgY2F1c2UgTWVkaWFFbGVtZW50J3MgZHVyYXRpb24gdG8gYmUgTmFOXG4gICAgICAgICAgICAvLyBNYW51YWxseSBjb3JyZWN0IE1lZGlhU291cmNlLmR1cmF0aW9uIHRvIG1ha2UgcHJvZ3Jlc3MgYmFyIHNlZWthYmxlLCBhbmQgcmVwb3J0IHJpZ2h0IGR1cmF0aW9uXG4gICAgICAgICAgICB0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbiA9IGlzLm1lZGlhRHVyYXRpb24gLyAxMDAwOyAgLy8gaW4gc2Vjb25kc1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWVkaWFTb3VyY2VEdXJhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kTWVkaWFTZWdtZW50KG1lZGlhU2VnbWVudCkge1xuICAgICAgICBsZXQgbXMgPSBtZWRpYVNlZ21lbnQ7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1ttcy50eXBlXS5wdXNoKG1zKTtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwU291cmNlQnVmZmVyICYmIHRoaXMuX25lZWRDbGVhbnVwU291cmNlQnVmZmVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQ2xlYW51cFNvdXJjZUJ1ZmZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1ttcy50eXBlXTtcbiAgICAgICAgaWYgKHNiICYmICFzYi51cGRhdGluZyAmJiAhdGhpcy5faGFzUGVuZGluZ1JlbW92ZVJhbmdlcygpICYmIHRoaXMuZGVmaW5pdGlvbkNoYW5nZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsoc2Vjb25kcykge1xuICAgICAgICAvLyByZW1vdmUgYWxsIGFwcGVuZGVkIGJ1ZmZlcnNcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWJvcnQgY3VycmVudCBidWZmZXIgYXBwZW5kIGFsZ29yaXRobVxuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiByYW5nZSByZW1vdmFsIGFsZ29yaXRobSBpcyBydW5uaW5nLCBJbnZhbGlkU3RhdGVFcnJvciB3aWxsIGJlIHRocm93ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGl0LlxuICAgICAgICAgICAgICAgICAgICBzYi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElEUkxpc3Qgc2hvdWxkIGJlIGNsZWFyXG4gICAgICAgICAgICB0aGlzLl9pZHJMaXN0LmNsZWFyKCk7XG5cbiAgICAgICAgICAgIC8vIHBlbmRpbmcgc2VnbWVudHMgc2hvdWxkIGJlIGRpc2NhcmRcbiAgICAgICAgICAgIGxldCBwcyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXTtcbiAgICAgICAgICAgIHBzLnNwbGljZSgwLCBwcy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgTWVkaWFTb3VyY2Ugb2JqZWN0IGhhcyBiZWVuIGRldGFjaGVkIGZyb20gSFRNTE1lZGlhRWxlbWVudFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZWNvcmQgcmFuZ2VzIHRvIGJlIHJlbW92ZSBmcm9tIFNvdXJjZUJ1ZmZlclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYi5idWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHNiLmJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgIGxldCBlbmQgPSBzYi5idWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXS5wdXNoKHtzdGFydCwgZW5kfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHNiIGlzIG5vdCB1cGRhdGluZywgbGV0J3MgcmVtb3ZlIHJhbmdlcyBub3chXG4gICAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9SZW1vdmVSYW5nZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2FmYXJpIDEwIG1heSBnZXQgSW52YWxpZFN0YXRlRXJyb3IgaW4gdGhlIGxhdGVyIGFwcGVuZEJ1ZmZlcigpIGFmdGVyIFNvdXJjZUJ1ZmZlci5yZW1vdmUoKSBjYWxsXG4gICAgICAgICAgICAvLyBJbnRlcm5hbCBwYXJzZXIncyBzdGF0ZSBtYXkgYmUgaW52YWxpZCBhdCB0aGlzIHRpbWUuIFJlLWFwcGVuZCBsYXN0IEluaXRTZWdtZW50IHRvIHdvcmthcm91bmQuXG4gICAgICAgICAgICAvLyBSZWxhdGVkIGlzc3VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU5MjMwXG4gICAgICAgICAgICBpZiAoQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEluaXRTZWdtZW50ID0gdGhpcy5fbGFzdEluaXRTZWdtZW50c1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEluaXRTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXS5wdXNoKGxhc3RJbml0U2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZE9mU3RyZWFtKCkge1xuICAgICAgICBsZXQgbXMgPSB0aGlzLl9tZWRpYVNvdXJjZTtcbiAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVycztcbiAgICAgICAgaWYgKCFtcyB8fCBtcy5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIGlmIChtcyAmJiBtcy5yZWFkeVN0YXRlID09PSAnY2xvc2VkJyAmJiB0aGlzLl9oYXNQZW5kaW5nU2VnbWVudHMoKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIE1lZGlhU291cmNlIGhhc24ndCB0dXJuZWQgaW50byBvcGVuIHN0YXRlLCBhbmQgdGhlcmUncmUgcGVuZGluZyBzZWdtZW50c1xuICAgICAgICAgICAgICAgIC8vIE1hcmsgcGVuZGluZyBlbmRPZlN0cmVhbSwgZGVmZXIgY2FsbCB1bnRpbCBhbGwgcGVuZGluZyBzZWdtZW50cyBhcHBlbmRlZCBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYi52aWRlbyAmJiBzYi52aWRlby51cGRhdGluZyB8fCBzYi5hdWRpbyAmJiBzYi5hdWRpby51cGRhdGluZykge1xuICAgICAgICAgICAgLy8gSWYgYW55IHNvdXJjZWJ1ZmZlciBpcyB1cGRhdGluZywgZGVmZXIgZW5kT2ZTdHJlYW0gb3BlcmF0aW9uXG4gICAgICAgICAgICAvLyBTZWUgX29uU291cmNlQnVmZmVyVXBkYXRlRW5kKClcbiAgICAgICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFzUGVuZGluZ0VvcyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gTm90aWZ5IG1lZGlhIGRhdGEgbG9hZGluZyBjb21wbGV0ZVxuICAgICAgICAgICAgLy8gVGhpcyBpcyBoZWxwZnVsIGZvciBjb3JyZWN0aW5nIHRvdGFsIGR1cmF0aW9uIHRvIG1hdGNoIGxhc3QgbWVkaWEgc2VnbWVudFxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIE1lZGlhRWxlbWVudCdzIGVuZGVkIGV2ZW50IG1heSBub3QgYmUgdHJpZ2dlcmVkXG4gICAgICAgICAgICBtcy5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TmVhcmVzdEtleWZyYW1lKGR0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRyTGlzdC5nZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzKGR0cyk7XG4gICAgfVxuXG4gICAgX25lZWRDbGVhbnVwU291cmNlQnVmZmVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gdGhpcy5fc291cmNlQnVmZmVycykge1xuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChzYikge1xuICAgICAgICAgICAgICAgIGxldCBidWZmZXJlZCA9IHNiLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXJlZC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBidWZmZXJlZC5zdGFydCgwKSA+PSB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfZG9DbGVhbnVwU291cmNlQnVmZmVyKCkge1xuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKSB7XG4gICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJ1ZmZlcmVkID0gc2IuYnVmZmVyZWQ7XG4gICAgICAgICAgICAgICAgbGV0IGRvUmVtb3ZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gYnVmZmVyZWQuZW5kKGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA8PSBjdXJyZW50VGltZSAmJiBjdXJyZW50VGltZSA8IGVuZCArIDMpIHsgIC8vIHBhZGRpbmcgMyBzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBzdGFydCA+PSB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9SZW1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmVFbmQgPSBjdXJyZW50VGltZSAtIHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXS5wdXNoKHtzdGFydDogc3RhcnQsIGVuZDogcmVtb3ZlRW5kfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kIDwgY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV0ucHVzaCh7c3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRvUmVtb3ZlICYmICFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb1JlbW92ZVJhbmdlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uKCkge1xuICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzO1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGUgPT09IDAgfHwgdGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzYi52aWRlbyAmJiBzYi52aWRlby51cGRhdGluZykgfHwgKHNiLmF1ZGlvICYmIHNiLmF1ZGlvLnVwZGF0aW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLl9tZWRpYVNvdXJjZS5kdXJhdGlvbjtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uO1xuXG4gICAgICAgIGlmICh0YXJnZXQgPiAwICYmIChpc05hTihjdXJyZW50KSB8fCB0YXJnZXQgPiBjdXJyZW50KSkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBVcGRhdGUgTWVkaWFTb3VyY2UgZHVyYXRpb24gZnJvbSAke2N1cnJlbnR9IHRvICR7dGFyZ2V0fWApO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UuZHVyYXRpb24gPSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbiA9IDA7XG4gICAgfVxuXG4gICAgX2RvUmVtb3ZlUmFuZ2VzKCkge1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSB8fCB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV07XG4gICAgICAgICAgICB3aGlsZSAocmFuZ2VzLmxlbmd0aCAmJiAhc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSByYW5nZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzYi5yZW1vdmUocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZG9BcHBlbmRTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IHBlbmRpbmdTZWdtZW50cyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50cztcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiBwZW5kaW5nU2VnbWVudHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSB8fCB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwZW5kaW5nU2VnbWVudHNbdHlwZV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gcGVuZGluZ1NlZ21lbnRzW3R5cGVdLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC50aW1lc3RhbXBPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIE1QRUcgYXVkaW8gc3RyZWFtIGluIE1TRSwgaWYgdW5idWZmZXJlZC1zZWVraW5nIG9jY3VycmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgZXhwbGljaXRseSBzZXQgdGltZXN0YW1wT2Zmc2V0IHRvIHRoZSBkZXNpcmVkIHBvaW50IGluIHRpbWVsaW5lIGZvciBtcGVnIFNvdXJjZUJ1ZmZlci5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRPZmZzZXQgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnRpbWVzdGFtcE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE9mZnNldCA9IHNlZ21lbnQudGltZXN0YW1wT2Zmc2V0IC8gMTAwMDsgIC8vIGluIHNlY29uZHNcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSBNYXRoLmFicyhjdXJyZW50T2Zmc2V0IC0gdGFyZ2V0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhID4gMC4xKSB7ICAvLyBJZiB0aW1lIGRlbHRhID4gMTAwbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCBgVXBkYXRlIE1QRUcgYXVkaW8gdGltZXN0YW1wT2Zmc2V0IGZyb20gJHtjdXJyZW50T2Zmc2V0fSB0byAke3RhcmdldE9mZnNldH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0udGltZXN0YW1wT2Zmc2V0ID0gdGFyZ2V0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWdtZW50LnRpbWVzdGFtcE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuZGF0YSB8fCBzZWdtZW50LmRhdGEuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZW1wdHkgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0uYXBwZW5kQnVmZmVyKHNlZ21lbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyRnVsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpZGVvJyAmJiBzZWdtZW50Lmhhc093blByb3BlcnR5KCdpbmZvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lkckxpc3QuYXBwZW5kQXJyYXkoc2VnbWVudC5pbmZvLnN5bmNQb2ludHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdLnVuc2hpZnQoc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAyMikgeyAgLy8gUXVvdGFFeGNlZWRlZEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBOb3RpY2UgdGhhdCBGaXJlRm94IG1heSBub3QgdGhyb3cgUXVvdGFFeGNlZWRlZEVycm9yIGlmIFNvdXJjZUJ1ZmZlciBpcyBmdWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDdXJyZW50bHkgd2UgY2FuIG9ubHkgZG8gbGF6eS1sb2FkIHRvIGF2b2lkIFNvdXJjZUJ1ZmZlciBiZWNvbWUgc2NhdHRlcmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICogU291cmNlQnVmZmVyIGV2aWN0aW9uIHBvbGljeSBtYXkgYmUgY2hhbmdlZCBpbiBmdXR1cmUgdmVyc2lvbiBvZiBGaXJlRm94LlxuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFJlbGF0ZWQgaXNzdWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI3OTg4NVxuICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI4MDAyM1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcG9ydCBidWZmZXIgZnVsbCwgYWJvcnQgbmV0d29yayBJT1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0J1ZmZlckZ1bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLkJVRkZFUl9GVUxMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQnVmZmVyRnVsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLkVSUk9SLCB7Y29kZTogZXJyb3IuY29kZSwgbXNnOiBlcnJvci5tZXNzYWdlfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Tb3VyY2VPcGVuKCkge1xuICAgICAgICBMb2cudih0aGlzLlRBRywgJ01lZGlhU291cmNlIG9uU291cmNlT3BlbicpO1xuICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5lLm9uU291cmNlT3Blbik7XG4gICAgICAgIC8vIGRlZmVycmVkIHNvdXJjZWJ1ZmZlciBjcmVhdGlvbiAvIGluaXRpYWxpemF0aW9uXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcGVuZGluZ3MgPSB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdDtcbiAgICAgICAgICAgIHdoaWxlIChwZW5kaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudCA9IHBlbmRpbmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRJbml0U2VnbWVudChzZWdtZW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVyZSBtYXkgYmUgc29tZSBwZW5kaW5nIG1lZGlhIHNlZ21lbnRzLCBhcHBlbmQgdGhlbVxuICAgICAgICBpZiAodGhpcy5faGFzUGVuZGluZ1NlZ21lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLlNPVVJDRV9PUEVOKTtcbiAgICB9XG5cbiAgICBfb25Tb3VyY2VFbmRlZCgpIHtcbiAgICAgICAgLy8gZmlyZWQgb24gZW5kT2ZTdHJlYW1cbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNZWRpYVNvdXJjZSBvblNvdXJjZUVuZGVkJyk7XG4gICAgfVxuXG4gICAgX29uU291cmNlQ2xvc2UoKSB7XG4gICAgICAgIC8vIGZpcmVkIG9uIGRldGFjaGluZyBmcm9tIG1lZGlhIGVsZW1lbnRcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNZWRpYVNvdXJjZSBvblNvdXJjZUNsb3NlJyk7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZSAmJiB0aGlzLmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuZS5vblNvdXJjZU9wZW4pO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLmUub25Tb3VyY2VFbmRlZCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMuZS5vblNvdXJjZUNsb3NlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oYXNQZW5kaW5nU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBwcyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50cztcbiAgICAgICAgcmV0dXJuIHBzLnZpZGVvLmxlbmd0aCA+IDAgfHwgcHMuYXVkaW8ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBfaGFzUGVuZGluZ1JlbW92ZVJhbmdlcygpIHtcbiAgICAgICAgbGV0IHByciA9IHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXM7XG4gICAgICAgIHJldHVybiBwcnIudmlkZW8ubGVuZ3RoID4gMCB8fCBwcnIuYXVkaW8ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBfb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWVkaWFTb3VyY2VEdXJhdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc1BlbmRpbmdSZW1vdmVSYW5nZXMoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9SZW1vdmVSYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNQZW5kaW5nU2VnbWVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc1BlbmRpbmdFb3MpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLlVQREFURV9FTkQpO1xuICAgIH1cblxuICAgIF9vblNvdXJjZUJ1ZmZlckVycm9yKGUpIHtcbiAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBTb3VyY2VCdWZmZXIgRXJyb3I6ICR7ZX1gKTtcbiAgICAgICAgLy8gdGhpcyBlcnJvciBtaWdodCBub3QgYWx3YXlzIGJlIGZhdGFsLCBqdXN0IGlnbm9yZSBpdFxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNU0VDb250cm9sbGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IE1TRUV2ZW50cyA9IHtcbiAgICBFUlJPUjogJ2Vycm9yJyxcbiAgICBTT1VSQ0VfT1BFTjogJ3NvdXJjZV9vcGVuJyxcbiAgICBVUERBVEVfRU5EOiAndXBkYXRlX2VuZCcsXG4gICAgQlVGRkVSX0ZVTEw6ICdidWZmZXJfZnVsbCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1TRUV2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4uL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdDb250cm9sbGVyIGZyb20gJy4vdHJhbnNtdXhpbmctY29udHJvbGxlci5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdFdmVudHMgZnJvbSAnLi90cmFuc211eGluZy1ldmVudHMuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nV29ya2VyIGZyb20gJy4vdHJhbnNtdXhpbmctd29ya2VyLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi9tZWRpYS1pbmZvLmpzJztcblxuY2xhc3MgVHJhbnNtdXhlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdUcmFuc211eGVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5pc0RlZmluaXRpb25DaGFuZ2luZyA9IGZhbHNlO1xuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZVdvcmtlciAmJiB0eXBlb2YgKFdvcmtlcikgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCB3b3JrID0gcmVxdWlyZSgnd2Vid29ya2lmeScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IHdvcmsoVHJhbnNtdXhpbmdXb3JrZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlckRlc3Ryb3lpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2luaXQnLCBwYXJhbTogW21lZGlhRGF0YVNvdXJjZSwgY29uZmlnXX0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZDogdGhpcy5fb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5yZWdpc3Rlckxpc3RlbmVyKHRoaXMuZS5vbkxvZ2dpbmdDb25maWdDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2xvZ2dpbmdfY29uZmlnJywgcGFyYW06IExvZ2dpbmdDb250cm9sLmdldENvbmZpZygpfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCAnRXJyb3Igd2hpbGUgaW5pdGlhbGl6ZSB0cmFuc211eGluZyB3b3JrZXIsIGZhbGxiYWNrIHRvIGlubGluZSB0cmFuc211eGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIobWVkaWFEYXRhU291cmNlLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIobWVkaWFEYXRhU291cmNlLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29udHJvbGxlci5fZW1pdHRlci5vbignbWV0YWRhdGFfYXJyaXZlZCcsIG9uTWV0YURhdGEgPT4ge1xuICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdCgnbWV0YWRhdGFfYXJyaXZlZCcsIG9uTWV0YURhdGEpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250cm9sbGVyKSB7XG4gICAgICAgICAgICBsZXQgY3RsID0gdGhpcy5fY29udHJvbGxlcjtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgdGhpcy5fb25JT0Vycm9yLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLCB0aGlzLl9vbkRlbXV4RXJyb3IuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5ULCB0aGlzLl9vbkluaXRTZWdtZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsIHRoaXMuX29uTWVkaWFTZWdtZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUsIHRoaXMuX29uTG9hZGluZ0NvbXBsZXRlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0YsIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgdGhpcy5fb25NZWRpYUluZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCB0aGlzLl9vblN0YXRpc3RpY3NJbmZvLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsIHRoaXMuX29uUmVjb21tZW5kU2Vla3BvaW50LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93b3JrZXJEZXN0cm95aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2VyRGVzdHJveWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdkZXN0cm95J30pO1xuICAgICAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLnJlbW92ZUxpc3RlbmVyKHRoaXMuZS5vbkxvZ2dpbmdDb25maWdDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlciAmJiB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyICYmIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBoYXNXb3JrZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JrZXIgIT0gbnVsbDtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ3N0YXJ0J30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnc3RvcCd9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VlayhtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdzZWVrJywgcGFyYW06IG1pbGxpc2Vjb25kc30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5zZWVrKG1pbGxpc2Vjb25kcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdwYXVzZSd9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdyZXN1bWUnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uSW5pdFNlZ21lbnQodHlwZSwgaW5pdFNlZ21lbnQpIHtcbiAgICAgICAgLy8gZG8gYXN5bmMgaW52b2tlXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciAmJiB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5ULCB0eXBlLCBpbml0U2VnbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbk1lZGlhU2VnbWVudCh0eXBlLCBtZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyICYmIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCB0eXBlLCBtZWRpYVNlZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25Mb2FkaW5nQ29tcGxldGUoKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciAmJiB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vblJlY292ZXJlZEVhcmx5RW9mKCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIgJiYgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0YpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25NZWRpYUluZm8obWVkaWFJbmZvKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciAmJiB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgbWVkaWFJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uU3RhdGlzdGljc0luZm8oc3RhdGlzdGljc0luZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyICYmIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHN0YXRpc3RpY3NJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uSU9FcnJvcih0eXBlLCBpbmZvKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciAmJiB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsIHR5cGUsIGluZm8pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25EZW11eEVycm9yKHR5cGUsIGluZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyICYmIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vblJlY29tbWVuZFNlZWtwb2ludChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyICYmIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCBtaWxsaXNlY29uZHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZChjb25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdsb2dnaW5nX2NvbmZpZycsIHBhcmFtOiBjb25maWd9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldvcmtlck1lc3NhZ2UoZSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGUuZGF0YTtcbiAgICAgICAgbGV0IGRhdGEgPSBtZXNzYWdlLmRhdGE7XG5cbiAgICAgICAgaWYgKG1lc3NhZ2UubXNnID09PSAnZGVzdHJveWVkJyB8fCB0aGlzLl93b3JrZXJEZXN0cm95aW5nKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXJEZXN0cm95aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLm1zZykge1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQ6XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhLnR5cGUsIGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEU6XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0Y6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTzpcbiAgICAgICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZGF0YSwgTWVkaWFJbmZvLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUjpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQobWVzc2FnZS5tc2csIGRhdGEudHlwZSwgZGF0YS5pbmZvKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVDpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQobWVzc2FnZS5tc2csIGRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG9nY2F0X2NhbGxiYWNrJzpcbiAgICAgICAgICAgICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCBkYXRhLnR5cGUsIGRhdGEubG9nY2F0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNtdXhlcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi9tZWRpYS1pbmZvLmpzJztcbmltcG9ydCBGTFZEZW11eGVyIGZyb20gJy4uL2RlbXV4L2Zsdi1kZW11eGVyLmpzJztcbmltcG9ydCBNUDRSZW11eGVyIGZyb20gJy4uL3JlbXV4L21wNC1yZW11eGVyLmpzJztcbmltcG9ydCBEZW11eEVycm9ycyBmcm9tICcuLi9kZW11eC9kZW11eC1lcnJvcnMuanMnO1xuaW1wb3J0IElPQ29udHJvbGxlciBmcm9tICcuLi9pby9pby1jb250cm9sbGVyLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0V2ZW50cyBmcm9tICcuL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyc7XG5pbXBvcnQge0xvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuLi9pby9sb2FkZXIuanMnO1xuXG4vLyBUcmFuc211eGluZyAoSU8sIERlbXV4aW5nLCBSZW11eGluZykgY29udHJvbGxlciwgd2l0aCBtdWx0aXBhcnQgc3VwcG9ydFxuY2xhc3MgVHJhbnNtdXhpbmdDb250cm9sbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhRGF0YVNvdXJjZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ1RyYW5zbXV4aW5nQ29udHJvbGxlcic7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIC8vIHRyZWF0IHNpbmdsZSBwYXJ0IG1lZGlhIGFzIG11bHRpcGFydCBtZWRpYSwgd2hpY2ggaGFzIG9ubHkgb25lIHNlZ21lbnRcbiAgICAgICAgaWYgKCFtZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMpIHtcbiAgICAgICAgICAgIG1lZGlhRGF0YVNvdXJjZS5zZWdtZW50cyA9IFt7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG1lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBmaWxlc2l6ZTogbWVkaWFEYXRhU291cmNlLmZpbGVzaXplLFxuICAgICAgICAgICAgICAgIHVybDogbWVkaWFEYXRhU291cmNlLnVybFxuICAgICAgICAgICAgfV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWxsIGluIGRlZmF1bHQgSU8gcGFyYW1zIGlmIG5vdCBleGlzdHNcbiAgICAgICAgaWYgKHR5cGVvZiBtZWRpYURhdGFTb3VyY2UuY29ycyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBtZWRpYURhdGFTb3VyY2UuY29ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtZWRpYURhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCA9IDA7XG4gICAgICAgIGxldCB0b3RhbER1cmF0aW9uID0gMDtcblxuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wQmFzZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY2FsY3VsYXRlIHRvdGFsIGR1cmF0aW9uXG4gICAgICAgICAgICBzZWdtZW50LnRpbWVzdGFtcEJhc2UgPSB0b3RhbER1cmF0aW9uO1xuICAgICAgICAgICAgdG90YWxEdXJhdGlvbiArPSBzZWdtZW50LmR1cmF0aW9uO1xuICAgICAgICAgICAgLy8gcGFyYW1zIG5lZWRlZCBieSBJT0NvbnRyb2xsZXJcbiAgICAgICAgICAgIHNlZ21lbnQuY29ycyA9IG1lZGlhRGF0YVNvdXJjZS5jb3JzO1xuICAgICAgICAgICAgc2VnbWVudC53aXRoQ3JlZGVudGlhbHMgPSBtZWRpYURhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgLy8gcmVmZXJyZXIgcG9saWN5IGNvbnRyb2wsIGlmIGV4aXN0XG4gICAgICAgICAgICBpZiAoY29uZmlnLnJlZmVycmVyUG9saWN5KSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5yZWZlcnJlclBvbGljeSA9IGNvbmZpZy5yZWZlcnJlclBvbGljeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFpc05hTih0b3RhbER1cmF0aW9uKSAmJiB0aGlzLl9tZWRpYURhdGFTb3VyY2UuZHVyYXRpb24gIT09IHRvdGFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbiA9IHRvdGFsRHVyYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9kZW11eGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtdXhlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lvY3RsID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW9jdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVtdXhlcikge1xuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtdXhlcikge1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRTZWdtZW50KDApO1xuICAgICAgICB0aGlzLl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICB9XG5cbiAgICBfbG9hZFNlZ21lbnQoc2VnbWVudEluZGV4LCBvcHRpb25hbEZyb20pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCA9IHNlZ21lbnRJbmRleDtcbiAgICAgICAgbGV0IGRhdGFTb3VyY2UgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbc2VnbWVudEluZGV4XTtcblxuICAgICAgICBsZXQgaW9jdGwgPSB0aGlzLl9pb2N0bCA9IG5ldyBJT0NvbnRyb2xsZXIoZGF0YVNvdXJjZSwgdGhpcy5fY29uZmlnLCBzZWdtZW50SW5kZXgpO1xuICAgICAgICBpb2N0bC5vbkVycm9yID0gdGhpcy5fb25JT0V4Y2VwdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICBpb2N0bC5vblNlZWtlZCA9IHRoaXMuX29uSU9TZWVrZWQuYmluZCh0aGlzKTtcbiAgICAgICAgaW9jdGwub25Db21wbGV0ZSA9IHRoaXMuX29uSU9Db21wbGV0ZS5iaW5kKHRoaXMpO1xuICAgICAgICBpb2N0bC5vblJlZGlyZWN0ID0gdGhpcy5fb25JT1JlZGlyZWN0LmJpbmQodGhpcyk7XG4gICAgICAgIGlvY3RsLm9uUmVjb3ZlcmVkRWFybHlFb2YgPSB0aGlzLl9vbklPUmVjb3ZlcmVkRWFybHlFb2YuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAob3B0aW9uYWxGcm9tKSB7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2lvY3RsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlvY3RsLm9uRGF0YUFycml2YWwgPSB0aGlzLl9vbkluaXRDaHVua0Fycml2YWwuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlvY3RsLm9wZW4ob3B0aW9uYWxGcm9tKTtcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICB9XG5cbiAgICBfaW50ZXJuYWxBYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lvY3RsKSB7XG4gICAgICAgICAgICB0aGlzLl9pb2N0bC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9pb2N0bCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXVzZSgpIHsgIC8vIHRha2UgYSByZXN0XG4gICAgICAgIGlmICh0aGlzLl9pb2N0bCAmJiB0aGlzLl9pb2N0bC5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5faW9jdGwucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lvY3RsICYmIHRoaXMuX2lvY3RsLmlzUGF1c2VkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsLnJlc3VtZSgpO1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWVrKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFJbmZvID09IG51bGwgfHwgIXRoaXMuX21lZGlhSW5mby5pc1NlZWthYmxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YXJnZXRTZWdtZW50SW5kZXggPSB0aGlzLl9zZWFyY2hTZWdtZW50SW5kZXhDb250YWlucyhtaWxsaXNlY29uZHMpO1xuXG4gICAgICAgIGlmICh0YXJnZXRTZWdtZW50SW5kZXggPT09IHRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGludHJhLXNlZ21lbnQgc2Vla2luZ1xuICAgICAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RhcmdldFNlZ21lbnRJbmRleF07XG5cbiAgICAgICAgICAgIGlmIChzZWdtZW50SW5mbyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHNlZ21lbnQgbG9hZGluZyBzdGFydGVkLCBidXQgbWVkaWFpbmZvIGhhc24ndCByZWNlaXZlZCB5ZXRcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgbWV0YWRhdGEgbG9hZGVkLCB0aGVuIHNlZWsgdG8gZXhwZWN0ZWQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBrZXlmcmFtZSA9IHNlZ21lbnRJbmZvLmdldE5lYXJlc3RLZXlmcmFtZShtaWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuc2VlayhrZXlmcmFtZS5taWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lvY3RsLnNlZWsoa2V5ZnJhbWUuZmlsZXBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBXaWxsIGJlIHJlc29sdmVkIGluIF9vblJlbXV4ZXJNZWRpYVNlZ21lbnRBcnJpdmFsKClcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IGtleWZyYW1lLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNyb3NzLXNlZ21lbnQgc2Vla2luZ1xuICAgICAgICAgICAgbGV0IHRhcmdldFNlZ21lbnRJbmZvID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RhcmdldFNlZ21lbnRJbmRleF07XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXRTZWdtZW50SW5mbyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgc2VnbWVudCBoYXNuJ3QgYmVlbiBsb2FkZWQuIFdlIG5lZWQgbWV0YWRhdGEgdGhlbiBzZWVrIHRvIGV4cGVjdGVkIHRpbWVcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuc2VlaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuaW5zZXJ0RGlzY29udGludWl0eSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTZWdtZW50KHRhcmdldFNlZ21lbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSB3YWl0IGZvciB0aGUgbWV0YWRhdGEgbG9hZGVkLCB0aGVuIHNlZWsgdG8gZXhwZWN0ZWQgcG9zaXRpb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0YXJnZXQgc2VnbWVudCdzIG1ldGFkYXRhLCBkaXJlY3Qgc2VlayB0byB0YXJnZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBsZXQga2V5ZnJhbWUgPSB0YXJnZXRTZWdtZW50SW5mby5nZXROZWFyZXN0S2V5ZnJhbWUobWlsbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5zZWVrKG1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5yZXNldE1lZGlhSW5mbygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZSA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1t0YXJnZXRTZWdtZW50SW5kZXhdLnRpbWVzdGFtcEJhc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQodGFyZ2V0U2VnbWVudEluZGV4LCBrZXlmcmFtZS5maWxlcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0ga2V5ZnJhbWUubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcG9ydFNlZ21lbnRNZWRpYUluZm8odGFyZ2V0U2VnbWVudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VuYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9zZWFyY2hTZWdtZW50SW5kZXhDb250YWlucyhtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzO1xuICAgICAgICBsZXQgaWR4ID0gc2VnbWVudHMubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobWlsbGlzZWNvbmRzIDwgc2VnbWVudHNbaV0udGltZXN0YW1wQmFzZSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuXG4gICAgX29uSW5pdENodW5rQXJyaXZhbChkYXRhLCBieXRlU3RhcnQpIHtcbiAgICAgICAgbGV0IHByb2JlRGF0YSA9IG51bGw7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IDA7XG5cbiAgICAgICAgaWYgKGJ5dGVTdGFydCA+IDApIHtcbiAgICAgICAgICAgIC8vIElPQ29udHJvbGxlciBzZWVrZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgb3BlbmVkLCBieXRlU3RhcnQgPiAwIGNhbGxiYWNrIG1heSByZWNlaXZlZFxuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5iaW5kRGF0YVNvdXJjZSh0aGlzLl9pb2N0bCk7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLnRpbWVzdGFtcEJhc2UgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSB0aGlzLl9kZW11eGVyLnBhcnNlQ2h1bmtzKGRhdGEsIGJ5dGVTdGFydCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHByb2JlRGF0YSA9IEZMVkRlbXV4ZXIucHJvYmUoZGF0YSkpLm1hdGNoKSB7XG4gICAgICAgICAgICAvLyBBbHdheXMgY3JlYXRlIG5ldyBGTFZEZW11eGVyXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyID0gbmV3IEZMVkRlbXV4ZXIocHJvYmVEYXRhLCB0aGlzLl9jb25maWcpO1xuXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLl9lbWl0dGVyLm9uKCdtZXRhZGF0YV9hcnJpdmVkJywgb25NZXRhRGF0YSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdCgnbWV0YWRhdGFfYXJyaXZlZCcsIG9uTWV0YURhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCF0aGlzLl9yZW11eGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlciA9IG5ldyBNUDRSZW11eGVyKHRoaXMuX2NvbmZpZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtZHMgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2U7XG4gICAgICAgICAgICBpZiAobWRzLmR1cmF0aW9uICE9IHVuZGVmaW5lZCAmJiAhaXNOYU4obWRzLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub3ZlcnJpZGVkRHVyYXRpb24gPSBtZHMuZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1kcy5oYXNBdWRpbyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vdmVycmlkZWRIYXNBdWRpbyA9IG1kcy5oYXNBdWRpbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWRzLmhhc1ZpZGVvID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZW11eGVyLm92ZXJyaWRlZEhhc1ZpZGVvID0gbWRzLmhhc1ZpZGVvO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLnRpbWVzdGFtcEJhc2UgPSBtZHMuc2VnbWVudHNbdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZTtcblxuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vbkVycm9yID0gdGhpcy5fb25EZW11eEV4Y2VwdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vbk1lZGlhSW5mbyA9IHRoaXMuX29uTWVkaWFJbmZvLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5fZGVtdXhlclxuICAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kRGF0YVNvdXJjZSh0aGlzLl9pb2N0bFxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIub25Jbml0U2VnbWVudCA9IHRoaXMuX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5vbk1lZGlhU2VnbWVudCA9IHRoaXMuX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSB0aGlzLl9kZW11eGVyLnBhcnNlQ2h1bmtzKGRhdGEsIGJ5dGVTdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9iZURhdGEgPSBudWxsO1xuICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsICdOb24tRkxWLCBVbnN1cHBvcnRlZCBtZWRpYSB0eXBlIScpO1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIERlbXV4RXJyb3JzLkZPUk1BVF9VTlNVUFBPUlRFRCwgJ05vbi1GTFYsIFVuc3VwcG9ydGVkIG1lZGlhIHR5cGUnKTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkO1xuICAgIH1cblxuICAgIF9vbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhSW5mbyA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBTdG9yZSBmaXJzdCBzZWdtZW50J3MgbWVkaWFpbmZvIGFzIGdsb2JhbCBtZWRpYUluZm9cbiAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIG1lZGlhSW5mbyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ua2V5ZnJhbWVzSW5kZXggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uc2VnbWVudENvdW50ID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLl9tZWRpYUluZm8sIE1lZGlhSW5mby5wcm90b3R5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgbWVkaWFJbmZvKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHNlZ21lbnRJbmZvLCBNZWRpYUluZm8ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXhdID0gc2VnbWVudEluZm87XG5cbiAgICAgICAgLy8gbm90aWZ5IG1lZGlhSW5mbyB1cGRhdGVcbiAgICAgICAgdGhpcy5fcmVwb3J0U2VnbWVudE1lZGlhSW5mbyh0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4KTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZWsodGFyZ2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uSU9TZWVrZWQoKSB7XG4gICAgICAgIHRoaXMuX3JlbXV4ZXIuaW5zZXJ0RGlzY29udGludWl0eSgpO1xuICAgIH1cblxuICAgIF9vbklPQ29tcGxldGUoZXh0cmFEYXRhKSB7XG4gICAgICAgIGxldCBzZWdtZW50SW5kZXggPSBleHRyYURhdGE7XG4gICAgICAgIGxldCBuZXh0U2VnbWVudEluZGV4ID0gc2VnbWVudEluZGV4ICsgMTtcblxuICAgICAgICBpZiAobmV4dFNlZ21lbnRJbmRleCA8IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRTZWdtZW50KG5leHRTZWdtZW50SW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5mbHVzaFN0YXNoZWRTYW1wbGVzKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSk7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlU3RhdGlzdGljc1JlcG9ydGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25JT1JlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRJbmRleCA9IHRoaXMuX2lvY3RsLmV4dHJhRGF0YTtcbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzW3NlZ21lbnRJbmRleF0ucmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgfVxuXG4gICAgX29uSU9SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0YpO1xuICAgIH1cblxuICAgIF9vbklPRXhjZXB0aW9uKHR5cGUsIGluZm8pIHtcbiAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBJT0V4Y2VwdGlvbjogdHlwZSA9ICR7dHlwZX0sIGNvZGUgPSAke2luZm8uY29kZX0sIG1zZyA9ICR7aW5mby5tc2d9YCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICB9XG5cbiAgICBfb25EZW11eEV4Y2VwdGlvbih0eXBlLCBpbmZvKSB7XG4gICAgICAgIExvZy5lKHRoaXMuVEFHLCBgRGVtdXhFeGNlcHRpb246IHR5cGUgPSAke3R5cGV9LCBpbmZvID0gJHtpbmZvfWApO1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIHR5cGUsIGluZm8pO1xuICAgIH1cblxuICAgIF9vblJlbXV4ZXJJbml0U2VnbWVudEFycml2YWwodHlwZSwgaW5pdFNlZ21lbnQpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCwgdHlwZSwgaW5pdFNlZ21lbnQpO1xuICAgIH1cblxuICAgIF9vblJlbXV4ZXJNZWRpYVNlZ21lbnRBcnJpdmFsKHR5cGUsIG1lZGlhU2VnbWVudCkge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE1lZGlhIHNlZ21lbnRzIGFmdGVyIG5ldy1zZWdtZW50IGNyb3NzLXNlZWtpbmcgc2hvdWxkIGJlIGRyb3BwZWQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsIHR5cGUsIG1lZGlhU2VnbWVudCk7XG5cbiAgICAgICAgLy8gUmVzb2x2ZSBwZW5kaW5nIHNlZWtQb2ludFxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQgIT0gbnVsbCAmJiB0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgICBsZXQgc3luY1BvaW50cyA9IG1lZGlhU2VnbWVudC5pbmZvLnN5bmNQb2ludHM7XG4gICAgICAgICAgICBsZXQgc2Vla3BvaW50ID0gdGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQ7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIFNhZmFyaTogUGFzcyBQVFMgZm9yIHJlY29tbWVuZF9zZWVrcG9pbnRcbiAgICAgICAgICAgIGlmIChCcm93c2VyLnNhZmFyaSAmJiBzeW5jUG9pbnRzLmxlbmd0aCA+IDAgJiYgc3luY1BvaW50c1swXS5vcmlnaW5hbER0cyA9PT0gc2Vla3BvaW50KSB7XG4gICAgICAgICAgICAgICAgc2Vla3BvaW50ID0gc3luY1BvaW50c1swXS5wdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbHNlOiB1c2Ugb3JpZ2luYWwgRFRTIChrZXlmcmFtZS5taWxsaXNlY29uZHMpXG5cbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCBzZWVrcG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2VuYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBzZWxmLnNldEludGVydmFsKFxuICAgICAgICAgICAgICAgIHRoaXMuX3JlcG9ydFN0YXRpc3RpY3NJbmZvLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0aGlzLl9jb25maWcuc3RhdGlzdGljc0luZm9SZXBvcnRJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcikge1xuICAgICAgICAgICAgc2VsZi5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcik7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3JlcG9ydFNlZ21lbnRNZWRpYUluZm8oc2VnbWVudEluZGV4KSB7XG4gICAgICAgIGxldCBzZWdtZW50SW5mbyA9IHRoaXMuX21lZGlhSW5mby5zZWdtZW50c1tzZWdtZW50SW5kZXhdO1xuICAgICAgICBsZXQgZXhwb3J0SW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIHNlZ21lbnRJbmZvKTtcblxuICAgICAgICBleHBvcnRJbmZvLmR1cmF0aW9uID0gdGhpcy5fbWVkaWFJbmZvLmR1cmF0aW9uO1xuICAgICAgICBleHBvcnRJbmZvLnNlZ21lbnRDb3VudCA9IHRoaXMuX21lZGlhSW5mby5zZWdtZW50Q291bnQ7XG4gICAgICAgIGRlbGV0ZSBleHBvcnRJbmZvLnNlZ21lbnRzO1xuICAgICAgICBkZWxldGUgZXhwb3J0SW5mby5rZXlmcmFtZXNJbmRleDtcblxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgZXhwb3J0SW5mbyk7XG4gICAgfVxuXG4gICAgX3JlcG9ydFN0YXRpc3RpY3NJbmZvKCkge1xuICAgICAgICBsZXQgaW5mbyA9IHt9O1xuXG4gICAgICAgIGluZm8udXJsID0gdGhpcy5faW9jdGwuY3VycmVudFVSTDtcbiAgICAgICAgaW5mby5oYXNSZWRpcmVjdCA9IHRoaXMuX2lvY3RsLmhhc1JlZGlyZWN0O1xuICAgICAgICBpZiAoaW5mby5oYXNSZWRpcmVjdCkge1xuICAgICAgICAgICAgaW5mby5yZWRpcmVjdGVkVVJMID0gdGhpcy5faW9jdGwuY3VycmVudFJlZGlyZWN0ZWRVUkw7XG4gICAgICAgIH1cblxuICAgICAgICBpbmZvLnNwZWVkID0gdGhpcy5faW9jdGwuY3VycmVudFNwZWVkO1xuICAgICAgICBpbmZvLmxvYWRlclR5cGUgPSB0aGlzLl9pb2N0bC5sb2FkZXJUeXBlO1xuICAgICAgICBpbmZvLmN1cnJlbnRTZWdtZW50SW5kZXggPSB0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4O1xuICAgICAgICBpbmZvLnRvdGFsU2VnbWVudENvdW50ID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCBpbmZvKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNtdXhpbmdDb250cm9sbGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IFRyYW5zbXV4aW5nRXZlbnRzID0ge1xuICAgIElPX0VSUk9SOiAnaW9fZXJyb3InLFxuICAgIERFTVVYX0VSUk9SOiAnZGVtdXhfZXJyb3InLFxuICAgIElOSVRfU0VHTUVOVDogJ2luaXRfc2VnbWVudCcsXG4gICAgTUVESUFfU0VHTUVOVDogJ21lZGlhX3NlZ21lbnQnLFxuICAgIExPQURJTkdfQ09NUExFVEU6ICdsb2FkaW5nX2NvbXBsZXRlJyxcbiAgICBSRUNPVkVSRURfRUFSTFlfRU9GOiAncmVjb3ZlcmVkX2Vhcmx5X2VvZicsXG4gICAgTUVESUFfSU5GTzogJ21lZGlhX2luZm8nLFxuICAgIFNUQVRJU1RJQ1NfSU5GTzogJ3N0YXRpc3RpY3NfaW5mbycsXG4gICAgUkVDT01NRU5EX1NFRUtQT0lOVDogJ3JlY29tbWVuZF9zZWVrcG9pbnQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGluZ0V2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4uL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQgUG9seWZpbGwgZnJvbSAnLi4vdXRpbHMvcG9seWZpbGwuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nQ29udHJvbGxlciBmcm9tICcuL3RyYW5zbXV4aW5nLWNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nRXZlbnRzIGZyb20gJy4vdHJhbnNtdXhpbmctZXZlbnRzLmpzJztcblxuLyogcG9zdCBtZXNzYWdlIHRvIHdvcmtlcjpcbiAgIGRhdGE6IHtcbiAgICAgICBjbWQ6IHN0cmluZ1xuICAgICAgIHBhcmFtOiBhbnlcbiAgIH1cblxuICAgcmVjZWl2ZSBtZXNzYWdlIGZyb20gd29ya2VyOlxuICAgZGF0YToge1xuICAgICAgIG1zZzogc3RyaW5nLFxuICAgICAgIGRhdGE6IGFueVxuICAgfVxuICovXG5cbmxldCBUcmFuc211eGluZ1dvcmtlciA9IGZ1bmN0aW9uIChzZWxmKSB7XG5cbiAgICBsZXQgVEFHID0gJ1RyYW5zbXV4aW5nV29ya2VyJztcbiAgICBsZXQgY29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGxvZ2NhdExpc3RlbmVyID0gb25Mb2djYXRDYWxsYmFjay5iaW5kKHRoaXMpO1xuXG4gICAgUG9seWZpbGwuaW5zdGFsbCgpO1xuXG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmRhdGEuY21kKSB7XG4gICAgICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gbmV3IFRyYW5zbXV4aW5nQ29udHJvbGxlcihlLmRhdGEucGFyYW1bMF0sIGUuZGF0YS5wYXJhbVsxXSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgb25JT0Vycm9yLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIG9uRGVtdXhFcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCwgb25Jbml0U2VnbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsIG9uTWVkaWFTZWdtZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgb25Mb2FkaW5nQ29tcGxldGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GLCBvblJlY292ZXJlZEVhcmx5RW9mLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgb25NZWRpYUluZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIG9uU3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCBvblJlY29tbWVuZFNlZWtwb2ludC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Rlc3Ryb3knOlxuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7bXNnOiAnZGVzdHJveWVkJ30pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0b3AnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc3RvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vlayc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5zZWVrKGUuZGF0YS5wYXJhbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXVzZSc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVzdW1lJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG9nZ2luZ19jb25maWcnOiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IGUuZGF0YS5wYXJhbTtcbiAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5hcHBseUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5lbmFibGVDYWxsYmFjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5hZGRMb2dMaXN0ZW5lcihsb2djYXRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wucmVtb3ZlTG9nTGlzdGVuZXIobG9nY2F0TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25Jbml0U2VnbWVudCh0eXBlLCBpbml0U2VnbWVudCkge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBpbml0U2VnbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaiwgW2luaXRTZWdtZW50LmRhdGFdKTsgIC8vIGRhdGE6IEFycmF5QnVmZmVyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVNlZ21lbnQodHlwZSwgbWVkaWFTZWdtZW50KSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBtZWRpYVNlZ21lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmosIFttZWRpYVNlZ21lbnQuZGF0YV0pOyAgLy8gZGF0YTogQXJyYXlCdWZmZXJcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkxvYWRpbmdDb21wbGV0ZSgpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRlxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYUluZm8obWVkaWFJbmZvKSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX0lORk8sXG4gICAgICAgICAgICBkYXRhOiBtZWRpYUluZm9cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3RhdGlzdGljc0luZm8oc3RhdEluZm8pIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLFxuICAgICAgICAgICAgZGF0YTogc3RhdEluZm9cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uSU9FcnJvcih0eXBlLCBpbmZvKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGluZm86IGluZm9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EZW11eEVycm9yKHR5cGUsIGluZm8pIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgaW5mbzogaW5mb1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlY29tbWVuZFNlZWtwb2ludChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsXG4gICAgICAgICAgICBkYXRhOiBtaWxsaXNlY29uZHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Mb2djYXRDYWxsYmFjayh0eXBlLCBzdHIpIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6ICdsb2djYXRfY2FsbGJhY2snLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbG9nY2F0OiBzdHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGluZ1dvcmtlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IGRlY29kZVVURjggZnJvbSAnLi4vdXRpbHMvdXRmOC1jb252LmpzJztcbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG5sZXQgbGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMik7XG4gICAgKG5ldyBEYXRhVmlldyhidWYpKS5zZXRJbnQxNigwLCAyNTYsIHRydWUpOyAgLy8gbGl0dGxlLWVuZGlhbiB3cml0ZVxuICAgIHJldHVybiAobmV3IEludDE2QXJyYXkoYnVmKSlbMF0gPT09IDI1NjsgIC8vIHBsYXRmb3JtLXNwZWMgcmVhZCwgaWYgZXF1YWwgdGhlbiBMRVxufSkoKTtcblxuY2xhc3MgQU1GIHtcblxuICAgIHN0YXRpYyBwYXJzZVNjcmlwdERhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGxldCBkYXRhID0ge307XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gQU1GLnBhcnNlVmFsdWUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgbmFtZS5zaXplLCBkYXRhU2l6ZSAtIG5hbWUuc2l6ZSk7XG5cbiAgICAgICAgICAgIGRhdGFbbmFtZS5kYXRhXSA9IHZhbHVlLmRhdGE7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIExvZy5lKCdBTUYnLCBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlT2JqZWN0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEYXRhIG5vdCBlbm91Z2ggd2hlbiBwYXJzZSBTY3JpcHREYXRhT2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5hbWUgPSBBTUYucGFyc2VTdHJpbmcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHZhbHVlID0gQU1GLnBhcnNlVmFsdWUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBuYW1lLnNpemUsIGRhdGFTaXplIC0gbmFtZS5zaXplKTtcbiAgICAgICAgbGV0IGlzT2JqZWN0RW5kID0gdmFsdWUub2JqZWN0RW5kO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZS5kYXRhLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5kYXRhXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogbmFtZS5zaXplICsgdmFsdWUuc2l6ZSxcbiAgICAgICAgICAgIG9iamVjdEVuZDogaXNPYmplY3RFbmRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VWYXJpYWJsZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgcmV0dXJuIEFNRi5wYXJzZU9iamVjdChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgU3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHYuZ2V0VWludDE2KDAsICFsZSk7XG5cbiAgICAgICAgbGV0IHN0cjtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0ciA9IGRlY29kZVVURjgobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAyLCBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHN0cixcbiAgICAgICAgICAgIHNpemU6IDIgKyBsZW5ndGhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VMb25nU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEYXRhIG5vdCBlbm91Z2ggd2hlbiBwYXJzZSBMb25nU3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHYuZ2V0VWludDMyKDAsICFsZSk7XG5cbiAgICAgICAgbGV0IHN0cjtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0ciA9IGRlY29kZVVURjgobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHN0cixcbiAgICAgICAgICAgIHNpemU6IDQgKyBsZW5ndGhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VEYXRlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCAxMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBzaXplIGludmFsaWQgd2hlbiBwYXJzZSBEYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IHYuZ2V0RmxvYXQ2NCgwLCAhbGUpO1xuICAgICAgICBsZXQgbG9jYWxUaW1lT2Zmc2V0ID0gdi5nZXRJbnQxNig4LCAhbGUpO1xuICAgICAgICB0aW1lc3RhbXAgKz0gbG9jYWxUaW1lT2Zmc2V0ICogNjAgKiAxMDAwOyAgLy8gZ2V0IFVUQyB0aW1lXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IG5ldyBEYXRlKHRpbWVzdGFtcCksXG4gICAgICAgICAgICBzaXplOiA4ICsgMlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEYXRhIG5vdCBlbm91Z2ggd2hlbiBwYXJzZSBWYWx1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMTtcbiAgICAgICAgbGV0IHR5cGUgPSB2LmdldFVpbnQ4KDApO1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGxldCBvYmplY3RFbmQgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiAgLy8gTnVtYmVyKERvdWJsZSkgdHlwZVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHYuZ2V0RmxvYXQ2NCgxLCAhbGUpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiB7ICAvLyBCb29sZWFuIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSB2LmdldFVpbnQ4KDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGIgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAyOiB7ICAvLyBTdHJpbmcgdHlwZVxuICAgICAgICAgICAgICAgICAgICBsZXQgYW1mc3RyID0gQU1GLnBhcnNlU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhbWZzdHIuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGFtZnN0ci5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAzOiB7IC8vIE9iamVjdChzKSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtaW5hbCA9IDA7ICAvLyB3b3JrYXJvdW5kIGZvciBtYWxmb3JtZWQgT2JqZWN0cyB3aGljaCBoYXMgbWlzc2luZyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICgodi5nZXRVaW50MzIoZGF0YVNpemUgLSA0LCAhbGUpICYgMHgwMEZGRkZGRikgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA0KSB7ICAvLyA0ID09PSB0eXBlKFVJOCkgKyBTY3JpcHREYXRhT2JqZWN0RW5kKFVJMjQpXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW1mb2JqID0gQU1GLnBhcnNlT2JqZWN0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBkYXRhU2l6ZSAtIG9mZnNldCAtIHRlcm1pbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZvYmoub2JqZWN0RW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbYW1mb2JqLmRhdGEubmFtZV0gPSBhbWZvYmouZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBhbWZvYmouc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0IDw9IGRhdGFTaXplIC0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmtlciA9IHYuZ2V0VWludDMyKG9mZnNldCAtIDEsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlciA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDg6IHsgLy8gRUNNQSBhcnJheSB0eXBlIChNaXhlZCBhcnJheSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7ICAvLyBFQ01BQXJyYXlMZW5ndGgoVUkzMilcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1pbmFsID0gMDsgIC8vIHdvcmthcm91bmQgZm9yIG1hbGZvcm1lZCBNaXhlZEFycmF5cyB3aGljaCBoYXMgbWlzc2luZyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICgodi5nZXRVaW50MzIoZGF0YVNpemUgLSA0LCAhbGUpICYgMHgwMEZGRkZGRikgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA4KSB7ICAvLyA4ID09PSB0eXBlKFVJOCkgKyBFQ01BQXJyYXlMZW5ndGgoVUkzMikgKyBTY3JpcHREYXRhVmFyaWFibGVFbmQoVUkyNClcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbWZ2YXIgPSBBTUYucGFyc2VWYXJpYWJsZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG9mZnNldCwgZGF0YVNpemUgLSBvZmZzZXQgLSB0ZXJtaW5hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1mdmFyLm9iamVjdEVuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2FtZnZhci5kYXRhLm5hbWVdID0gYW1mdmFyLmRhdGEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYW1mdmFyLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8PSBkYXRhU2l6ZSAtIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSB2LmdldFVpbnQzMihvZmZzZXQgLSAxLCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJrZXIgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAgLy8gU2NyaXB0RGF0YU9iamVjdEVuZFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0RW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogeyAgLy8gU3RyaWN0IGFycmF5IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgLy8gU2NyaXB0RGF0YVZhbHVlW25dLiBOT1RFOiBhY2NvcmRpbmcgdG8gdmlkZW9fZmlsZV9mb3JtYXRfc3BlY192MTBfMS5wZGZcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cmljdEFycmF5TGVuZ3RoID0gdi5nZXRVaW50MzIoMSwgIWxlKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWN0QXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBkYXRhU2l6ZSAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHZhbC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSB2YWwuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAxMTogeyAgLy8gRGF0ZSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gQU1GLnBhcnNlRGF0ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0ZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0ZS5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAxMjogeyAgLy8gTG9uZyBzdHJpbmcgdHlwZVxuICAgICAgICAgICAgICAgICAgICBsZXQgYW1mTG9uZ1N0ciA9IEFNRi5wYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYW1mTG9uZ1N0ci5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYW1mTG9uZ1N0ci5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGFuZCBza2lwXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGRhdGFTaXplO1xuICAgICAgICAgICAgICAgICAgICBMb2cudygnQU1GJywgJ1Vuc3VwcG9ydGVkIEFNRiB2YWx1ZSB0eXBlICcgKyB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLmUoJ0FNRicsIGUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogdmFsdWUsXG4gICAgICAgICAgICBzaXplOiBvZmZzZXQsXG4gICAgICAgICAgICBvYmplY3RFbmQ6IG9iamVjdEVuZFxuICAgICAgICB9O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBTUY7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IERlbXV4RXJyb3JzID0ge1xuICAgIE9LOiAnT0snLFxuICAgIEZPUk1BVF9FUlJPUjogJ0Zvcm1hdEVycm9yJyxcbiAgICBGT1JNQVRfVU5TVVBQT1JURUQ6ICdGb3JtYXRVbnN1cHBvcnRlZCcsXG4gICAgQ09ERUNfVU5TVVBQT1JURUQ6ICdDb2RlY1Vuc3VwcG9ydGVkJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGVtdXhFcnJvcnM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9uLCBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIEV4cG9uZW50aWFsLUdvbG9tYiBidWZmZXIgZGVjb2RlclxuY2xhc3MgRXhwR29sb21iIHtcblxuICAgIGNvbnN0cnVjdG9yKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnRXhwR29sb21iJztcblxuICAgICAgICB0aGlzLl9idWZmZXIgPSB1aW50OGFycmF5O1xuICAgICAgICB0aGlzLl9idWZmZXJfaW5kZXggPSAwO1xuICAgICAgICB0aGlzLl90b3RhbF9ieXRlcyA9IHVpbnQ4YXJyYXkuYnl0ZUxlbmd0aDtcbiAgICAgICAgdGhpcy5fdG90YWxfYml0cyA9IHVpbnQ4YXJyYXkuYnl0ZUxlbmd0aCAqIDg7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPSAwO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgX2ZpbGxDdXJyZW50V29yZCgpIHtcbiAgICAgICAgbGV0IGJ1ZmZlcl9ieXRlc19sZWZ0ID0gdGhpcy5fdG90YWxfYnl0ZXMgLSB0aGlzLl9idWZmZXJfaW5kZXg7XG4gICAgICAgIGlmIChidWZmZXJfYnl0ZXNfbGVmdCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRXhwR29sb21iOiBfZmlsbEN1cnJlbnRXb3JkKCkgYnV0IG5vIGJ5dGVzIGF2YWlsYWJsZScpO1xuXG4gICAgICAgIGxldCBieXRlc19yZWFkID0gTWF0aC5taW4oNCwgYnVmZmVyX2J5dGVzX2xlZnQpO1xuICAgICAgICBsZXQgd29yZCA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICB3b3JkLnNldCh0aGlzLl9idWZmZXIuc3ViYXJyYXkodGhpcy5fYnVmZmVyX2luZGV4LCB0aGlzLl9idWZmZXJfaW5kZXggKyBieXRlc19yZWFkKSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA9IG5ldyBEYXRhVmlldyh3b3JkLmJ1ZmZlcikuZ2V0VWludDMyKDAsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9idWZmZXJfaW5kZXggKz0gYnl0ZXNfcmVhZDtcbiAgICAgICAgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCA9IGJ5dGVzX3JlYWQgKiA4O1xuICAgIH1cblxuICAgIHJlYWRCaXRzKGJpdHMpIHtcbiAgICAgICAgaWYgKGJpdHMgPiAzMilcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0V4cEdvbG9tYjogcmVhZEJpdHMoKSBiaXRzIGV4Y2VlZGVkIG1heCAzMmJpdHMhJyk7XG5cbiAgICAgICAgaWYgKGJpdHMgPD0gdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2N1cnJlbnRfd29yZCA+Pj4gKDMyIC0gYml0cyk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IGJpdHM7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IGJpdHM7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPyB0aGlzLl9jdXJyZW50X3dvcmQgOiAwO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPj4+ICgzMiAtIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpO1xuICAgICAgICBsZXQgYml0c19uZWVkX2xlZnQgPSBiaXRzIC0gdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdDtcblxuICAgICAgICB0aGlzLl9maWxsQ3VycmVudFdvcmQoKTtcbiAgICAgICAgbGV0IGJpdHNfcmVhZF9uZXh0ID0gTWF0aC5taW4oYml0c19uZWVkX2xlZnQsIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpO1xuXG4gICAgICAgIGxldCByZXN1bHQyID0gdGhpcy5fY3VycmVudF93b3JkID4+PiAoMzIgLSBiaXRzX3JlYWRfbmV4dCk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA8PD0gYml0c19yZWFkX25leHQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgLT0gYml0c19yZWFkX25leHQ7XG5cbiAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCA8PCBiaXRzX3JlYWRfbmV4dCkgfCByZXN1bHQyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlYWRCb29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxKSA9PT0gMTtcbiAgICB9XG5cbiAgICByZWFkQnl0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoOCk7XG4gICAgfVxuXG4gICAgX3NraXBMZWFkaW5nWmVybygpIHtcbiAgICAgICAgbGV0IHplcm9fY291bnQ7XG4gICAgICAgIGZvciAoemVyb19jb3VudCA9IDA7IHplcm9fY291bnQgPCB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0OyB6ZXJvX2NvdW50KyspIHtcbiAgICAgICAgICAgIGlmICgwICE9PSAodGhpcy5fY3VycmVudF93b3JkICYgKDB4ODAwMDAwMDAgPj4+IHplcm9fY291bnQpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA8PD0gemVyb19jb3VudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IHplcm9fY291bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHplcm9fY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlsbEN1cnJlbnRXb3JkKCk7XG4gICAgICAgIHJldHVybiB6ZXJvX2NvdW50ICsgdGhpcy5fc2tpcExlYWRpbmdaZXJvKCk7XG4gICAgfVxuXG4gICAgcmVhZFVFRygpIHsgIC8vIHVuc2lnbmVkIGV4cG9uZW50aWFsIGdvbG9tYlxuICAgICAgICBsZXQgbGVhZGluZ196ZXJvcyA9IHRoaXMuX3NraXBMZWFkaW5nWmVybygpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyhsZWFkaW5nX3plcm9zICsgMSkgLSAxO1xuICAgIH1cblxuICAgIHJlYWRTRUcoKSB7ICAvLyBzaWduZWQgZXhwb25lbnRpYWwgZ29sb21iXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMucmVhZFVFRygpO1xuICAgICAgICBpZiAodmFsdWUgJiAweDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlICsgMSkgPj4+IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTEgKiAodmFsdWUgPj4+IDEpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV4cEdvbG9tYjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IEFNRiBmcm9tICcuL2FtZi1wYXJzZXIuanMnO1xuaW1wb3J0IFNQU1BhcnNlciBmcm9tICcuL3Nwcy1wYXJzZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4vZGVtdXgtZXJyb3JzLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi4vY29yZS9tZWRpYS1pbmZvLmpzJztcbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuXG5mdW5jdGlvbiBTd2FwMTYoc3JjKSB7XG4gIHJldHVybiAoKChzcmMgPj4+IDgpICYgMHhGRikgfFxuICAgICgoc3JjICYgMHhGRikgPDwgOCkpO1xufVxuXG5mdW5jdGlvbiBTd2FwMzIoc3JjKSB7XG4gIHJldHVybiAoKChzcmMgJiAweEZGMDAwMDAwKSA+Pj4gMjQpIHxcbiAgICAoKHNyYyAmIDB4MDBGRjAwMDApID4+PiA4KSB8XG4gICAgKChzcmMgJiAweDAwMDBGRjAwKSA8PCA4KSB8XG4gICAgKChzcmMgJiAweDAwMDAwMEZGKSA8PCAyNCkpO1xufVxuXG5mdW5jdGlvbiBSZWFkQmlnMzIoYXJyYXksIGluZGV4KSB7XG4gIHJldHVybiAoKGFycmF5W2luZGV4XSA8PCAyNCkgfFxuICAgIChhcnJheVtpbmRleCArIDFdIDw8IDE2KSB8XG4gICAgKGFycmF5W2luZGV4ICsgMl0gPDwgOCkgfFxuICAgIChhcnJheVtpbmRleCArIDNdKSk7XG59XG5cblxuY2xhc3MgRkxWRGVtdXhlciB7XG5cbiAgY29uc3RydWN0b3IocHJvYmVEYXRhLCBjb25maWcpIHtcbiAgICB0aGlzLlRBRyA9ICdGTFZEZW11eGVyJztcblxuICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cbiAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgdGhpcy5fb25UcmFja01ldGFkYXRhID0gbnVsbDtcbiAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBudWxsO1xuXG4gICAgdGhpcy5fZGF0YU9mZnNldCA9IHByb2JlRGF0YS5kYXRhT2Zmc2V0O1xuICAgIHRoaXMuX2ZpcnN0UGFyc2UgPSB0cnVlO1xuICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG5cbiAgICB0aGlzLl9oYXNBdWRpbyA9IHByb2JlRGF0YS5oYXNBdWRpb1RyYWNrO1xuICAgIHRoaXMuX2hhc1ZpZGVvID0gcHJvYmVEYXRhLmhhc1ZpZGVvVHJhY2s7XG5cbiAgICB0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fbWVkaWFJbmZvID0gbmV3IE1lZGlhSW5mbygpO1xuICAgIHRoaXMuX21lZGlhSW5mby5oYXNBdWRpbyA9IHRoaXMuX2hhc0F1ZGlvO1xuICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgIHRoaXMuX21ldGFkYXRhID0gbnVsbDtcbiAgICB0aGlzLl9hdWRpb01ldGFkYXRhID0gbnVsbDtcbiAgICB0aGlzLl92aWRlb01ldGFkYXRhID0gbnVsbDtcblxuICAgIHRoaXMuX25hbHVMZW5ndGhTaXplID0gNDtcbiAgICB0aGlzLl90aW1lc3RhbXBCYXNlID0gMDsgIC8vIGludDMyLCBpbiBtaWxsaXNlY29uZHNcbiAgICB0aGlzLl90aW1lc2NhbGUgPSAxMDAwO1xuICAgIHRoaXMuX2R1cmF0aW9uID0gMDsgIC8vIGludDMyLCBpbiBtaWxsaXNlY29uZHNcbiAgICB0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZSA9IHtcbiAgICAgIGZpeGVkOiB0cnVlLFxuICAgICAgZnBzOiAyMy45NzYsXG4gICAgICBmcHNfbnVtOiAyMzk3NixcbiAgICAgIGZwc19kZW46IDEwMDBcbiAgICB9O1xuXG4gICAgdGhpcy5fZmx2U291bmRSYXRlVGFibGUgPSBbNTUwMCwgMTEwMjUsIDIyMDUwLCA0NDEwMCwgNDgwMDBdO1xuXG4gICAgdGhpcy5fbXBlZ1NhbXBsaW5nUmF0ZXMgPSBbXG4gICAgICA5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLFxuICAgICAgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXG4gICAgXTtcblxuICAgIHRoaXMuX21wZWdBdWRpb1YxMFNhbXBsZVJhdGVUYWJsZSA9IFs0NDEwMCwgNDgwMDAsIDMyMDAwLCAwXTtcbiAgICB0aGlzLl9tcGVnQXVkaW9WMjBTYW1wbGVSYXRlVGFibGUgPSBbMjIwNTAsIDI0MDAwLCAxNjAwMCwgMF07XG4gICAgdGhpcy5fbXBlZ0F1ZGlvVjI1U2FtcGxlUmF0ZVRhYmxlID0gWzExMDI1LCAxMjAwMCwgODAwMCwgMF07XG5cbiAgICB0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZSA9IFswLCAzMiwgNjQsIDk2LCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMjg4LCAzMjAsIDM1MiwgMzg0LCA0MTYsIDQ0OCwgLTFdO1xuICAgIHRoaXMuX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgMzg0LCAtMV07XG4gICAgdGhpcy5fbXBlZ0F1ZGlvTDNCaXRSYXRlVGFibGUgPSBbMCwgMzIsIDQwLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgLTFdO1xuXG4gICAgdGhpcy5fdmlkZW9UcmFjayA9IHt0eXBlOiAndmlkZW8nLCBpZDogMSwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW5ndGg6IDB9O1xuICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7dHlwZTogJ2F1ZGlvJywgaWQ6IDIsIHNlcXVlbmNlTnVtYmVyOiAwLCBzYW1wbGVzOiBbXSwgbGVuZ3RoOiAwfTtcblxuICAgIHRoaXMuX2xpdHRsZUVuZGlhbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgYnVmID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgICAgKG5ldyBEYXRhVmlldyhidWYpKS5zZXRJbnQxNigwLCAyNTYsIHRydWUpOyAgLy8gbGl0dGxlLWVuZGlhbiB3cml0ZVxuICAgICAgcmV0dXJuIChuZXcgSW50MTZBcnJheShidWYpKVswXSA9PT0gMjU2OyAgLy8gcGxhdGZvcm0tc3BlYyByZWFkLCBpZiBlcXVhbCB0aGVuIExFXG4gICAgfSkoKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fbWVkaWFJbmZvID0gbnVsbDtcbiAgICB0aGlzLl9tZXRhZGF0YSA9IG51bGw7XG4gICAgdGhpcy5fYXVkaW9NZXRhZGF0YSA9IG51bGw7XG4gICAgdGhpcy5fdmlkZW9NZXRhZGF0YSA9IG51bGw7XG4gICAgdGhpcy5fdmlkZW9UcmFjayA9IG51bGw7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IG51bGw7XG5cbiAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgdGhpcy5fb25UcmFja01ldGFkYXRhID0gbnVsbDtcbiAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBudWxsO1xuXG4gICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBwcm9iZShidWZmZXIpIHtcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgbGV0IG1pc21hdGNoID0ge21hdGNoOiBmYWxzZX07XG5cbiAgICBpZiAoZGF0YVswXSAhPT0gMHg0NiB8fCBkYXRhWzFdICE9PSAweDRDIHx8IGRhdGFbMl0gIT09IDB4NTYgfHwgZGF0YVszXSAhPT0gMHgwMSkge1xuICAgICAgcmV0dXJuIG1pc21hdGNoO1xuICAgIH1cblxuICAgIGxldCBoYXNBdWRpbyA9ICgoZGF0YVs0XSAmIDQpID4+PiAyKSAhPT0gMDtcbiAgICBsZXQgaGFzVmlkZW8gPSAoZGF0YVs0XSAmIDEpICE9PSAwO1xuXG4gICAgbGV0IG9mZnNldCA9IFJlYWRCaWczMihkYXRhLCA1KTtcblxuICAgIGlmIChvZmZzZXQgPCA5KSB7XG4gICAgICByZXR1cm4gbWlzbWF0Y2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoOiB0cnVlLFxuICAgICAgY29uc3VtZWQ6IG9mZnNldCxcbiAgICAgIGRhdGFPZmZzZXQ6IG9mZnNldCxcbiAgICAgIGhhc0F1ZGlvVHJhY2s6IGhhc0F1ZGlvLFxuICAgICAgaGFzVmlkZW9UcmFjazogaGFzVmlkZW9cbiAgICB9O1xuICB9XG5cbiAgYmluZERhdGFTb3VyY2UobG9hZGVyKSB7XG4gICAgbG9hZGVyLm9uRGF0YUFycml2YWwgPSB0aGlzLnBhcnNlQ2h1bmtzLmJpbmQodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKHR5cGU6IHN0cmluZywgbWV0YWRhdGE6IGFueSk6IHZvaWRcbiAgZ2V0IG9uVHJhY2tNZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb25UcmFja01ldGFkYXRhO1xuICB9XG5cbiAgc2V0IG9uVHJhY2tNZXRhZGF0YShjYWxsYmFjaykge1xuICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLy8gcHJvdG90eXBlOiBmdW5jdGlvbihtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWRcbiAgZ2V0IG9uTWVkaWFJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9vbk1lZGlhSW5mbztcbiAgfVxuXG4gIHNldCBvbk1lZGlhSW5mbyhjYWxsYmFjaykge1xuICAgIHRoaXMuX29uTWVkaWFJbmZvID0gY2FsbGJhY2s7XG4gIH1cblxuICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKHR5cGU6IG51bWJlciwgaW5mbzogc3RyaW5nKTogdm9pZFxuICBnZXQgb25FcnJvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fb25FcnJvcjtcbiAgfVxuXG4gIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fb25FcnJvciA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLy8gcHJvdG90eXBlOiBmdW5jdGlvbih2aWRlb1RyYWNrOiBhbnksIGF1ZGlvVHJhY2s6IGFueSk6IHZvaWRcbiAgZ2V0IG9uRGF0YUF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb25EYXRhQXZhaWxhYmxlO1xuICB9XG5cbiAgc2V0IG9uRGF0YUF2YWlsYWJsZShjYWxsYmFjaykge1xuICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSA9IGNhbGxiYWNrO1xuICB9XG5cbiAgLy8gdGltZXN0YW1wIGJhc2UgZm9yIG91dHB1dCBzYW1wbGVzLCBtdXN0IGJlIGluIG1pbGxpc2Vjb25kc1xuICBnZXQgdGltZXN0YW1wQmFzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wQmFzZTtcbiAgfVxuXG4gIHNldCB0aW1lc3RhbXBCYXNlKGJhc2UpIHtcbiAgICB0aGlzLl90aW1lc3RhbXBCYXNlID0gYmFzZTtcbiAgfVxuXG4gIGdldCBvdmVycmlkZWREdXJhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XG4gIH1cblxuICAvLyBGb3JjZS1vdmVycmlkZSBtZWRpYSBkdXJhdGlvbi4gTXVzdCBiZSBpbiBtaWxsaXNlY29uZHMsIGludDMyXG4gIHNldCBvdmVycmlkZWREdXJhdGlvbihkdXJhdGlvbikge1xuICAgIHRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICB9XG5cbiAgLy8gRm9yY2Utb3ZlcnJpZGUgYXVkaW8gdHJhY2sgcHJlc2VudCBmbGFnLCBib29sZWFuXG4gIHNldCBvdmVycmlkZWRIYXNBdWRpbyhoYXNBdWRpbykge1xuICAgIHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9IHRydWU7XG4gICAgdGhpcy5faGFzQXVkaW8gPSBoYXNBdWRpbztcbiAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSBoYXNBdWRpbztcbiAgfVxuXG4gIC8vIEZvcmNlLW92ZXJyaWRlIHZpZGVvIHRyYWNrIHByZXNlbnQgZmxhZywgYm9vbGVhblxuICBzZXQgb3ZlcnJpZGVkSGFzVmlkZW8oaGFzVmlkZW8pIHtcbiAgICB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPSB0cnVlO1xuICAgIHRoaXMuX2hhc1ZpZGVvID0gaGFzVmlkZW87XG4gICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gaGFzVmlkZW87XG4gIH1cblxuICByZXNldE1lZGlhSW5mbygpIHtcbiAgICB0aGlzLl9tZWRpYUluZm8gPSBuZXcgTWVkaWFJbmZvKCk7XG4gIH1cblxuICBfaXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkge1xuICAgIGlmICh0aGlzLl9oYXNBdWRpbyAmJiB0aGlzLl9oYXNWaWRlbykgeyAgLy8gYm90aCBhdWRpbyAmIHZpZGVvXG4gICAgICByZXR1cm4gdGhpcy5fYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkICYmIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2hhc0F1ZGlvICYmICF0aGlzLl9oYXNWaWRlbykgeyAgLy8gYXVkaW8gb25seVxuICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9oYXNBdWRpbyAmJiB0aGlzLl9oYXNWaWRlbykgeyAgLy8gdmlkZW8gb25seVxuICAgICAgcmV0dXJuIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gcGFyc2VDaHVua3MoY2h1bms6IEFycmF5QnVmZmVyLCBieXRlU3RhcnQ6IG51bWJlcik6IG51bWJlcjtcbiAgcGFyc2VDaHVua3MoY2h1bmssIGJ5dGVTdGFydCkge1xuICAgIGlmICghdGhpcy5fb25FcnJvciB8fCAhdGhpcy5fb25NZWRpYUluZm8gfHwgIXRoaXMuX29uVHJhY2tNZXRhZGF0YSB8fCAhdGhpcy5fb25EYXRhQXZhaWxhYmxlKSB7XG4gICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdGbHY6IG9uRXJyb3IgJiBvbk1lZGlhSW5mbyAmIG9uVHJhY2tNZXRhZGF0YSAmIG9uRGF0YUF2YWlsYWJsZSBjYWxsYmFjayBtdXN0IGJlIHNwZWNpZmllZCcpO1xuICAgIH1cblxuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGxldCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcblxuICAgIGlmIChieXRlU3RhcnQgPT09IDApIHsgIC8vIGJ1ZmZlciB3aXRoIEZMViBoZWFkZXJcbiAgICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoID4gMTMpIHtcbiAgICAgICAgbGV0IHByb2JlRGF0YSA9IEZMVkRlbXV4ZXIucHJvYmUoY2h1bmspO1xuICAgICAgICBvZmZzZXQgPSBwcm9iZURhdGEuZGF0YU9mZnNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9maXJzdFBhcnNlKSB7ICAvLyBoYW5kbGUgUHJldmlvdXNUYWdTaXplMCBiZWZvcmUgVGFnMVxuICAgICAgdGhpcy5fZmlyc3RQYXJzZSA9IGZhbHNlO1xuICAgICAgaWYgKGJ5dGVTdGFydCArIG9mZnNldCAhPT0gdGhpcy5fZGF0YU9mZnNldCkge1xuICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZpcnN0IHRpbWUgcGFyc2luZyBidXQgY2h1bmsgYnl0ZVN0YXJ0IGludmFsaWQhJyk7XG4gICAgICB9XG5cbiAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGNodW5rLCBvZmZzZXQpO1xuICAgICAgbGV0IHByZXZUYWdTaXplMCA9IHYuZ2V0VWludDMyKDAsICFsZSk7XG4gICAgICBpZiAocHJldlRhZ1NpemUwICE9PSAwKSB7XG4gICAgICAgIExvZy53KHRoaXMuVEFHLCAnUHJldlRhZ1NpemUwICE9PSAwICEhIScpO1xuICAgICAgfVxuICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9mZnNldCA8IGNodW5rLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoID0gdHJ1ZTtcblxuICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoY2h1bmssIG9mZnNldCk7XG5cbiAgICAgIGlmIChvZmZzZXQgKyAxMSArIDQgPiBjaHVuay5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIGRhdGEgbm90IGVub3VnaCBmb3IgcGFyc2luZyBhbiBmbHYgdGFnXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGFnVHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgICBsZXQgZGF0YVNpemUgPSB2LmdldFVpbnQzMigwLCAhbGUpICYgMHgwMEZGRkZGRjtcblxuICAgICAgaWYgKG9mZnNldCArIDExICsgZGF0YVNpemUgKyA0ID4gY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIHBhcnNpbmcgYWN0dWFsIGRhdGEgYm9keVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHRhZ1R5cGUgIT09IDggJiYgdGFnVHlwZSAhPT0gOSAmJiB0YWdUeXBlICE9PSAxOCkge1xuICAgICAgICBMb2cudyh0aGlzLlRBRywgYFVuc3VwcG9ydGVkIHRhZyB0eXBlICR7dGFnVHlwZX0sIHNraXBwZWRgKTtcbiAgICAgICAgLy8gY29uc3VtZSB0aGUgd2hvbGUgdGFnIChza2lwIGl0KVxuICAgICAgICBvZmZzZXQgKz0gMTEgKyBkYXRhU2l6ZSArIDQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgdHMyID0gdi5nZXRVaW50OCg0KTtcbiAgICAgIGxldCB0czEgPSB2LmdldFVpbnQ4KDUpO1xuICAgICAgbGV0IHRzMCA9IHYuZ2V0VWludDgoNik7XG4gICAgICBsZXQgdHMzID0gdi5nZXRVaW50OCg3KTtcblxuICAgICAgbGV0IHRpbWVzdGFtcCA9IHRzMCB8ICh0czEgPDwgOCkgfCAodHMyIDw8IDE2KSB8ICh0czMgPDwgMjQpO1xuXG4gICAgICBsZXQgc3RyZWFtSWQgPSB2LmdldFVpbnQzMig3LCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgIGlmIChzdHJlYW1JZCAhPT0gMCkge1xuICAgICAgICBMb2cudyh0aGlzLlRBRywgJ01lZXQgdGFnIHdoaWNoIGhhcyBTdHJlYW1JRCAhPSAwIScpO1xuICAgICAgfVxuXG4gICAgICBsZXQgZGF0YU9mZnNldCA9IG9mZnNldCArIDExO1xuXG4gICAgICBzd2l0Y2ggKHRhZ1R5cGUpIHtcbiAgICAgICAgY2FzZSA4OiAgLy8gQXVkaW9cbiAgICAgICAgICB0aGlzLl9wYXJzZUF1ZGlvRGF0YShjaHVuaywgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRpbWVzdGFtcCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTogIC8vIFZpZGVvXG4gICAgICAgICAgdGhpcy5fcGFyc2VWaWRlb0RhdGEoY2h1bmssIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0aW1lc3RhbXAsIGJ5dGVTdGFydCArIG9mZnNldCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6ICAvLyBTY3JpcHREYXRhT2JqZWN0XG4gICAgICAgICAgdGhpcy5fcGFyc2VTY3JpcHREYXRhKGNodW5rLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxldCBwcmV2VGFnU2l6ZSA9IHYuZ2V0VWludDMyKDExICsgZGF0YVNpemUsICFsZSk7XG4gICAgICBpZiAocHJldlRhZ1NpemUgIT09IDExICsgZGF0YVNpemUpIHtcbiAgICAgICAgTG9nLncodGhpcy5UQUcsIGBJbnZhbGlkIFByZXZUYWdTaXplICR7cHJldlRhZ1NpemV9YCk7XG4gICAgICB9XG5cbiAgICAgIG9mZnNldCArPSAxMSArIGRhdGFTaXplICsgNDsgIC8vIHRhZ0JvZHkgKyBkYXRhU2l6ZSArIHByZXZUYWdTaXplXG4gICAgfVxuXG4gICAgLy8gZGlzcGF0Y2ggcGFyc2VkIGZyYW1lcyB0byBjb25zdW1lciAodHlwaWNhbGx5LCB0aGUgcmVtdXhlcilcbiAgICBpZiAodGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkpIHtcbiAgICAgIGlmICh0aGlzLl9kaXNwYXRjaCAmJiAodGhpcy5fYXVkaW9UcmFjay5sZW5ndGggfHwgdGhpcy5fdmlkZW9UcmFjay5sZW5ndGgpKSB7XG4gICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2Zmc2V0OyAgLy8gY29uc3VtZWQgYnl0ZXMsIGp1c3QgZXF1YWxzIGxhdGVzdCBvZmZzZXQgaW5kZXhcbiAgfVxuXG4gIF9wYXJzZVNjcmlwdERhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgbGV0IHNjcmlwdERhdGEgPSBBTUYucGFyc2VTY3JpcHREYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICBpZiAoc2NyaXB0RGF0YS5oYXNPd25Qcm9wZXJ0eSgnb25NZXRhRGF0YScpKSB7XG4gICAgICBpZiAoc2NyaXB0RGF0YS5vbk1ldGFEYXRhID09IG51bGwgfHwgdHlwZW9mIHNjcmlwdERhdGEub25NZXRhRGF0YSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgTG9nLncodGhpcy5UQUcsICdJbnZhbGlkIG9uTWV0YURhdGEgc3RydWN0dXJlIScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fbWV0YWRhdGEpIHtcbiAgICAgICAgTG9nLncodGhpcy5UQUcsICdGb3VuZCBhbm90aGVyIG9uTWV0YURhdGEgdGFnIScpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbWV0YWRhdGEgPSBzY3JpcHREYXRhO1xuICAgICAgbGV0IG9uTWV0YURhdGEgPSB0aGlzLl9tZXRhZGF0YS5vbk1ldGFEYXRhO1xuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KCdtZXRhZGF0YV9hcnJpdmVkJywgb25NZXRhRGF0YSk7XG5cbiAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5oYXNBdWRpbyA9PT0gJ2Jvb2xlYW4nKSB7ICAvLyBoYXNBdWRpb1xuICAgICAgICBpZiAodGhpcy5faGFzQXVkaW9GbGFnT3ZlcnJpZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMuX2hhc0F1ZGlvID0gb25NZXRhRGF0YS5oYXNBdWRpbztcbiAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhhc1ZpZGVvID09PSAnYm9vbGVhbicpIHsgIC8vIGhhc1ZpZGVvXG4gICAgICAgIGlmICh0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBvbk1ldGFEYXRhLmhhc1ZpZGVvO1xuICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuYXVkaW9kYXRhcmF0ZSA9PT0gJ251bWJlcicpIHsgIC8vIGF1ZGlvZGF0YXJhdGVcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmF1ZGlvRGF0YVJhdGUgPSBvbk1ldGFEYXRhLmF1ZGlvZGF0YXJhdGU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEudmlkZW9kYXRhcmF0ZSA9PT0gJ251bWJlcicpIHsgIC8vIHZpZGVvZGF0YXJhdGVcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnZpZGVvRGF0YVJhdGUgPSBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEud2lkdGggPT09ICdudW1iZXInKSB7ICAvLyB3aWR0aFxuICAgICAgICB0aGlzLl9tZWRpYUluZm8ud2lkdGggPSBvbk1ldGFEYXRhLndpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhlaWdodCA9PT0gJ251bWJlcicpIHsgIC8vIGhlaWdodFxuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGVpZ2h0ID0gb25NZXRhRGF0YS5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuZHVyYXRpb24gPT09ICdudW1iZXInKSB7ICAvLyBkdXJhdGlvblxuICAgICAgICBpZiAoIXRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkKSB7XG4gICAgICAgICAgbGV0IGR1cmF0aW9uID0gTWF0aC5mbG9vcihvbk1ldGFEYXRhLmR1cmF0aW9uICogdGhpcy5fdGltZXNjYWxlKTtcbiAgICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uZHVyYXRpb24gPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmZyYW1lcmF0ZSA9PT0gJ251bWJlcicpIHsgIC8vIGZyYW1lcmF0ZVxuICAgICAgICBsZXQgZnBzX251bSA9IE1hdGguZmxvb3Iob25NZXRhRGF0YS5mcmFtZXJhdGUgKiAxMDAwKTtcbiAgICAgICAgaWYgKGZwc19udW0gPiAwKSB7XG4gICAgICAgICAgbGV0IGZwcyA9IGZwc19udW0gLyAxMDAwO1xuICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5maXhlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwcyA9IGZwcztcbiAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzX251bSA9IGZwc19udW07XG4gICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwc19kZW4gPSAxMDAwO1xuICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5mcHMgPSBmcHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5rZXlmcmFtZXMgPT09ICdvYmplY3QnKSB7ICAvLyBrZXlmcmFtZXNcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4ID0gdHJ1ZTtcbiAgICAgICAgbGV0IGtleWZyYW1lcyA9IG9uTWV0YURhdGEua2V5ZnJhbWVzO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8ua2V5ZnJhbWVzSW5kZXggPSB0aGlzLl9wYXJzZUtleWZyYW1lc0luZGV4KGtleWZyYW1lcyk7XG4gICAgICAgIG9uTWV0YURhdGEua2V5ZnJhbWVzID0gbnVsbDsgIC8vIGtleWZyYW1lcyBoYXMgYmVlbiBleHRyYWN0ZWQsIHJlbW92ZSBpdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgICAgdGhpcy5fbWVkaWFJbmZvLm1ldGFkYXRhID0gb25NZXRhRGF0YTtcbiAgICAgIExvZy52KHRoaXMuVEFHLCAnUGFyc2VkIG9uTWV0YURhdGEnKTtcbiAgICAgIGlmICh0aGlzLl9tZWRpYUluZm8uaXNDb21wbGV0ZSgpKSB7XG4gICAgICAgIHRoaXMuX29uTWVkaWFJbmZvKHRoaXMuX21lZGlhSW5mbyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlS2V5ZnJhbWVzSW5kZXgoa2V5ZnJhbWVzKSB7XG4gICAgbGV0IHRpbWVzID0gW107XG4gICAgbGV0IGZpbGVwb3NpdGlvbnMgPSBbXTtcblxuICAgIC8vIGlnbm9yZSBmaXJzdCBrZXlmcmFtZSB3aGljaCBpcyBhY3R1YWxseSBBVkMgU2VxdWVuY2UgSGVhZGVyIChBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZClcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGtleWZyYW1lcy50aW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHRpbWUgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgTWF0aC5mbG9vcihrZXlmcmFtZXMudGltZXNbaV0gKiAxMDAwKTtcbiAgICAgIHRpbWVzLnB1c2godGltZSk7XG4gICAgICBmaWxlcG9zaXRpb25zLnB1c2goa2V5ZnJhbWVzLmZpbGVwb3NpdGlvbnNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0aW1lczogdGltZXMsXG4gICAgICBmaWxlcG9zaXRpb25zOiBmaWxlcG9zaXRpb25zXG4gICAgfTtcbiAgfVxuXG4gIF9wYXJzZUF1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCkge1xuICAgIGlmIChkYXRhU2l6ZSA8PSAxKSB7XG4gICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBhdWRpbyBwYWNrZXQsIG1pc3NpbmcgU291bmREYXRhIHBheWxvYWQhJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9PT0gdHJ1ZSAmJiB0aGlzLl9oYXNBdWRpbyA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElmIGhhc0F1ZGlvOiBmYWxzZSBpbmRpY2F0ZWQgZXhwbGljaXRseSBpbiBNZWRpYURhdGFTb3VyY2UsXG4gICAgICAvLyBJZ25vcmUgYWxsIHRoZSBhdWRpbyBwYWNrZXRzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICBsZXQgc291bmRTcGVjID0gdi5nZXRVaW50OCgwKTtcblxuICAgIGxldCBzb3VuZEZvcm1hdCA9IHNvdW5kU3BlYyA+Pj4gNDtcbiAgICBpZiAoc291bmRGb3JtYXQgIT09IDIgJiYgc291bmRGb3JtYXQgIT09IDEwKSB7ICAvLyBNUDMgb3IgQUFDXG4gICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVELCAnRmx2OiBVbnN1cHBvcnRlZCBhdWRpbyBjb2RlYyBpZHg6ICcgKyBzb3VuZEZvcm1hdCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHNvdW5kUmF0ZSA9IDA7XG4gICAgbGV0IHNvdW5kUmF0ZUluZGV4ID0gKHNvdW5kU3BlYyAmIDEyKSA+Pj4gMjtcbiAgICBpZiAoc291bmRSYXRlSW5kZXggPj0gMCAmJiBzb3VuZFJhdGVJbmRleCA8PSA0KSB7XG4gICAgICBzb3VuZFJhdGUgPSB0aGlzLl9mbHZTb3VuZFJhdGVUYWJsZVtzb3VuZFJhdGVJbmRleF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIGF1ZGlvIHNhbXBsZSByYXRlIGlkeDogJyArIHNvdW5kUmF0ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgc291bmRTaXplID0gKHNvdW5kU3BlYyAmIDIpID4+PiAxOyAgLy8gdW51c2VkXG4gICAgbGV0IHNvdW5kVHlwZSA9IChzb3VuZFNwZWMgJiAxKTtcblxuXG4gICAgbGV0IG1ldGEgPSB0aGlzLl9hdWRpb01ldGFkYXRhO1xuICAgIGxldCB0cmFjayA9IHRoaXMuX2F1ZGlvVHJhY2s7XG5cbiAgICBpZiAoIW1ldGEpIHtcbiAgICAgIGlmICh0aGlzLl9oYXNBdWRpbyA9PT0gZmFsc2UgJiYgdGhpcy5faGFzQXVkaW9GbGFnT3ZlcnJpZGVkID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IHRydWU7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNBdWRpbyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGluaXRpYWwgbWV0YWRhdGFcbiAgICAgIG1ldGEgPSB0aGlzLl9hdWRpb01ldGFkYXRhID0ge307XG4gICAgICBtZXRhLnR5cGUgPSAnYXVkaW8nO1xuICAgICAgbWV0YS5pZCA9IHRyYWNrLmlkO1xuICAgICAgbWV0YS50aW1lc2NhbGUgPSB0aGlzLl90aW1lc2NhbGU7XG4gICAgICBtZXRhLmR1cmF0aW9uID0gdGhpcy5fZHVyYXRpb247XG4gICAgICBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSA9IHNvdW5kUmF0ZTtcbiAgICAgIG1ldGEuY2hhbm5lbENvdW50ID0gKHNvdW5kVHlwZSA9PT0gMCA/IDEgOiAyKTtcbiAgICB9XG5cbiAgICBpZiAoc291bmRGb3JtYXQgPT09IDEwKSB7ICAvLyBBQUNcbiAgICAgIGxldCBhYWNEYXRhID0gdGhpcy5fcGFyc2VBQUNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgaWYgKGFhY0RhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFhY0RhdGEucGFja2V0VHlwZSA9PT0gMCkgeyAgLy8gQUFDIHNlcXVlbmNlIGhlYWRlciAoQXVkaW9TcGVjaWZpY0NvbmZpZylcbiAgICAgICAgaWYgKG1ldGEuY29uZmlnKSB7XG4gICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGb3VuZCBhbm90aGVyIEF1ZGlvU3BlY2lmaWNDb25maWchJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1pc2MgPSBhYWNEYXRhLmRhdGE7XG4gICAgICAgIG1ldGEuYXVkaW9TYW1wbGVSYXRlID0gbWlzYy5zYW1wbGluZ1JhdGU7XG4gICAgICAgIG1ldGEuY2hhbm5lbENvdW50ID0gbWlzYy5jaGFubmVsQ291bnQ7XG4gICAgICAgIG1ldGEuY29kZWMgPSBtaXNjLmNvZGVjO1xuICAgICAgICBtZXRhLm9yaWdpbmFsQ29kZWMgPSBtaXNjLm9yaWdpbmFsQ29kZWM7XG4gICAgICAgIG1ldGEuY29uZmlnID0gbWlzYy5jb25maWc7XG4gICAgICAgIC8vIFRoZSBkZWNvZGUgcmVzdWx0IG9mIGFuIGFhYyBzYW1wbGUgaXMgMTAyNCBQQ00gc2FtcGxlc1xuICAgICAgICBtZXRhLnJlZlNhbXBsZUR1cmF0aW9uID0gMTAyNCAvIG1ldGEuYXVkaW9TYW1wbGVSYXRlICogbWV0YS50aW1lc2NhbGU7XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnUGFyc2VkIEF1ZGlvU3BlY2lmaWNDb25maWcnKTtcblxuICAgICAgICBpZiAodGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkpIHtcbiAgICAgICAgICAvLyBOb24taW5pdGlhbCBtZXRhZGF0YSwgZm9yY2UgZGlzcGF0Y2ggKG9yIGZsdXNoKSBwYXJzZWQgZnJhbWVzIHRvIHJlbXV4ZXJcbiAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25EYXRhQXZhaWxhYmxlKHRoaXMuX2F1ZGlvVHJhY2ssIHRoaXMuX3ZpZGVvVHJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4gbm90aWZ5IG5ldyBtZXRhZGF0YVxuICAgICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEoJ2F1ZGlvJywgbWV0YSk7XG5cbiAgICAgICAgbGV0IG1pID0gdGhpcy5fbWVkaWFJbmZvO1xuICAgICAgICBtaS5hdWRpb0NvZGVjID0gbWV0YS5vcmlnaW5hbENvZGVjO1xuICAgICAgICBtaS5hdWRpb1NhbXBsZVJhdGUgPSBtZXRhLmF1ZGlvU2FtcGxlUmF0ZTtcbiAgICAgICAgbWkuYXVkaW9DaGFubmVsQ291bnQgPSBtZXRhLmNoYW5uZWxDb3VudDtcbiAgICAgICAgaWYgKG1pLmhhc1ZpZGVvKSB7XG4gICAgICAgICAgaWYgKG1pLnZpZGVvQ29kZWMgIT0gbnVsbCkge1xuICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJywnICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgIHRoaXMuX29uTWVkaWFJbmZvKG1pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhYWNEYXRhLnBhY2tldFR5cGUgPT09IDEpIHsgIC8vIEFBQyByYXcgZnJhbWUgZGF0YVxuICAgICAgICBsZXQgZHRzID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIHRhZ1RpbWVzdGFtcDtcbiAgICAgICAgbGV0IGFhY1NhbXBsZSA9IHt1bml0OiBhYWNEYXRhLmRhdGEsIGxlbmd0aDogYWFjRGF0YS5kYXRhLmJ5dGVMZW5ndGgsIGR0czogZHRzLCBwdHM6IGR0c307XG4gICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChhYWNTYW1wbGUpO1xuICAgICAgICB0cmFjay5sZW5ndGggKz0gYWFjRGF0YS5kYXRhLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZy5lKHRoaXMuVEFHLCBgRmx2OiBVbnN1cHBvcnRlZCBBQUMgZGF0YSB0eXBlICR7YWFjRGF0YS5wYWNrZXRUeXBlfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc291bmRGb3JtYXQgPT09IDIpIHsgIC8vIE1QM1xuICAgICAgaWYgKCFtZXRhLmNvZGVjKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgbWV0YWRhdGEgZm9yIG1wMyBhdWRpbyB0cmFjaywgZXh0cmFjdCBpbmZvIGZyb20gZnJhbWUgaGVhZGVyXG4gICAgICAgIGxldCBtaXNjID0gdGhpcy5fcGFyc2VNUDNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEsIHRydWUpO1xuICAgICAgICBpZiAobWlzYyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWV0YS5hdWRpb1NhbXBsZVJhdGUgPSBtaXNjLnNhbXBsaW5nUmF0ZTtcbiAgICAgICAgbWV0YS5jaGFubmVsQ291bnQgPSBtaXNjLmNoYW5uZWxDb3VudDtcbiAgICAgICAgbWV0YS5jb2RlYyA9IG1pc2MuY29kZWM7XG4gICAgICAgIG1ldGEub3JpZ2luYWxDb2RlYyA9IG1pc2Mub3JpZ2luYWxDb2RlYztcbiAgICAgICAgLy8gVGhlIGRlY29kZSByZXN1bHQgb2YgYW4gbXAzIHNhbXBsZSBpcyAxMTUyIFBDTSBzYW1wbGVzXG4gICAgICAgIG1ldGEucmVmU2FtcGxlRHVyYXRpb24gPSAxMTUyIC8gbWV0YS5hdWRpb1NhbXBsZVJhdGUgKiBtZXRhLnRpbWVzY2FsZTtcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdQYXJzZWQgTVBFRyBBdWRpbyBGcmFtZSBIZWFkZXInKTtcblxuICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEoJ2F1ZGlvJywgbWV0YSk7XG5cbiAgICAgICAgbGV0IG1pID0gdGhpcy5fbWVkaWFJbmZvO1xuICAgICAgICBtaS5hdWRpb0NvZGVjID0gbWV0YS5jb2RlYztcbiAgICAgICAgbWkuYXVkaW9TYW1wbGVSYXRlID0gbWV0YS5hdWRpb1NhbXBsZVJhdGU7XG4gICAgICAgIG1pLmF1ZGlvQ2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnQ7XG4gICAgICAgIG1pLmF1ZGlvRGF0YVJhdGUgPSBtaXNjLmJpdFJhdGU7XG4gICAgICAgIGlmIChtaS5oYXNWaWRlbykge1xuICAgICAgICAgIGlmIChtaS52aWRlb0NvZGVjICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICcsJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaS5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyhtaSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyBwYWNrZXQgaXMgYWx3YXlzIGEgdmFsaWQgYXVkaW8gcGFja2V0LCBleHRyYWN0IGl0XG4gICAgICBsZXQgZGF0YSA9IHRoaXMuX3BhcnNlTVAzQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxLCBmYWxzZSk7XG4gICAgICBpZiAoZGF0YSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGR0cyA9IHRoaXMuX3RpbWVzdGFtcEJhc2UgKyB0YWdUaW1lc3RhbXA7XG4gICAgICBsZXQgbXAzU2FtcGxlID0ge3VuaXQ6IGRhdGEsIGxlbmd0aDogZGF0YS5ieXRlTGVuZ3RoLCBkdHM6IGR0cywgcHRzOiBkdHN9O1xuICAgICAgdHJhY2suc2FtcGxlcy5wdXNoKG1wM1NhbXBsZSk7XG4gICAgICB0cmFjay5sZW5ndGggKz0gZGF0YS5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlQUFDQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgIGlmIChkYXRhU2l6ZSA8PSAxKSB7XG4gICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBBQUMgcGFja2V0LCBtaXNzaW5nIEFBQ1BhY2tldFR5cGUgb3IvYW5kIERhdGEhJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGxldCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICByZXN1bHQucGFja2V0VHlwZSA9IGFycmF5WzBdO1xuXG4gICAgaWYgKGFycmF5WzBdID09PSAwKSB7XG4gICAgICByZXN1bHQuZGF0YSA9IHRoaXMuX3BhcnNlQUFDQXVkaW9TcGVjaWZpY0NvbmZpZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5kYXRhID0gYXJyYXkuc3ViYXJyYXkoMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIF9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICBsZXQgY29uZmlnID0gbnVsbDtcblxuICAgIC8qIEF1ZGlvIE9iamVjdCBUeXBlOlxuICAgICAgIDA6IE51bGxcbiAgICAgICAxOiBBQUMgTWFpblxuICAgICAgIDI6IEFBQyBMQ1xuICAgICAgIDM6IEFBQyBTU1IgKFNjYWxhYmxlIFNhbXBsZSBSYXRlKVxuICAgICAgIDQ6IEFBQyBMVFAgKExvbmcgVGVybSBQcmVkaWN0aW9uKVxuICAgICAgIDU6IEhFLUFBQyAvIFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbilcbiAgICAgICA2OiBBQUMgU2NhbGFibGVcbiAgICAqL1xuXG4gICAgbGV0IGF1ZGlvT2JqZWN0VHlwZSA9IDA7XG4gICAgbGV0IG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICBsZXQgYXVkaW9FeHRlbnNpb25PYmplY3RUeXBlID0gbnVsbDtcbiAgICBsZXQgc2FtcGxpbmdJbmRleCA9IDA7XG4gICAgbGV0IGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBudWxsO1xuXG4gICAgLy8gNSBiaXRzXG4gICAgYXVkaW9PYmplY3RUeXBlID0gb3JpZ2luYWxBdWRpb09iamVjdFR5cGUgPSBhcnJheVswXSA+Pj4gMztcbiAgICAvLyA0IGJpdHNcbiAgICBzYW1wbGluZ0luZGV4ID0gKChhcnJheVswXSAmIDB4MDcpIDw8IDEpIHwgKGFycmF5WzFdID4+PiA3KTtcbiAgICBpZiAoc2FtcGxpbmdJbmRleCA8IDAgfHwgc2FtcGxpbmdJbmRleCA+PSB0aGlzLl9tcGVnU2FtcGxpbmdSYXRlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBBQUMgaW52YWxpZCBzYW1wbGluZyBmcmVxdWVuY3kgaW5kZXghJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHNhbXBsaW5nRnJlcXVlbmNlID0gdGhpcy5fbXBlZ1NhbXBsaW5nUmF0ZXNbc2FtcGxpbmdJbmRleF07XG5cbiAgICAvLyA0IGJpdHNcbiAgICBsZXQgY2hhbm5lbENvbmZpZyA9IChhcnJheVsxXSAmIDB4NzgpID4+PiAzO1xuICAgIGlmIChjaGFubmVsQ29uZmlnIDwgMCB8fCBjaGFubmVsQ29uZmlnID49IDgpIHtcbiAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBBQUMgaW52YWxpZCBjaGFubmVsIGNvbmZpZ3VyYXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYXVkaW9PYmplY3RUeXBlID09PSA1KSB7ICAvLyBIRS1BQUM/XG4gICAgICAvLyA0IGJpdHNcbiAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSAoKGFycmF5WzFdICYgMHgwNykgPDwgMSkgfCAoYXJyYXlbMl0gPj4+IDcpO1xuICAgICAgLy8gNSBiaXRzXG4gICAgICBhdWRpb0V4dGVuc2lvbk9iamVjdFR5cGUgPSAoYXJyYXlbMl0gJiAweDdDKSA+Pj4gMjtcbiAgICB9XG5cbiAgICAvLyB3b3JrYXJvdW5kcyBmb3IgdmFyaW91cyBicm93c2Vyc1xuICAgIGxldCB1c2VyQWdlbnQgPSBzZWxmLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgLy8gZmlyZWZveDogdXNlIFNCUiAoSEUtQUFDKSBpZiBmcmVxIGxlc3MgdGhhbiAyNGtIelxuICAgICAgaWYgKHNhbXBsaW5nSW5kZXggPj0gNikge1xuICAgICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG4gICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4IC0gMztcbiAgICAgIH0gZWxzZSB7ICAvLyB1c2UgTEMtQUFDXG4gICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSkge1xuICAgICAgLy8gYW5kcm9pZDogYWx3YXlzIHVzZSBMQy1BQUNcbiAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yIG90aGVyIGJyb3dzZXJzLCBlLmcuIGNocm9tZS4uLlxuICAgICAgLy8gQWx3YXlzIHVzZSBIRS1BQUMgdG8gbWFrZSBpdCBlYXNpZXIgdG8gc3dpdGNoIGFhYyBjb2RlYyBwcm9maWxlXG4gICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG5cbiAgICAgIGlmIChzYW1wbGluZ0luZGV4ID49IDYpIHtcbiAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXggLSAzO1xuICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ29uZmlnID09PSAxKSB7ICAvLyBNb25vIGNoYW5uZWxcbiAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25maWdbMF0gPSBhdWRpb09iamVjdFR5cGUgPDwgMztcbiAgICBjb25maWdbMF0gfD0gKHNhbXBsaW5nSW5kZXggJiAweDBGKSA+Pj4gMTtcbiAgICBjb25maWdbMV0gPSAoc2FtcGxpbmdJbmRleCAmIDB4MEYpIDw8IDc7XG4gICAgY29uZmlnWzFdIHw9IChjaGFubmVsQ29uZmlnICYgMHgwRikgPDwgMztcbiAgICBpZiAoYXVkaW9PYmplY3RUeXBlID09PSA1KSB7XG4gICAgICBjb25maWdbMV0gfD0gKChleHRlbnNpb25TYW1wbGluZ0luZGV4ICYgMHgwRikgPj4+IDEpO1xuICAgICAgY29uZmlnWzJdID0gKGV4dGVuc2lvblNhbXBsaW5nSW5kZXggJiAweDAxKSA8PCA3O1xuICAgICAgLy8gZXh0ZW5kZWQgYXVkaW8gb2JqZWN0IHR5cGU6IGZvcmNlIHRvIDIgKExDLUFBQylcbiAgICAgIGNvbmZpZ1syXSB8PSAoMiA8PCAyKTtcbiAgICAgIGNvbmZpZ1szXSA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgc2FtcGxpbmdSYXRlOiBzYW1wbGluZ0ZyZXF1ZW5jZSxcbiAgICAgIGNoYW5uZWxDb3VudDogY2hhbm5lbENvbmZpZyxcbiAgICAgIGNvZGVjOiAnbXA0YS40MC4nICsgYXVkaW9PYmplY3RUeXBlLFxuICAgICAgb3JpZ2luYWxDb2RlYzogJ21wNGEuNDAuJyArIG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlXG4gICAgfTtcbiAgfVxuXG4gIF9wYXJzZU1QM0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHJlcXVlc3RIZWFkZXIpIHtcbiAgICBpZiAoZGF0YVNpemUgPCA0KSB7XG4gICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBNUDMgcGFja2V0LCBoZWFkZXIgbWlzc2luZyEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbGUgPSB0aGlzLl9saXR0bGVFbmRpYW47XG4gICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgIGlmIChyZXF1ZXN0SGVhZGVyKSB7XG4gICAgICBpZiAoYXJyYXlbMF0gIT09IDB4RkYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHZlciA9IChhcnJheVsxXSA+Pj4gMykgJiAweDAzO1xuICAgICAgbGV0IGxheWVyID0gKGFycmF5WzFdICYgMHgwNikgPj4gMTtcblxuICAgICAgbGV0IGJpdHJhdGVfaW5kZXggPSAoYXJyYXlbMl0gJiAweEYwKSA+Pj4gNDtcbiAgICAgIGxldCBzYW1wbGluZ19mcmVxX2luZGV4ID0gKGFycmF5WzJdICYgMHgwQykgPj4+IDI7XG5cbiAgICAgIGxldCBjaGFubmVsX21vZGUgPSAoYXJyYXlbM10gPj4+IDYpICYgMHgwMztcbiAgICAgIGxldCBjaGFubmVsX2NvdW50ID0gY2hhbm5lbF9tb2RlICE9PSAzID8gMiA6IDE7XG5cbiAgICAgIGxldCBzYW1wbGVfcmF0ZSA9IDA7XG4gICAgICBsZXQgYml0X3JhdGUgPSAwO1xuICAgICAgbGV0IG9iamVjdF90eXBlID0gMzQ7ICAvLyBMYXllci0zLCBsaXN0ZWQgaW4gTVBFRy00IEF1ZGlvIE9iamVjdCBUeXBlc1xuXG4gICAgICBsZXQgY29kZWMgPSAnbXAzJztcblxuICAgICAgc3dpdGNoICh2ZXIpIHtcbiAgICAgICAgY2FzZSAwOiAgLy8gTVBFRyAyLjVcbiAgICAgICAgICBzYW1wbGVfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb1YyNVNhbXBsZVJhdGVUYWJsZVtzYW1wbGluZ19mcmVxX2luZGV4XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOiAgLy8gTVBFRyAyXG4gICAgICAgICAgc2FtcGxlX3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9WMjBTYW1wbGVSYXRlVGFibGVbc2FtcGxpbmdfZnJlcV9pbmRleF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogIC8vIE1QRUcgMVxuICAgICAgICAgIHNhbXBsZV9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvVjEwU2FtcGxlUmF0ZVRhYmxlW3NhbXBsaW5nX2ZyZXFfaW5kZXhdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGxheWVyKSB7XG4gICAgICAgIGNhc2UgMTogIC8vIExheWVyIDNcbiAgICAgICAgICBvYmplY3RfdHlwZSA9IDM0O1xuICAgICAgICAgIGlmIChiaXRyYXRlX2luZGV4IDwgdGhpcy5fbXBlZ0F1ZGlvTDNCaXRSYXRlVGFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBiaXRfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlW2JpdHJhdGVfaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOiAgLy8gTGF5ZXIgMlxuICAgICAgICAgIG9iamVjdF90eXBlID0gMzM7XG4gICAgICAgICAgaWYgKGJpdHJhdGVfaW5kZXggPCB0aGlzLl9tcGVnQXVkaW9MMkJpdFJhdGVUYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJpdF9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvTDJCaXRSYXRlVGFibGVbYml0cmF0ZV9pbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6ICAvLyBMYXllciAxXG4gICAgICAgICAgb2JqZWN0X3R5cGUgPSAzMjtcbiAgICAgICAgICBpZiAoYml0cmF0ZV9pbmRleCA8IHRoaXMuX21wZWdBdWRpb0wxQml0UmF0ZVRhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgYml0X3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZVtiaXRyYXRlX2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgYml0UmF0ZTogYml0X3JhdGUsXG4gICAgICAgIHNhbXBsaW5nUmF0ZTogc2FtcGxlX3JhdGUsXG4gICAgICAgIGNoYW5uZWxDb3VudDogY2hhbm5lbF9jb3VudCxcbiAgICAgICAgY29kZWM6IGNvZGVjLFxuICAgICAgICBvcmlnaW5hbENvZGVjOiBjb2RlY1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXJyYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIF9wYXJzZVZpZGVvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24pIHtcbiAgICBpZiAoZGF0YVNpemUgPD0gMSkge1xuICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgdmlkZW8gcGFja2V0LCBtaXNzaW5nIFZpZGVvRGF0YSBwYXlsb2FkIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPT09IHRydWUgJiYgdGhpcy5faGFzVmlkZW8gPT09IGZhbHNlKSB7XG4gICAgICAvLyBJZiBoYXNWaWRlbzogZmFsc2UgaW5kaWNhdGVkIGV4cGxpY2l0bHkgaW4gTWVkaWFEYXRhU291cmNlLFxuICAgICAgLy8gSWdub3JlIGFsbCB0aGUgdmlkZW8gcGFja2V0c1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzcGVjID0gKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkpWzBdO1xuXG4gICAgbGV0IGZyYW1lVHlwZSA9IChzcGVjICYgMjQwKSA+Pj4gNDtcbiAgICBsZXQgY29kZWNJZCA9IHNwZWMgJiAxNTtcblxuICAgIGlmIChjb2RlY0lkICE9PSA3KSB7XG4gICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVELCBgRmx2OiBVbnN1cHBvcnRlZCBjb2RlYyBpbiB2aWRlbyBmcmFtZTogJHtjb2RlY0lkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3BhcnNlQVZDVmlkZW9QYWNrZXQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSk7XG4gIH1cblxuICBfcGFyc2VBVkNWaWRlb1BhY2tldChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSkge1xuICAgIGlmIChkYXRhU2l6ZSA8IDQpIHtcbiAgICAgIExvZy53KHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIEFWQyBwYWNrZXQsIG1pc3NpbmcgQVZDUGFja2V0VHlwZSBvci9hbmQgQ29tcG9zaXRpb25UaW1lJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICBsZXQgcGFja2V0VHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgbGV0IGN0c191bnNpZ25lZCA9IHYuZ2V0VWludDMyKDAsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgIGxldCBjdHMgPSAoY3RzX3Vuc2lnbmVkIDw8IDgpID4+IDg7ICAvLyBjb252ZXJ0IHRvIDI0LWJpdCBzaWduZWQgaW50XG5cbiAgICBpZiAocGFja2V0VHlwZSA9PT0gMCkgeyAgLy8gQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmRcbiAgICAgIHRoaXMuX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBkYXRhU2l6ZSAtIDQpO1xuICAgIH0gZWxzZSBpZiAocGFja2V0VHlwZSA9PT0gMSkgeyAgLy8gT25lIG9yIG1vcmUgTmFsdXNcbiAgICAgIHRoaXMuX3BhcnNlQVZDVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgNCwgZGF0YVNpemUgLSA0LCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUsIGN0cyk7XG4gICAgfSBlbHNlIGlmIChwYWNrZXRUeXBlID09PSAyKSB7XG4gICAgICAvLyBlbXB0eSwgQVZDIGVuZCBvZiBzZXF1ZW5jZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgYEZsdjogSW52YWxpZCB2aWRlbyBwYWNrZXQgdHlwZSAke3BhY2tldFR5cGV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgaWYgKGRhdGFTaXplIDwgNykge1xuICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQsIGxhY2sgb2YgZGF0YSEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWV0YSA9IHRoaXMuX3ZpZGVvTWV0YWRhdGE7XG4gICAgbGV0IHRyYWNrID0gdGhpcy5fdmlkZW9UcmFjaztcbiAgICBsZXQgbGUgPSB0aGlzLl9saXR0bGVFbmRpYW47XG4gICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgIGlmICghbWV0YSkge1xuICAgICAgaWYgKHRoaXMuX2hhc1ZpZGVvID09PSBmYWxzZSAmJiB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX2hhc1ZpZGVvID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgbWV0YSA9IHRoaXMuX3ZpZGVvTWV0YWRhdGEgPSB7fTtcbiAgICAgIG1ldGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICBtZXRhLmlkID0gdHJhY2suaWQ7XG4gICAgICBtZXRhLnRpbWVzY2FsZSA9IHRoaXMuX3RpbWVzY2FsZTtcbiAgICAgIG1ldGEuZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBtZXRhLmF2Y2MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIExvZy53KHRoaXMuVEFHLCAnRm91bmQgYW5vdGhlciBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCEnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgdmVyc2lvbiA9IHYuZ2V0VWludDgoMCk7ICAvLyBjb25maWd1cmF0aW9uVmVyc2lvblxuICAgIGxldCBhdmNQcm9maWxlID0gdi5nZXRVaW50OCgxKTsgIC8vIGF2Y1Byb2ZpbGVJbmRpY2F0aW9uXG4gICAgbGV0IHByb2ZpbGVDb21wYXRpYmlsaXR5ID0gdi5nZXRVaW50OCgyKTsgIC8vIHByb2ZpbGVfY29tcGF0aWJpbGl0eVxuICAgIGxldCBhdmNMZXZlbCA9IHYuZ2V0VWludDgoMyk7ICAvLyBBVkNMZXZlbEluZGljYXRpb25cblxuICAgIGlmICh2ZXJzaW9uICE9PSAxIHx8IGF2Y1Byb2ZpbGUgPT09IDApIHtcbiAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbmFsdUxlbmd0aFNpemUgPSAodi5nZXRVaW50OCg0KSAmIDMpICsgMTsgIC8vIGxlbmd0aFNpemVNaW51c09uZVxuICAgIGlmICh0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAhPT0gMyAmJiB0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAhPT0gNCkgeyAgLy8gaG9seSBzaGl0ISEhXG4gICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgYEZsdjogU3RyYW5nZSBOYWx1TGVuZ3RoU2l6ZU1pbnVzT25lOiAke3RoaXMuX25hbHVMZW5ndGhTaXplIC0gMX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgc3BzQ291bnQgPSB2LmdldFVpbnQ4KDUpICYgMzE7ICAvLyBudW1PZlNlcXVlbmNlUGFyYW1ldGVyU2V0c1xuICAgIGlmIChzcHNDb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IE5vIFNQUycpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoc3BzQ291bnQgPiAxKSB7XG4gICAgICBMb2cudyh0aGlzLlRBRywgYEZsdjogU3RyYW5nZSBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogU1BTIENvdW50ID0gJHtzcHNDb3VudH1gKTtcbiAgICB9XG5cbiAgICBsZXQgb2Zmc2V0ID0gNjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BzQ291bnQ7IGkrKykge1xuICAgICAgbGV0IGxlbiA9IHYuZ2V0VWludDE2KG9mZnNldCwgIWxlKTsgIC8vIHNlcXVlbmNlUGFyYW1ldGVyU2V0TGVuZ3RoXG4gICAgICBvZmZzZXQgKz0gMjtcblxuICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTm90aWNlOiBOYWx1IHdpdGhvdXQgc3RhcnRjb2RlIGhlYWRlciAoMDAgMDAgMDAgMDEpXG4gICAgICBsZXQgc3BzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGxlbik7XG4gICAgICBvZmZzZXQgKz0gbGVuO1xuXG4gICAgICBsZXQgY29uZmlnID0gU1BTUGFyc2VyLnBhcnNlU1BTKHNwcyk7XG4gICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAvLyBpZ25vcmUgb3RoZXIgc3BzJ3MgY29uZmlnXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBtZXRhLmNvZGVjV2lkdGggPSBjb25maWcuY29kZWNfc2l6ZS53aWR0aDtcbiAgICAgIG1ldGEuY29kZWNIZWlnaHQgPSBjb25maWcuY29kZWNfc2l6ZS5oZWlnaHQ7XG4gICAgICBtZXRhLnByZXNlbnRXaWR0aCA9IGNvbmZpZy5wcmVzZW50X3NpemUud2lkdGg7XG4gICAgICBtZXRhLnByZXNlbnRIZWlnaHQgPSBjb25maWcucHJlc2VudF9zaXplLmhlaWdodDtcblxuICAgICAgbWV0YS5wcm9maWxlID0gY29uZmlnLnByb2ZpbGVfc3RyaW5nO1xuICAgICAgbWV0YS5sZXZlbCA9IGNvbmZpZy5sZXZlbF9zdHJpbmc7XG4gICAgICBtZXRhLmJpdERlcHRoID0gY29uZmlnLmJpdF9kZXB0aDtcbiAgICAgIG1ldGEuY2hyb21hRm9ybWF0ID0gY29uZmlnLmNocm9tYV9mb3JtYXQ7XG4gICAgICBtZXRhLnNhclJhdGlvID0gY29uZmlnLnBhcl9yYXRpbztcbiAgICAgIG1ldGEuZnJhbWVSYXRlID0gY29uZmlnLmZyYW1lX3JhdGU7XG5cbiAgICAgIGlmIChjb25maWcuZnJhbWVfcmF0ZS5maXhlZCA9PT0gZmFsc2UgfHxcbiAgICAgICAgY29uZmlnLmZyYW1lX3JhdGUuZnBzX251bSA9PT0gMCB8fFxuICAgICAgICBjb25maWcuZnJhbWVfcmF0ZS5mcHNfZGVuID09PSAwKSB7XG4gICAgICAgIG1ldGEuZnJhbWVSYXRlID0gdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlO1xuICAgICAgfVxuXG4gICAgICBsZXQgZnBzX2RlbiA9IG1ldGEuZnJhbWVSYXRlLmZwc19kZW47XG4gICAgICBsZXQgZnBzX251bSA9IG1ldGEuZnJhbWVSYXRlLmZwc19udW07XG4gICAgICBtZXRhLnJlZlNhbXBsZUR1cmF0aW9uID0gbWV0YS50aW1lc2NhbGUgKiAoZnBzX2RlbiAvIGZwc19udW0pO1xuXG4gICAgICBsZXQgY29kZWNBcnJheSA9IHNwcy5zdWJhcnJheSgxLCA0KTtcbiAgICAgIGxldCBjb2RlY1N0cmluZyA9ICdhdmMxLic7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICBsZXQgaCA9IGNvZGVjQXJyYXlbal0udG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgaCA9ICcwJyArIGg7XG4gICAgICAgIH1cbiAgICAgICAgY29kZWNTdHJpbmcgKz0gaDtcbiAgICAgIH1cbiAgICAgIG1ldGEuY29kZWMgPSBjb2RlY1N0cmluZztcblxuICAgICAgbGV0IG1pID0gdGhpcy5fbWVkaWFJbmZvO1xuICAgICAgbWkud2lkdGggPSBtZXRhLmNvZGVjV2lkdGg7XG4gICAgICBtaS5oZWlnaHQgPSBtZXRhLmNvZGVjSGVpZ2h0O1xuICAgICAgbWkuZnBzID0gbWV0YS5mcmFtZVJhdGUuZnBzO1xuICAgICAgbWkucHJvZmlsZSA9IG1ldGEucHJvZmlsZTtcbiAgICAgIG1pLmxldmVsID0gbWV0YS5sZXZlbDtcbiAgICAgIG1pLnJlZkZyYW1lcyA9IGNvbmZpZy5yZWZfZnJhbWVzO1xuICAgICAgbWkuY2hyb21hRm9ybWF0ID0gY29uZmlnLmNocm9tYV9mb3JtYXRfc3RyaW5nO1xuICAgICAgbWkuc2FyTnVtID0gbWV0YS5zYXJSYXRpby53aWR0aDtcbiAgICAgIG1pLnNhckRlbiA9IG1ldGEuc2FyUmF0aW8uaGVpZ2h0O1xuICAgICAgbWkudmlkZW9Db2RlYyA9IGNvZGVjU3RyaW5nO1xuXG4gICAgICBpZiAobWkuaGFzQXVkaW8pIHtcbiAgICAgICAgaWYgKG1pLmF1ZGlvQ29kZWMgIT0gbnVsbCkge1xuICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICcsJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLnZpZGVvQ29kZWMgKyAnXCInO1xuICAgICAgfVxuICAgICAgaWYgKG1pLmlzQ29tcGxldGUoKSkge1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyhtaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHBwc0NvdW50ID0gdi5nZXRVaW50OChvZmZzZXQpOyAgLy8gbnVtT2ZQaWN0dXJlUGFyYW1ldGVyU2V0c1xuICAgIGlmIChwcHNDb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IE5vIFBQUycpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAocHBzQ291bnQgPiAxKSB7XG4gICAgICBMb2cudyh0aGlzLlRBRywgYEZsdjogU3RyYW5nZSBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogUFBTIENvdW50ID0gJHtwcHNDb3VudH1gKTtcbiAgICB9XG5cbiAgICBvZmZzZXQrKztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHBzQ291bnQ7IGkrKykge1xuICAgICAgbGV0IGxlbiA9IHYuZ2V0VWludDE2KG9mZnNldCwgIWxlKTsgIC8vIHBpY3R1cmVQYXJhbWV0ZXJTZXRMZW5ndGhcbiAgICAgIG9mZnNldCArPSAyO1xuXG4gICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBwcHMgaXMgdXNlbGVzcyBmb3IgZXh0cmFjdGluZyB2aWRlbyBpbmZvcm1hdGlvblxuICAgICAgb2Zmc2V0ICs9IGxlbjtcbiAgICB9XG5cbiAgICBtZXRhLmF2Y2MgPSBuZXcgVWludDhBcnJheShkYXRhU2l6ZSk7XG4gICAgbWV0YS5hdmNjLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpLCAwKTtcbiAgICBMb2cudih0aGlzLlRBRywgJ1BhcnNlZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCcpO1xuXG4gICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAvLyBmbHVzaCBwYXJzZWQgZnJhbWVzXG4gICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUodGhpcy5fYXVkaW9UcmFjaywgdGhpcy5fdmlkZW9UcmFjayk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIG5vdGlmeSBuZXcgbWV0YWRhdGFcbiAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSgndmlkZW8nLCBtZXRhKTtcbiAgfVxuXG4gIF9wYXJzZUFWQ1ZpZGVvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSwgY3RzKSB7XG4gICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICBsZXQgdW5pdHMgPSBbXSwgbGVuZ3RoID0gMDtcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGNvbnN0IGxlbmd0aFNpemUgPSB0aGlzLl9uYWx1TGVuZ3RoU2l6ZTtcbiAgICBsZXQgZHRzID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIHRhZ1RpbWVzdGFtcDtcbiAgICBsZXQga2V5ZnJhbWUgPSAoZnJhbWVUeXBlID09PSAxKTsgIC8vIGZyb20gRkxWIEZyYW1lIFR5cGUgY29uc3RhbnRzXG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUpIHtcbiAgICAgIGlmIChvZmZzZXQgKyA0ID49IGRhdGFTaXplKSB7XG4gICAgICAgIExvZy53KHRoaXMuVEFHLCBgTWFsZm9ybWVkIE5hbHUgbmVhciB0aW1lc3RhbXAgJHtkdHN9LCBvZmZzZXQgPSAke29mZnNldH0sIGRhdGFTaXplID0gJHtkYXRhU2l6ZX1gKTtcbiAgICAgICAgYnJlYWs7ICAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIG5leHQgTmFsdVxuICAgICAgfVxuICAgICAgLy8gTmFsdSB3aXRoIGxlbmd0aC1oZWFkZXIgKEFWQzEpXG4gICAgICBsZXQgbmFsdVNpemUgPSB2LmdldFVpbnQzMihvZmZzZXQsICFsZSk7ICAvLyBCaWctRW5kaWFuIHJlYWRcbiAgICAgIGlmIChsZW5ndGhTaXplID09PSAzKSB7XG4gICAgICAgIG5hbHVTaXplID4+Pj0gODtcbiAgICAgIH1cbiAgICAgIGlmIChuYWx1U2l6ZSA+IGRhdGFTaXplIC0gbGVuZ3RoU2l6ZSkge1xuICAgICAgICBMb2cudyh0aGlzLlRBRywgYE1hbGZvcm1lZCBOYWx1cyBuZWFyIHRpbWVzdGFtcCAke2R0c30sIE5hbHVTaXplID4gRGF0YVNpemUhYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHVuaXRUeXBlID0gdi5nZXRVaW50OChvZmZzZXQgKyBsZW5ndGhTaXplKSAmIDB4MUY7XG5cbiAgICAgIGlmICh1bml0VHlwZSA9PT0gNSkgeyAgLy8gSURSXG4gICAgICAgIGtleWZyYW1lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG9mZnNldCwgbGVuZ3RoU2l6ZSArIG5hbHVTaXplKTtcbiAgICAgIGxldCB1bml0ID0ge3R5cGU6IHVuaXRUeXBlLCBkYXRhOiBkYXRhfTtcbiAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgICBsZW5ndGggKz0gZGF0YS5ieXRlTGVuZ3RoO1xuXG4gICAgICBvZmZzZXQgKz0gbGVuZ3RoU2l6ZSArIG5hbHVTaXplO1xuICAgIH1cblxuICAgIGlmICh1bml0cy5sZW5ndGgpIHtcbiAgICAgIGxldCB0cmFjayA9IHRoaXMuX3ZpZGVvVHJhY2s7XG4gICAgICBsZXQgYXZjU2FtcGxlID0ge1xuICAgICAgICB1bml0czogdW5pdHMsXG4gICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgICBpc0tleWZyYW1lOiBrZXlmcmFtZSxcbiAgICAgICAgZHRzOiBkdHMsXG4gICAgICAgIGN0czogY3RzLFxuICAgICAgICBwdHM6IChkdHMgKyBjdHMpXG4gICAgICB9O1xuICAgICAgaWYgKGtleWZyYW1lKSB7XG4gICAgICAgIGF2Y1NhbXBsZS5maWxlcG9zaXRpb24gPSB0YWdQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChhdmNTYW1wbGUpO1xuICAgICAgdHJhY2subGVuZ3RoICs9IGxlbmd0aDtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGTFZEZW11eGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFeHBHb2xvbWIgZnJvbSAnLi9leHAtZ29sb21iLmpzJztcblxuY2xhc3MgU1BTUGFyc2VyIHtcblxuICAgIHN0YXRpYyBfZWJzcDJyYnNwKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgbGV0IHNyYyA9IHVpbnQ4YXJyYXk7XG4gICAgICAgIGxldCBzcmNfbGVuZ3RoID0gc3JjLmJ5dGVMZW5ndGg7XG4gICAgICAgIGxldCBkc3QgPSBuZXcgVWludDhBcnJheShzcmNfbGVuZ3RoKTtcbiAgICAgICAgbGV0IGRzdF9pZHggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gVW5lc2NhcGU6IFNraXAgMHgwMyBhZnRlciAwMCAwMFxuICAgICAgICAgICAgICAgIGlmIChzcmNbaV0gPT09IDB4MDMgJiYgc3JjW2kgLSAxXSA9PT0gMHgwMCAmJiBzcmNbaSAtIDJdID09PSAweDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRzdFtkc3RfaWR4XSA9IHNyY1tpXTtcbiAgICAgICAgICAgIGRzdF9pZHgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkc3QuYnVmZmVyLCAwLCBkc3RfaWR4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VTUFModWludDhhcnJheSkge1xuICAgICAgICBsZXQgcmJzcCA9IFNQU1BhcnNlci5fZWJzcDJyYnNwKHVpbnQ4YXJyYXkpO1xuICAgICAgICBsZXQgZ2IgPSBuZXcgRXhwR29sb21iKHJic3ApO1xuXG4gICAgICAgIGdiLnJlYWRCeXRlKCk7XG4gICAgICAgIGxldCBwcm9maWxlX2lkYyA9IGdiLnJlYWRCeXRlKCk7ICAvLyBwcm9maWxlX2lkY1xuICAgICAgICBnYi5yZWFkQnl0ZSgpOyAgLy8gY29uc3RyYWludF9zZXRfZmxhZ3NbNV0gKyByZXNlcnZlZF96ZXJvWzNdXG4gICAgICAgIGxldCBsZXZlbF9pZGMgPSBnYi5yZWFkQnl0ZSgpOyAgLy8gbGV2ZWxfaWRjXG4gICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIHNlcV9wYXJhbWV0ZXJfc2V0X2lkXG5cbiAgICAgICAgbGV0IHByb2ZpbGVfc3RyaW5nID0gU1BTUGFyc2VyLmdldFByb2ZpbGVTdHJpbmcocHJvZmlsZV9pZGMpO1xuICAgICAgICBsZXQgbGV2ZWxfc3RyaW5nID0gU1BTUGFyc2VyLmdldExldmVsU3RyaW5nKGxldmVsX2lkYyk7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0X2lkYyA9IDE7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0ID0gNDIwO1xuICAgICAgICBsZXQgY2hyb21hX2Zvcm1hdF90YWJsZSA9IFswLCA0MjAsIDQyMiwgNDQ0XTtcbiAgICAgICAgbGV0IGJpdF9kZXB0aCA9IDg7XG5cbiAgICAgICAgaWYgKHByb2ZpbGVfaWRjID09PSAxMDAgfHwgcHJvZmlsZV9pZGMgPT09IDExMCB8fCBwcm9maWxlX2lkYyA9PT0gMTIyIHx8XG4gICAgICAgICAgICBwcm9maWxlX2lkYyA9PT0gMjQ0IHx8IHByb2ZpbGVfaWRjID09PSA0NCB8fCBwcm9maWxlX2lkYyA9PT0gODMgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSA4NiB8fCBwcm9maWxlX2lkYyA9PT0gMTE4IHx8IHByb2ZpbGVfaWRjID09PSAxMjggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzggfHwgcHJvZmlsZV9pZGMgPT09IDE0NCkge1xuXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0X2lkYyA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gc2VwYXJhdGVfY29sb3VyX3BsYW5lX2ZsYWdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA8PSAzKSB7XG4gICAgICAgICAgICAgICAgY2hyb21hX2Zvcm1hdCA9IGNocm9tYV9mb3JtYXRfdGFibGVbY2hyb21hX2Zvcm1hdF9pZGNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiaXRfZGVwdGggPSBnYi5yZWFkVUVHKCkgKyA4OyAgLy8gYml0X2RlcHRoX2x1bWFfbWludXM4XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBiaXRfZGVwdGhfY2hyb21hX21pbnVzOFxuICAgICAgICAgICAgZ2IucmVhZEJpdHMoMSk7ICAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBzZXFfc2NhbGluZ19tYXRyaXhfcHJlc2VudF9mbGFnXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxpbmdfbGlzdF9jb3VudCA9IChjaHJvbWFfZm9ybWF0X2lkYyAhPT0gMykgPyA4IDogMTI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2FsaW5nX2xpc3RfY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gc2VxX3NjYWxpbmdfbGlzdF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQU1BhcnNlci5fc2tpcFNjYWxpbmdMaXN0KGdiLCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQU1BhcnNlci5fc2tpcFNjYWxpbmdMaXN0KGdiLCA2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gbG9nMl9tYXhfZnJhbWVfbnVtX21pbnVzNFxuICAgICAgICBsZXQgcGljX29yZGVyX2NudF90eXBlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBsb2cyX21heF9waWNfb3JkZXJfY250X2xzYl9taW51c180XG4gICAgICAgIH0gZWxzZSBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAxKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRlbHRhX3BpY19vcmRlcl9hbHdheXNfemVyb19mbGFnXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX25vbl9yZWZfcGljXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgICAgICAgIGxldCBudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX3JlZl9mcmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZWZfZnJhbWVzID0gZ2IucmVhZFVFRygpOyAgLy8gbWF4X251bV9yZWZfZnJhbWVzXG4gICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gZ2Fwc19pbl9mcmFtZV9udW1fdmFsdWVfYWxsb3dlZF9mbGFnXG5cbiAgICAgICAgbGV0IHBpY193aWR0aF9pbl9tYnNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBsZXQgcGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuXG4gICAgICAgIGxldCBmcmFtZV9tYnNfb25seV9mbGFnID0gZ2IucmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZV9tYnNfb25seV9mbGFnID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcbiAgICAgICAgfVxuICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRpcmVjdF84eDhfaW5mZXJlbmNlX2ZsYWdcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSAwO1xuICAgICAgICBsZXQgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gMDtcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcHBpbmdfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmIChmcmFtZV9jcm9wcGluZ19mbGFnKSB7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2FyX3dpZHRoID0gMSwgc2FyX2hlaWdodCA9IDE7XG4gICAgICAgIGxldCBmcHMgPSAwLCBmcHNfZml4ZWQgPSB0cnVlLCBmcHNfbnVtID0gMCwgZnBzX2RlbiA9IDA7XG5cbiAgICAgICAgbGV0IHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmICh2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcpIHtcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgYXNwZWN0X3JhdGlvX2lkYyA9IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNhcl93X3RhYmxlID0gWzEsIDEyLCAxMCwgMTYsIDQwLCAyNCwgMjAsIDMyLCA4MCwgMTgsIDE1LCA2NCwgMTYwLCA0LCAzLCAyXTtcbiAgICAgICAgICAgICAgICBsZXQgc2FyX2hfdGFibGUgPSBbMSwgMTEsIDExLCAxMSwgMzMsIDExLCAxMSwgMTEsIDMzLCAxMSwgMTEsIDMzLCAgOTksIDMsIDIsIDFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFzcGVjdF9yYXRpb19pZGMgPiAwICYmIGFzcGVjdF9yYXRpb19pZGMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBzYXJfd2lkdGggPSBzYXJfd190YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHNhcl9oZWlnaHQgPSBzYXJfaF90YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3BlY3RfcmF0aW9faWRjID09PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FyX3dpZHRoID0gZ2IucmVhZEJ5dGUoKSA8PCA4IHwgZ2IucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FyX2hlaWdodCA9IGdiLnJlYWRCeXRlKCkgPDwgOCB8IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gb3ZlcnNjYW5faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBnYi5yZWFkQm9vbCgpOyAgLy8gb3ZlcnNjYW5fYXBwcm9wcmlhdGVfZmxhZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIHZpZGVvX3NpZ25hbF90eXBlX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDQpOyAgLy8gdmlkZW9fZm9ybWF0ICYgdmlkZW9fZnVsbF9yYW5nZV9mbGFnXG4gICAgICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIGNvbG91cl9kZXNjcmlwdGlvbl9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgZ2IucmVhZEJpdHMoMjQpOyAgLy8gY29sb3VyX3ByaW1hcmllcyAmIHRyYW5zZmVyX2NoYXJhY3RlcmlzdGljcyAmIG1hdHJpeF9jb2VmZmljaWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gY2hyb21hX2xvY19pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIGNocm9tYV9zYW1wbGVfbG9jX3R5cGVfdG9wX2ZpZWxkXG4gICAgICAgICAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gY2hyb21hX3NhbXBsZV9sb2NfdHlwZV9ib3R0b21fZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyB0aW1pbmdfaW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgbnVtX3VuaXRzX2luX3RpY2sgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgbGV0IHRpbWVfc2NhbGUgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgZnBzX2ZpeGVkID0gZ2IucmVhZEJvb2woKTsgIC8vIGZpeGVkX2ZyYW1lX3JhdGVfZmxhZ1xuXG4gICAgICAgICAgICAgICAgZnBzX251bSA9IHRpbWVfc2NhbGU7XG4gICAgICAgICAgICAgICAgZnBzX2RlbiA9IG51bV91bml0c19pbl90aWNrICogMjtcbiAgICAgICAgICAgICAgICBmcHMgPSBmcHNfbnVtIC8gZnBzX2RlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYXJTY2FsZSA9IDE7XG4gICAgICAgIGlmIChzYXJfd2lkdGggIT09IDEgfHwgc2FyX2hlaWdodCAhPT0gMSkge1xuICAgICAgICAgICAgc2FyU2NhbGUgPSBzYXJfd2lkdGggLyBzYXJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNyb3BfdW5pdF94ID0gMCwgY3JvcF91bml0X3kgPSAwO1xuICAgICAgICBpZiAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDApIHtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF95ID0gMiAtIGZyYW1lX21ic19vbmx5X2ZsYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3ViX3djID0gKGNocm9tYV9mb3JtYXRfaWRjID09PSAzKSA/IDEgOiAyO1xuICAgICAgICAgICAgbGV0IHN1Yl9oYyA9IChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gc3ViX3djO1xuICAgICAgICAgICAgY3JvcF91bml0X3kgPSBzdWJfaGMgKiAoMiAtIGZyYW1lX21ic19vbmx5X2ZsYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvZGVjX3dpZHRoID0gKHBpY193aWR0aF9pbl9tYnNfbWludXMxICsgMSkgKiAxNjtcbiAgICAgICAgbGV0IGNvZGVjX2hlaWdodCA9ICgyIC0gZnJhbWVfbWJzX29ubHlfZmxhZykgKiAoKHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSArIDEpICogMTYpO1xuXG4gICAgICAgIGNvZGVjX3dpZHRoIC09IChmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ICsgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQpICogY3JvcF91bml0X3g7XG4gICAgICAgIGNvZGVjX2hlaWdodCAtPSAoZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ICsgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0KSAqIGNyb3BfdW5pdF95O1xuXG4gICAgICAgIGxldCBwcmVzZW50X3dpZHRoID0gTWF0aC5jZWlsKGNvZGVjX3dpZHRoICogc2FyU2NhbGUpO1xuXG4gICAgICAgIGdiLmRlc3Ryb3koKTtcbiAgICAgICAgZ2IgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9maWxlX3N0cmluZzogcHJvZmlsZV9zdHJpbmcsICAvLyBiYXNlbGluZSwgaGlnaCwgaGlnaDEwLCAuLi5cbiAgICAgICAgICAgIGxldmVsX3N0cmluZzogbGV2ZWxfc3RyaW5nLCAgLy8gMywgMy4xLCA0LCA0LjEsIDUsIDUuMSwgLi4uXG4gICAgICAgICAgICBiaXRfZGVwdGg6IGJpdF9kZXB0aCwgIC8vIDhiaXQsIDEwYml0LCAuLi5cbiAgICAgICAgICAgIHJlZl9mcmFtZXM6IHJlZl9mcmFtZXMsXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0OiBjaHJvbWFfZm9ybWF0LCAgLy8gNDoyOjAsIDQ6MjoyLCAuLi5cbiAgICAgICAgICAgIGNocm9tYV9mb3JtYXRfc3RyaW5nOiBTUFNQYXJzZXIuZ2V0Q2hyb21hRm9ybWF0U3RyaW5nKGNocm9tYV9mb3JtYXQpLFxuXG4gICAgICAgICAgICBmcmFtZV9yYXRlOiB7XG4gICAgICAgICAgICAgICAgZml4ZWQ6IGZwc19maXhlZCxcbiAgICAgICAgICAgICAgICBmcHM6IGZwcyxcbiAgICAgICAgICAgICAgICBmcHNfZGVuOiBmcHNfZGVuLFxuICAgICAgICAgICAgICAgIGZwc19udW06IGZwc19udW1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHBhcl9yYXRpbzoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzYXJfd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzYXJfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb2RlY19zaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvZGVjX3dpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY29kZWNfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBwcmVzZW50X3NpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcHJlc2VudF93aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvZGVjX2hlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBfc2tpcFNjYWxpbmdMaXN0KGdiLCBjb3VudCkge1xuICAgICAgICBsZXQgbGFzdF9zY2FsZSA9IDgsIG5leHRfc2NhbGUgPSA4O1xuICAgICAgICBsZXQgZGVsdGFfc2NhbGUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXh0X3NjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFfc2NhbGUgPSBnYi5yZWFkU0VHKCk7XG4gICAgICAgICAgICAgICAgbmV4dF9zY2FsZSA9IChsYXN0X3NjYWxlICsgZGVsdGFfc2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdF9zY2FsZSA9IChuZXh0X3NjYWxlID09PSAwKSA/IGxhc3Rfc2NhbGUgOiBuZXh0X3NjYWxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFByb2ZpbGVTdHJpbmcocHJvZmlsZV9pZGMpIHtcbiAgICAgICAgc3dpdGNoIChwcm9maWxlX2lkYykge1xuICAgICAgICAgICAgY2FzZSA2NjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Jhc2VsaW5lJztcbiAgICAgICAgICAgIGNhc2UgNzc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdNYWluJztcbiAgICAgICAgICAgIGNhc2UgODg6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdFeHRlbmRlZCc7XG4gICAgICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpZ2gnO1xuICAgICAgICAgICAgY2FzZSAxMTA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoMTAnO1xuICAgICAgICAgICAgY2FzZSAxMjI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoNDIyJztcbiAgICAgICAgICAgIGNhc2UgMjQ0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnSGlnaDQ0NCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TGV2ZWxTdHJpbmcobGV2ZWxfaWRjKSB7XG4gICAgICAgIHJldHVybiAobGV2ZWxfaWRjIC8gMTApLnRvRml4ZWQoMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENocm9tYUZvcm1hdFN0cmluZyhjaHJvbWEpIHtcbiAgICAgICAgc3dpdGNoIChjaHJvbWEpIHtcbiAgICAgICAgICAgIGNhc2UgNDIwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnNDoyOjAnO1xuICAgICAgICAgICAgY2FzZSA0MjI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICc0OjI6Mic7XG4gICAgICAgICAgICBjYXNlIDQ0NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJzQ6NDo0JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTUFNQYXJzZXI7XG4iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IFBvbHlmaWxsIGZyb20gJy4vdXRpbHMvcG9seWZpbGwuanMnO1xuaW1wb3J0IEZlYXR1cmVzIGZyb20gJy4vY29yZS9mZWF0dXJlcy5qcyc7XG5pbXBvcnQgRmx2UGxheWVyIGZyb20gJy4vcGxheWVyL2Zsdi1wbGF5ZXIuanMnO1xuaW1wb3J0IE5hdGl2ZVBsYXllciBmcm9tICcuL3BsYXllci9uYXRpdmUtcGxheWVyLmpzJztcbmltcG9ydCBQbGF5ZXJFdmVudHMgZnJvbSAnLi9wbGF5ZXIvcGxheWVyLWV2ZW50cy5qcyc7XG5pbXBvcnQge0Vycm9yVHlwZXMsIEVycm9yRGV0YWlsc30gZnJvbSAnLi9wbGF5ZXIvcGxheWVyLWVycm9ycy5qcyc7XG5pbXBvcnQgTG9nZ2luZ0NvbnRyb2wgZnJvbSAnLi91dGlscy9sb2dnaW5nLWNvbnRyb2wuanMnO1xuaW1wb3J0IHtJbnZhbGlkQXJndW1lbnRFeGNlcHRpb259IGZyb20gJy4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gaGVyZSBhcmUgYWxsIHRoZSBpbnRlcmZhY2VzXG5cbi8vIGluc3RhbGwgcG9seWZpbGxzXG5Qb2x5ZmlsbC5pbnN0YWxsKCk7XG5cblxuLy8gZmFjdG9yeSBtZXRob2RcbmZ1bmN0aW9uIGNyZWF0ZVBsYXllcihtZWRpYURhdGFTb3VyY2UsIG9wdGlvbmFsQ29uZmlnKSB7XG4gICAgbGV0IG1kcyA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICBpZiAobWRzID09IG51bGwgfHwgdHlwZW9mIG1kcyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignTWVkaWFEYXRhU291cmNlIG11c3QgYmUgYW4gamF2YXNjcmlwdCBvYmplY3QhJyk7XG4gICAgfVxuXG4gICAgaWYgKCFtZHMuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdNZWRpYURhdGFTb3VyY2UgbXVzdCBoYXMgdHlwZSBmaWVsZCB0byBpbmRpY2F0ZSB2aWRlbyBmaWxlIHR5cGUhJyk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChtZHMudHlwZSkge1xuICAgICAgICBjYXNlICdmbHYnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbHZQbGF5ZXIobWRzLCBvcHRpb25hbENvbmZpZyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5hdGl2ZVBsYXllcihtZHMsIG9wdGlvbmFsQ29uZmlnKTtcbiAgICB9XG59XG5cblxuLy8gZmVhdHVyZSBkZXRlY3Rpb25cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBGZWF0dXJlcy5zdXBwb3J0TVNFSDI2NFBsYXliYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGdldEZlYXR1cmVMaXN0KCkge1xuICAgIHJldHVybiBGZWF0dXJlcy5nZXRGZWF0dXJlTGlzdCgpO1xufVxuXG5cbi8vIGludGVyZmFjZXNcbmxldCBmbHZqcyA9IHt9O1xuXG5mbHZqcy5jcmVhdGVQbGF5ZXIgPSBjcmVhdGVQbGF5ZXI7XG5mbHZqcy5pc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xuZmx2anMuZ2V0RmVhdHVyZUxpc3QgPSBnZXRGZWF0dXJlTGlzdDtcblxuZmx2anMuRXZlbnRzID0gUGxheWVyRXZlbnRzO1xuZmx2anMuRXJyb3JUeXBlcyA9IEVycm9yVHlwZXM7XG5mbHZqcy5FcnJvckRldGFpbHMgPSBFcnJvckRldGFpbHM7XG5cbmZsdmpzLkZsdlBsYXllciA9IEZsdlBsYXllcjtcbmZsdmpzLk5hdGl2ZVBsYXllciA9IE5hdGl2ZVBsYXllcjtcbmZsdmpzLkxvZ2dpbmdDb250cm9sID0gTG9nZ2luZ0NvbnRyb2w7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbHZqcywgJ3ZlcnNpb24nLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVwbGFjZWQgYnkgYnJvd3NlcmlmeS12ZXJzaW9uaWZ5IHRyYW5zZm9ybVxuICAgICAgICByZXR1cm4gJ19fVkVSU0lPTl9fJztcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZmx2anM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHtCYXNlTG9hZGVyLCBMb2FkZXJTdGF0dXMsIExvYWRlckVycm9yc30gZnJvbSAnLi9sb2FkZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vKiBmZXRjaCArIHN0cmVhbSBJTyBsb2FkZXIuIEN1cnJlbnRseSB3b3JraW5nIG9uIGNocm9tZSA0MysuXG4gKiBmZXRjaCBwcm92aWRlcyBhIGJldHRlciBhbHRlcm5hdGl2ZSBodHRwIEFQSSB0byBYTUxIdHRwUmVxdWVzdFxuICpcbiAqIGZldGNoIHNwZWMgICBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy9cbiAqIHN0cmVhbSBzcGVjICBodHRwczovL3N0cmVhbXMuc3BlYy53aGF0d2cub3JnL1xuICovXG5jbGFzcyBGZXRjaFN0cmVhbUxvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gZmV0Y2ggKyBzdHJlYW0gaXMgYnJva2VuIG9uIE1pY3Jvc29mdCBFZGdlLiBEaXNhYmxlIGJlZm9yZSBidWlsZCAxNTA0OC5cbiAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84MTk2OTA3L1xuICAgICAgICAgICAgLy8gRml4ZWQgaW4gSmFuIDEwLCAyMDE3LiBCdWlsZCAxNTA0OCsgcmVtb3ZlZCBmcm9tIGJsYWNrbGlzdC5cbiAgICAgICAgICAgIGxldCBpc1dvcmtXZWxsRWRnZSA9IEJyb3dzZXIubXNlZGdlICYmIEJyb3dzZXIudmVyc2lvbi5taW5vciA+PSAxNTA0ODtcbiAgICAgICAgICAgIGxldCBicm93c2VyTm90QmxhY2tsaXN0ZWQgPSBCcm93c2VyLm1zZWRnZSA/IGlzV29ya1dlbGxFZGdlIDogdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAoc2VsZi5mZXRjaCAmJiBzZWxmLlJlYWRhYmxlU3RyZWFtICYmIGJyb3dzZXJOb3RCbGFja2xpc3RlZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ2ZldGNoLXN0cmVhbS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnRmV0Y2hTdHJlYW1Mb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwgJiYgZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc291cmNlVVJMID0gZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZWtDb25maWcgPSB0aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoc291cmNlVVJMLCByYW5nZSk7XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgc2VsZi5IZWFkZXJzKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrQ29uZmlnLmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnSGVhZGVycyA9IHNlZWtDb25maWcuaGVhZGVycztcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjb25maWdIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ0hlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIGNvbmZpZ0hlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICAgICAgY2FjaGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IHBvbGljeSBvZiBGZXRjaCBBUEkgaW4gdGhlIHdoYXR3ZyBzdGFuZGFyZFxuICAgICAgICAgICAgLy8gU2FmYXJpIGluY29ycmVjdGx5IGluZGljYXRlcyAnbm8tcmVmZXJyZXInIGFzIGRlZmF1bHQgcG9saWN5LCBmdWNrIGl0XG4gICAgICAgICAgICByZWZlcnJlclBvbGljeTogJ25vLXJlZmVycmVyLXdoZW4tZG93bmdyYWRlJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNvcnMgaXMgZW5hYmxlZCBieSBkZWZhdWx0XG4gICAgICAgIGlmIChkYXRhU291cmNlLmNvcnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBuby1jb3JzIG1lYW5zICdkaXNyZWdhcmQgY29ycyBwb2xpY3knLCB3aGljaCBjYW4gb25seSBiZSB1c2VkIGluIFNlcnZpY2VXb3JrZXJcbiAgICAgICAgICAgIHBhcmFtcy5tb2RlID0gJ3NhbWUtb3JpZ2luJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdpdGhDcmVkZW50aWFscyBpcyBkaXNhYmxlZCBieSBkZWZhdWx0XG4gICAgICAgIGlmIChkYXRhU291cmNlLndpdGhDcmVkZW50aWFscykge1xuICAgICAgICAgICAgcGFyYW1zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVmZXJyZXJQb2xpY3kgZnJvbSBjb25maWdcbiAgICAgICAgaWYgKGRhdGFTb3VyY2UucmVmZXJyZXJQb2xpY3kpIHtcbiAgICAgICAgICAgIHBhcmFtcy5yZWZlcnJlclBvbGljeSA9IGRhdGFTb3VyY2UucmVmZXJyZXJQb2xpY3k7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Nvbm5lY3Rpbmc7XG4gICAgICAgIHNlbGYuZmV0Y2goc2Vla0NvbmZpZy51cmwsIHBhcmFtcykudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtJZGxlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXMub2sgJiYgKHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPD0gMjk5KSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXMudXJsICE9PSBzZWVrQ29uZmlnLnVybCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9zZWVrSGFuZGxlci5yZW1vdmVVUkxQYXJhbWV0ZXJzKHJlcy51cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdChyZWRpcmVjdGVkVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBsZW5ndGhIZWFkZXIgPSByZXMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtTGVuZ3RoJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aEhlYWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBwYXJzZUludChsZW5ndGhIZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24odGhpcy5fY29udGVudExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVtcC5jYWxsKHRoaXMsIHJlcy5ib2R5LmdldFJlYWRlcigpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiByZXMuc3RhdHVzLCBtc2c6IHJlcy5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ0ZldGNoU3RyZWFtTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgJyArIHJlcy5zdGF0dXMgKyAnICcgKyByZXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLCB7Y29kZTogLTEsIG1zZzogZS5tZXNzYWdlfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9wdW1wKHJlYWRlcikgeyAgLy8gUmVhZGFibGVTdHJlYW1SZWFkZXJcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUodGhpcy5fcmFuZ2UuZnJvbSwgdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gcmVzdWx0LnZhbHVlLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoICs9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wdW1wKHJlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSAxMSAmJiBCcm93c2VyLm1zZWRnZSkgeyAgLy8gSW52YWxpZFN0YXRlRXJyb3Igb24gTWljcm9zb2Z0IEVkZ2VcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kOiBFZGdlIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBhZnRlciBSZWFkYWJsZVN0cmVhbVJlYWRlci5jYW5jZWwoKSBjYWxsXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHRoZSB1bmtub3duIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBSZWxhdGVkIGlzc3VlOiBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMTI2NTIwMi9cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICgoZS5jb2RlID09PSAxOSB8fCBlLm1lc3NhZ2UgPT09ICduZXR3b3JrIGVycm9yJykgJiYgLy8gTkVUV09SS19FUlJcbiAgICAgICAgICAgICAgICAodGhpcy5fY29udGVudExlbmd0aCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9jb250ZW50TGVuZ3RoICE9PSBudWxsICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkpKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FQVJMWV9FT0Y7XG4gICAgICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiBlLmNvZGUsIG1zZzogJ0ZldGNoIHN0cmVhbSBtZWV0IEVhcmx5LUVPRid9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgICAgICBpbmZvID0ge2NvZGU6IGUuY29kZSwgbXNnOiBlLm1lc3NhZ2V9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgaW5mbyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZldGNoU3RyZWFtTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgU3BlZWRTYW1wbGVyIGZyb20gJy4vc3BlZWQtc2FtcGxlci5qcyc7XG5pbXBvcnQge0xvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQgRmV0Y2hTdHJlYW1Mb2FkZXIgZnJvbSAnLi9mZXRjaC1zdHJlYW0tbG9hZGVyLmpzJztcbmltcG9ydCBNb3pDaHVua2VkTG9hZGVyIGZyb20gJy4veGhyLW1vei1jaHVua2VkLWxvYWRlci5qcyc7XG5pbXBvcnQgTVNTdHJlYW1Mb2FkZXIgZnJvbSAnLi94aHItbXNzdHJlYW0tbG9hZGVyLmpzJztcbmltcG9ydCBSYW5nZUxvYWRlciBmcm9tICcuL3hoci1yYW5nZS1sb2FkZXIuanMnO1xuaW1wb3J0IFdlYlNvY2tldExvYWRlciBmcm9tICcuL3dlYnNvY2tldC1sb2FkZXIuanMnO1xuaW1wb3J0IFJhbmdlU2Vla0hhbmRsZXIgZnJvbSAnLi9yYW5nZS1zZWVrLWhhbmRsZXIuanMnO1xuaW1wb3J0IFBhcmFtU2Vla0hhbmRsZXIgZnJvbSAnLi9wYXJhbS1zZWVrLWhhbmRsZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRpb24sIEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLyoqXG4gKiBEYXRhU291cmNlOiB7XG4gKiAgICAgdXJsOiBzdHJpbmcsXG4gKiAgICAgZmlsZXNpemU6IG51bWJlcixcbiAqICAgICBjb3JzOiBib29sZWFuLFxuICogICAgIHdpdGhDcmVkZW50aWFsczogYm9vbGVhblxuICogfVxuICogXG4gKi9cblxuLy8gTWFuYWdlIElPIExvYWRlcnNcbmNsYXNzIElPQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhU291cmNlLCBjb25maWcsIGV4dHJhRGF0YSkge1xuICAgICAgICB0aGlzLlRBRyA9ICdJT0NvbnRyb2xsZXInO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fZXh0cmFEYXRhID0gZXh0cmFEYXRhO1xuXG4gICAgICAgIHRoaXMuX3N0YXNoSW5pdGlhbFNpemUgPSAxMDI0ICogMzg0OyAgLy8gZGVmYXVsdCBpbml0aWFsIHNpemU6IDM4NEtCXG4gICAgICAgIGlmIChjb25maWcuc3Rhc2hJbml0aWFsU2l6ZSAhPSB1bmRlZmluZWQgJiYgY29uZmlnLnN0YXNoSW5pdGlhbFNpemUgPiAwKSB7XG4gICAgICAgICAgICAvLyBhcHBseSBmcm9tIGNvbmZpZ1xuICAgICAgICAgICAgdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZSA9IGNvbmZpZy5zdGFzaEluaXRpYWxTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgdGhpcy5fc3Rhc2hTaXplID0gdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZTtcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDEwMjQgKiAxMDI0ICogMzsgIC8vIGluaXRpYWwgc2l6ZTogM01CXG4gICAgICAgIHRoaXMuX3N0YXNoQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2VuYWJsZVN0YXNoID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbmZpZy5lbmFibGVTdGFzaEJ1ZmZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVN0YXNoID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5faXNXZWJTb2NrZXRVUkwgPSAvd3NzPzpcXC9cXC8oLis/KS8udGVzdChkYXRhU291cmNlLnVybCk7XG4gICAgICAgIHRoaXMuX3JlZlRvdGFsTGVuZ3RoID0gZGF0YVNvdXJjZS5maWxlc2l6ZSA/IGRhdGFTb3VyY2UuZmlsZXNpemUgOiBudWxsO1xuICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IHRoaXMuX3JlZlRvdGFsTGVuZ3RoO1xuICAgICAgICB0aGlzLl9mdWxsUmVxdWVzdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVkaXJlY3RlZFVSTCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3BlZWROb3JtYWxpemVkID0gMDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyID0gbmV3IFNwZWVkU2FtcGxlcigpO1xuICAgICAgICB0aGlzLl9zcGVlZE5vcm1hbGl6ZUxpc3QgPSBbNjQsIDEyOCwgMjU2LCAzODQsIDUxMiwgNzY4LCAxMDI0LCAxNTM2LCAyMDQ4LCAzMDcyLCA0MDk2XTtcblxuICAgICAgICB0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Jlc3VtZUZyb20gPSAwO1xuXG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblNlZWtlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25SZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3NlbGVjdFNlZWtIYW5kbGVyKCk7XG4gICAgICAgIHRoaXMuX3NlbGVjdExvYWRlcigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVMb2FkZXIoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbG9hZGVyLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGFzaEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IHRoaXMuX3N0YXNoU2l6ZSA9IHRoaXMuX2J1ZmZlclNpemUgPSB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblNlZWtlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25SZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2V4dHJhRGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNXb3JraW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyICYmIHRoaXMuX2xvYWRlci5pc1dvcmtpbmcoKSAmJiAhdGhpcy5fcGF1c2VkO1xuICAgIH1cblxuICAgIGlzUGF1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF1c2VkO1xuICAgIH1cblxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIuc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBleHRyYURhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leHRyYURhdGE7XG4gICAgfVxuXG4gICAgc2V0IGV4dHJhRGF0YShkYXRhKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhRGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgLy8gcHJvdG90eXBlOiBmdW5jdGlvbiBvbkRhdGFBcnJpdmFsKGNodW5rczogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyKTogbnVtYmVyXG4gICAgZ2V0IG9uRGF0YUFycml2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBcnJpdmFsO1xuICAgIH1cblxuICAgIHNldCBvbkRhdGFBcnJpdmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25TZWVrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblNlZWtlZDtcbiAgICB9XG5cbiAgICBzZXQgb25TZWVrZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25TZWVrZWQgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uIG9uRXJyb3IodHlwZTogbnVtYmVyLCBpbmZvOiB7Y29kZTogbnVtYmVyLCBtc2c6IHN0cmluZ30pOiB2b2lkXG4gICAgZ2V0IG9uRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yO1xuICAgIH1cblxuICAgIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25Db21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uQ29tcGxldGU7XG4gICAgfVxuXG4gICAgc2V0IG9uQ29tcGxldGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvblJlZGlyZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25SZWRpcmVjdDtcbiAgICB9XG5cbiAgICBzZXQgb25SZWRpcmVjdChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblJlZGlyZWN0ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uUmVjb3ZlcmVkRWFybHlFb2YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mO1xuICAgIH1cblxuICAgIHNldCBvblJlY292ZXJlZEVhcmx5RW9mKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFVSTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2UudXJsO1xuICAgIH1cblxuICAgIGdldCBoYXNSZWRpcmVjdCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9yZWRpcmVjdGVkVVJMICE9IG51bGwgfHwgdGhpcy5fZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRSZWRpcmVjdGVkVVJMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVkaXJlY3RlZFVSTCB8fCB0aGlzLl9kYXRhU291cmNlLnJlZGlyZWN0ZWRVUkw7XG4gICAgfVxuXG4gICAgLy8gaW4gS0Ivc1xuICAgIGdldCBjdXJyZW50U3BlZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZXJDbGFzcyA9PT0gUmFuZ2VMb2FkZXIpIHtcbiAgICAgICAgICAgIC8vIFNwZWVkU2FtcGxlciBpcyBpbmFjY3VyYWN5IGlmIGxvYWRlciBpcyBSYW5nZUxvYWRlclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlci5jdXJyZW50U3BlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztcbiAgICB9XG5cbiAgICBnZXQgbG9hZGVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlci50eXBlO1xuICAgIH1cblxuICAgIF9zZWxlY3RTZWVrSGFuZGxlcigpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcblxuICAgICAgICBpZiAoY29uZmlnLnNlZWtUeXBlID09PSAncmFuZ2UnKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IG5ldyBSYW5nZVNlZWtIYW5kbGVyKHRoaXMuX2NvbmZpZy5yYW5nZUxvYWRaZXJvU3RhcnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zZWVrVHlwZSA9PT0gJ3BhcmFtJykge1xuICAgICAgICAgICAgbGV0IHBhcmFtU3RhcnQgPSBjb25maWcuc2Vla1BhcmFtU3RhcnQgfHwgJ2JzdGFydCc7XG4gICAgICAgICAgICBsZXQgcGFyYW1FbmQgPSBjb25maWcuc2Vla1BhcmFtRW5kIHx8ICdiZW5kJztcblxuICAgICAgICAgICAgdGhpcy5fc2Vla0hhbmRsZXIgPSBuZXcgUGFyYW1TZWVrSGFuZGxlcihwYXJhbVN0YXJ0LCBwYXJhbUVuZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnNlZWtUeXBlID09PSAnY3VzdG9tJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuY3VzdG9tU2Vla0hhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdDdXN0b20gc2Vla1R5cGUgc3BlY2lmaWVkIGluIGNvbmZpZyBidXQgaW52YWxpZCBjdXN0b21TZWVrSGFuZGxlciEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gbmV3IGNvbmZpZy5jdXN0b21TZWVrSGFuZGxlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihgSW52YWxpZCBzZWVrVHlwZSBpbiBjb25maWc6ICR7Y29uZmlnLnNlZWtUeXBlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NlbGVjdExvYWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzV2ViU29ja2V0VVJMKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IFdlYlNvY2tldExvYWRlcjtcbiAgICAgICAgfSBlbHNlIGlmIChGZXRjaFN0cmVhbUxvYWRlci5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IEZldGNoU3RyZWFtTG9hZGVyO1xuICAgICAgICB9IGVsc2UgaWYgKE1vekNodW5rZWRMb2FkZXIuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBNb3pDaHVua2VkTG9hZGVyO1xuICAgICAgICB9IGVsc2UgaWYgKFJhbmdlTG9hZGVyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gUmFuZ2VMb2FkZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IHhociB3aXRoIGFycmF5YnVmZmVyIHJlc3BvbnNlVHlwZSEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVMb2FkZXIoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG5ldyB0aGlzLl9sb2FkZXJDbGFzcyh0aGlzLl9zZWVrSGFuZGxlciwgdGhpcy5fY29uZmlnKTtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRlci5uZWVkU3Rhc2hCdWZmZXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdGFzaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWRlci5vbkNvbnRlbnRMZW5ndGhLbm93biA9IHRoaXMuX29uQ29udGVudExlbmd0aEtub3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vblVSTFJlZGlyZWN0ID0gdGhpcy5fb25VUkxSZWRpcmVjdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub25EYXRhQXJyaXZhbCA9IHRoaXMuX29uTG9hZGVyQ2h1bmtBcnJpdmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vbkNvbXBsZXRlID0gdGhpcy5fb25Mb2FkZXJDb21wbGV0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub25FcnJvciA9IHRoaXMuX29uTG9hZGVyRXJyb3IuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBvcGVuKG9wdGlvbmFsRnJvbSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSB7ZnJvbTogMCwgdG86IC0xfTtcbiAgICAgICAgaWYgKG9wdGlvbmFsRnJvbSkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlLmZyb20gPSBvcHRpb25hbEZyb207XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIucmVzZXQoKTtcbiAgICAgICAgaWYgKCFvcHRpb25hbEZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkZXIub3Blbih0aGlzLl9kYXRhU291cmNlLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9jdXJyZW50UmFuZ2UpKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gdGhpcy5fc3Rhc2hCeXRlU3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlLnRvID0gdGhpcy5fc3Rhc2hCeXRlU3RhcnQgLSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gdGhpcy5fY3VycmVudFJhbmdlLnRvICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fcGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBieXRlcyA9IHRoaXMuX3Jlc3VtZUZyb207XG4gICAgICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhieXRlcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWVrKGJ5dGVzKSB7XG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhieXRlcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZWVraW5nIHJlcXVlc3QgaXMgZnJvbSBtZWRpYSBzZWVraW5nLCB1bmNvbnN1bWVkIHN0YXNoIGRhdGEgc2hvdWxkIGJlIGRyb3BwZWRcbiAgICAgKiBIb3dldmVyLCBzdGFzaCBkYXRhIHNob3VsZG4ndCBiZSBkcm9wcGVkIGlmIHNlZWtpbmcgcmVxdWVzdGVkIGZyb20gaHR0cCByZWNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBkcm9wVW5jb25zdW1lZDogSWdub3JlIGFuZCBkaXNjYXJkIGFsbCB1bmNvbnN1bWVkIGRhdGEgaW4gc3Rhc2ggYnVmZmVyXG4gICAgICovXG4gICAgX2ludGVybmFsU2VlayhieXRlcywgZHJvcFVuY29uc3VtZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRlci5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNwYXRjaCAmIGZsdXNoIHN0YXNoIGJ1ZmZlciBiZWZvcmUgc2Vla1xuICAgICAgICB0aGlzLl9mbHVzaFN0YXNoQnVmZmVyKGRyb3BVbmNvbnN1bWVkKTtcblxuICAgICAgICB0aGlzLl9sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuXG4gICAgICAgIGxldCByZXF1ZXN0UmFuZ2UgPSB7ZnJvbTogYnl0ZXMsIHRvOiAtMX07XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IHtmcm9tOiByZXF1ZXN0UmFuZ2UuZnJvbSwgdG86IC0xfTtcblxuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fc3Rhc2hTaXplID0gdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZTtcbiAgICAgICAgdGhpcy5fY3JlYXRlTG9hZGVyKCk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHJlcXVlc3RSYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX29uU2Vla2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9vblNlZWtlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVXJsKHVybCkge1xuICAgICAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJyB8fCB1cmwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdVcmwgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmchJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kYXRhU291cmNlLnVybCA9IHVybDtcblxuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHdpdGggbmV3IHVybFxuICAgIH1cblxuICAgIF9leHBhbmRCdWZmZXIoZXhwZWN0ZWRCeXRlcykge1xuICAgICAgICBsZXQgYnVmZmVyTmV3U2l6ZSA9IHRoaXMuX3N0YXNoU2l6ZTtcbiAgICAgICAgd2hpbGUgKGJ1ZmZlck5ld1NpemUgKyAxMDI0ICogMTAyNCAqIDEgPCBleHBlY3RlZEJ5dGVzKSB7XG4gICAgICAgICAgICBidWZmZXJOZXdTaXplICo9IDI7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXJOZXdTaXplICs9IDEwMjQgKiAxMDI0ICogMTsgIC8vIGJ1ZmZlclNpemUgPSBzdGFzaFNpemUgKyAxTUJcbiAgICAgICAgaWYgKGJ1ZmZlck5ld1NpemUgPT09IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTmV3U2l6ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCA+IDApIHsgIC8vIGNvcHkgZXhpc3RpbmcgZGF0YSBpbnRvIG5ldyBidWZmZXJcbiAgICAgICAgICAgIGxldCBzdGFzaE9sZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICBsZXQgc3Rhc2hOZXdBcnJheSA9IG5ldyBVaW50OEFycmF5KG5ld0J1ZmZlciwgMCwgYnVmZmVyTmV3U2l6ZSk7XG4gICAgICAgICAgICBzdGFzaE5ld0FycmF5LnNldChzdGFzaE9sZEFycmF5LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXNoQnVmZmVyID0gbmV3QnVmZmVyO1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gYnVmZmVyTmV3U2l6ZTtcbiAgICB9XG5cbiAgICBfbm9ybWFsaXplU3BlZWQoaW5wdXQpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9zcGVlZE5vcm1hbGl6ZUxpc3Q7XG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGlmIChpbnB1dCA8IGxpc3RbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0WzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluYXJ5IHNlYXJjaFxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAoaW5wdXQgPj0gbGlzdFttaWRdICYmIGlucHV0IDwgbGlzdFttaWQgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdFttaWRdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaXN0W21pZF0gPCBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWRqdXN0U3Rhc2hTaXplKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgbGV0IHN0YXNoU2l6ZUtCID0gMDtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICAgICAgLy8gbGl2ZSBzdHJlYW06IGFsd2F5cyB1c2Ugc2luZ2xlIG5vcm1hbGl6ZWQgc3BlZWQgZm9yIHNpemUgb2Ygc3Rhc2hTaXplS0JcbiAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gbm9ybWFsaXplZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkIDwgNTEyKSB7XG4gICAgICAgICAgICAgICAgc3Rhc2hTaXplS0IgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkID49IDUxMiAmJiBub3JtYWxpemVkIDw9IDEwMjQpIHtcbiAgICAgICAgICAgICAgICBzdGFzaFNpemVLQiA9IE1hdGguZmxvb3Iobm9ybWFsaXplZCAqIDEuNSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gbm9ybWFsaXplZCAqIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3Rhc2hTaXplS0IgPiA4MTkyKSB7XG4gICAgICAgICAgICBzdGFzaFNpemVLQiA9IDgxOTI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyU2l6ZSA9IHN0YXNoU2l6ZUtCICogMTAyNCArIDEwMjQgKiAxMDI0ICogMTsgIC8vIHN0YXNoU2l6ZSArIDFNQlxuICAgICAgICBpZiAodGhpcy5fYnVmZmVyU2l6ZSA8IGJ1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcihidWZmZXJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFzaFNpemUgPSBzdGFzaFNpemVLQiAqIDEwMjQ7XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoQ2h1bmtzKGNodW5rcywgYnl0ZVN0YXJ0KSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZS50byA9IGJ5dGVTdGFydCArIGNodW5rcy5ieXRlTGVuZ3RoIC0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRGF0YUFycml2YWwoY2h1bmtzLCBieXRlU3RhcnQpO1xuICAgIH1cblxuICAgIF9vblVSTFJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgdGhpcy5fcmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgIGlmICh0aGlzLl9vblJlZGlyZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9vblJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQ29udGVudExlbmd0aEtub3duKGNvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGggJiYgdGhpcy5fZnVsbFJlcXVlc3RGbGFnKSB7XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IGNvbnRlbnRMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl9mdWxsUmVxdWVzdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkxvYWRlckNodW5rQXJyaXZhbChjaHVuaywgYnl0ZVN0YXJ0LCByZWNlaXZlZExlbmd0aCkge1xuICAgICAgICBpZiAoIXRoaXMuX29uRGF0YUFycml2YWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0lPQ29udHJvbGxlcjogTm8gZXhpc3RpbmcgY29uc3VtZXIgKG9uRGF0YUFycml2YWwpIGNhbGxiYWNrIScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZykge1xuICAgICAgICAgICAgLy8gQXV0by1yZWNvbm5lY3QgZm9yIEVhcmx5RW9mIHN1Y2NlZWQsIG5vdGlmeSB0byB1cHBlci1sYXllciBieSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIuYWRkQnl0ZXMoY2h1bmsuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgLy8gYWRqdXN0IHN0YXNoIGJ1ZmZlciBzaXplIGFjY29yZGluZyB0byBuZXR3b3JrIHNwZWVkIGR5bmFtaWNhbGx5XG4gICAgICAgIGxldCBLQnBzID0gdGhpcy5fc3BlZWRTYW1wbGVyLmxhc3RTZWNvbmRLQnBzO1xuICAgICAgICBpZiAoS0JwcyAhPT0gMCkge1xuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWQgPSB0aGlzLl9ub3JtYWxpemVTcGVlZChLQnBzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGVlZE5vcm1hbGl6ZWQgIT09IG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVlZE5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkanVzdFN0YXNoU2l6ZShub3JtYWxpemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlU3Rhc2gpIHsgIC8vIGRpc2FibGUgc3Rhc2hcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaCBjaHVuayBkaXJlY3RseSB0byBjb25zdW1lcjtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayByZXQgdmFsdWUgKGNvbnN1bWVkIGJ5dGVzKSBhbmQgc3Rhc2ggdW5jb25zdW1lZCB0byBzdGFzaEJ1ZmZlclxuICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKGNodW5rLCBieXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA8IGNodW5rLmJ5dGVMZW5ndGgpIHsgIC8vIHVuY29uc3VtZWQgZGF0YSByZW1haW4uXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1haW4gPSBjaHVuay5ieXRlTGVuZ3RoIC0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW4gPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRCdWZmZXIocmVtYWluKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmssIGNvbnN1bWVkKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSByZW1haW47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gYnl0ZVN0YXJ0ICsgY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbHNlOiBNZXJnZSBjaHVuayBpbnRvIHN0YXNoQnVmZmVyLCBhbmQgZGlzcGF0Y2ggc3Rhc2hCdWZmZXIgdG8gY29uc3VtZXIuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGggPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcih0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmspLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKHRoaXMuX3N0YXNoQnVmZmVyLnNsaWNlKDAsIHRoaXMuX3N0YXNoVXNlZCksIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPCB0aGlzLl9zdGFzaFVzZWQgJiYgY29uc3VtZWQgPiAwKSB7ICAvLyB1bmNvbnN1bWVkIGRhdGEgcmVtYWluXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1haW5BcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCBjb25zdW1lZCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KHJlbWFpbkFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkIC09IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAgLy8gZW5hYmxlIHN0YXNoXG4gICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID09PSAwICYmIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID09PSAwKSB7ICAvLyBzZWVrZWQ/IG9yIGluaXQgY2h1bms/XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgY2h1bmsgYWZ0ZXIgc2VlayBhY3Rpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IGJ5dGVTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoIDw9IHRoaXMuX3N0YXNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIC8vIGp1c3Qgc3Rhc2hcbiAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9zdGFzaFNpemUpO1xuICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rKSwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyBzdGFzaFVzZWQgKyBjaHVua1NpemUgPiBzdGFzaFNpemUsIHNpemUgbGltaXQgZXhjZWVkZWRcbiAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID4gMCkgeyAgLy8gVGhlcmUncmUgc3Rhc2ggZGF0YXMgaW4gYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIHRoZSB3aG9sZSBzdGFzaEJ1ZmZlciwgYW5kIHN0YXNoIHJlbWFpbiBkYXRhXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gYXBwZW5kIGNodW5rIHRvIHN0YXNoQnVmZmVyIChzdGFzaClcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX3N0YXNoQnVmZmVyLnNsaWNlKDAsIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKGJ1ZmZlciwgdGhpcy5fc3Rhc2hCeXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPCBidWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1haW5BcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgY29uc3VtZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KHJlbWFpbkFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSByZW1haW5BcnJheS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChuZXcgVWludDhBcnJheShjaHVuayksIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAvLyBzdGFzaCBidWZmZXIgZW1wdHksIGJ1dCBjaHVua1NpemUgPiBzdGFzaFNpemUgKG9oLCBob2x5IHNoaXQpXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGNodW5rIGRpcmVjdGx5IGFuZCBzdGFzaCByZW1haW4gZGF0YVxuICAgICAgICAgICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyhjaHVuaywgYnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkIDwgY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbiA9IGNodW5rLmJ5dGVMZW5ndGggLSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW4gPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKHJlbWFpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rLCBjb25zdW1lZCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkICs9IHJlbWFpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gYnl0ZVN0YXJ0ICsgY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmx1c2hTdGFzaEJ1ZmZlcihkcm9wVW5jb25zdW1lZCkge1xuICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID4gMCkge1xuICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuX3N0YXNoQnVmZmVyLnNsaWNlKDAsIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyhidWZmZXIsIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgIGxldCByZW1haW4gPSBidWZmZXIuYnl0ZUxlbmd0aCAtIGNvbnN1bWVkO1xuXG4gICAgICAgICAgICBpZiAoY29uc3VtZWQgPCBidWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChkcm9wVW5jb25zdW1lZCkge1xuICAgICAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYCR7cmVtYWlufSBieXRlcyB1bmNvbnN1bWVkIGRhdGEgcmVtYWluIHdoZW4gZmx1c2ggYnVmZmVyLCBkcm9wcGVkYCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIsIGNvbnN1bWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KHJlbWFpbkFycmF5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IHJlbWFpbkFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCArPSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHJlbWFpbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfb25Mb2FkZXJDb21wbGV0ZShmcm9tLCB0bykge1xuICAgICAgICAvLyBGb3JjZS1mbHVzaCBzdGFzaCBidWZmZXIsIGFuZCBkcm9wIHVuY29uc3VtZWQgZGF0YVxuICAgICAgICB0aGlzLl9mbHVzaFN0YXNoQnVmZmVyKHRydWUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX2V4dHJhRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Mb2FkZXJFcnJvcih0eXBlLCBkYXRhKSB7XG4gICAgICAgIExvZy5lKHRoaXMuVEFHLCBgTG9hZGVyIGVycm9yLCBjb2RlID0gJHtkYXRhLmNvZGV9LCBtc2cgPSAke2RhdGEubXNnfWApO1xuXG4gICAgICAgIHRoaXMuX2ZsdXNoU3Rhc2hCdWZmZXIoZmFsc2UpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAvLyBBdXRvLXJlY29ubmVjdCBmb3IgRWFybHlFb2YgZmFpbGVkLCB0aHJvdyBVbnJlY292ZXJhYmxlRWFybHlFb2YgZXJyb3IgdG8gdXBwZXItbGF5ZXJcbiAgICAgICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjoge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBpbnRlcm5hbCBodHRwIHJlY29ubmVjdCBpZiBub3QgbGl2ZSBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dEZyb20gPSB0aGlzLl9jdXJyZW50UmFuZ2UudG8gKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRGcm9tIDwgdGhpcy5fdG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0Nvbm5lY3Rpb24gbG9zdCwgdHJ5aW5nIHJlY29ubmVjdC4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhuZXh0RnJvbSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsc2U6IFdlIGRvbid0IGtub3cgdG90YWxMZW5ndGgsIHRocm93IFVucmVjb3ZlcmFibGVFYXJseUVvZlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBsaXZlIHN0cmVhbTogdGhyb3cgVW5yZWNvdmVyYWJsZUVhcmx5RW9mIGVycm9yIHRvIHVwcGVyLWxheWVyXG4gICAgICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuQ09OTkVDVElOR19USU1FT1VUOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElEOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuRVhDRVBUSU9OOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignSU9FeGNlcHRpb246ICcgKyBkYXRhLm1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSU9Db250cm9sbGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge05vdEltcGxlbWVudGVkRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG5leHBvcnQgY29uc3QgTG9hZGVyU3RhdHVzID0ge1xuICAgIGtJZGxlOiAwLFxuICAgIGtDb25uZWN0aW5nOiAxLFxuICAgIGtCdWZmZXJpbmc6IDIsXG4gICAga0Vycm9yOiAzLFxuICAgIGtDb21wbGV0ZTogNFxufTtcblxuZXhwb3J0IGNvbnN0IExvYWRlckVycm9ycyA9IHtcbiAgICBPSzogJ09LJyxcbiAgICBFWENFUFRJT046ICdFeGNlcHRpb24nLFxuICAgIEhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRDogJ0h0dHBTdGF0dXNDb2RlSW52YWxpZCcsXG4gICAgQ09OTkVDVElOR19USU1FT1VUOiAnQ29ubmVjdGluZ1RpbWVvdXQnLFxuICAgIEVBUkxZX0VPRjogJ0Vhcmx5RW9mJyxcbiAgICBVTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjogJ1VucmVjb3ZlcmFibGVFYXJseUVvZidcbn07XG5cbi8qIExvYWRlciBoYXMgY2FsbGJhY2tzIHdoaWNoIGhhdmUgZm9sbG93aW5nIHByb3RvdHlwZXM6XG4gKiAgICAgZnVuY3Rpb24gb25Db250ZW50TGVuZ3RoS25vd24oY29udGVudExlbmd0aDogbnVtYmVyKTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uVVJMUmVkaXJlY3QodXJsOiBzdHJpbmcpOiB2b2lkXG4gKiAgICAgZnVuY3Rpb24gb25EYXRhQXJyaXZhbChjaHVuazogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyLCByZWNlaXZlZExlbmd0aDogbnVtYmVyKTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3JUeXBlOiBudW1iZXIsIGVycm9ySW5mbzoge2NvZGU6IG51bWJlciwgbXNnOiBzdHJpbmd9KTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUocmFuZ2VGcm9tOiBudW1iZXIsIHJhbmdlVG86IG51bWJlcik6IHZvaWRcbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMb2FkZXIge1xuXG4gICAgY29uc3RydWN0b3IodHlwZU5hbWUpIHtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGVOYW1lIHx8ICd1bmRlZmluZWQnO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0lkbGU7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IGZhbHNlO1xuICAgICAgICAvLyBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24gPSBudWxsO1xuICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0lkbGU7XG4gICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNXb3JraW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Nvbm5lY3RpbmcgfHwgdGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cztcbiAgICB9XG5cbiAgICBnZXQgbmVlZFN0YXNoQnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmVlZFN0YXNoO1xuICAgIH1cblxuICAgIGdldCBvbkNvbnRlbnRMZW5ndGhLbm93bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duO1xuICAgIH1cblxuICAgIHNldCBvbkNvbnRlbnRMZW5ndGhLbm93bihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93biA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvblVSTFJlZGlyZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25VUkxSZWRpcmVjdDtcbiAgICB9XG5cbiAgICBzZXQgb25VUkxSZWRpcmVjdChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uRGF0YUFycml2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBcnJpdmFsO1xuICAgIH1cblxuICAgIHNldCBvbkRhdGFBcnJpdmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25FcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3I7XG4gICAgfVxuXG4gICAgc2V0IG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvbkNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Db21wbGV0ZTtcbiAgICB9XG5cbiAgICBzZXQgb25Db21wbGV0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLy8gcHVyZSB2aXJ0dWFsXG4gICAgb3BlbihkYXRhU291cmNlLCByYW5nZSkge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oJ1VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgZnVuY3Rpb24hJyk7XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBmdW5jdGlvbiEnKTtcbiAgICB9XG5cblxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBQYXJhbVNlZWtIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtU3RhcnQsIHBhcmFtRW5kKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0TmFtZSA9IHBhcmFtU3RhcnQ7XG4gICAgICAgIHRoaXMuX2VuZE5hbWUgPSBwYXJhbUVuZDtcbiAgICB9XG5cbiAgICBnZXRDb25maWcoYmFzZVVybCwgcmFuZ2UpIHtcbiAgICAgICAgbGV0IHVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IDAgfHwgcmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgbmVlZEFuZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gJz8nO1xuICAgICAgICAgICAgICAgIG5lZWRBbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5lZWRBbmQpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gJyYnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cmwgKz0gYCR7dGhpcy5fc3RhcnROYW1lfT0ke3JhbmdlLmZyb20udG9TdHJpbmcoKX1gO1xuXG4gICAgICAgICAgICBpZiAocmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGAmJHt0aGlzLl9lbmROYW1lfT0ke3JhbmdlLnRvLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVtb3ZlVVJMUGFyYW1ldGVycyhzZWVrZWRVUkwpIHtcbiAgICAgICAgbGV0IGJhc2VVUkwgPSBzZWVrZWRVUkwuc3BsaXQoJz8nKVswXTtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgcXVlcnlJbmRleCA9IHNlZWtlZFVSTC5pbmRleE9mKCc/Jyk7XG4gICAgICAgIGlmIChxdWVyeUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcGFyYW1zID0gc2Vla2VkVVJMLnN1YnN0cmluZyhxdWVyeUluZGV4ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0UGFyYW1zID0gJyc7XG5cbiAgICAgICAgaWYgKHBhcmFtcyAhPSB1bmRlZmluZWQgJiYgcGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwYWlycyA9IHBhcmFtcy5zcGxpdCgnJicpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIGxldCByZXF1aXJlQW5kID0gKGkgPiAwKTtcblxuICAgICAgICAgICAgICAgIGlmIChwYWlyWzBdICE9PSB0aGlzLl9zdGFydE5hbWUgJiYgcGFpclswXSAhPT0gdGhpcy5fZW5kTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZUFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UGFyYW1zICs9ICcmJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRQYXJhbXMgKz0gcGFpcnNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChyZXN1bHRQYXJhbXMubGVuZ3RoID09PSAwKSA/IGJhc2VVUkwgOiBiYXNlVVJMICsgJz8nICsgcmVzdWx0UGFyYW1zO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXJhbVNlZWtIYW5kbGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBSYW5nZVNlZWtIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHplcm9TdGFydCkge1xuICAgICAgICB0aGlzLl96ZXJvU3RhcnQgPSB6ZXJvU3RhcnQgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0Q29uZmlnKHVybCwgcmFuZ2UpIHtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7fTtcblxuICAgICAgICBpZiAocmFuZ2UuZnJvbSAhPT0gMCB8fCByYW5nZS50byAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxldCBwYXJhbTtcbiAgICAgICAgICAgIGlmIChyYW5nZS50byAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwYXJhbSA9IGBieXRlcz0ke3JhbmdlLmZyb20udG9TdHJpbmcoKX0tJHtyYW5nZS50by50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtID0gYGJ5dGVzPSR7cmFuZ2UuZnJvbS50b1N0cmluZygpfS1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVhZGVyc1snUmFuZ2UnXSA9IHBhcmFtO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3plcm9TdGFydCkge1xuICAgICAgICAgICAgaGVhZGVyc1snUmFuZ2UnXSA9ICdieXRlcz0wLSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVtb3ZlVVJMUGFyYW1ldGVycyhzZWVrZWRVUkwpIHtcbiAgICAgICAgcmV0dXJuIHNlZWtlZFVSTDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2VTZWVrSGFuZGxlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVXRpbGl0eSBjbGFzcyB0byBjYWxjdWxhdGUgcmVhbHRpbWUgbmV0d29yayBJL08gc3BlZWRcbmNsYXNzIFNwZWVkU2FtcGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RDaGVja3BvaW50ID0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxCeXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX3RvdGFsQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgPSAwO1xuXG4gICAgICAgIC8vIGNvbXBhdGliaWxpdHkgZGV0ZWN0aW9uXG4gICAgICAgIGlmIChzZWxmLnBlcmZvcm1hbmNlICYmIHNlbGYucGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdy5iaW5kKHNlbGYucGVyZm9ybWFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbm93ID0gRGF0ZS5ub3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fZmlyc3RDaGVja3BvaW50ID0gdGhpcy5fbGFzdENoZWNrcG9pbnQgPSAwO1xuICAgICAgICB0aGlzLl90b3RhbEJ5dGVzID0gdGhpcy5faW50ZXJ2YWxCeXRlcyA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RTZWNvbmRCeXRlcyA9IDA7XG4gICAgfVxuXG4gICAgYWRkQnl0ZXMoYnl0ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZmlyc3RDaGVja3BvaW50ID0gdGhpcy5fbm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2hlY2twb2ludCA9IHRoaXMuX2ZpcnN0Q2hlY2twb2ludDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsQnl0ZXMgKz0gYnl0ZXM7XG4gICAgICAgICAgICB0aGlzLl90b3RhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX25vdygpIC0gdGhpcy5fbGFzdENoZWNrcG9pbnQgPCAxMDAwKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fdG90YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgfSBlbHNlIHsgIC8vIGR1cmF0aW9uID49IDEwMDBcbiAgICAgICAgICAgIHRoaXMuX2xhc3RTZWNvbmRCeXRlcyA9IHRoaXMuX2ludGVydmFsQnl0ZXM7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbEJ5dGVzID0gYnl0ZXM7XG4gICAgICAgICAgICB0aGlzLl90b3RhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENoZWNrcG9pbnQgPSB0aGlzLl9ub3coKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjdXJyZW50S0JwcygpIHtcbiAgICAgICAgdGhpcy5hZGRCeXRlcygwKTtcblxuICAgICAgICBsZXQgZHVyYXRpb25TZWNvbmRzID0gKHRoaXMuX25vdygpIC0gdGhpcy5fbGFzdENoZWNrcG9pbnQpIC8gMTAwMDtcbiAgICAgICAgaWYgKGR1cmF0aW9uU2Vjb25kcyA9PSAwKSBkdXJhdGlvblNlY29uZHMgPSAxO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ludGVydmFsQnl0ZXMgLyBkdXJhdGlvblNlY29uZHMpIC8gMTAyNDtcbiAgICB9XG5cbiAgICBnZXQgbGFzdFNlY29uZEtCcHMoKSB7XG4gICAgICAgIHRoaXMuYWRkQnl0ZXMoMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRCeXRlcyAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RTZWNvbmRCeXRlcyAvIDEwMjQ7XG4gICAgICAgIH0gZWxzZSB7ICAvLyBsYXN0U2Vjb25kQnl0ZXMgPT09IDBcbiAgICAgICAgICAgIGlmICh0aGlzLl9ub3coKSAtIHRoaXMuX2xhc3RDaGVja3BvaW50ID49IDUwMCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRpbWUgaW50ZXJ2YWwgc2luY2UgbGFzdCBjaGVja3BvaW50IGhhcyBleGNlZWRlZCA1MDBtc1xuICAgICAgICAgICAgICAgIC8vIHRoZSBzcGVlZCBpcyBuZWFybHkgYWNjdXJhdGVcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50S0JwcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qga25vd1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGF2ZXJhZ2VLQnBzKCkge1xuICAgICAgICBsZXQgZHVyYXRpb25TZWNvbmRzID0gKHRoaXMuX25vdygpIC0gdGhpcy5fZmlyc3RDaGVja3BvaW50KSAvIDEwMDA7XG4gICAgICAgIHJldHVybiAodGhpcy5fdG90YWxCeXRlcyAvIGR1cmF0aW9uU2Vjb25kcykgLyAxMDI0O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGVlZFNhbXBsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gRm9yIEZMViBvdmVyIFdlYlNvY2tldCBsaXZlIHN0cmVhbVxuY2xhc3MgV2ViU29ja2V0TG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBzZWxmLldlYlNvY2tldCAhPT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ3dlYnNvY2tldC1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnV2ViU29ja2V0TG9hZGVyJztcblxuICAgICAgICB0aGlzLl9uZWVkU3Rhc2ggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX3dzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fd3MpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgb3BlbihkYXRhU291cmNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgd3MgPSB0aGlzLl93cyA9IG5ldyBzZWxmLldlYlNvY2tldChkYXRhU291cmNlLnVybCk7XG4gICAgICAgICAgICB3cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIHdzLm9ub3BlbiA9IHRoaXMuX29uV2ViU29ja2V0T3Blbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd3Mub25jbG9zZSA9IHRoaXMuX29uV2ViU29ja2V0Q2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHdzLm9ubWVzc2FnZSA9IHRoaXMuX29uV2ViU29ja2V0TWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgd3Mub25lcnJvciA9IHRoaXMuX29uV2ViU29ja2V0RXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuXG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiBlLmNvZGUsIG1zZzogZS5tZXNzYWdlfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5FWENFUFRJT04sIGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgbGV0IHdzID0gdGhpcy5fd3M7XG4gICAgICAgIGlmICh3cyAmJiAod3MucmVhZHlTdGF0ZSA9PT0gMCB8fCB3cy5yZWFkeVN0YXRlID09PSAxKSkgeyAgLy8gQ09OTkVDVElORyB8fCBPUEVOXG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICB9XG5cbiAgICBfb25XZWJTb2NrZXRPcGVuKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtCdWZmZXJpbmc7XG4gICAgfVxuXG4gICAgX29uV2ViU29ja2V0Q2xvc2UoZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUoMCwgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldlYlNvY2tldE1lc3NhZ2UoZSkge1xuICAgICAgICBpZiAoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoQXJyYXlCdWZmZXIoZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hBcnJheUJ1ZmZlcihyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnVW5zdXBwb3J0ZWQgV2ViU29ja2V0IG1lc3NhZ2UgdHlwZTogJyArIGUuZGF0YS5jb25zdHJ1Y3Rvci5uYW1lfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5FWENFUFRJT04sIGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hBcnJheUJ1ZmZlcihhcnJheWJ1ZmZlcikge1xuICAgICAgICBsZXQgY2h1bmsgPSBhcnJheWJ1ZmZlcjtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldlYlNvY2tldEVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcblxuICAgICAgICBsZXQgaW5mbyA9IHtcbiAgICAgICAgICAgIGNvZGU6IGUuY29kZSxcbiAgICAgICAgICAgIG1zZzogZS5tZXNzYWdlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoTG9hZGVyRXJyb3JzLkVYQ0VQVElPTiwgaW5mbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2ViU29ja2V0TG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIEZvciBGaXJlRm94IGJyb3dzZXIgd2hpY2ggc3VwcG9ydHMgYHhoci5yZXNwb25zZVR5cGUgPSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInYFxuY2xhc3MgTW96Q2h1bmtlZExvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgLy8gRmlyZWZveCAzNy0gcmVxdWlyZXMgLm9wZW4oKSB0byBiZSBjYWxsZWQgYmVmb3JlIHNldHRpbmcgcmVzcG9uc2VUeXBlXG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgcmV0dXJuICh4aHIucmVzcG9uc2VUeXBlID09PSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ01vekNodW5rZWRMb2FkZXInLCBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Ioc2Vla0hhbmRsZXIsIGNvbmZpZykge1xuICAgICAgICBzdXBlcigneGhyLW1vei1jaHVua2VkLWxvYWRlcicpO1xuICAgICAgICB0aGlzLlRBRyA9ICdNb3pDaHVua2VkTG9hZGVyJztcblxuICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IHNlZWtIYW5kbGVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWRlbmQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgb3BlbihkYXRhU291cmNlLCByYW5nZSkge1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTtcblxuICAgICAgICBsZXQgc291cmNlVVJMID0gZGF0YVNvdXJjZS51cmw7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcucmV1c2VSZWRpcmVjdGVkVVJMICYmIGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VVJMID0gc2Vla0NvbmZpZy51cmw7XG5cbiAgICAgICAgbGV0IHhociA9IHRoaXMuX3hociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignR0VUJywgc2Vla0NvbmZpZy51cmwsIHRydWUpO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJztcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMuX29uUmVhZHlTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25wcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IHRoaXMuX29uTG9hZEVuZC5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25lcnJvciA9IHRoaXMuX29uWGhyRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyBjb3JzIGlzIGF1dG8gZGV0ZWN0ZWQgYW5kIGVuYWJsZWQgYnkgeGhyXG5cbiAgICAgICAgLy8gd2l0aENyZWRlbnRpYWxzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKGRhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9vblJlYWR5U3RhdGVDaGFuZ2UoZSkge1xuICAgICAgICBsZXQgeGhyID0gZS50YXJnZXQ7XG5cbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAyKSB7ICAvLyBIRUFERVJTX1JFQ0VJVkVEXG4gICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9IHVuZGVmaW5lZCAmJiB4aHIucmVzcG9uc2VVUkwgIT09IHRoaXMuX3JlcXVlc3RVUkwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RlZFVSTCA9IHRoaXMuX3NlZWtIYW5kbGVyLnJlbW92ZVVSTFBhcmFtZXRlcnMoeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdChyZWRpcmVjdGVkVVJMKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAwICYmICh4aHIuc3RhdHVzIDwgMjAwIHx8IHhoci5zdGF0dXMgPiAyOTkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiB4aHIuc3RhdHVzLCBtc2c6IHhoci5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ01vekNodW5rZWRMb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCAnICsgeGhyLnN0YXR1cyArICcgJyArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZS50b3RhbCAhPT0gbnVsbCAmJiBlLnRvdGFsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IGUudG90YWw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaHVuayA9IGUudGFyZ2V0LnJlc3BvbnNlO1xuICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkxvYWRFbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3JhbmdlLmZyb20sIHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uWGhyRXJyb3IoZSkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmZvID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAmJiBlLmxvYWRlZCA8IHRoaXMuX2NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnTW96LUNodW5rZWQgc3RyZWFtIG1lZXQgRWFybHktRW9mJ307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgZS50eXBlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vekNodW5rZWRMb2FkZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLyogTm90aWNlOiBtcy1zdHJlYW0gbWF5IGNhdXNlIElFL0VkZ2UgYnJvd3NlciBjcmFzaCBpZiBzZWVrIHRvbyBmcmVxdWVudGx5ISEhXG4gKiBUaGUgYnJvd3NlciBtYXkgY3Jhc2ggaW4gd2luaW5ldC5kbGwuIERpc2FibGUgZm9yIG5vdy5cbiAqXG4gKiBGb3IgSUUxMS9FZGdlIGJyb3dzZXIgYnkgbWljcm9zb2Z0IHdoaWNoIHN1cHBvcnRzIGB4aHIucmVzcG9uc2VUeXBlID0gJ21zLXN0cmVhbSdgXG4gKiBOb3RpY2UgdGhhdCBtcy1zdHJlYW0gQVBJIHN1Y2tzLiBUaGUgYnVmZmVyIGlzIGFsd2F5cyBleHBhbmRpbmcgYWxvbmcgd2l0aCBkb3dubG9hZGluZy5cbiAqXG4gKiBXZSBuZWVkIHRvIGFib3J0IHRoZSB4aHIgaWYgYnVmZmVyIHNpemUgZXhjZWVkZWQgbGltaXQgc2l6ZSAoZS5nLiAxNiBNaUIpLCB0aGVuIGRvIHJlY29ubmVjdC5cbiAqIGluIG9yZGVyIHRvIHJlbGVhc2UgcHJldmlvdXMgQXJyYXlCdWZmZXIgdG8gYXZvaWQgbWVtb3J5IGxlYWtcbiAqXG4gKiBPdGhlcndpc2UsIHRoZSBBcnJheUJ1ZmZlciB3aWxsIGluY3JlYXNlIHRvIGEgdGVycmlibGUgc2l6ZSB0aGF0IGVxdWFscyBmaW5hbCBmaWxlIHNpemUuXG4gKi9cbmNsYXNzIE1TU3RyZWFtTG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBzZWxmLk1TU3RyZWFtUmVhZGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICdodHRwczovL2V4YW1wbGUuY29tJywgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ21zLXN0cmVhbSc7XG4gICAgICAgICAgICByZXR1cm4gKHhoci5yZXNwb25zZVR5cGUgPT09ICdtcy1zdHJlYW0nKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ01TU3RyZWFtTG9hZGVyJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ3hoci1tc3N0cmVhbS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnTVNTdHJlYW1Mb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWFkZXIgPSBudWxsOyAgLy8gTVNTdHJlYW1SZWFkZXJcblxuICAgICAgICB0aGlzLl90b3RhbFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPSAwO1xuXG4gICAgICAgIHRoaXMuX2J1ZmZlckxpbWl0ID0gMTYgKiAxMDI0ICogMTAyNDsgIC8vIDE2TUJcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVCdWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5faXNSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIG9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKGRhdGFTb3VyY2UsIHJhbmdlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX2ludGVybmFsT3BlbihkYXRhU291cmNlLCByYW5nZSwgaXNTdWJyYW5nZSkge1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcblxuICAgICAgICBpZiAoIWlzU3VicmFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUmFuZ2UgPSByYW5nZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IHJhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UudXJsO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnJldXNlUmVkaXJlY3RlZFVSTCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVVSTCA9IHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhU291cmNlLnJlZGlyZWN0ZWRVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlVVJMID0gZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZWtDb25maWcgPSB0aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoc291cmNlVVJMLCByYW5nZSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMID0gc2Vla0NvbmZpZy51cmw7XG5cbiAgICAgICAgbGV0IHJlYWRlciA9IHRoaXMuX3JlYWRlciA9IG5ldyBzZWxmLk1TU3RyZWFtUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbnByb2dyZXNzID0gdGhpcy5fbXNyT25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gdGhpcy5fbXNyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gdGhpcy5fbXNyT25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGxldCB4aHIgPSB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNlZWtDb25maWcudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdtcy1zdHJlYW0nO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5feGhyT25SZWFkeVN0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChkYXRhU291cmNlLndpdGhDcmVkZW50aWFscykge1xuICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHNlZWtDb25maWcuaGVhZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzID0gc2Vla0NvbmZpZy5oZWFkZXJzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1JlY29ubmVjdGluZykge1xuICAgICAgICAgICAgdGhpcy5faXNSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29ubmVjdGluZztcbiAgICAgICAgfVxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgfVxuXG4gICAgX2ludGVybmFsQWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWFkZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWFkZXIucmVhZHlTdGF0ZSA9PT0gMSkgeyAgLy8gTE9BRElOR1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWFkZXIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWFkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl94aHIpIHtcbiAgICAgICAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3hock9uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCB4aHIgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDIpIHsgIC8vIEhFQURFUlNfUkVDRUlWRURcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9zZWVrSGFuZGxlci5yZW1vdmVVUkxQYXJhbWV0ZXJzKHhoci5yZXNwb25zZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT09IHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMICYmIHJlZGlyZWN0ZWRVUkwgIT09IHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoSGVhZGVyID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LUxlbmd0aCcpO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhIZWFkZXIgIT0gbnVsbCAmJiB0aGlzLl9jb250ZW50TGVuZ3RoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHBhcnNlSW50KGxlbmd0aEhlYWRlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24odGhpcy5fY29udGVudExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElELCB7Y29kZTogeGhyLnN0YXR1cywgbXNnOiB4aHIuc3RhdHVzVGV4dH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdNU1N0cmVhbUxvYWRlcjogSHR0cCBjb2RlIGludmFsaWQsICcgKyB4aHIuc3RhdHVzICsgJyAnICsgeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMykgeyAgLy8gTE9BRElOR1xuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtCdWZmZXJpbmc7XG5cbiAgICAgICAgICAgICAgICBsZXQgbXNzdHJlYW0gPSB4aHIucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKG1zc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF94aHJPbkVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSBMb2FkZXJFcnJvcnMuRVhDRVBUSU9OO1xuICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiBlLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBlLnR5cGV9O1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21zck9uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBsZXQgcmVhZGVyID0gZS50YXJnZXQ7XG4gICAgICAgIGxldCBiaWdidWZmZXIgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICBpZiAoYmlnYnVmZmVyID09IG51bGwpIHsgIC8vIHJlc3VsdCBtYXkgYmUgbnVsbCwgd29ya2Fyb3VuZCBmb3IgYnVnZ3kgTSRcbiAgICAgICAgICAgIHRoaXMuX2RvUmVjb25uZWN0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzbGljZSA9IGJpZ2J1ZmZlci5zbGljZSh0aGlzLl9sYXN0VGltZUJ1ZmZlclNpemUpO1xuICAgICAgICB0aGlzLl9sYXN0VGltZUJ1ZmZlclNpemUgPSBiaWdidWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3RvdGFsUmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBzbGljZS5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKHNsaWNlLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaWdidWZmZXIuYnl0ZUxlbmd0aCA+PSB0aGlzLl9idWZmZXJMaW1pdCkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBNU1N0cmVhbSBidWZmZXIgZXhjZWVkZWQgbWF4IHNpemUgbmVhciAke2J5dGVTdGFydCArIHNsaWNlLmJ5dGVMZW5ndGh9LCByZWNvbm5lY3RpbmcuLi5gKTtcbiAgICAgICAgICAgIHRoaXMuX2RvUmVjb25uZWN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kb1JlY29ubmVjdElmTmVlZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCA9PSBudWxsIHx8IHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5faXNSZWNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbGFzdFRpbWVCdWZmZXJTaXplID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcblxuICAgICAgICAgICAgbGV0IHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuX3RvdGFsUmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoLFxuICAgICAgICAgICAgICAgIHRvOiAtMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsT3Blbih0aGlzLl9kYXRhU291cmNlLCByYW5nZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbXNyT25Mb2FkKGUpIHsgIC8vIGFjdHVhbGx5IGl0IGlzIG9uQ29tcGxldGUgZXZlbnRcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUodGhpcy5fdG90YWxSYW5nZS5mcm9tLCB0aGlzLl90b3RhbFJhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21zck9uRXJyb3IoZSkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmZvID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAmJiB0aGlzLl9yZWNlaXZlZExlbmd0aCA8IHRoaXMuX2NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnTVNTdHJlYW0gbWVldCBFYXJseS1Fb2YnfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiBlLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBlLnR5cGV9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgaW5mbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1TU3RyZWFtTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgU3BlZWRTYW1wbGVyIGZyb20gJy4vc3BlZWQtc2FtcGxlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIFVuaXZlcnNhbCBJTyBMb2FkZXIsIGltcGxlbWVudGVkIGJ5IGFkZGluZyBSYW5nZSBoZWFkZXIgaW4geGhyJ3MgcmVxdWVzdCBoZWFkZXJcbmNsYXNzIFJhbmdlTG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgcmV0dXJuICh4aHIucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ1JhbmdlTG9hZGVyJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ3hoci1yYW5nZS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnUmFuZ2VMb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fY2h1bmtTaXplS0JMaXN0ID0gW1xuICAgICAgICAgICAgMTI4LCAyNTYsIDM4NCwgNTEyLCA3NjgsIDEwMjQsIDE1MzYsIDIwNDgsIDMwNzIsIDQwOTYsIDUxMjAsIDYxNDQsIDcxNjgsIDgxOTJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5fY3VycmVudENodW5rU2l6ZUtCID0gMzg0O1xuICAgICAgICB0aGlzLl9jdXJyZW50U3BlZWROb3JtYWxpemVkID0gMDtcbiAgICAgICAgdGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyID0gbmV3IFNwZWVkU2FtcGxlcigpO1xuXG4gICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGhSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkwgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGggPSBudWxsOyAgLy8gc2l6ZSBvZiB0aGUgZW50aXJlIGZpbGVcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7ICAvLyBDb250ZW50LUxlbmd0aCBvZiBlbnRpcmUgcmVxdWVzdCByYW5nZVxuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7ICAvLyB0b3RhbCByZWNlaXZlZCBieXRlc1xuICAgICAgICB0aGlzLl9sYXN0VGltZUxvYWRlZCA9IDA7ICAvLyByZWNlaXZlZCBieXRlcyBvZiBjdXJyZW50IHJlcXVlc3Qgc3ViLXJhbmdlXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTcGVlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Nvbm5lY3Rpbmc7XG5cbiAgICAgICAgbGV0IHVzZVJlZlRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhU291cmNlLmZpbGVzaXplICE9IHVuZGVmaW5lZCAmJiB0aGlzLl9kYXRhU291cmNlLmZpbGVzaXplICE9PSAwKSB7XG4gICAgICAgICAgICB1c2VSZWZUb3RhbExlbmd0aCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IHRoaXMuX2RhdGFTb3VyY2UuZmlsZXNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWQgJiYgIXVzZVJlZlRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvdGFsIGZpbGVzaXplXG4gICAgICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHtmcm9tOiAwLCB0bzogLTF9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgZmlsZXNpemUsIHN0YXJ0IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29wZW5TdWJSYW5nZSgpIHtcbiAgICAgICAgbGV0IGNodW5rU2l6ZSA9IHRoaXMuX2N1cnJlbnRDaHVua1NpemVLQiAqIDEwMjQ7XG5cbiAgICAgICAgbGV0IGZyb20gPSB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGg7XG4gICAgICAgIGxldCB0byA9IGZyb20gKyBjaHVua1NpemU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRvIC0gdGhpcy5fcmFuZ2UuZnJvbSA+PSB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG8gPSB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fY29udGVudExlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlID0ge2Zyb20sIHRvfTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHRoaXMuX2N1cnJlbnRSZXF1ZXN0UmFuZ2UpO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbE9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVMb2FkZWQgPSAwO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VVUkwgPSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IHNlZWtDb25maWcudXJsO1xuXG4gICAgICAgIGxldCB4aHIgPSB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNlZWtDb25maWcudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9vblJlYWR5U3RhdGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmxvYWQgPSB0aGlzLl9vbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSB0aGlzLl9vblhockVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKGRhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbEFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCB4aHIgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDIpIHsgIC8vIEhFQURFUlNfUkVDRUlWRURcbiAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT0gdW5kZWZpbmVkKSB7ICAvLyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0IHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RlZFVSTCA9IHRoaXMuX3NlZWtIYW5kbGVyLnJlbW92ZVVSTFBhcmFtZXRlcnMoeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9PSB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCAmJiByZWRpcmVjdGVkVVJMICE9PSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vblVSTFJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5KSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiB4aHIuc3RhdHVzLCBtc2c6IHhoci5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1JhbmdlTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgJyArIHhoci5zdGF0dXMgKyAnICcgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoID09PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgb3Blbk5leHRSYW5nZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxMZW5ndGhSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3Blbk5leHRSYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodG90YWwgIT0gbnVsbCAmIHRvdGFsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoID0gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgY3VycnJlbnQgcmVxdWVzdCByYW5nZSdzIGNvbnRlbnRMZW5ndGhcbiAgICAgICAgICAgIGlmICh0aGlzLl9yYW5nZS50byA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gdGhpcy5fdG90YWxMZW5ndGggLSB0aGlzLl9yYW5nZS5mcm9tO1xuICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHRvICE9PSAtMVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSB0aGlzLl9yYW5nZS50byAtIHRoaXMuX3JhbmdlLmZyb20gKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3Blbk5leHRSYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRlbHRhID0gZS5sb2FkZWQgLSB0aGlzLl9sYXN0VGltZUxvYWRlZDtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVMb2FkZWQgPSBlLmxvYWRlZDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyLmFkZEJ5dGVzKGRlbHRhKTtcbiAgICB9XG5cbiAgICBfbm9ybWFsaXplU3BlZWQoaW5wdXQpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9jaHVua1NpemVLQkxpc3Q7XG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGlmIChpbnB1dCA8IGxpc3RbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0WzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKGlucHV0ID49IGxpc3RbbWlkXSAmJiBpbnB1dCA8IGxpc3RbbWlkICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbbWlkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdIDwgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTG9hZChlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvciByZXNwb25zZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0VGltZUxvYWRlZCA9IDA7XG4gICAgICAgIGxldCBLQnBzID0gdGhpcy5fc3BlZWRTYW1wbGVyLmxhc3RTZWNvbmRLQnBzO1xuICAgICAgICBpZiAoS0JwcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCsrO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3plcm9TcGVlZENodW5rQ291bnQgPj0gMykge1xuICAgICAgICAgICAgICAgIC8vIFRyeSBnZXQgY3VycmVudEtCcHMgYWZ0ZXIgMyBjaHVua3NcbiAgICAgICAgICAgICAgICBLQnBzID0gdGhpcy5fc3BlZWRTYW1wbGVyLmN1cnJlbnRLQnBzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEtCcHMgIT09IDApIHtcbiAgICAgICAgICAgIGxldCBub3JtYWxpemVkID0gdGhpcy5fbm9ybWFsaXplU3BlZWQoS0Jwcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudFNwZWVkTm9ybWFsaXplZCAhPT0gbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTcGVlZE5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRDaHVua1NpemVLQiA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2h1bmsgPSBlLnRhcmdldC5yZXNwb25zZTtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICAgICAgICBsZXQgcmVwb3J0Q29tcGxldGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAhPSBudWxsICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgLy8gY29udGludWUgbG9hZCBuZXh0IGNodW5rXG4gICAgICAgICAgICB0aGlzLl9vcGVuU3ViUmFuZ2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcG9ydENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc3BhdGNoIHJlY2VpdmVkIGNodW5rXG4gICAgICAgIGlmICh0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXBvcnRDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9yYW5nZS5mcm9tLCB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblhockVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSAwO1xuICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FQVJMWV9FT0Y7XG4gICAgICAgICAgICBpbmZvID0ge2NvZGU6IC0xLCBtc2c6ICdSYW5nZUxvYWRlciBtZWV0IEVhcmx5LUVvZid9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FWENFUFRJT047XG4gICAgICAgICAgICBpbmZvID0ge2NvZGU6IC0xLCBtc2c6IGUuY29uc3RydWN0b3IubmFtZSArICcgJyArIGUudHlwZX07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlLCBpbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUxvYWRlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcydcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnXG5pbXBvcnQgUGxheWVyRXZlbnRzIGZyb20gJy4vcGxheWVyLWV2ZW50cy5qcydcbmltcG9ydCBUcmFuc211eGVyIGZyb20gJy4uL2NvcmUvdHJhbnNtdXhlci5qcydcbmltcG9ydCBUcmFuc211eGluZ0V2ZW50cyBmcm9tICcuLi9jb3JlL3RyYW5zbXV4aW5nLWV2ZW50cy5qcydcbmltcG9ydCBNU0VDb250cm9sbGVyIGZyb20gJy4uL2NvcmUvbXNlLWNvbnRyb2xsZXIuanMnXG5pbXBvcnQgTVNFRXZlbnRzIGZyb20gJy4uL2NvcmUvbXNlLWV2ZW50cy5qcydcbmltcG9ydCB7RXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzfSBmcm9tICcuL3BsYXllci1lcnJvcnMuanMnXG5pbXBvcnQge2NyZWF0ZURlZmF1bHRDb25maWd9IGZyb20gJy4uL2NvbmZpZy5qcydcbmltcG9ydCB7SW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcydcbi8qIGVzbGludC1kaXNhYmxlICovXG5jbGFzcyBGbHZQbGF5ZXIge1xuICBjb25zdHJ1Y3RvciAobWVkaWFEYXRhU291cmNlLCBjb25maWcpIHtcbiAgICB0aGlzLlRBRyA9ICdGbHZQbGF5ZXInXG4gICAgdGhpcy5fdHlwZSA9ICdGbHZQbGF5ZXInXG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gICAgdGhpcy5fY29uZmlnID0gY3JlYXRlRGVmYXVsdENvbmZpZygpXG4gICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2NvbmZpZywgY29uZmlnKVxuICAgIH1cblxuICAgIGlmIChtZWRpYURhdGFTb3VyY2UudHlwZS50b0xvd2VyQ2FzZSgpICE9PSAnZmx2Jykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignRmx2UGxheWVyIHJlcXVpcmVzIGFuIGZsdiBNZWRpYURhdGFTb3VyY2UgaW5wdXQhJylcbiAgICB9XG5cbiAgICBpZiAobWVkaWFEYXRhU291cmNlLmlzTGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fY29uZmlnLmlzTGl2ZSA9IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLmUgPSB7XG4gICAgICBvbnZMb2FkZWRNZXRhZGF0YTogdGhpcy5fb252TG9hZGVkTWV0YWRhdGEuYmluZCh0aGlzKSxcbiAgICAgIG9udlNlZWtpbmc6IHRoaXMuX29udlNlZWtpbmcuYmluZCh0aGlzKSxcbiAgICAgIG9udkNhblBsYXk6IHRoaXMuX29udkNhblBsYXkuYmluZCh0aGlzKSxcbiAgICAgIG9udlN0YWxsZWQ6IHRoaXMuX29udlN0YWxsZWQuYmluZCh0aGlzKSxcbiAgICAgIG9udlByb2dyZXNzOiB0aGlzLl9vbnZQcm9ncmVzcy5iaW5kKHRoaXMpXG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICB0aGlzLl9ub3cgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ub3cgPSBEYXRlLm5vd1xuICAgIH1cblxuICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGwgLy8gaW4gc2Vjb25kc1xuICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gZmFsc2VcbiAgICB0aGlzLl9zZWVrcG9pbnRSZWNvcmQgPSBudWxsXG4gICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbFxuXG4gICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbWVkaWFEYXRhU291cmNlXG4gICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbFxuICAgIHRoaXMuX21zZWN0bCA9IG51bGxcbiAgICB0aGlzLl90cmFuc211eGVyID0gbnVsbFxuXG4gICAgdGhpcy5fbXNlU291cmNlT3BlbmVkID0gZmFsc2VcbiAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IGZhbHNlXG4gICAgdGhpcy5fcmVjZWl2ZWRDYW5QbGF5ID0gZmFsc2VcblxuICAgIHRoaXMuX21lZGlhSW5mbyA9IG51bGxcbiAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IG51bGxcblxuICAgIGxldCBjaHJvbWVOZWVkSURSRml4ID0gKEJyb3dzZXIuY2hyb21lICYmXG4gICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yIDwgNTAgfHxcbiAgICAgICAgKEJyb3dzZXIudmVyc2lvbi5tYWpvciA9PT0gNTAgJiYgQnJvd3Nlci52ZXJzaW9uLmJ1aWxkIDwgMjY2MSkpKVxuICAgIHRoaXMuX2Fsd2F5c1NlZWtLZXlmcmFtZSA9ICEhKChjaHJvbWVOZWVkSURSRml4IHx8IEJyb3dzZXIubXNlZGdlIHx8IEJyb3dzZXIubXNpZSkpXG5cbiAgICBpZiAodGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKSB7XG4gICAgICB0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrID0gZmFsc2VcbiAgICB9XG4gICAgdGhpcy5fdGVtcFBlbmRpbmdTZWdtZW50cyA9IHtcbiAgICAgIGF1ZGlvOiBbXSxcbiAgICAgIHZpZGVvOiBbXVxuICAgIH1cbiAgICB0aGlzLl9kZWZpbml0aW9uUmV0cnlUaW1lcyA9IDBcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgIT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKVxuICAgICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbFxuICAgIH1cbiAgICBpZiAodGhpcy5fdHJhbnNtdXhlcikge1xuICAgICAgdGhpcy51bmxvYWQoKVxuICAgIH1cbiAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICB0aGlzLmRldGFjaE1lZGlhRWxlbWVudCgpXG4gICAgfVxuICAgIHRoaXMuZSA9IG51bGxcbiAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBudWxsXG5cbiAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpXG4gICAgdGhpcy5fZW1pdHRlciA9IG51bGxcbiAgfVxuXG4gIG9uIChldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5NRURJQV9JTkZPKSB7XG4gICAgICBpZiAodGhpcy5fbWVkaWFJbmZvICE9IG51bGwpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCB0aGlzLm1lZGlhSW5mbylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPKSB7XG4gICAgICBpZiAodGhpcy5fc3RhdGlzdGljc0luZm8gIT0gbnVsbCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgdGhpcy5zdGF0aXN0aWNzSW5mbylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpXG4gIH1cblxuICBvZmYgKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKVxuICB9XG5cbiAgYXR0YWNoTWVkaWFFbGVtZW50IChtZWRpYUVsZW1lbnQpIHtcbiAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBtZWRpYUVsZW1lbnRcbiAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpXG4gICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLmUub252U2Vla2luZylcbiAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuZS5vbnZDYW5QbGF5KVxuICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdGFsbGVkJywgdGhpcy5lLm9udlN0YWxsZWQpXG4gICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5lLm9udlByb2dyZXNzKVxuXG4gICAgdGhpcy5fbXNlY3RsID0gbmV3IE1TRUNvbnRyb2xsZXIodGhpcy5fY29uZmlnKVxuXG4gICAgdGhpcy5fbXNlY3RsLm9uKE1TRUV2ZW50cy5VUERBVEVfRU5ELCB0aGlzLl9vbm1zZVVwZGF0ZUVuZC5iaW5kKHRoaXMpKVxuICAgIHRoaXMuX21zZWN0bC5vbihNU0VFdmVudHMuQlVGRkVSX0ZVTEwsIHRoaXMuX29ubXNlQnVmZmVyRnVsbC5iaW5kKHRoaXMpKVxuICAgIHRoaXMuX21zZWN0bC5vbihNU0VFdmVudHMuU09VUkNFX09QRU4sICgpID0+IHtcbiAgICAgIHRoaXMuX21zZVNvdXJjZU9wZW5lZCA9IHRydWVcbiAgICAgIGlmICh0aGlzLl9oYXNQZW5kaW5nTG9hZCkge1xuICAgICAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IGZhbHNlXG4gICAgICAgIHRoaXMubG9hZCgpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLl9tc2VjdGwub24oTVNFRXZlbnRzLkVSUk9SLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUixcbiAgICAgICAgRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgRXJyb3JEZXRhaWxzLk1FRElBX01TRV9FUlJPUixcbiAgICAgICAgaW5mb1xuICAgICAgKVxuICAgIH0pXG5cbiAgICB0aGlzLl9tc2VjdGwuYXR0YWNoTWVkaWFFbGVtZW50KG1lZGlhRWxlbWVudClcblxuICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGxcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAvLyBXZSBjYW4gZGVmZXIgc2V0IGN1cnJlbnRUaW1lIG9wZXJhdGlvbiBhZnRlciBsb2FkZWRtZXRhZGF0YVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRldGFjaE1lZGlhRWxlbWVudCAoKSB7XG4gICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgdGhpcy5fbXNlY3RsLmRldGFjaE1lZGlhRWxlbWVudCgpXG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpXG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMuZS5vbnZTZWVraW5nKVxuICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLmUub252Q2FuUGxheSlcbiAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdGFsbGVkJywgdGhpcy5lLm9udlN0YWxsZWQpXG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpXG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsXG4gICAgfVxuICAgIGlmICh0aGlzLl9tc2VjdGwpIHtcbiAgICAgIHRoaXMuX21zZWN0bC5kZXN0cm95KClcbiAgICAgIHRoaXMuX21zZWN0bCA9IG51bGxcbiAgICB9XG4gIH1cblxuICBvbkRlZmluaXRpb25DaGFuZ2UgKHVybCwgZXhwZWN0VGltZSA9IDMpIHtcbiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyAgIGlmICghdGhpcy5pc0RlZmluaXRpb25EYXRhUmVhZHkgJiYgdGhpcy5fZGVmaW5pdGlvblJldHJ5VGltZXMgPCAzKSB7XG4gICAgLy8gICAgIHRoaXMuX2RlZmluaXRpb25SZXRyeVRpbWVzICs9IDFcbiAgICAvLyAgICAgdGhpcy5vbkRlZmluaXRpb25DaGFuZ2UodXJsLCBleHBlY3RUaW1lKVxuICAgIC8vICAgfSBlbHNlIGlmICh0aGlzLmlzRGVmaW5pdGlvbkRhdGFSZWFkeSkge1xuICAgIC8vICAgICBpZiAodGhpcy5fdHJhbnNtdXhlciAhPT0gdGhpcy5fdGVtcFRyYW5zbXV4ZXIpIHtcbiAgICAvLyAgICAgICB0aGlzLl90cmFuc211eGVyLmRlc3Ryb3koKVxuICAgIC8vICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSB0aGlzLl90ZW1wVHJhbnNtdXhlclxuICAgIC8vICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZVxuICAgIC8vICAgICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLnNlZWsoY3VycmVudFRpbWUgKiAxMDAwKVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIE9iamVjdC5rZXlzKHRoaXMuX3RlbXBQZW5kaW5nU2VnbWVudHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAvLyAgICAgICB0aGlzLl9tc2VjdGwuX3BlbmRpbmdTZWdtZW50c1trZXldID0gdGhpcy5fdGVtcFBlbmRpbmdTZWdtZW50c1trZXldXG4gICAgLy8gICAgIH0pXG4gICAgLy8gICAgIHRoaXMuX3RlbXBQZW5kaW5nU2VnbWVudHMgPSB7XG4gICAgLy8gICAgICAgYXVkaW86IFtdLFxuICAgIC8vICAgICAgIHZpZGVvOiBbXVxuICAgIC8vICAgICB9XG4gICAgLy9cbiAgICAvLyAgICAgdGhpcy5fZGVmaW5pdGlvblJldHJ5VGltZXMgPSAwXG4gICAgLy8gICB9IGVsc2UgaWYgKHRoaXMuX2RlZmluaXRpb25SZXRyeVRpbWVzID49IDMpIHtcbiAgICAvLyAgICAgdGhpcy5fZGVmaW5pdGlvblJldHJ5VGltZXMgPSAwXG4gICAgLy8gICAgIGlmICh0aGlzLl90ZW1wVHJhbnNtdXhlcikge1xuICAgIC8vICAgICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLmRlc3Ryb3koKVxuICAgIC8vICAgICAgIHRoaXMuX3RlbXBUcmFuc211eGVyID0gbnVsbFxuICAgIC8vICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsIEVycm9yVHlwZXMuTkVUV09SS19FUlJPUiwgJycsICfmuIXmmbDluqbliIfmjaLlpLHotKXvvIEnKVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHRoaXMuX2RlZmluaXRpb25SZXRyeVRpbWVzID0gMFxuICAgIC8vICAgfVxuICAgIC8vICAgdGhpcy5fdGVtcFBlbmRpbmdTZWdtZW50cyA9IHtcbiAgICAvLyAgICAgYXVkaW86IFtdLFxuICAgIC8vICAgICB2aWRlbzogW11cbiAgICAvLyAgIH1cbiAgICAvLyB9LCBleHBlY3RUaW1lICogMTAwMClcblxuICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1swXS51cmwgPSB1cmxcbiAgICB0aGlzLl90ZW1wTWRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fbWVkaWFEYXRhU291cmNlLCB7dXJsfSlcblxuICAgIHRoaXMuX3RlbXBUcmFuc211eGVyID0gbmV3IFRyYW5zbXV4ZXIodGhpcy5fdGVtcE1kcywgdGhpcy5fY29uZmlnKVxuICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLl9lbWl0dGVyLm9uKCdtZXRhZGF0YV9hcnJpdmVkJywgb25NZXRhRGF0YSA9PiB7XG4gICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoJ21ldGFkYXRhX2Fycml2ZWQnLCBvbk1ldGFEYXRhKTtcbiAgICB9KVxuXG4gICAgdGhpcy5fdGVtcFRyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5ULCAodHlwZSwgaXMpID0+IHtcbiAgICAgIGlmICghdGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICB0aGlzLl90ZW1wUGVuZGluZ1NlZ21lbnRzW3R5cGVdID0gW2lzXVxuICAgICAgICAvLyB0aGlzLl9tc2VjdGwuYXBwZW5kSW5pdFNlZ21lbnQoaXMpXG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyICE9PSB0aGlzLl90ZW1wVHJhbnNtdXhlciAmJiB0aGlzLl90ZW1wVHJhbnNtdXhlcikge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lXG4gICAgICAgICAgdGhpcy5fdGVtcFRyYW5zbXV4ZXIuc2VlayhjdXJyZW50VGltZSAqIDEwMDApXG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgKHRoaXMuX3RyYW5zbXV4ZXIgIT09IHRoaXMuX3RlbXBUcmFuc211eGVyKSB7XG4gICAgICAgIC8vICAgdGhpcy5fdHJhbnNtdXhlci5kZXN0cm95KClcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyB0aGlzLl90cmFuc211eGVyID0gdGhpcy5fdGVtcFRyYW5zbXV4ZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX21zZWN0bC5kb0NsZWFyU291cmNlQnVmZmVyKClcbiAgICAgICAgdGhpcy5fbXNlY3RsLmFwcGVuZEluaXRTZWdtZW50KGlzKVxuICAgICAgICBpZiAodGhpcy5fdHJhbnNtdXhlciAhPT0gdGhpcy5fdGVtcFRyYW5zbXV4ZXIpIHtcbiAgICAgICAgICB0aGlzLl90cmFuc211eGVyLmRlc3Ryb3koKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSB0aGlzLl90ZW1wVHJhbnNtdXhlclxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLl90ZW1wVHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCAodHlwZSwgbXMpID0+IHtcbiAgICAgIGlmICghdGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3RlbXBUcmFuc211eGVyKSB7XG4gICAgICAgICAgdGhpcy5fbXNlY3RsLmFwcGVuZE1lZGlhU2VnbWVudChtcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl90ZW1wUGVuZGluZ1NlZ21lbnRzW3R5cGVdICYmIHRoaXMuX3RlbXBQZW5kaW5nU2VnbWVudHNbdHlwZV0ucHVzaChtcylcbiAgICAgICAgICBpZiAodGhpcy5pc0RlZmluaXRpb25EYXRhUmVhZHkpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3RlbXBQZW5kaW5nU2VnbWVudHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fbXNlY3RsLl9wZW5kaW5nU2VnbWVudHNba2V5XSA9IHRoaXMuX3RlbXBQZW5kaW5nU2VnbWVudHNba2V5XVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuX3RlbXBQZW5kaW5nU2VnbWVudHMgPSB7XG4gICAgICAgICAgICAgIGF1ZGlvOiBbXSxcbiAgICAgICAgICAgICAgdmlkZW86IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLmRlc3Ryb3koKVxuICAgICAgICAgICAgdGhpcy5fdHJhbnNtdXhlciA9IHRoaXMuX3RlbXBUcmFuc211eGVyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGVtcFRyYW5zbXV4ZXJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX21zZWN0bC5hcHBlbmRNZWRpYVNlZ21lbnQobXMpXG4gICAgICB9XG5cbiAgICAgIC8vIGxhenlMb2FkIGNoZWNrXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmxhenlMb2FkICYmICF0aGlzLl9jb25maWcuaXNMaXZlKSB7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZVxuICAgICAgICBpZiAobXMuaW5mby5lbmREdHMgPj0gKGN1cnJlbnRUaW1lICsgdGhpcy5fY29uZmlnLmxhenlMb2FkTWF4RHVyYXRpb24pICogMTAwMCkge1xuICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNYXhpbXVtIGJ1ZmZlcmluZyBkdXJhdGlvbiBleGNlZWRlZCwgc3VzcGVuZCB0cmFuc211eGluZyB0YXNrJylcbiAgICAgICAgICAgIHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUsICgpID0+IHtcbiAgICAgIHRoaXMuX21zZWN0bC5lbmRPZlN0cmVhbSgpXG4gICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLkxPQURJTkdfQ09NUExFVEUpXG4gICAgfSlcbiAgICB0aGlzLl90ZW1wVHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GLCAoKSA9PiB7XG4gICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0YpXG4gICAgfSlcbiAgICB0aGlzLl90ZW1wVHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgKGRldGFpbCwgaW5mbykgPT4ge1xuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUiwgRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLCBkZXRhaWwsIGluZm8pXG4gICAgfSlcbiAgICB0aGlzLl90ZW1wVHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgKGRldGFpbCwgaW5mbykgPT4ge1xuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUiwgRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsLCB7Y29kZTogLTEsIG1zZzogaW5mb30pXG4gICAgfSlcbiAgICB0aGlzLl90ZW1wVHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLCAobWVkaWFJbmZvKSA9PiB7XG4gICAgICB0aGlzLl9tZWRpYUluZm8gPSBtZWRpYUluZm9cbiAgICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLnNlZWsoKHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSArIGV4cGVjdFRpbWUpICogMTAwMClcbiAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTUVESUFfSU5GTywgT2JqZWN0LmFzc2lnbih7fSwgbWVkaWFJbmZvKSlcbiAgICB9KVxuICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgKHN0YXRJbmZvKSA9PiB7XG4gICAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IHRoaXMuX2ZpbGxTdGF0aXN0aWNzSW5mbyhzdGF0SW5mbylcbiAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9zdGF0aXN0aWNzSW5mbykpXG4gICAgfSlcbiAgICB0aGlzLl90ZW1wVHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCAobWlsbGlzZWNvbmRzKSA9PiB7XG4gICAgICBpZiAodGhpcy5fdHJhbnNtdXhlciA9PT0gdGhpcy5fdGVtcFRyYW5zbXV4ZXIgJiYgdGhpcy5fbWVkaWFFbGVtZW50ICYmICF0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZVxuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBtaWxsaXNlY29uZHMgLyAxMDAwXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuX3RlbXBUcmFuc211eGVyLm9wZW4oKVxuICB9XG5cbiAgbG9hZCAoKSB7XG4gICAgaWYgKCF0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0hUTUxNZWRpYUVsZW1lbnQgbXVzdCBiZSBhdHRhY2hlZCBiZWZvcmUgbG9hZCgpIScpXG4gICAgfVxuICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdGbHZQbGF5ZXIubG9hZCgpIGhhcyBiZWVuIGNhbGxlZCwgcGxlYXNlIGNhbGwgdW5sb2FkKCkgZmlyc3QhJylcbiAgICB9XG4gICAgaWYgKHRoaXMuX2hhc1BlbmRpbmdMb2FkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLmRlZmVyTG9hZEFmdGVyU291cmNlT3BlbiAmJiB0aGlzLl9tc2VTb3VyY2VPcGVuZWQgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IHRydWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSA+IDApIHtcbiAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZVxuICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gMFxuICAgIH1cblxuICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBuZXcgVHJhbnNtdXhlcih0aGlzLl9tZWRpYURhdGFTb3VyY2UsIHRoaXMuX2NvbmZpZylcbiAgICB0aGlzLl90cmFuc211eGVyLl9lbWl0dGVyLm9uKCdtZXRhZGF0YV9hcnJpdmVkJywgb25NZXRhRGF0YSA9PiB7XG4gICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoJ21ldGFkYXRhX2Fycml2ZWQnLCBvbk1ldGFEYXRhKTtcbiAgICB9KVxuXG4gICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsICh0eXBlLCBpcykgPT4ge1xuICAgICAgdGhpcy5fbXNlY3RsLmFwcGVuZEluaXRTZWdtZW50KGlzKVxuICAgIH0pXG4gICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCAodHlwZSwgbXMpID0+IHtcbiAgICAgIHRoaXMuX21zZWN0bC5hcHBlbmRNZWRpYVNlZ21lbnQobXMpXG5cbiAgICAgIC8vIGxhenlMb2FkIGNoZWNrXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmxhenlMb2FkICYmICF0aGlzLl9jb25maWcuaXNMaXZlKSB7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZVxuICAgICAgICBpZiAobXMuaW5mby5lbmREdHMgPj0gKGN1cnJlbnRUaW1lICsgdGhpcy5fY29uZmlnLmxhenlMb2FkTWF4RHVyYXRpb24pICogMTAwMCkge1xuICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNYXhpbXVtIGJ1ZmZlcmluZyBkdXJhdGlvbiBleGNlZWRlZCwgc3VzcGVuZCB0cmFuc211eGluZyB0YXNrJylcbiAgICAgICAgICAgIHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgKCkgPT4ge1xuICAgICAgdGhpcy5fbXNlY3RsLmVuZE9mU3RyZWFtKClcbiAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTE9BRElOR19DT01QTEVURSlcbiAgICB9KVxuICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRiwgKCkgPT4ge1xuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GKVxuICAgIH0pXG4gICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgKGRldGFpbCwgaW5mbykgPT4ge1xuICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUiwgRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLCBkZXRhaWwsIGluZm8pXG4gICAgfSlcbiAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLCAoZGV0YWlsLCBpbmZvKSA9PiB7XG4gICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLkVSUk9SLCBFcnJvclR5cGVzLk1FRElBX0VSUk9SLCBkZXRhaWwsIHtjb2RlOiAtMSwgbXNnOiBpbmZvfSlcbiAgICB9KVxuICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgKG1lZGlhSW5mbykgPT4ge1xuICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbWVkaWFJbmZvXG4gICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLk1FRElBX0lORk8sIE9iamVjdC5hc3NpZ24oe30sIG1lZGlhSW5mbykpXG4gICAgfSlcbiAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgKHN0YXRJbmZvKSA9PiB7XG4gICAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IHRoaXMuX2ZpbGxTdGF0aXN0aWNzSW5mbyhzdGF0SW5mbylcbiAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9zdGF0aXN0aWNzSW5mbykpXG4gICAgfSlcbiAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsIChtaWxsaXNlY29uZHMpID0+IHtcbiAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgJiYgIXRoaXMuX2NvbmZpZy5hY2N1cmF0ZVNlZWspIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlXG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IG1pbGxpc2Vjb25kcyAvIDEwMDBcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5fdHJhbnNtdXhlci5vcGVuKClcbiAgfVxuXG4gIHVubG9hZCAoKSB7XG4gICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnBhdXNlKClcbiAgICB9XG4gICAgaWYgKHRoaXMuX21zZWN0bCkge1xuICAgICAgdGhpcy5fbXNlY3RsLnNlZWsoMClcbiAgICB9XG4gICAgaWYgKHRoaXMuX3RyYW5zbXV4ZXIpIHtcbiAgICAgIHRoaXMuX3RyYW5zbXV4ZXIuY2xvc2UoKVxuICAgICAgdGhpcy5fdHJhbnNtdXhlci5kZXN0cm95KClcbiAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcGxheSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KClcbiAgfVxuXG4gIHBhdXNlICgpIHtcbiAgICB0aGlzLl9tZWRpYUVsZW1lbnQucGF1c2UoKVxuICB9XG5cbiAgZ2V0IHR5cGUgKCkge1xuICAgIHJldHVybiB0aGlzLl90eXBlXG4gIH1cblxuICBnZXQgYnVmZmVyZWQgKCkge1xuICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWRcbiAgfVxuXG4gIGdldCBkdXJhdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5kdXJhdGlvblxuICB9XG5cbiAgZ2V0IHZvbHVtZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC52b2x1bWVcbiAgfVxuXG4gIHNldCB2b2x1bWUgKHZhbHVlKSB7XG4gICAgdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZSA9IHZhbHVlXG4gIH1cblxuICBnZXQgbXV0ZWQgKCkge1xuICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQubXV0ZWRcbiAgfVxuXG4gIHNldCBtdXRlZCAobXV0ZWQpIHtcbiAgICB0aGlzLl9tZWRpYUVsZW1lbnQubXV0ZWQgPSBtdXRlZFxuICB9XG5cbiAgZ2V0IGN1cnJlbnRUaW1lICgpIHtcbiAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH1cblxuICBzZXQgY3VycmVudFRpbWUgKHNlY29uZHMpIHtcbiAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbFNlZWsoc2Vjb25kcylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gc2Vjb25kc1xuICAgIH1cbiAgfVxuXG4gIGdldCBtZWRpYUluZm8gKCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9tZWRpYUluZm8pXG4gIH1cblxuICBnZXQgc3RhdGlzdGljc0luZm8gKCkge1xuICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzSW5mbyA9PSBudWxsKSB7XG4gICAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IHt9XG4gICAgfVxuICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0gdGhpcy5fZmlsbFN0YXRpc3RpY3NJbmZvKHRoaXMuX3N0YXRpc3RpY3NJbmZvKVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9zdGF0aXN0aWNzSW5mbylcbiAgfVxuXG4gIF9maWxsU3RhdGlzdGljc0luZm8gKHN0YXRJbmZvKSB7XG4gICAgc3RhdEluZm8ucGxheWVyVHlwZSA9IHRoaXMuX3R5cGVcblxuICAgIGlmICghKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MVmlkZW9FbGVtZW50KSkge1xuICAgICAgcmV0dXJuIHN0YXRJbmZvXG4gICAgfVxuXG4gICAgbGV0IGhhc1F1YWxpdHlJbmZvID0gdHJ1ZVxuICAgIGxldCBkZWNvZGVkID0gMFxuICAgIGxldCBkcm9wcGVkID0gMFxuXG4gICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSkge1xuICAgICAgbGV0IHF1YWxpdHkgPSB0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKVxuICAgICAgZGVjb2RlZCA9IHF1YWxpdHkudG90YWxWaWRlb0ZyYW1lc1xuICAgICAgZHJvcHBlZCA9IHF1YWxpdHkuZHJvcHBlZFZpZGVvRnJhbWVzXG4gICAgfSBlbHNlIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RGVjb2RlZEZyYW1lQ291bnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWNvZGVkID0gdGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50XG4gICAgICBkcm9wcGVkID0gdGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERyb3BwZWRGcmFtZUNvdW50XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc1F1YWxpdHlJbmZvID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaGFzUXVhbGl0eUluZm8pIHtcbiAgICAgIHN0YXRJbmZvLmRlY29kZWRGcmFtZXMgPSBkZWNvZGVkXG4gICAgICBzdGF0SW5mby5kcm9wcGVkRnJhbWVzID0gZHJvcHBlZFxuICAgIH1cblxuICAgIHJldHVybiBzdGF0SW5mb1xuICB9XG5cbiAgX29ubXNlVXBkYXRlRW5kICgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZy5sYXp5TG9hZCB8fCB0aGlzLl9jb25maWcuaXNMaXZlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWRcbiAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWVcbiAgICBsZXQgY3VycmVudFJhbmdlU3RhcnQgPSAwXG4gICAgbGV0IGN1cnJlbnRSYW5nZUVuZCA9IDBcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzdGFydCA9IGJ1ZmZlcmVkLnN0YXJ0KGkpXG4gICAgICBsZXQgZW5kID0gYnVmZmVyZWQuZW5kKGkpXG4gICAgICBpZiAoc3RhcnQgPD0gY3VycmVudFRpbWUgJiYgY3VycmVudFRpbWUgPCBlbmQpIHtcbiAgICAgICAgY3VycmVudFJhbmdlU3RhcnQgPSBzdGFydFxuICAgICAgICBjdXJyZW50UmFuZ2VFbmQgPSBlbmRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFJhbmdlRW5kID49IGN1cnJlbnRUaW1lICsgdGhpcy5fY29uZmlnLmxhenlMb2FkTWF4RHVyYXRpb24gJiYgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID09IG51bGwpIHtcbiAgICAgIExvZy52KHRoaXMuVEFHLCAnTWF4aW11bSBidWZmZXJpbmcgZHVyYXRpb24gZXhjZWVkZWQsIHN1c3BlbmQgdHJhbnNtdXhpbmcgdGFzaycpXG4gICAgICB0aGlzLl9zdXNwZW5kVHJhbnNtdXhlcigpXG4gICAgfVxuICB9XG5cbiAgX29ubXNlQnVmZmVyRnVsbCAoKSB7XG4gICAgTG9nLnYodGhpcy5UQUcsICdNU0UgU291cmNlQnVmZmVyIGlzIGZ1bGwsIHN1c3BlbmQgdHJhbnNtdXhpbmcgdGFzaycpXG4gICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9PSBudWxsKSB7XG4gICAgICB0aGlzLl9zdXNwZW5kVHJhbnNtdXhlcigpXG4gICAgfVxuICB9XG5cbiAgX3N1c3BlbmRUcmFuc211eGVyICgpIHtcbiAgICBpZiAodGhpcy5fdHJhbnNtdXhlcikge1xuICAgICAgdGhpcy5fdHJhbnNtdXhlci5wYXVzZSgpXG5cbiAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZS5iaW5kKHRoaXMpLCAxMDAwKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9jaGVja1Byb2dyZXNzQW5kUmVzdW1lICgpIHtcbiAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWVcbiAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWRcblxuICAgIGxldCBuZWVkUmVzdW1lID0gZmFsc2VcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBmcm9tID0gYnVmZmVyZWQuc3RhcnQoaSlcbiAgICAgIGxldCB0byA9IGJ1ZmZlcmVkLmVuZChpKVxuICAgICAgaWYgKGN1cnJlbnRUaW1lID49IGZyb20gJiYgY3VycmVudFRpbWUgPCB0bykge1xuICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gdG8gLSB0aGlzLl9jb25maWcubGF6eUxvYWRSZWNvdmVyRHVyYXRpb24pIHtcbiAgICAgICAgICBuZWVkUmVzdW1lID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5lZWRSZXN1bWUpIHtcbiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3Byb2dyZXNzQ2hlY2tlcilcbiAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IG51bGxcbiAgICAgIGlmIChuZWVkUmVzdW1lKSB7XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnQ29udGludWUgbG9hZGluZyBmcm9tIHBhdXNlZCBwb3NpdGlvbicpXG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIucmVzdW1lKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaXNUaW1lcG9pbnRCdWZmZXJlZCAoc2Vjb25kcykge1xuICAgIGxldCBidWZmZXJlZCA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGZyb20gPSBidWZmZXJlZC5zdGFydChpKVxuICAgICAgbGV0IHRvID0gYnVmZmVyZWQuZW5kKGkpXG4gICAgICBpZiAoc2Vjb25kcyA+PSBmcm9tICYmIHNlY29uZHMgPCB0bykge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIF9pbnRlcm5hbFNlZWsgKHNlY29uZHMpIHtcbiAgICBsZXQgZGlyZWN0U2VlayA9IHRoaXMuX2lzVGltZXBvaW50QnVmZmVyZWQoc2Vjb25kcylcblxuICAgIGxldCBkaXJlY3RTZWVrQmVnaW4gPSBmYWxzZVxuICAgIGxldCBkaXJlY3RTZWVrQmVnaW5UaW1lID0gMFxuXG4gICAgaWYgKHNlY29uZHMgPCAxLjAgJiYgdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCB2aWRlb0JlZ2luVGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZC5zdGFydCgwKVxuICAgICAgaWYgKCh2aWRlb0JlZ2luVGltZSA8IDEuMCAmJiBzZWNvbmRzIDwgdmlkZW9CZWdpblRpbWUpIHx8IEJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgIGRpcmVjdFNlZWtCZWdpbiA9IHRydWVcbiAgICAgICAgLy8gYWxzbyB3b3JrYXJvdW5kIGZvciBTYWZhcmk6IFNlZWsgdG8gMCBtYXkgY2F1c2UgdmlkZW8gc3R1Y2ssIHVzZSAwLjEgdG8gYXZvaWRcbiAgICAgICAgZGlyZWN0U2Vla0JlZ2luVGltZSA9IEJyb3dzZXIuc2FmYXJpID8gMC4xIDogdmlkZW9CZWdpblRpbWVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGlyZWN0U2Vla0JlZ2luKSB7IC8vIHNlZWsgdG8gdmlkZW8gYmVnaW4sIHNldCBjdXJyZW50VGltZSBkaXJlY3RseSBpZiBiZWdpblBUUyBidWZmZXJlZFxuICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlXG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBkaXJlY3RTZWVrQmVnaW5UaW1lXG4gICAgfSBlbHNlIGlmIChkaXJlY3RTZWVrKSB7IC8vIGJ1ZmZlcmVkIHBvc2l0aW9uXG4gICAgICBpZiAoIXRoaXMuX2Fsd2F5c1NlZWtLZXlmcmFtZSkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWVcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gc2Vjb25kc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGlkciA9IHRoaXMuX21zZWN0bC5nZXROZWFyZXN0S2V5ZnJhbWUoTWF0aC5mbG9vcihzZWNvbmRzICogMTAwMCkpXG4gICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZVxuICAgICAgICBpZiAoaWRyICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBpZHIuZHRzIC8gMTAwMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHNcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWUoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKVxuICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsXG4gICAgICB9XG4gICAgICB0aGlzLl9tc2VjdGwuc2VlayhzZWNvbmRzKVxuICAgICAgdGhpcy5fdHJhbnNtdXhlci5zZWVrKE1hdGguZmxvb3Ioc2Vjb25kcyAqIDEwMDApKSAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IG1lZGlhRWxlbWVudC5jdXJyZW50VGltZSBpZiBub24tYWNjdXJhdGVTZWVrLFxuICAgICAgLy8ganVzdCB3YWl0IGZvciB0aGUgcmVjb21tZW5kX3NlZWtwb2ludCBjYWxsYmFja1xuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hY2N1cmF0ZVNlZWspIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlXG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHNcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQgKCkge1xuICAgIGlmICh0aGlzLl9zZWVrcG9pbnRSZWNvcmQpIHtcbiAgICAgIGlmICh0aGlzLl9zZWVrcG9pbnRSZWNvcmQucmVjb3JkVGltZSA8PSB0aGlzLl9ub3coKSAtIDEwMCkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lXG4gICAgICAgIHRoaXMuX3NlZWtwb2ludFJlY29yZCA9IG51bGxcbiAgICAgICAgaWYgKCF0aGlzLl9pc1RpbWVwb2ludEJ1ZmZlcmVkKHRhcmdldCkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKVxuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyAuY3VycmVudFRpbWUgaXMgY29uc2lzdHMgd2l0aCAuYnVmZmVyZWQgdGltZXN0YW1wXG4gICAgICAgICAgLy8gQ2hyb21lL0VkZ2UgdXNlIERUUywgd2hpbGUgRmlyZUZveC9TYWZhcmkgdXNlIFBUU1xuICAgICAgICAgIHRoaXMuX21zZWN0bC5zZWVrKHRhcmdldClcbiAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnNlZWsoTWF0aC5mbG9vcih0YXJnZXQgKiAxMDAwKSlcbiAgICAgICAgICAvLyBzZXQgY3VycmVudFRpbWUgaWYgYWNjdXJhdGVTZWVrLCBvciB3YWl0IGZvciByZWNvbW1lbmRfc2Vla3BvaW50IGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hY2N1cmF0ZVNlZWspIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGFyZ2V0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9jaGVja0FuZEFwcGx5VW5idWZmZXJlZFNlZWtwb2ludC5iaW5kKHRoaXMpLCA1MClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrIChzdGFsbGVkKSB7XG4gICAgbGV0IG1lZGlhID0gdGhpcy5fbWVkaWFFbGVtZW50XG4gICAgaWYgKHN0YWxsZWQgfHwgIXRoaXMuX3JlY2VpdmVkQ2FuUGxheSB8fCBtZWRpYS5yZWFkeVN0YXRlIDwgMikgeyAvLyBIQVZFX0NVUlJFTlRfREFUQVxuICAgICAgbGV0IGJ1ZmZlcmVkID0gbWVkaWEuYnVmZmVyZWRcbiAgICAgIGlmIChidWZmZXJlZC5sZW5ndGggPiAwICYmIG1lZGlhLmN1cnJlbnRUaW1lIDwgYnVmZmVyZWQuc3RhcnQoMCkpIHtcbiAgICAgICAgTG9nLncodGhpcy5UQUcsIGBQbGF5YmFjayBzZWVtcyBzdHVjayBhdCAke21lZGlhLmN1cnJlbnRUaW1lfSwgc2VlayB0byAke2J1ZmZlcmVkLnN0YXJ0KDApfWApXG4gICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZVxuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBidWZmZXJlZC5zdGFydCgwKVxuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFBsYXliYWNrIGRpZG4ndCBzdHVjaywgcmVtb3ZlIHByb2dyZXNzIGV2ZW50IGxpc3RlbmVyXG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpXG4gICAgfVxuICB9XG5cbiAgX29udkxvYWRlZE1ldGFkYXRhIChlKSB7XG4gICAgaWYgKHRoaXMuX3BlbmRpbmdTZWVrVGltZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWVcbiAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGxcbiAgICB9XG4gIH1cblxuICBfb252U2Vla2luZyAoZSkgeyAvLyBoYW5kbGUgc2Vla2luZyByZXF1ZXN0IGZyb20gYnJvd3NlcidzIHByb2dyZXNzIGJhclxuICAgIGxldCB0YXJnZXQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWVcbiAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWRcblxuICAgIGlmICh0aGlzLl9yZXF1ZXN0U2V0VGltZSkge1xuICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSBmYWxzZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRhcmdldCA8IDEuMCAmJiBidWZmZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBzZWVrIHRvIHZpZGVvIGJlZ2luLCBzZXQgY3VycmVudFRpbWUgZGlyZWN0bHkgaWYgYmVnaW5QVFMgYnVmZmVyZWRcbiAgICAgIGxldCB2aWRlb0JlZ2luVGltZSA9IGJ1ZmZlcmVkLnN0YXJ0KDApXG4gICAgICBpZiAoKHZpZGVvQmVnaW5UaW1lIDwgMS4wICYmIHRhcmdldCA8IHZpZGVvQmVnaW5UaW1lKSB8fCBCcm93c2VyLnNhZmFyaSkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWVcbiAgICAgICAgLy8gYWxzbyB3b3JrYXJvdW5kIGZvciBTYWZhcmk6IFNlZWsgdG8gMCBtYXkgY2F1c2UgdmlkZW8gc3R1Y2ssIHVzZSAwLjEgdG8gYXZvaWRcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gQnJvd3Nlci5zYWZhcmkgPyAwLjEgOiB2aWRlb0JlZ2luVGltZVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNUaW1lcG9pbnRCdWZmZXJlZCh0YXJnZXQpKSB7XG4gICAgICBpZiAodGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKSB7XG4gICAgICAgIGxldCBpZHIgPSB0aGlzLl9tc2VjdGwuZ2V0TmVhcmVzdEtleWZyYW1lKE1hdGguZmxvb3IodGFyZ2V0ICogMTAwMCkpXG4gICAgICAgIGlmIChpZHIgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZVxuICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IGlkci5kdHMgLyAxMDAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9jaGVja1Byb2dyZXNzQW5kUmVzdW1lKClcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuX3NlZWtwb2ludFJlY29yZCA9IHtcbiAgICAgIHNlZWtQb2ludDogdGFyZ2V0LFxuICAgICAgcmVjb3JkVGltZTogdGhpcy5fbm93KClcbiAgICB9XG4gICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5fY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQuYmluZCh0aGlzKSwgNTApXG4gIH1cblxuICBfb252Q2FuUGxheSAoZSkge1xuICAgIHRoaXMuX3JlY2VpdmVkQ2FuUGxheSA9IHRydWVcbiAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuZS5vbnZDYW5QbGF5KVxuICB9XG5cbiAgX29udlN0YWxsZWQgKGUpIHtcbiAgICB0aGlzLl9jaGVja0FuZFJlc3VtZVN0dWNrUGxheWJhY2sodHJ1ZSlcbiAgfVxuXG4gIF9vbnZQcm9ncmVzcyAoZSkge1xuICAgIHRoaXMuX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjaygpXG4gIH1cblxuICBnZXQgaXNEZWZpbml0aW9uRGF0YVJlYWR5ICgpIHtcbiAgICBjb25zdCBtaW5TZWdtZW50TGVuID0gMTBcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fdGVtcFBlbmRpbmdTZWdtZW50cykuZXZlcnkoKGtleSkgPT4gdGhpcy5fdGVtcFBlbmRpbmdTZWdtZW50c1trZXldLmxlbmd0aCA+PSBtaW5TZWdtZW50TGVuKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZsdlBsYXllclxuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBQbGF5ZXJFdmVudHMgZnJvbSAnLi9wbGF5ZXItZXZlbnRzLmpzJztcbmltcG9ydCB7Y3JlYXRlRGVmYXVsdENvbmZpZ30gZnJvbSAnLi4vY29uZmlnLmpzJztcbmltcG9ydCB7SW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIFBsYXllciB3cmFwcGVyIGZvciBicm93c2VyJ3MgbmF0aXZlIHBsYXllciAoSFRNTFZpZGVvRWxlbWVudCkgd2l0aG91dCBNZWRpYVNvdXJjZSBzcmMuIFxuY2xhc3MgTmF0aXZlUGxheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhRGF0YVNvdXJjZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ05hdGl2ZVBsYXllcic7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnTmF0aXZlUGxheWVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjcmVhdGVEZWZhdWx0Q29uZmlnKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVkaWFEYXRhU291cmNlLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZsdicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ05hdGl2ZVBsYXllciBkb2VzXFwndCBzdXBwb3J0IGZsdiBNZWRpYURhdGFTb3VyY2UgaW5wdXQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhRGF0YVNvdXJjZS5oYXNPd25Qcm9wZXJ0eSgnc2VnbWVudHMnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihgTmF0aXZlUGxheWVyKCR7bWVkaWFEYXRhU291cmNlLnR5cGV9KSBkb2Vzbid0IHN1cHBvcnQgbXVsdGlwYXJ0IHBsYXliYWNrIWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lID0ge1xuICAgICAgICAgICAgb252TG9hZGVkTWV0YWRhdGE6IHRoaXMuX29udkxvYWRlZE1ldGFkYXRhLmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZCgpO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSBQbGF5ZXJFdmVudHMuTUVESUFfSU5GTykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCAhPSBudWxsICYmIHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlICE9PSAwKSB7ICAvLyBIQVZFX05PVEhJTkdcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCB0aGlzLm1lZGlhSW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgIT0gbnVsbCAmJiB0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgdGhpcy5zdGF0aXN0aWNzSW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGF0dGFjaE1lZGlhRWxlbWVudChtZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbWVkaWFFbGVtZW50O1xuICAgICAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpO1xuXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBtZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJRTExIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBpZiByZWFkeVN0YXRlID09PSAwXG4gICAgICAgICAgICAgICAgLy8gRGVmZXIgc2V0IGN1cnJlbnRUaW1lIG9wZXJhdGlvbiBhZnRlciBsb2FkZWRtZXRhZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGV0YWNoTWVkaWFFbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignSFRNTE1lZGlhRWxlbWVudCBtdXN0IGJlIGF0dGFjaGVkIGJlZm9yZSBsb2FkKCkhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS51cmw7XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQubG9hZCgpO1xuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgICB0aGlzLl9yZXBvcnRTdGF0aXN0aWNzSW5mby5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl9jb25maWcuc3RhdGlzdGljc0luZm9SZXBvcnRJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgdW5sb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcik7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KCk7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgYnVmZmVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2b2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQudm9sdW1lO1xuICAgIH1cblxuICAgIHNldCB2b2x1bWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5tdXRlZDtcbiAgICB9XG5cbiAgICBzZXQgbXV0ZWQobXV0ZWQpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkID0gbXV0ZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50VGltZShzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBzZWNvbmRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG1lZGlhSW5mbygpIHtcbiAgICAgICAgbGV0IG1lZGlhUHJlZml4ID0gKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQpID8gJ2F1ZGlvLycgOiAndmlkZW8vJztcbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBtaW1lVHlwZTogbWVkaWFQcmVmaXggKyB0aGlzLl9tZWRpYURhdGFTb3VyY2UudHlwZVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICBpbmZvLmR1cmF0aW9uID0gTWF0aC5mbG9vcih0aGlzLl9tZWRpYUVsZW1lbnQuZHVyYXRpb24gKiAxMDAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaW5mby53aWR0aCA9IHRoaXMuX21lZGlhRWxlbWVudC52aWRlb1dpZHRoO1xuICAgICAgICAgICAgICAgIGluZm8uaGVpZ2h0ID0gdGhpcy5fbWVkaWFFbGVtZW50LnZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIGdldCBzdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBwbGF5ZXJUeXBlOiB0aGlzLl90eXBlLFxuICAgICAgICAgICAgdXJsOiB0aGlzLl9tZWRpYURhdGFTb3VyY2UudXJsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCEodGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhc1F1YWxpdHlJbmZvID0gdHJ1ZTtcbiAgICAgICAgbGV0IGRlY29kZWQgPSAwO1xuICAgICAgICBsZXQgZHJvcHBlZCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSkge1xuICAgICAgICAgICAgbGV0IHF1YWxpdHkgPSB0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtcbiAgICAgICAgICAgIGRlY29kZWQgPSBxdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXM7XG4gICAgICAgICAgICBkcm9wcGVkID0gcXVhbGl0eS5kcm9wcGVkVmlkZW9GcmFtZXM7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVjb2RlZCA9IHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudDtcbiAgICAgICAgICAgIGRyb3BwZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RHJvcHBlZEZyYW1lQ291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYXNRdWFsaXR5SW5mbyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1F1YWxpdHlJbmZvKSB7XG4gICAgICAgICAgICBpbmZvLmRlY29kZWRGcmFtZXMgPSBkZWNvZGVkO1xuICAgICAgICAgICAgaW5mby5kcm9wcGVkRnJhbWVzID0gZHJvcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgX29udkxvYWRlZE1ldGFkYXRhKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZWVrVGltZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTUVESUFfSU5GTywgdGhpcy5tZWRpYUluZm8pO1xuICAgIH1cblxuICAgIF9yZXBvcnRTdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuc3RhdGlzdGljc0luZm8pO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXRpdmVQbGF5ZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7TG9hZGVyRXJyb3JzfSBmcm9tICcuLi9pby9sb2FkZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4uL2RlbXV4L2RlbXV4LWVycm9ycy5qcyc7XG5cbmV4cG9ydCBjb25zdCBFcnJvclR5cGVzID0ge1xuICAgIE5FVFdPUktfRVJST1I6ICdOZXR3b3JrRXJyb3InLFxuICAgIE1FRElBX0VSUk9SOiAnTWVkaWFFcnJvcicsXG4gICAgT1RIRVJfRVJST1I6ICdPdGhlckVycm9yJ1xufTtcblxuZXhwb3J0IGNvbnN0IEVycm9yRGV0YWlscyA9IHtcbiAgICBORVRXT1JLX0VYQ0VQVElPTjogTG9hZGVyRXJyb3JzLkVYQ0VQVElPTixcbiAgICBORVRXT1JLX1NUQVRVU19DT0RFX0lOVkFMSUQ6IExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsXG4gICAgTkVUV09SS19USU1FT1VUOiBMb2FkZXJFcnJvcnMuQ09OTkVDVElOR19USU1FT1VULFxuICAgIE5FVFdPUktfVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y6IExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRixcblxuICAgIE1FRElBX01TRV9FUlJPUjogJ01lZGlhTVNFRXJyb3InLFxuXG4gICAgTUVESUFfRk9STUFUX0VSUk9SOiBEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsXG4gICAgTUVESUFfRk9STUFUX1VOU1VQUE9SVEVEOiBEZW11eEVycm9ycy5GT1JNQVRfVU5TVVBQT1JURUQsXG4gICAgTUVESUFfQ09ERUNfVU5TVVBQT1JURUQ6IERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVEXG59OyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBQbGF5ZXJFdmVudHMgPSB7XG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgTE9BRElOR19DT01QTEVURTogJ2xvYWRpbmdfY29tcGxldGUnLFxuICAgIFJFQ09WRVJFRF9FQVJMWV9FT0Y6ICdyZWNvdmVyZWRfZWFybHlfZW9mJyxcbiAgICBNRURJQV9JTkZPOiAnbWVkaWFfaW5mbycsXG4gICAgU1RBVElTVElDU19JTkZPOiAnc3RhdGlzdGljc19pbmZvJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyRXZlbnRzOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIG1vZGlmaWVkIGZyb20gZGFpbHltb3Rpb24ncyBobHMuanMgbGlicmFyeSAoaGxzLmpzL3NyYy9oZWxwZXIvYWFjLmpzKVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBBQUMge1xuXG4gICAgc3RhdGljIGdldFNpbGVudEZyYW1lKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICAgICAgaWYgKGNvZGVjID09PSAnbXA0YS40MC4yJykge1xuICAgICAgICAgICAgLy8gaGFuZGxlIExDLUFBQ1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MjEsIDB4MDAsIDB4NDksIDB4OTAsIDB4MDIsIDB4MTksIDB4MDAsIDB4MjMsIDB4ODBdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDhlXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MzhdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDAwLCAweGIyLCAweDAwLCAweDIwLCAweDA4LCAweGUwXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgSEUtQUFDIChtcDRhLjQwLjUgLyBtcDRhLjQwLjI5KVxuICAgICAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NGUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgxYywgMHg2LCAweGYxLCAweGMxLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZV92MiAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUFDOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIGRlcml2ZWQgZnJvbSBkYWlseW1vdGlvbidzIGhscy5qcyBsaWJyYXJ5IChobHMuanMvc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IuanMpXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vICBNUDQgYm94ZXMgZ2VuZXJhdG9yIGZvciBJU08gQk1GRiAoSVNPIEJhc2UgTWVkaWEgRmlsZSBGb3JtYXQsIGRlZmluZWQgaW4gSVNPL0lFQyAxNDQ5Ni0xMilcbmNsYXNzIE1QNCB7XG4gIHN0YXRpYyBpbml0ICgpIHtcbiAgICBNUDQudHlwZXMgPSB7XG4gICAgICBhdmMxOiBbXSxcbiAgICAgIGF2Y0M6IFtdLFxuICAgICAgYnRydDogW10sXG4gICAgICBkaW5mOiBbXSxcbiAgICAgIGRyZWY6IFtdLFxuICAgICAgZXNkczogW10sXG4gICAgICBmdHlwOiBbXSxcbiAgICAgIGhkbHI6IFtdLFxuICAgICAgbWRhdDogW10sXG4gICAgICBtZGhkOiBbXSxcbiAgICAgIG1kaWE6IFtdLFxuICAgICAgbWZoZDogW10sXG4gICAgICBtaW5mOiBbXSxcbiAgICAgIG1vb2Y6IFtdLFxuICAgICAgbW9vdjogW10sXG4gICAgICBtcDRhOiBbXSxcbiAgICAgIG12ZXg6IFtdLFxuICAgICAgbXZoZDogW10sXG4gICAgICBzZHRwOiBbXSxcbiAgICAgIHN0Ymw6IFtdLFxuICAgICAgc3RjbzogW10sXG4gICAgICBzdHNjOiBbXSxcbiAgICAgIHN0c2Q6IFtdLFxuICAgICAgc3RzejogW10sXG4gICAgICBzdHRzOiBbXSxcbiAgICAgIHRmZHQ6IFtdLFxuICAgICAgdGZoZDogW10sXG4gICAgICB0cmFmOiBbXSxcbiAgICAgIHRyYWs6IFtdLFxuICAgICAgdHJ1bjogW10sXG4gICAgICB0cmV4OiBbXSxcbiAgICAgIHRraGQ6IFtdLFxuICAgICAgdm1oZDogW10sXG4gICAgICBzbWhkOiBbXSxcbiAgICAgICcubXAzJzogW11cbiAgICB9XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIE1QNC50eXBlcykge1xuICAgICAgaWYgKE1QNC50eXBlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBNUDQudHlwZXNbbmFtZV0gPSBbXG4gICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDApLFxuICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgxKSxcbiAgICAgICAgICBuYW1lLmNoYXJDb2RlQXQoMiksXG4gICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDMpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgY29uc3RhbnRzID0gTVA0LmNvbnN0YW50cyA9IHt9XG5cbiAgICBjb25zdGFudHMuRlRZUCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4NjksIDB4NzMsIDB4NkYsIDB4NkQsIC8vIG1ham9yX2JyYW5kOiBpc29tXG4gICAgICAweDAsIDB4MCwgMHgwLCAweDEsIC8vIG1pbm9yX3ZlcnNpb246IDB4MDFcbiAgICAgIDB4NjksIDB4NzMsIDB4NkYsIDB4NkQsIC8vIGlzb21cbiAgICAgIDB4NjEsIDB4NzYsIDB4NjMsIDB4MzEgLy8gYXZjMVxuICAgIF0pXG5cbiAgICBjb25zdGFudHMuU1RTRF9QUkVGSVggPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEgLy8gZW50cnlfY291bnRcbiAgICBdKVxuXG4gICAgY29uc3RhbnRzLlNUVFMgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gZW50cnlfY291bnRcbiAgICBdKVxuXG4gICAgY29uc3RhbnRzLlNUU0MgPSBjb25zdGFudHMuU1RDTyA9IGNvbnN0YW50cy5TVFRTXG5cbiAgICBjb25zdGFudHMuU1RTWiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gc2FtcGxlX3NpemVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gc2FtcGxlX2NvdW50XG4gICAgXSlcblxuICAgIGNvbnN0YW50cy5IRExSX1ZJREVPID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgICAgMHg3NiwgMHg2OSwgMHg2NCwgMHg2NSwgLy8gaGFuZGxlcl90eXBlOiAndmlkZSdcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiAzICogNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDU2LCAweDY5LCAweDY0LCAweDY1LFxuICAgICAgMHg2RiwgMHg0OCwgMHg2MSwgMHg2RSxcbiAgICAgIDB4NjQsIDB4NkMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogVmlkZW9IYW5kbGVyXG4gICAgXSlcblxuICAgIGNvbnN0YW50cy5IRExSX0FVRElPID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgICAgMHg3MywgMHg2RiwgMHg3NSwgMHg2RSwgLy8gaGFuZGxlcl90eXBlOiAnc291bidcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiAzICogNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDUzLCAweDZGLCAweDc1LCAweDZFLFxuICAgICAgMHg2NCwgMHg0OCwgMHg2MSwgMHg2RSxcbiAgICAgIDB4NjQsIDB4NkMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogU291bmRIYW5kbGVyXG4gICAgXSlcblxuICAgIGNvbnN0YW50cy5EUkVGID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyBlbnRyeV9jb3VudFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwQywgLy8gZW50cnlfc2l6ZVxuICAgICAgMHg3NSwgMHg3MiwgMHg2QywgMHgyMCwgLy8gdHlwZSAndXJsICdcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgXSlcblxuICAgIC8vIFNvdW5kIG1lZGlhIGhlYWRlclxuICAgIGNvbnN0YW50cy5TTUhEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGJhbGFuY2UoMikgKyByZXNlcnZlZCgyKVxuICAgIF0pXG5cbiAgICAvLyB2aWRlbyBtZWRpYSBoZWFkZXJcbiAgICBjb25zdGFudHMuVk1IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgLy8gZ3JhcGhpY3Ntb2RlOiAyIGJ5dGVzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBvcGNvbG9yOiAzICogMiBieXRlc1xuICAgICAgMHgwMCwgMHgwMFxuICAgIF0pXG4gIH1cblxuICAvLyBHZW5lcmF0ZSBhIGJveFxuICBzdGF0aWMgYm94ICh0eXBlKSB7XG4gICAgbGV0IHNpemUgPSA4XG4gICAgbGV0IHJlc3VsdCA9IG51bGxcbiAgICBsZXQgZGF0YXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXG4gICAgbGV0IGFycmF5Q291bnQgPSBkYXRhcy5sZW5ndGhcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlDb3VudDsgaSsrKSB7XG4gICAgICBzaXplICs9IGRhdGFzW2ldLmJ5dGVMZW5ndGhcbiAgICB9XG5cbiAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKVxuICAgIHJlc3VsdFswXSA9IChzaXplID4+PiAyNCkgJiAweEZGIC8vIHNpemVcbiAgICByZXN1bHRbMV0gPSAoc2l6ZSA+Pj4gMTYpICYgMHhGRlxuICAgIHJlc3VsdFsyXSA9IChzaXplID4+PiA4KSAmIDB4RkZcbiAgICByZXN1bHRbM10gPSAoc2l6ZSkgJiAweEZGXG5cbiAgICByZXN1bHQuc2V0KHR5cGUsIDQpIC8vIHR5cGVcblxuICAgIGxldCBvZmZzZXQgPSA4XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheUNvdW50OyBpKyspIHsgLy8gZGF0YSBib2R5XG4gICAgICByZXN1bHQuc2V0KGRhdGFzW2ldLCBvZmZzZXQpXG4gICAgICBvZmZzZXQgKz0gZGF0YXNbaV0uYnl0ZUxlbmd0aFxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIGVtaXQgZnR5cCAmIG1vb3ZcbiAgc3RhdGljIGdlbmVyYXRlSW5pdFNlZ21lbnQgKG1ldGEpIHtcbiAgICBsZXQgZnR5cCA9IE1QNC5ib3goTVA0LnR5cGVzLmZ0eXAsIE1QNC5jb25zdGFudHMuRlRZUClcbiAgICBsZXQgbW9vdiA9IE1QNC5tb292KG1ldGEpXG5cbiAgICBsZXQgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZnR5cC5ieXRlTGVuZ3RoICsgbW9vdi5ieXRlTGVuZ3RoKVxuICAgIHJlc3VsdC5zZXQoZnR5cCwgMClcbiAgICByZXN1bHQuc2V0KG1vb3YsIGZ0eXAuYnl0ZUxlbmd0aClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBNb3ZpZSBtZXRhZGF0YSBib3hcbiAgc3RhdGljIG1vb3YgKG1ldGEpIHtcbiAgICBsZXQgbXZoZCA9IE1QNC5tdmhkKG1ldGEudGltZXNjYWxlLCBtZXRhLmR1cmF0aW9uKVxuICAgIGxldCB0cmFrID0gTVA0LnRyYWsobWV0YSlcbiAgICBsZXQgbXZleCA9IE1QNC5tdmV4KG1ldGEpXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1vb3YsIG12aGQsIHRyYWssIG12ZXgpXG4gIH1cblxuICAvLyBNb3ZpZSBoZWFkZXIgYm94XG4gIHN0YXRpYyBtdmhkICh0aW1lc2NhbGUsIGR1cmF0aW9uKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm12aGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gY3JlYXRpb25fdGltZVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICAgICh0aW1lc2NhbGUgPj4+IDI0KSAmIDB4RkYsIC8vIHRpbWVzY2FsZTogNCBieXRlc1xuICAgICAgKHRpbWVzY2FsZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICh0aW1lc2NhbGUgPj4+IDgpICYgMHhGRixcbiAgICAgICh0aW1lc2NhbGUpICYgMHhGRixcbiAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhGRiwgLy8gZHVyYXRpb246IDQgYnl0ZXNcbiAgICAgIChkdXJhdGlvbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgIChkdXJhdGlvbiA+Pj4gOCkgJiAweEZGLFxuICAgICAgKGR1cmF0aW9uKSAmIDB4RkYsXG4gICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAvLyBQcmVmZXJyZWQgcmF0ZTogMS4wXG4gICAgICAweDAxLCAweDAwLCAweDAwLCAweDAwLCAvLyBQcmVmZXJyZWRWb2x1bWUoMS4wLCAyYnl0ZXMpICsgcmVzZXJ2ZWQoMmJ5dGVzKVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQ6IDQgKyA0IGJ5dGVzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgLy8gLS0tLWJlZ2luIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDQwLCAweDAwLCAweDAwLCAweDAwLCAvLyAtLS0tZW5kIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIC0tLS1iZWdpbiBwcmVfZGVmaW5lZCA2ICogNCBieXRlcy0tLS1cbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyAtLS0tZW5kIHByZV9kZWZpbmVkIDYgKiA0IGJ5dGVzLS0tLVxuICAgICAgMHhGRiwgMHhGRiwgMHhGRiwgMHhGRiAvLyBuZXh0X3RyYWNrX0lEXG4gICAgXSkpXG4gIH1cblxuICAvLyBUcmFjayBib3hcbiAgc3RhdGljIHRyYWsgKG1ldGEpIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhaywgTVA0LnRraGQobWV0YSksIE1QNC5tZGlhKG1ldGEpKVxuICB9XG5cbiAgLy8gVHJhY2sgaGVhZGVyIGJveFxuICBzdGF0aWMgdGtoZCAobWV0YSkge1xuICAgIGxldCB0cmFja0lkID0gbWV0YS5pZCwgZHVyYXRpb24gPSBtZXRhLmR1cmF0aW9uXG4gICAgbGV0IHdpZHRoID0gbWV0YS5wcmVzZW50V2lkdGgsIGhlaWdodCA9IG1ldGEucHJlc2VudEhlaWdodFxuXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRraGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDcsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gY3JlYXRpb25fdGltZVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICAgICh0cmFja0lkID4+PiAyNCkgJiAweEZGLCAvLyB0cmFja19JRDogNCBieXRlc1xuICAgICAgKHRyYWNrSWQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAodHJhY2tJZCA+Pj4gOCkgJiAweEZGLFxuICAgICAgKHRyYWNrSWQpICYgMHhGRixcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiA0IGJ5dGVzXG4gICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsIC8vIGR1cmF0aW9uOiA0IGJ5dGVzXG4gICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24gPj4+IDgpICYgMHhGRixcbiAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQ6IDIgKiA0IGJ5dGVzXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gbGF5ZXIoMmJ5dGVzKSArIGFsdGVybmF0ZV9ncm91cCgyYnl0ZXMpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2b2x1bWUoMmJ5dGVzKSArIHJlc2VydmVkKDJieXRlcylcbiAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIC8vIC0tLS1iZWdpbiBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHg0MCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gLS0tLWVuZCBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAod2lkdGggPj4+IDgpICYgMHhGRiwgLy8gd2lkdGggYW5kIGhlaWdodFxuICAgICAgKHdpZHRoKSAmIDB4RkYsXG4gICAgICAweDAwLCAweDAwLFxuICAgICAgKGhlaWdodCA+Pj4gOCkgJiAweEZGLFxuICAgICAgKGhlaWdodCkgJiAweEZGLFxuICAgICAgMHgwMCwgMHgwMFxuICAgIF0pKVxuICB9XG5cbiAgLy8gTWVkaWEgQm94XG4gIHN0YXRpYyBtZGlhIChtZXRhKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaWEsIE1QNC5tZGhkKG1ldGEpLCBNUDQuaGRscihtZXRhKSwgTVA0Lm1pbmYobWV0YSkpXG4gIH1cblxuICAvLyBNZWRpYSBoZWFkZXIgYm94XG4gIHN0YXRpYyBtZGhkIChtZXRhKSB7XG4gICAgbGV0IHRpbWVzY2FsZSA9IG1ldGEudGltZXNjYWxlXG4gICAgbGV0IGR1cmF0aW9uID0gbWV0YS5kdXJhdGlvblxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGhkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAodGltZXNjYWxlID4+PiAyNCkgJiAweEZGLCAvLyB0aW1lc2NhbGU6IDQgYnl0ZXNcbiAgICAgICh0aW1lc2NhbGUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAodGltZXNjYWxlID4+PiA4KSAmIDB4RkYsXG4gICAgICAodGltZXNjYWxlKSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsIC8vIGR1cmF0aW9uOiA0IGJ5dGVzXG4gICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAoZHVyYXRpb24gPj4+IDgpICYgMHhGRixcbiAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgMHg1NSwgMHhDNCwgLy8gbGFuZ3VhZ2U6IHVuZCAodW5kZXRlcm1pbmVkKVxuICAgICAgMHgwMCwgMHgwMCAvLyBwcmVfZGVmaW5lZCA9IDBcbiAgICBdKSlcbiAgfVxuXG4gIC8vIE1lZGlhIGhhbmRsZXIgcmVmZXJlbmNlIGJveFxuICBzdGF0aWMgaGRsciAobWV0YSkge1xuICAgIGxldCBkYXRhID0gbnVsbFxuICAgIGlmIChtZXRhLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIGRhdGEgPSBNUDQuY29uc3RhbnRzLkhETFJfQVVESU9cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IE1QNC5jb25zdGFudHMuSERMUl9WSURFT1xuICAgIH1cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuaGRsciwgZGF0YSlcbiAgfVxuXG4gIC8vIE1lZGlhIGluZm9tYXRpb24gYm94XG4gIHN0YXRpYyBtaW5mIChtZXRhKSB7XG4gICAgbGV0IHhtaGQgPSBudWxsXG4gICAgaWYgKG1ldGEudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgeG1oZCA9IE1QNC5ib3goTVA0LnR5cGVzLnNtaGQsIE1QNC5jb25zdGFudHMuU01IRClcbiAgICB9IGVsc2Uge1xuICAgICAgeG1oZCA9IE1QNC5ib3goTVA0LnR5cGVzLnZtaGQsIE1QNC5jb25zdGFudHMuVk1IRClcbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIHhtaGQsIE1QNC5kaW5mKCksIE1QNC5zdGJsKG1ldGEpKVxuICB9XG5cbiAgLy8gRGF0YSBpbmZvbWF0aW9uIGJveFxuICBzdGF0aWMgZGluZiAoKSB7XG4gICAgbGV0IHJlc3VsdCA9IE1QNC5ib3goTVA0LnR5cGVzLmRpbmYsXG4gICAgICBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBNUDQuY29uc3RhbnRzLkRSRUYpXG4gICAgKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIFNhbXBsZSB0YWJsZSBib3hcbiAgc3RhdGljIHN0YmwgKG1ldGEpIHtcbiAgICBsZXQgcmVzdWx0ID0gTVA0LmJveChNUDQudHlwZXMuc3RibCwgLy8gdHlwZTogc3RibFxuICAgICAgTVA0LnN0c2QobWV0YSksIC8vIFNhbXBsZSBEZXNjcmlwdGlvbiBUYWJsZVxuICAgICAgTVA0LmJveChNUDQudHlwZXMuc3R0cywgTVA0LmNvbnN0YW50cy5TVFRTKSwgLy8gVGltZS1Uby1TYW1wbGVcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0c2MsIE1QNC5jb25zdGFudHMuU1RTQyksIC8vIFNhbXBsZS1Uby1DaHVua1xuICAgICAgTVA0LmJveChNUDQudHlwZXMuc3RzeiwgTVA0LmNvbnN0YW50cy5TVFNaKSwgLy8gU2FtcGxlIHNpemVcbiAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0Y28sIE1QNC5jb25zdGFudHMuU1RDTykgLy8gQ2h1bmsgb2Zmc2V0XG4gICAgKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIFNhbXBsZSBkZXNjcmlwdGlvbiBib3hcbiAgc3RhdGljIHN0c2QgKG1ldGEpIHtcbiAgICBpZiAobWV0YS50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICBpZiAobWV0YS5jb2RlYyA9PT0gJ21wMycpIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5jb25zdGFudHMuU1RTRF9QUkVGSVgsIE1QNC5tcDMobWV0YSkpXG4gICAgICB9XG4gICAgICAvLyBlbHNlOiBhYWMgLT4gbXA0YVxuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5jb25zdGFudHMuU1RTRF9QUkVGSVgsIE1QNC5tcDRhKG1ldGEpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LmNvbnN0YW50cy5TVFNEX1BSRUZJWCwgTVA0LmF2YzEobWV0YSkpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG1wMyAobWV0YSkge1xuICAgIGxldCBjaGFubmVsQ291bnQgPSBtZXRhLmNoYW5uZWxDb3VudFxuICAgIGxldCBzYW1wbGVSYXRlID0gbWV0YS5hdWRpb1NhbXBsZVJhdGVcblxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQoNClcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIHJlc2VydmVkKDIpICsgZGF0YV9yZWZlcmVuY2VfaW5kZXgoMilcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiAyICogNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIGNoYW5uZWxDb3VudCwgLy8gY2hhbm5lbENvdW50KDIpXG4gICAgICAweDAwLCAweDEwLCAvLyBzYW1wbGVTaXplKDIpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZCg0KVxuICAgICAgKHNhbXBsZVJhdGUgPj4+IDgpICYgMHhGRiwgLy8gQXVkaW8gc2FtcGxlIHJhdGVcbiAgICAgIChzYW1wbGVSYXRlKSAmIDB4RkYsXG4gICAgICAweDAwLCAweDAwXG4gICAgXSlcblxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlc1snLm1wMyddLCBkYXRhKVxuICB9XG5cbiAgc3RhdGljIG1wNGEgKG1ldGEpIHtcbiAgICBsZXQgY2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnRcbiAgICBsZXQgc2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlXG5cbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkKDQpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyByZXNlcnZlZCgyKSArIGRhdGFfcmVmZXJlbmNlX2luZGV4KDIpXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogMiAqIDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCBjaGFubmVsQ291bnQsIC8vIGNoYW5uZWxDb3VudCgyKVxuICAgICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZSgyKVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQoNClcbiAgICAgIChzYW1wbGVSYXRlID4+PiA4KSAmIDB4RkYsIC8vIEF1ZGlvIHNhbXBsZSByYXRlXG4gICAgICAoc2FtcGxlUmF0ZSkgJiAweEZGLFxuICAgICAgMHgwMCwgMHgwMFxuICAgIF0pXG5cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXA0YSwgZGF0YSwgTVA0LmVzZHMobWV0YSkpXG4gIH1cblxuICBzdGF0aWMgZXNkcyAobWV0YSkge1xuICAgIGxldCBjb25maWcgPSBtZXRhLmNvbmZpZyB8fCBbXVxuICAgIGxldCBjb25maWdTaXplID0gY29uZmlnLmxlbmd0aFxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbiAwICsgZmxhZ3NcblxuICAgICAgMHgwMywgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgICAweDE3ICsgY29uZmlnU2l6ZSwgLy8gbGVuZ3RoM1xuICAgICAgMHgwMCwgMHgwMSwgLy8gZXNfaWRcbiAgICAgIDB4MDAsIC8vIHN0cmVhbV9wcmlvcml0eVxuXG4gICAgICAweDA0LCAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAgIDB4MEYgKyBjb25maWdTaXplLCAvLyBsZW5ndGhcbiAgICAgIDB4NDAsIC8vIGNvZGVjOiBtcGVnNF9hdWRpb1xuICAgICAgMHgxNSwgLy8gc3RyZWFtX3R5cGU6IEF1ZGlvXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAvLyBidWZmZXJfc2l6ZVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gbWF4Qml0cmF0ZVxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gYXZnQml0cmF0ZVxuXG4gICAgICAweDA1IC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgIF0uY29uY2F0KFtcbiAgICAgIGNvbmZpZ1NpemVcbiAgICBdKS5jb25jYXQoXG4gICAgICBjb25maWdcbiAgICApLmNvbmNhdChbXG4gICAgICAweDA2LCAweDAxLCAweDAyIC8vIEdBU3BlY2lmaWNDb25maWdcbiAgICBdKSlcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuZXNkcywgZGF0YSlcbiAgfVxuXG4gIHN0YXRpYyBhdmMxIChtZXRhKSB7XG4gICAgbGV0IGF2Y2MgPSBtZXRhLmF2Y2NcbiAgICBsZXQgd2lkdGggPSBtZXRhLmNvZGVjV2lkdGgsIGhlaWdodCA9IG1ldGEuY29kZWNIZWlnaHRcblxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQoNClcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIHJlc2VydmVkKDIpICsgZGF0YV9yZWZlcmVuY2VfaW5kZXgoMilcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkKDIpICsgcmVzZXJ2ZWQoMilcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkOiAzICogNCBieXRlc1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAod2lkdGggPj4+IDgpICYgMHhGRiwgLy8gd2lkdGg6IDIgYnl0ZXNcbiAgICAgICh3aWR0aCkgJiAweEZGLFxuICAgICAgKGhlaWdodCA+Pj4gOCkgJiAweEZGLCAvLyBoZWlnaHQ6IDIgYnl0ZXNcbiAgICAgIChoZWlnaHQpICYgMHhGRixcbiAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsIC8vIGhvcml6cmVzb2x1dGlvbjogNCBieXRlc1xuICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCwgLy8gdmVydHJlc29sdXRpb246IDQgYnl0ZXNcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiA0IGJ5dGVzXG4gICAgICAweDAwLCAweDAxLCAvLyBmcmFtZV9jb3VudFxuICAgICAgMHgwQSwgLy8gc3RybGVuXG4gICAgICAweDc4LCAweDcxLCAweDcxLCAweDJGLCAvLyBjb21wcmVzc29ybmFtZTogMzIgYnl0ZXNcbiAgICAgIDB4NjYsIDB4NkMsIDB4NzYsIDB4MkUsXG4gICAgICAweDZBLCAweDczLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAweDAwLCAweDE4LCAvLyBkZXB0aFxuICAgICAgMHhGRiwgMHhGRiAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgXSlcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgZGF0YSwgTVA0LmJveChNUDQudHlwZXMuYXZjQywgYXZjYykpXG4gIH1cblxuICAvLyBNb3ZpZSBFeHRlbmRzIGJveFxuICBzdGF0aWMgbXZleCAobWV0YSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmV4LCBNUDQudHJleChtZXRhKSlcbiAgfVxuXG4gIC8vIFRyYWNrIEV4dGVuZHMgYm94XG4gIHN0YXRpYyB0cmV4IChtZXRhKSB7XG4gICAgbGV0IHRyYWNrSWQgPSBtZXRhLmlkXG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICh0cmFja0lkID4+PiAyNCkgJiAweEZGLCAvLyB0cmFja19JRFxuICAgICAgKHRyYWNrSWQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAodHJhY2tJZCA+Pj4gOCkgJiAweEZGLFxuICAgICAgKHRyYWNrSWQpICYgMHhGRixcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4XG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9kdXJhdGlvblxuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZGVmYXVsdF9zYW1wbGVfc2l6ZVxuICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMSAvLyBkZWZhdWx0X3NhbXBsZV9mbGFnc1xuICAgIF0pXG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyZXgsIGRhdGEpXG4gIH1cblxuICAvLyBNb3ZpZSBmcmFnbWVudCBib3hcbiAgc3RhdGljIG1vb2YgKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1vb2YsIE1QNC5tZmhkKHRyYWNrLnNlcXVlbmNlTnVtYmVyKSwgTVA0LnRyYWYodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpKVxuICB9XG5cbiAgc3RhdGljIG1maGQgKHNlcXVlbmNlTnVtYmVyKSB7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgKHNlcXVlbmNlTnVtYmVyID4+PiAyNCkgJiAweEZGLCAvLyBzZXF1ZW5jZV9udW1iZXI6IGludDMyXG4gICAgICAoc2VxdWVuY2VOdW1iZXIgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAoc2VxdWVuY2VOdW1iZXIgPj4+IDgpICYgMHhGRixcbiAgICAgIChzZXF1ZW5jZU51bWJlcikgJiAweEZGXG4gICAgXSlcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWZoZCwgZGF0YSlcbiAgfVxuXG4gIC8vIFRyYWNrIGZyYWdtZW50IGJveFxuICBzdGF0aWMgdHJhZiAodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpIHtcbiAgICBsZXQgdHJhY2tJZCA9IHRyYWNrLmlkXG5cbiAgICAvLyBUcmFjayBmcmFnbWVudCBoZWFkZXIgYm94XG4gICAgbGV0IHRmaGQgPSBNUDQuYm94KE1QNC50eXBlcy50ZmhkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICYgZmxhZ3NcbiAgICAgICh0cmFja0lkID4+PiAyNCkgJiAweEZGLCAvLyB0cmFja19JRFxuICAgICAgKHRyYWNrSWQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAodHJhY2tJZCA+Pj4gOCkgJiAweEZGLFxuICAgICAgKHRyYWNrSWQpICYgMHhGRlxuICAgIF0pKVxuICAgIC8vIFRyYWNrIEZyYWdtZW50IERlY29kZSBUaW1lXG4gICAgbGV0IHRmZHQgPSBNUDQuYm94KE1QNC50eXBlcy50ZmR0LCBuZXcgVWludDhBcnJheShbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICYgZmxhZ3NcbiAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAyNCkgJiAweEZGLCAvLyBiYXNlTWVkaWFEZWNvZGVUaW1lOiBpbnQzMlxuICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSA+Pj4gOCkgJiAweEZGLFxuICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUpICYgMHhGRlxuICAgIF0pKVxuICAgIGxldCBzZHRwID0gTVA0LnNkdHAodHJhY2spXG4gICAgbGV0IHRydW4gPSBNUDQudHJ1bih0cmFjaywgc2R0cC5ieXRlTGVuZ3RoICsgMTYgKyAxNiArIDggKyAxNiArIDggKyA4KVxuICAgIGlmICh0cmFja0lkID09PSAxKSB7XG4gICAgICBjb25zb2xlLmxvZyh0cnVuKVxuICAgIH1cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgdGZoZCwgdGZkdCwgdHJ1biwgc2R0cClcbiAgfVxuXG4gIC8vIFNhbXBsZSBEZXBlbmRlbmN5IFR5cGUgYm94XG4gIHN0YXRpYyBzZHRwICh0cmFjaykge1xuICAgIGxldCBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXVxuICAgIGxldCBzYW1wbGVDb3VudCA9IHNhbXBsZXMubGVuZ3RoXG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSg0ICsgc2FtcGxlQ291bnQpXG4gICAgLy8gMH40IGJ5dGVzOiB2ZXJzaW9uKDApICYgZmxhZ3NcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZUNvdW50OyBpKyspIHtcbiAgICAgIGxldCBmbGFncyA9IHNhbXBsZXNbaV0uZmxhZ3NcbiAgICAgIGRhdGFbaSArIDRdID0gKGZsYWdzLmlzTGVhZGluZyA8PCA2KSB8IC8vIGlzX2xlYWRpbmc6IDIgKGJpdClcbiAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncy5kZXBlbmRzT24gPDwgNCkgfCAvLyBzYW1wbGVfZGVwZW5kc19vblxuICAgICAgICAgICAgICAgICAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyKSB8IC8vIHNhbXBsZV9pc19kZXBlbmRlZF9vblxuICAgICAgICAgICAgICAgICAgICAgICAgKGZsYWdzLmhhc1JlZHVuZGFuY3kpIC8vIHNhbXBsZV9oYXNfcmVkdW5kYW5jeVxuICAgIH1cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgZGF0YSlcbiAgfVxuXG4gIC8vIFRyYWNrIGZyYWdtZW50IHJ1biBib3hcbiAgc3RhdGljIHRydW4gKHRyYWNrLCBvZmZzZXQpIHtcbiAgICBsZXQgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW11cbiAgICBsZXQgc2FtcGxlQ291bnQgPSBzYW1wbGVzLmxlbmd0aFxuICAgIGxldCBkYXRhU2l6ZSA9IDEyICsgMTYgKiBzYW1wbGVDb3VudFxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YVNpemUpXG4gICAgb2Zmc2V0ICs9IDggKyBkYXRhU2l6ZVxuXG4gICAgZGF0YS5zZXQoW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwRiwgMHgwMSwgLy8gdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgICAoc2FtcGxlQ291bnQgPj4+IDI0KSAmIDB4RkYsIC8vIHNhbXBsZV9jb3VudFxuICAgICAgKHNhbXBsZUNvdW50ID4+PiAxNikgJiAweEZGLFxuICAgICAgKHNhbXBsZUNvdW50ID4+PiA4KSAmIDB4RkYsXG4gICAgICAoc2FtcGxlQ291bnQpICYgMHhGRixcbiAgICAgIChvZmZzZXQgPj4+IDI0KSAmIDB4RkYsIC8vIGRhdGFfb2Zmc2V0XG4gICAgICAob2Zmc2V0ID4+PiAxNikgJiAweEZGLFxuICAgICAgKG9mZnNldCA+Pj4gOCkgJiAweEZGLFxuICAgICAgKG9mZnNldCkgJiAweEZGXG4gICAgXSwgMClcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlQ291bnQ7IGkrKykge1xuICAgICAgLy8gY29uc29sZS5sb2coc2FtcGxlc1tpXS5kdXJhdGlvbilcbiAgICAgIGxldCBkdXJhdGlvbiA9IHNhbXBsZXNbaV0uZHVyYXRpb25cbiAgICAgIGxldCBzaXplID0gc2FtcGxlc1tpXS5zaXplXG4gICAgICBsZXQgZmxhZ3MgPSBzYW1wbGVzW2ldLmZsYWdzXG4gICAgICBsZXQgY3RzID0gc2FtcGxlc1tpXS5jdHNcbiAgICAgIGRhdGEuc2V0KFtcbiAgICAgICAgKGR1cmF0aW9uID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfZHVyYXRpb25cbiAgICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgICAoZHVyYXRpb24gPj4+IDgpICYgMHhGRixcbiAgICAgICAgKGR1cmF0aW9uKSAmIDB4RkYsXG4gICAgICAgIChzaXplID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfc2l6ZVxuICAgICAgICAoc2l6ZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgKHNpemUgPj4+IDgpICYgMHhGRixcbiAgICAgICAgKHNpemUpICYgMHhGRixcbiAgICAgICAgKGZsYWdzLmlzTGVhZGluZyA8PCAyKSB8IGZsYWdzLmRlcGVuZHNPbiwgLy8gc2FtcGxlX2ZsYWdzXG4gICAgICAgIChmbGFncy5pc0RlcGVuZGVkT24gPDwgNikgfCAoZmxhZ3MuaGFzUmVkdW5kYW5jeSA8PCA0KSB8IGZsYWdzLmlzTm9uU3luYyxcbiAgICAgICAgMHgwMCwgMHgwMCwgLy8gc2FtcGxlX2RlZ3JhZGF0aW9uX3ByaW9yaXR5XG4gICAgICAgIChjdHMgPj4+IDI0KSAmIDB4RkYsIC8vIHNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldFxuICAgICAgICAoY3RzID4+PiAxNikgJiAweEZGLFxuICAgICAgICAoY3RzID4+PiA4KSAmIDB4RkYsXG4gICAgICAgIChjdHMpICYgMHhGRlxuICAgICAgXSwgMTIgKyAxNiAqIGkpXG4gICAgfVxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cnVuLCBkYXRhKVxuICB9XG5cbiAgc3RhdGljIG1kYXQgKGRhdGEpIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRhdCwgZGF0YSlcbiAgfVxufVxuXG5NUDQuaW5pdCgpXG5cbmV4cG9ydCBkZWZhdWx0IE1QNFxuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJ1xuaW1wb3J0IE1QNCBmcm9tICcuL21wNC1nZW5lcmF0b3IuanMnXG5pbXBvcnQgQUFDIGZyb20gJy4vYWFjLXNpbGVudC5qcydcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnXG5pbXBvcnQge1NhbXBsZUluZm8sIE1lZGlhU2VnbWVudEluZm8sIE1lZGlhU2VnbWVudEluZm9MaXN0fSBmcm9tICcuLi9jb3JlL21lZGlhLXNlZ21lbnQtaW5mby5qcydcbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnXG5cbi8vIEZyYWdtZW50ZWQgbXA0IHJlbXV4ZXJcbmNsYXNzIE1QNFJlbXV4ZXIge1xuICBjb25zdHJ1Y3RvciAoY29uZmlnKSB7XG4gICAgdGhpcy5UQUcgPSAnTVA0UmVtdXhlcidcblxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZ1xuICAgIHRoaXMuX2lzTGl2ZSA9IChjb25maWcuaXNMaXZlID09PSB0cnVlKVxuXG4gICAgdGhpcy5fZHRzQmFzZSA9IC0xXG4gICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IGZhbHNlXG4gICAgdGhpcy5fYXVkaW9EdHNCYXNlID0gSW5maW5pdHlcbiAgICB0aGlzLl92aWRlb0R0c0Jhc2UgPSBJbmZpbml0eVxuICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IHVuZGVmaW5lZFxuICAgIHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZFxuICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsXG4gICAgdGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSA9IG51bGxcblxuICAgIHRoaXMuX2F1ZGlvTWV0YSA9IG51bGxcbiAgICB0aGlzLl92aWRlb01ldGEgPSBudWxsXG5cbiAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdCA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvTGlzdCgnYXVkaW8nKVxuICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbmV3IE1lZGlhU2VnbWVudEluZm9MaXN0KCd2aWRlbycpXG5cbiAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gbnVsbFxuICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gbnVsbFxuXG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgY2hyb21lIDwgNTA6IEFsd2F5cyBmb3JjZSBmaXJzdCBzYW1wbGUgYXMgYSBSYW5kb20gQWNjZXNzIFBvaW50IGluIG1lZGlhIHNlZ21lbnRcbiAgICAvLyBzZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjI5NDEyXG4gICAgdGhpcy5fZm9yY2VGaXJzdElEUiA9ICEhKChCcm93c2VyLmNocm9tZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEJyb3dzZXIudmVyc2lvbi5tYWpvciA8IDUwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yID09PSA1MCAmJiBCcm93c2VyLnZlcnNpb24uYnVpbGQgPCAyNjYxKSkpKVxuXG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgSUUxMS9FZGdlOiBGaWxsIHNpbGVudCBhYWMgZnJhbWUgYWZ0ZXIga2V5ZnJhbWUtc2Vla2luZ1xuICAgIC8vIE1ha2UgYXVkaW8gYmVnaW5EdHMgZXF1YWxzIHdpdGggdmlkZW8gYmVnaW5EdHMsIGluIG9yZGVyIHRvIGZpeCBzZWVrIGZyZWV6ZVxuICAgIHRoaXMuX2ZpbGxTaWxlbnRBZnRlclNlZWsgPSAoQnJvd3Nlci5tc2VkZ2UgfHwgQnJvd3Nlci5tc2llKVxuXG4gICAgLy8gV2hpbGUgb25seSBGaXJlRm94IHN1cHBvcnRzICdhdWRpby9tcDQsIGNvZGVjcz1cIm1wM1wiJywgdXNlICdhdWRpby9tcGVnJyBmb3IgY2hyb21lLCBzYWZhcmksIC4uLlxuICAgIHRoaXMuX21wM1VzZU1wZWdBdWRpbyA9ICFCcm93c2VyLmZpcmVmb3hcblxuICAgIHRoaXMuX2ZpbGxBdWRpb1RpbWVzdGFtcEdhcCA9IHRoaXMuX2NvbmZpZy5maXhBdWRpb1RpbWVzdGFtcEdhcFxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgdGhpcy5fZHRzQmFzZSA9IC0xXG4gICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IGZhbHNlXG4gICAgdGhpcy5fYXVkaW9NZXRhID0gbnVsbFxuICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG51bGxcbiAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5jbGVhcigpXG4gICAgdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QgPSBudWxsXG4gICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKVxuICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbnVsbFxuICAgIHRoaXMuX29uSW5pdFNlZ21lbnQgPSBudWxsXG4gICAgdGhpcy5fb25NZWRpYVNlZ21lbnQgPSBudWxsXG4gIH1cblxuICBiaW5kRGF0YVNvdXJjZSAocHJvZHVjZXIpIHtcbiAgICBwcm9kdWNlci5vbkRhdGFBdmFpbGFibGUgPSB0aGlzLnJlbXV4LmJpbmQodGhpcylcbiAgICBwcm9kdWNlci5vblRyYWNrTWV0YWRhdGEgPSB0aGlzLl9vblRyYWNrTWV0YWRhdGFSZWNlaXZlZC5iaW5kKHRoaXMpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qIHByb3RvdHlwZTogZnVuY3Rpb24gb25Jbml0U2VnbWVudCh0eXBlOiBzdHJpbmcsIGluaXRTZWdtZW50OiBBcnJheUJ1ZmZlcik6IHZvaWRcbiAgICAgICBJbml0U2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBjb2RlYzogc3RyaW5nLFxuICAgICAgICAgICBjb250YWluZXI6IHN0cmluZ1xuICAgICAgIH1cbiAgICAqL1xuICBnZXQgb25Jbml0U2VnbWVudCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uSW5pdFNlZ21lbnRcbiAgfVxuXG4gIHNldCBvbkluaXRTZWdtZW50IChjYWxsYmFjaykge1xuICAgIHRoaXMuX29uSW5pdFNlZ21lbnQgPSBjYWxsYmFja1xuICB9XG5cbiAgLyogcHJvdG90eXBlOiBmdW5jdGlvbiBvbk1lZGlhU2VnbWVudCh0eXBlOiBzdHJpbmcsIG1lZGlhU2VnbWVudDogTWVkaWFTZWdtZW50KTogdm9pZFxuICAgICAgIE1lZGlhU2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBzYW1wbGVDb3VudDogaW50MzJcbiAgICAgICAgICAgaW5mbzogTWVkaWFTZWdtZW50SW5mb1xuICAgICAgIH1cbiAgICAqL1xuICBnZXQgb25NZWRpYVNlZ21lbnQgKCkge1xuICAgIHJldHVybiB0aGlzLl9vbk1lZGlhU2VnbWVudFxuICB9XG5cbiAgc2V0IG9uTWVkaWFTZWdtZW50IChjYWxsYmFjaykge1xuICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gY2FsbGJhY2tcbiAgfVxuXG4gIGluc2VydERpc2NvbnRpbnVpdHkgKCkge1xuICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZFxuICB9XG5cbiAgc2VlayAob3JpZ2luYWxEdHMpIHtcbiAgICB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbFxuICAgIHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsXG4gICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKVxuICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmNsZWFyKClcbiAgfVxuXG4gIHJlbXV4IChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrKSB7XG4gICAgaWYgKCF0aGlzLl9vbk1lZGlhU2VnbWVudCkge1xuICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignTVA0UmVtdXhlcjogb25NZWRpYVNlZ21lbnQgY2FsbGJhY2sgbXVzdCBiZSBzcGVjaWZpY2VkIScpXG4gICAgfVxuICAgIGlmICghdGhpcy5fZHRzQmFzZUluaXRlZCkge1xuICAgICAgdGhpcy5fY2FsY3VsYXRlRHRzQmFzZShhdWRpb1RyYWNrLCB2aWRlb1RyYWNrKVxuICAgIH1cbiAgICB0aGlzLl9yZW11eFZpZGVvKHZpZGVvVHJhY2spXG4gICAgdGhpcy5fcmVtdXhBdWRpbyhhdWRpb1RyYWNrKVxuICB9XG5cbiAgX29uVHJhY2tNZXRhZGF0YVJlY2VpdmVkICh0eXBlLCBtZXRhZGF0YSkge1xuICAgIGxldCBtZXRhYm94ID0gbnVsbFxuXG4gICAgbGV0IGNvbnRhaW5lciA9ICdtcDQnXG4gICAgbGV0IGNvZGVjID0gbWV0YWRhdGEuY29kZWNcblxuICAgIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICB0aGlzLl9hdWRpb01ldGEgPSBtZXRhZGF0YVxuICAgICAgaWYgKG1ldGFkYXRhLmNvZGVjID09PSAnbXAzJyAmJiB0aGlzLl9tcDNVc2VNcGVnQXVkaW8pIHtcbiAgICAgICAgLy8gJ2F1ZGlvL21wZWcnIGZvciBNUDMgYXVkaW8gdHJhY2tcbiAgICAgICAgY29udGFpbmVyID0gJ21wZWcnXG4gICAgICAgIGNvZGVjID0gJydcbiAgICAgICAgbWV0YWJveCA9IG5ldyBVaW50OEFycmF5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICdhdWRpby9tcDQsIGNvZGVjcz1cImNvZGVjXCInXG4gICAgICAgIG1ldGFib3ggPSBNUDQuZ2VuZXJhdGVJbml0U2VnbWVudChtZXRhZGF0YSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG1ldGFkYXRhXG4gICAgICBtZXRhYm94ID0gTVA0LmdlbmVyYXRlSW5pdFNlZ21lbnQobWV0YWRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGRpc3BhdGNoIG1ldGFib3ggKEluaXRpYWxpemF0aW9uIFNlZ21lbnQpXG4gICAgaWYgKCF0aGlzLl9vbkluaXRTZWdtZW50KSB7XG4gICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdNUDRSZW11eGVyOiBvbkluaXRTZWdtZW50IGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWVkIScpXG4gICAgfVxuICAgIHRoaXMuX29uSW5pdFNlZ21lbnQodHlwZSwge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGRhdGE6IG1ldGFib3guYnVmZmVyLFxuICAgICAgY29kZWM6IGNvZGVjLFxuICAgICAgY29udGFpbmVyOiBgJHt0eXBlfS8ke2NvbnRhaW5lcn1gLFxuICAgICAgbWVkaWFEdXJhdGlvbjogbWV0YWRhdGEuZHVyYXRpb24gLy8gaW4gdGltZXNjYWxlIDEwMDAgKG1pbGxpc2Vjb25kcylcbiAgICB9KVxuICB9XG5cbiAgX2NhbGN1bGF0ZUR0c0Jhc2UgKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2spIHtcbiAgICBpZiAodGhpcy5fZHRzQmFzZUluaXRlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvVHJhY2suc2FtcGxlcyAmJiBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9hdWRpb0R0c0Jhc2UgPSBhdWRpb1RyYWNrLnNhbXBsZXNbMF0uZHRzXG4gICAgfVxuICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMgJiYgdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5fdmlkZW9EdHNCYXNlID0gdmlkZW9UcmFjay5zYW1wbGVzWzBdLmR0c1xuICAgIH1cblxuICAgIHRoaXMuX2R0c0Jhc2UgPSBNYXRoLm1pbih0aGlzLl9hdWRpb0R0c0Jhc2UsIHRoaXMuX3ZpZGVvRHRzQmFzZSlcbiAgICB0aGlzLl9kdHNCYXNlSW5pdGVkID0gdHJ1ZVxuICB9XG5cbiAgZmx1c2hTdGFzaGVkU2FtcGxlcyAoKSB7XG4gICAgbGV0IHZpZGVvU2FtcGxlID0gdGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZVxuICAgIGxldCBhdWRpb1NhbXBsZSA9IHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGVcblxuICAgIGxldCB2aWRlb1RyYWNrID0ge1xuICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgIGlkOiAxLFxuICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICBzYW1wbGVzOiBbXSxcbiAgICAgIGxlbmd0aDogMFxuICAgIH1cblxuICAgIGlmICh2aWRlb1NhbXBsZSAhPSBudWxsKSB7XG4gICAgICB2aWRlb1RyYWNrLnNhbXBsZXMucHVzaCh2aWRlb1NhbXBsZSlcbiAgICAgIHZpZGVvVHJhY2subGVuZ3RoID0gdmlkZW9TYW1wbGUubGVuZ3RoXG4gICAgfVxuXG4gICAgbGV0IGF1ZGlvVHJhY2sgPSB7XG4gICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgaWQ6IDIsXG4gICAgICBzZXF1ZW5jZU51bWJlcjogMCxcbiAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgbGVuZ3RoOiAwXG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvU2FtcGxlICE9IG51bGwpIHtcbiAgICAgIGF1ZGlvVHJhY2suc2FtcGxlcy5wdXNoKGF1ZGlvU2FtcGxlKVxuICAgICAgYXVkaW9UcmFjay5sZW5ndGggPSBhdWRpb1NhbXBsZS5sZW5ndGhcbiAgICB9XG5cbiAgICB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbFxuICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsXG5cbiAgICB0aGlzLl9yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHRydWUpXG4gICAgdGhpcy5fcmVtdXhBdWRpbyhhdWRpb1RyYWNrLCB0cnVlKVxuICB9XG5cbiAgX3JlbXV4QXVkaW8gKGF1ZGlvVHJhY2ssIGZvcmNlKSB7XG4gICAgaWYgKHRoaXMuX2F1ZGlvTWV0YSA9PSBudWxsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdHJhY2sgPSBhdWRpb1RyYWNrXG4gICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzXG4gICAgbGV0IGR0c0NvcnJlY3Rpb25cbiAgICBsZXQgZmlyc3REdHMgPSAtMSwgbGFzdER0cyA9IC0xLCBsYXN0UHRzID0gLTFcbiAgICBsZXQgcmVmU2FtcGxlRHVyYXRpb24gPSB0aGlzLl9hdWRpb01ldGEucmVmU2FtcGxlRHVyYXRpb25cblxuICAgIGxldCBtcGVnUmF3VHJhY2sgPSB0aGlzLl9hdWRpb01ldGEuY29kZWMgPT09ICdtcDMnICYmIHRoaXMuX21wM1VzZU1wZWdBdWRpb1xuICAgIGxldCBmaXJzdFNlZ21lbnRBZnRlclNlZWsgPSB0aGlzLl9kdHNCYXNlSW5pdGVkICYmIHRoaXMuX2F1ZGlvTmV4dER0cyA9PT0gdW5kZWZpbmVkXG5cbiAgICBsZXQgaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUgPSBmYWxzZVxuXG4gICAgaWYgKCFzYW1wbGVzIHx8IHNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHNhbXBsZXMubGVuZ3RoID09PSAxICYmICFmb3JjZSkge1xuICAgICAgLy8gSWYgW3NhbXBsZSBjb3VudCBpbiBjdXJyZW50IGJhdGNoXSA9PT0gMSAmJiAoZm9yY2UgIT0gdHJ1ZSlcbiAgICAgIC8vIElnbm9yZSBhbmQga2VlcCBpbiBkZW11eGVyJ3MgcXVldWVcbiAgICAgIHJldHVyblxuICAgIH0gLy8gZWxzZSBpZiAoZm9yY2UgPT09IHRydWUpIGRvIHJlbXV4XG5cbiAgICBsZXQgb2Zmc2V0ID0gMFxuICAgIGxldCBtZGF0Ym94ID0gbnVsbFxuICAgIGxldCBtZGF0Qnl0ZXMgPSAwXG5cbiAgICAvLyBjYWxjdWxhdGUgaW5pdGlhbCBtZGF0IHNpemVcbiAgICBpZiAobXBlZ1Jhd1RyYWNrKSB7XG4gICAgICAvLyBmb3IgcmF3IG1wZWcgYnVmZmVyXG4gICAgICBvZmZzZXQgPSAwXG4gICAgICBtZGF0Qnl0ZXMgPSB0cmFjay5sZW5ndGhcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yIGZtcDQgbWRhdCBib3hcbiAgICAgIG9mZnNldCA9IDggLy8gc2l6ZSArIHR5cGVcbiAgICAgIG1kYXRCeXRlcyA9IDggKyB0cmFjay5sZW5ndGhcbiAgICB9XG5cbiAgICBsZXQgbGFzdFNhbXBsZSA9IG51bGxcblxuICAgIC8vIFBvcCB0aGUgbGFzdFNhbXBsZSBhbmQgd2FpdGluZyBmb3Igc3Rhc2hcbiAgICBpZiAoc2FtcGxlcy5sZW5ndGggPiAxKSB7XG4gICAgICBsYXN0U2FtcGxlID0gc2FtcGxlcy5wb3AoKVxuICAgICAgbWRhdEJ5dGVzIC09IGxhc3RTYW1wbGUubGVuZ3RoXG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IFtzdGFzaGVkIGxhc3RTYW1wbGUgaW4gdGhlIHByZXZpb3VzIGJhdGNoXSB0byB0aGUgZnJvbnRcbiAgICBpZiAodGhpcy5fYXVkaW9TdGFzaGVkTGFzdFNhbXBsZSAhPSBudWxsKSB7XG4gICAgICBsZXQgc2FtcGxlID0gdGhpcy5fYXVkaW9TdGFzaGVkTGFzdFNhbXBsZVxuICAgICAgdGhpcy5fYXVkaW9TdGFzaGVkTGFzdFNhbXBsZSA9IG51bGxcbiAgICAgIHNhbXBsZXMudW5zaGlmdChzYW1wbGUpXG4gICAgICBtZGF0Qnl0ZXMgKz0gc2FtcGxlLmxlbmd0aFxuICAgIH1cblxuICAgIC8vIFN0YXNoIHRoZSBsYXN0U2FtcGxlIG9mIGN1cnJlbnQgYmF0Y2gsIHdhaXRpbmcgZm9yIG5leHQgYmF0Y2hcbiAgICBpZiAobGFzdFNhbXBsZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlID0gbGFzdFNhbXBsZVxuICAgIH1cblxuICAgIGxldCBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzID0gc2FtcGxlc1swXS5kdHMgLSB0aGlzLl9kdHNCYXNlXG5cbiAgICAvLyBjYWxjdWxhdGUgZHRzQ29ycmVjdGlvblxuICAgIGlmICh0aGlzLl9hdWRpb05leHREdHMpIHtcbiAgICAgIGR0c0NvcnJlY3Rpb24gPSBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIC0gdGhpcy5fYXVkaW9OZXh0RHRzXG4gICAgfSBlbHNlIHsgLy8gdGhpcy5fYXVkaW9OZXh0RHRzID09IHVuZGVmaW5lZFxuICAgICAgaWYgKHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmlzRW1wdHkoKSkge1xuICAgICAgICBkdHNDb3JyZWN0aW9uID0gMFxuICAgICAgICBpZiAodGhpcy5fZmlsbFNpbGVudEFmdGVyU2VlayAmJiAhdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvTWV0YS5vcmlnaW5hbENvZGVjICE9PSAnbXAzJykge1xuICAgICAgICAgICAgaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbGFzdFNhbXBsZSA9IHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmdldExhc3RTYW1wbGVCZWZvcmUoZmlyc3RTYW1wbGVPcmlnaW5hbER0cylcbiAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgICAgIGxldCBkaXN0YW5jZSA9IChmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIC0gKGxhc3RTYW1wbGUub3JpZ2luYWxEdHMgKyBsYXN0U2FtcGxlLmR1cmF0aW9uKSlcbiAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMykge1xuICAgICAgICAgICAgZGlzdGFuY2UgPSAwXG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBleHBlY3RlZER0cyA9IGxhc3RTYW1wbGUuZHRzICsgbGFzdFNhbXBsZS5kdXJhdGlvbiArIGRpc3RhbmNlXG4gICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSBleHBlY3RlZER0c1xuICAgICAgICB9IGVsc2UgeyAvLyBsYXN0U2FtcGxlID09IG51bGwsIGNhbm5vdCBmb3VuZFxuICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUpIHtcbiAgICAgIC8vIGFsaWduIGF1ZGlvIHNlZ21lbnQgYmVnaW5EdHMgdG8gbWF0Y2ggd2l0aCBjdXJyZW50IHZpZGVvIHNlZ21lbnQncyBiZWdpbkR0c1xuICAgICAgbGV0IGZpcnN0U2FtcGxlRHRzID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb25cbiAgICAgIGxldCB2aWRlb1NlZ21lbnQgPSB0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2VnbWVudEJlZm9yZShmaXJzdFNhbXBsZU9yaWdpbmFsRHRzKVxuICAgICAgaWYgKHZpZGVvU2VnbWVudCAhPSBudWxsICYmIHZpZGVvU2VnbWVudC5iZWdpbkR0cyA8IGZpcnN0U2FtcGxlRHRzKSB7XG4gICAgICAgIGxldCBzaWxlbnRVbml0ID0gQUFDLmdldFNpbGVudEZyYW1lKHRoaXMuX2F1ZGlvTWV0YS5vcmlnaW5hbENvZGVjLCB0aGlzLl9hdWRpb01ldGEuY2hhbm5lbENvdW50KVxuICAgICAgICBpZiAoc2lsZW50VW5pdCkge1xuICAgICAgICAgIGxldCBkdHMgPSB2aWRlb1NlZ21lbnQuYmVnaW5EdHNcbiAgICAgICAgICBsZXQgc2lsZW50RnJhbWVEdXJhdGlvbiA9IGZpcnN0U2FtcGxlRHRzIC0gdmlkZW9TZWdtZW50LmJlZ2luRHRzXG4gICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBJbnNlcnRQcmVmaXhTaWxlbnRBdWRpbzogZHRzOiAke2R0c30sIGR1cmF0aW9uOiAke3NpbGVudEZyYW1lRHVyYXRpb259YClcbiAgICAgICAgICBzYW1wbGVzLnVuc2hpZnQoe3VuaXQ6IHNpbGVudFVuaXQsIGR0czogZHRzLCBwdHM6IGR0c30pXG4gICAgICAgICAgbWRhdEJ5dGVzICs9IHNpbGVudFVuaXQuYnl0ZUxlbmd0aFxuICAgICAgICB9IC8vIHNpbGVudFVuaXQgPT0gbnVsbDogQ2Fubm90IGdlbmVyYXRlLCBza2lwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnNlcnRQcmVmaXhTaWxlbnRGcmFtZSA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG1wNFNhbXBsZXMgPSBbXVxuXG4gICAgLy8gQ29ycmVjdCBkdHMgZm9yIGVhY2ggc2FtcGxlLCBhbmQgY2FsY3VsYXRlIHNhbXBsZSBkdXJhdGlvbi4gVGhlbiBvdXRwdXQgdG8gbXA0U2FtcGxlc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHNhbXBsZSA9IHNhbXBsZXNbaV1cbiAgICAgIGxldCB1bml0ID0gc2FtcGxlLnVuaXRcbiAgICAgIGxldCBvcmlnaW5hbER0cyA9IHNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlXG4gICAgICBsZXQgZHRzID0gb3JpZ2luYWxEdHMgLSBkdHNDb3JyZWN0aW9uXG5cbiAgICAgIGlmIChmaXJzdER0cyA9PT0gLTEpIHtcbiAgICAgICAgZmlyc3REdHMgPSBkdHNcbiAgICAgIH1cblxuICAgICAgbGV0IHNhbXBsZUR1cmF0aW9uID0gMFxuXG4gICAgICBpZiAoaSAhPT0gc2FtcGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGxldCBuZXh0RHRzID0gc2FtcGxlc1tpICsgMV0uZHRzIC0gdGhpcy5fZHRzQmFzZSAtIGR0c0NvcnJlY3Rpb25cbiAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBuZXh0RHRzIC0gZHRzXG4gICAgICB9IGVsc2UgeyAvLyB0aGUgbGFzdCBzYW1wbGVcbiAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkgeyAvLyB1c2Ugc3Rhc2hlZCBzYW1wbGUncyBkdHMgdG8gY2FsY3VsYXRlIHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgIGxldCBuZXh0RHRzID0gbGFzdFNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvblxuICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbmV4dER0cyAtIGR0c1xuICAgICAgICB9IGVsc2UgaWYgKG1wNFNhbXBsZXMubGVuZ3RoID49IDEpIHsgLy8gdXNlIHNlY29uZCBsYXN0IHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdLmR1cmF0aW9uXG4gICAgICAgIH0gZWxzZSB7IC8vIHRoZSBvbmx5IG9uZSBzYW1wbGUsIHVzZSByZWZlcmVuY2Ugc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBNYXRoLmZsb29yKHJlZlNhbXBsZUR1cmF0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBuZWVkRmlsbFNpbGVudEZyYW1lcyA9IGZhbHNlXG4gICAgICBsZXQgc2lsZW50RnJhbWVzID0gbnVsbFxuXG4gICAgICAvLyBTaWxlbnQgZnJhbWUgZ2VuZXJhdGlvbiwgaWYgbGFyZ2UgdGltZXN0YW1wIGdhcCBkZXRlY3RlZCAmJiBjb25maWcuZml4QXVkaW9UaW1lc3RhbXBHYXBcbiAgICAgIGlmIChzYW1wbGVEdXJhdGlvbiA+IHJlZlNhbXBsZUR1cmF0aW9uICogMS41ICYmIHRoaXMuX2F1ZGlvTWV0YS5jb2RlYyAhPT0gJ21wMycgJiYgdGhpcy5fZmlsbEF1ZGlvVGltZXN0YW1wR2FwICYmICFCcm93c2VyLnNhZmFyaSkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGluc2VydCBzaWxlbnQgZnJhbWVzIHRvIGZpbGwgdGltZXN0YW1wIGdhcFxuICAgICAgICBuZWVkRmlsbFNpbGVudEZyYW1lcyA9IHRydWVcbiAgICAgICAgbGV0IGRlbHRhID0gTWF0aC5hYnMoc2FtcGxlRHVyYXRpb24gLSByZWZTYW1wbGVEdXJhdGlvbilcbiAgICAgICAgbGV0IGZyYW1lQ291bnQgPSBNYXRoLmNlaWwoZGVsdGEgLyByZWZTYW1wbGVEdXJhdGlvbilcbiAgICAgICAgbGV0IGN1cnJlbnREdHMgPSBkdHMgKyByZWZTYW1wbGVEdXJhdGlvbiAvLyBOb3RpY2U6IGluIGZsb2F0XG5cbiAgICAgICAgTG9nLncodGhpcy5UQUcsICdMYXJnZSBhdWRpbyB0aW1lc3RhbXAgZ2FwIGRldGVjdGVkLCBtYXkgY2F1c2UgQVYgc3luYyB0byBkcmlmdC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTaWxlbnQgZnJhbWVzIHdpbGwgYmUgZ2VuZXJhdGVkIHRvIGF2b2lkIHVuc3luYy5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGR0czogJHtkdHMgKyBzYW1wbGVEdXJhdGlvbn0gbXMsIGV4cGVjdGVkOiAke2R0cyArIE1hdGgucm91bmQocmVmU2FtcGxlRHVyYXRpb24pfSBtcywgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBkZWx0YTogJHtNYXRoLnJvdW5kKGRlbHRhKX0gbXMsIGdlbmVyYXRlOiAke2ZyYW1lQ291bnR9IGZyYW1lc2ApXG5cbiAgICAgICAgbGV0IHNpbGVudFVuaXQgPSBBQUMuZ2V0U2lsZW50RnJhbWUodGhpcy5fYXVkaW9NZXRhLm9yaWdpbmFsQ29kZWMsIHRoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnQpXG4gICAgICAgIGlmIChzaWxlbnRVbml0ID09IG51bGwpIHtcbiAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ1VuYWJsZSB0byBnZW5lcmF0ZSBzaWxlbnQgZnJhbWUgZm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5fYXVkaW9NZXRhLm9yaWdpbmFsQ29kZWN9IHdpdGggJHt0aGlzLl9hdWRpb01ldGEuY2hhbm5lbENvdW50fSBjaGFubmVscywgcmVwZWF0IGxhc3QgZnJhbWVgKVxuICAgICAgICAgIC8vIFJlcGVhdCBsYXN0IGZyYW1lXG4gICAgICAgICAgc2lsZW50VW5pdCA9IHVuaXRcbiAgICAgICAgfVxuICAgICAgICBzaWxlbnRGcmFtZXMgPSBbXVxuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZnJhbWVDb3VudDsgaisrKSB7XG4gICAgICAgICAgbGV0IGludER0cyA9IE1hdGgucm91bmQoY3VycmVudER0cykgLy8gcm91bmQgdG8gaW50ZWdlclxuICAgICAgICAgIGlmIChzaWxlbnRGcmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gU2V0IHByZXZpb3VzIGZyYW1lIHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgICAgbGV0IHByZXZpb3VzRnJhbWUgPSBzaWxlbnRGcmFtZXNbc2lsZW50RnJhbWVzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICBwcmV2aW91c0ZyYW1lLmR1cmF0aW9uID0gaW50RHRzIC0gcHJldmlvdXNGcmFtZS5kdHNcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGZyYW1lID0ge1xuICAgICAgICAgICAgZHRzOiBpbnREdHMsXG4gICAgICAgICAgICBwdHM6IGludER0cyxcbiAgICAgICAgICAgIGN0czogMCxcbiAgICAgICAgICAgIHVuaXQ6IHNpbGVudFVuaXQsXG4gICAgICAgICAgICBzaXplOiBzaWxlbnRVbml0LmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICBkdXJhdGlvbjogMCwgLy8gd2FpdCBmb3IgbmV4dCBzYW1wbGVcbiAgICAgICAgICAgIG9yaWdpbmFsRHRzOiBvcmlnaW5hbER0cyxcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgZGVwZW5kc09uOiAxLFxuICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2lsZW50RnJhbWVzLnB1c2goZnJhbWUpXG4gICAgICAgICAgbWRhdEJ5dGVzICs9IHVuaXQuYnl0ZUxlbmd0aFxuICAgICAgICAgIGN1cnJlbnREdHMgKz0gcmVmU2FtcGxlRHVyYXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhc3QgZnJhbWU6IGFsaWduIGVuZCB0aW1lIHRvIG5leHQgZnJhbWUgZHRzXG4gICAgICAgIGxldCBsYXN0RnJhbWUgPSBzaWxlbnRGcmFtZXNbc2lsZW50RnJhbWVzLmxlbmd0aCAtIDFdXG4gICAgICAgIGxhc3RGcmFtZS5kdXJhdGlvbiA9IGR0cyArIHNhbXBsZUR1cmF0aW9uIC0gbGFzdEZyYW1lLmR0c1xuXG4gICAgICAgIC8vIHNpbGVudEZyYW1lcy5mb3JFYWNoKChmcmFtZSkgPT4ge1xuICAgICAgICAvLyAgICAgTG9nLncodGhpcy5UQUcsIGBTaWxlbnRBdWRpbzogZHRzOiAke2ZyYW1lLmR0c30sIGR1cmF0aW9uOiAke2ZyYW1lLmR1cmF0aW9ufWApO1xuICAgICAgICAvLyB9KTtcblxuICAgICAgICAvLyBTZXQgY29ycmVjdCBzYW1wbGUgZHVyYXRpb24gZm9yIGN1cnJlbnQgZnJhbWVcbiAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBNYXRoLnJvdW5kKHJlZlNhbXBsZUR1cmF0aW9uKVxuICAgICAgfVxuXG4gICAgICBtcDRTYW1wbGVzLnB1c2goe1xuICAgICAgICBkdHM6IGR0cyxcbiAgICAgICAgcHRzOiBkdHMsXG4gICAgICAgIGN0czogMCxcbiAgICAgICAgdW5pdDogc2FtcGxlLnVuaXQsXG4gICAgICAgIHNpemU6IHNhbXBsZS51bml0LmJ5dGVMZW5ndGgsXG4gICAgICAgIGR1cmF0aW9uOiBzYW1wbGVEdXJhdGlvbixcbiAgICAgICAgb3JpZ2luYWxEdHM6IG9yaWdpbmFsRHRzLFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICBkZXBlbmRzT246IDEsXG4gICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDBcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKG5lZWRGaWxsU2lsZW50RnJhbWVzKSB7XG4gICAgICAgIC8vIFNpbGVudCBmcmFtZXMgc2hvdWxkIGJlIGluc2VydGVkIGFmdGVyIHdyb25nLWR1cmF0aW9uIGZyYW1lXG4gICAgICAgIG1wNFNhbXBsZXMucHVzaC5hcHBseShtcDRTYW1wbGVzLCBzaWxlbnRGcmFtZXMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWxsb2NhdGUgbWRhdGJveFxuICAgIGlmIChtcGVnUmF3VHJhY2spIHtcbiAgICAgIC8vIGFsbG9jYXRlIGZvciByYXcgbXBlZyBidWZmZXJcbiAgICAgIG1kYXRib3ggPSBuZXcgVWludDhBcnJheShtZGF0Qnl0ZXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFsbG9jYXRlIGZvciBmbXA0IG1kYXQgYm94XG4gICAgICBtZGF0Ym94ID0gbmV3IFVpbnQ4QXJyYXkobWRhdEJ5dGVzKVxuICAgICAgLy8gc2l6ZSBmaWVsZFxuICAgICAgbWRhdGJveFswXSA9IChtZGF0Qnl0ZXMgPj4+IDI0KSAmIDB4RkZcbiAgICAgIG1kYXRib3hbMV0gPSAobWRhdEJ5dGVzID4+PiAxNikgJiAweEZGXG4gICAgICBtZGF0Ym94WzJdID0gKG1kYXRCeXRlcyA+Pj4gOCkgJiAweEZGXG4gICAgICBtZGF0Ym94WzNdID0gKG1kYXRCeXRlcykgJiAweEZGXG4gICAgICAvLyB0eXBlIGZpZWxkIChmb3VyQ0MpXG4gICAgICBtZGF0Ym94LnNldChNUDQudHlwZXMubWRhdCwgNClcbiAgICB9XG5cbiAgICAvLyBXcml0ZSBzYW1wbGVzIGludG8gbWRhdGJveFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXA0U2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHVuaXQgPSBtcDRTYW1wbGVzW2ldLnVuaXRcbiAgICAgIG1kYXRib3guc2V0KHVuaXQsIG9mZnNldClcbiAgICAgIG9mZnNldCArPSB1bml0LmJ5dGVMZW5ndGhcbiAgICB9XG5cbiAgICBsZXQgbGF0ZXN0ID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdXG4gICAgbGFzdER0cyA9IGxhdGVzdC5kdHMgKyBsYXRlc3QuZHVyYXRpb25cbiAgICB0aGlzLl9hdWRpb05leHREdHMgPSBsYXN0RHRzXG5cbiAgICAvLyBmaWxsIG1lZGlhIHNlZ21lbnQgaW5mbyAmIGFkZCB0byBpbmZvIGxpc3RcbiAgICBsZXQgaW5mbyA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvKClcbiAgICBpbmZvLmJlZ2luRHRzID0gZmlyc3REdHNcbiAgICBpbmZvLmVuZER0cyA9IGxhc3REdHNcbiAgICBpbmZvLmJlZ2luUHRzID0gZmlyc3REdHNcbiAgICBpbmZvLmVuZFB0cyA9IGxhc3REdHNcbiAgICBpbmZvLm9yaWdpbmFsQmVnaW5EdHMgPSBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzXG4gICAgaW5mby5vcmlnaW5hbEVuZER0cyA9IGxhdGVzdC5vcmlnaW5hbER0cyArIGxhdGVzdC5kdXJhdGlvblxuICAgIGluZm8uZmlyc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhtcDRTYW1wbGVzWzBdLmR0cyxcbiAgICAgIG1wNFNhbXBsZXNbMF0ucHRzLFxuICAgICAgbXA0U2FtcGxlc1swXS5kdXJhdGlvbixcbiAgICAgIG1wNFNhbXBsZXNbMF0ub3JpZ2luYWxEdHMsXG4gICAgICBmYWxzZSlcbiAgICBpbmZvLmxhc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhsYXRlc3QuZHRzLFxuICAgICAgbGF0ZXN0LnB0cyxcbiAgICAgIGxhdGVzdC5kdXJhdGlvbixcbiAgICAgIGxhdGVzdC5vcmlnaW5hbER0cyxcbiAgICAgIGZhbHNlKVxuICAgIGlmICghdGhpcy5faXNMaXZlKSB7XG4gICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5hcHBlbmQoaW5mbylcbiAgICB9XG5cbiAgICB0cmFjay5zYW1wbGVzID0gbXA0U2FtcGxlc1xuICAgIHRyYWNrLnNlcXVlbmNlTnVtYmVyKytcblxuICAgIGxldCBtb29mYm94ID0gbnVsbFxuXG4gICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgLy8gR2VuZXJhdGUgZW1wdHkgYnVmZmVyLCBiZWNhdXNlIHVzZWxlc3MgZm9yIHJhdyBtcGVnXG4gICAgICBtb29mYm94ID0gbmV3IFVpbnQ4QXJyYXkoKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHZW5lcmF0ZSBtb29mIGZvciBmbXA0IHNlZ21lbnRcbiAgICAgIG1vb2Zib3ggPSBNUDQubW9vZih0cmFjaywgZmlyc3REdHMpXG4gICAgfVxuXG4gICAgdHJhY2suc2FtcGxlcyA9IFtdXG4gICAgdHJhY2subGVuZ3RoID0gMFxuXG4gICAgbGV0IHNlZ21lbnQgPSB7XG4gICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgZGF0YTogdGhpcy5fbWVyZ2VCb3hlcyhtb29mYm94LCBtZGF0Ym94KS5idWZmZXIsXG4gICAgICBzYW1wbGVDb3VudDogbXA0U2FtcGxlcy5sZW5ndGgsXG4gICAgICBpbmZvOiBpbmZvXG4gICAgfVxuXG4gICAgaWYgKG1wZWdSYXdUcmFjayAmJiBmaXJzdFNlZ21lbnRBZnRlclNlZWspIHtcbiAgICAgIC8vIEZvciBNUEVHIGF1ZGlvIHN0cmVhbSBpbiBNU0UsIGlmIHNlZWtpbmcgb2NjdXJyZWQsIGJlZm9yZSBhcHBlbmRpbmcgbmV3IGJ1ZmZlclxuICAgICAgLy8gV2UgbmVlZCBleHBsaWNpdGx5IHNldCB0aW1lc3RhbXBPZmZzZXQgdG8gdGhlIGRlc2lyZWQgcG9pbnQgaW4gdGltZWxpbmUgZm9yIG1wZWcgU291cmNlQnVmZmVyLlxuICAgICAgc2VnbWVudC50aW1lc3RhbXBPZmZzZXQgPSBmaXJzdER0c1xuICAgIH1cblxuICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCdhdWRpbycsIHNlZ21lbnQpXG4gIH1cblxuICBfcmVtdXhWaWRlbyAodmlkZW9UcmFjaywgZm9yY2UpIHtcbiAgICBpZiAodGhpcy5fdmlkZW9NZXRhID09IG51bGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCB0cmFjayA9IHZpZGVvVHJhY2tcbiAgICBsZXQgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXNcbiAgICBsZXQgZHRzQ29ycmVjdGlvblxuICAgIGxldCBmaXJzdER0cyA9IC0xLCBsYXN0RHRzID0gLTFcbiAgICBsZXQgZmlyc3RQdHMgPSAtMSwgbGFzdFB0cyA9IC0xXG5cbiAgICBpZiAoIXNhbXBsZXMgfHwgc2FtcGxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoc2FtcGxlcy5sZW5ndGggPT09IDEgJiYgIWZvcmNlKSB7XG4gICAgICAvLyBJZiBbc2FtcGxlIGNvdW50IGluIGN1cnJlbnQgYmF0Y2hdID09PSAxICYmIChmb3JjZSAhPSB0cnVlKVxuICAgICAgLy8gSWdub3JlIGFuZCBrZWVwIGluIGRlbXV4ZXIncyBxdWV1ZVxuICAgICAgcmV0dXJuXG4gICAgfSAvLyBlbHNlIGlmIChmb3JjZSA9PT0gdHJ1ZSkgZG8gcmVtdXhcblxuICAgIGxldCBvZmZzZXQgPSA4XG4gICAgbGV0IG1kYXRib3ggPSBudWxsXG4gICAgbGV0IG1kYXRCeXRlcyA9IDggKyB2aWRlb1RyYWNrLmxlbmd0aFxuXG4gICAgbGV0IGxhc3RTYW1wbGUgPSBudWxsXG5cbiAgICAvLyBQb3AgdGhlIGxhc3RTYW1wbGUgYW5kIHdhaXRpbmcgZm9yIHN0YXNoXG4gICAgaWYgKHNhbXBsZXMubGVuZ3RoID4gMSkge1xuICAgICAgbGFzdFNhbXBsZSA9IHNhbXBsZXMucG9wKClcbiAgICAgIG1kYXRCeXRlcyAtPSBsYXN0U2FtcGxlLmxlbmd0aFxuICAgIH1cblxuICAgIC8vIEluc2VydCBbc3Rhc2hlZCBsYXN0U2FtcGxlIGluIHRoZSBwcmV2aW91cyBiYXRjaF0gdG8gdGhlIGZyb250XG4gICAgaWYgKHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgbGV0IHNhbXBsZSA9IHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGVcbiAgICAgIHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsXG4gICAgICBzYW1wbGVzLnVuc2hpZnQoc2FtcGxlKVxuICAgICAgbWRhdEJ5dGVzICs9IHNhbXBsZS5sZW5ndGhcbiAgICB9XG5cbiAgICAvLyBTdGFzaCB0aGUgbGFzdFNhbXBsZSBvZiBjdXJyZW50IGJhdGNoLCB3YWl0aW5nIGZvciBuZXh0IGJhdGNoXG4gICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSA9IGxhc3RTYW1wbGVcbiAgICB9XG5cbiAgICBsZXQgZmlyc3RTYW1wbGVPcmlnaW5hbER0cyA9IHNhbXBsZXNbMF0uZHRzIC0gdGhpcy5fZHRzQmFzZVxuXG4gICAgLy8gY2FsY3VsYXRlIGR0c0NvcnJlY3Rpb25cbiAgICBpZiAodGhpcy5fdmlkZW9OZXh0RHRzKSB7XG4gICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIHRoaXMuX3ZpZGVvTmV4dER0c1xuICAgIH0gZWxzZSB7IC8vIHRoaXMuX3ZpZGVvTmV4dER0cyA9PSB1bmRlZmluZWRcbiAgICAgIGlmICh0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5pc0VtcHR5KCkpIHtcbiAgICAgICAgZHRzQ29ycmVjdGlvbiA9IDBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBsYXN0U2FtcGxlID0gdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuZ2V0TGFzdFNhbXBsZUJlZm9yZShmaXJzdFNhbXBsZU9yaWdpbmFsRHRzKVxuICAgICAgICBpZiAobGFzdFNhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IGRpc3RhbmNlID0gKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSAobGFzdFNhbXBsZS5vcmlnaW5hbER0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24pKVxuICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSAzKSB7XG4gICAgICAgICAgICBkaXN0YW5jZSA9IDBcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGV4cGVjdGVkRHRzID0gbGFzdFNhbXBsZS5kdHMgKyBsYXN0U2FtcGxlLmR1cmF0aW9uICsgZGlzdGFuY2VcbiAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGV4cGVjdGVkRHRzXG4gICAgICAgIH0gZWxzZSB7IC8vIGxhc3RTYW1wbGUgPT0gbnVsbCwgY2Fubm90IGZvdW5kXG4gICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaW5mbyA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvKClcbiAgICBsZXQgbXA0U2FtcGxlcyA9IFtdXG5cbiAgICAvLyBDb3JyZWN0IGR0cyBmb3IgZWFjaCBzYW1wbGUsIGFuZCBjYWxjdWxhdGUgc2FtcGxlIGR1cmF0aW9uLiBUaGVuIG91dHB1dCB0byBtcDRTYW1wbGVzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc2FtcGxlID0gc2FtcGxlc1tpXVxuICAgICAgbGV0IG9yaWdpbmFsRHRzID0gc2FtcGxlLmR0cyAtIHRoaXMuX2R0c0Jhc2VcbiAgICAgIGxldCBpc0tleWZyYW1lID0gc2FtcGxlLmlzS2V5ZnJhbWVcbiAgICAgIGxldCBkdHMgPSBvcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb25cbiAgICAgIGxldCBjdHMgPSBzYW1wbGUuY3RzXG4gICAgICBsZXQgcHRzID0gZHRzICsgY3RzXG5cbiAgICAgIGlmIChmaXJzdER0cyA9PT0gLTEpIHtcbiAgICAgICAgZmlyc3REdHMgPSBkdHNcbiAgICAgICAgZmlyc3RQdHMgPSBwdHNcbiAgICAgIH1cblxuICAgICAgbGV0IHNhbXBsZUR1cmF0aW9uID0gMFxuXG4gICAgICBpZiAoaSAhPT0gc2FtcGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGxldCBuZXh0RHRzID0gc2FtcGxlc1tpICsgMV0uZHRzIC0gdGhpcy5fZHRzQmFzZSAtIGR0c0NvcnJlY3Rpb25cbiAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBuZXh0RHRzIC0gZHRzXG4gICAgICB9IGVsc2UgeyAvLyB0aGUgbGFzdCBzYW1wbGVcbiAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkgeyAvLyB1c2Ugc3Rhc2hlZCBzYW1wbGUncyBkdHMgdG8gY2FsY3VsYXRlIHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgIGxldCBuZXh0RHRzID0gbGFzdFNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvblxuICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbmV4dER0cyAtIGR0c1xuICAgICAgICB9IGVsc2UgaWYgKG1wNFNhbXBsZXMubGVuZ3RoID49IDEpIHsgLy8gdXNlIHNlY29uZCBsYXN0IHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdLmR1cmF0aW9uXG4gICAgICAgIH0gZWxzZSB7IC8vIHRoZSBvbmx5IG9uZSBzYW1wbGUsIHVzZSByZWZlcmVuY2Ugc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBNYXRoLmZsb29yKHRoaXMuX3ZpZGVvTWV0YS5yZWZTYW1wbGVEdXJhdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNLZXlmcmFtZSkge1xuICAgICAgICBsZXQgc3luY1BvaW50ID0gbmV3IFNhbXBsZUluZm8oZHRzLCBwdHMsIHNhbXBsZUR1cmF0aW9uLCBzYW1wbGUuZHRzLCB0cnVlKVxuICAgICAgICBzeW5jUG9pbnQuZmlsZXBvc2l0aW9uID0gc2FtcGxlLmZpbGVwb3NpdGlvblxuICAgICAgICBpbmZvLmFwcGVuZFN5bmNQb2ludChzeW5jUG9pbnQpXG4gICAgICB9XG5cbiAgICAgIG1wNFNhbXBsZXMucHVzaCh7XG4gICAgICAgIGR0czogZHRzLFxuICAgICAgICBwdHM6IHB0cyxcbiAgICAgICAgY3RzOiBjdHMsXG4gICAgICAgIHVuaXRzOiBzYW1wbGUudW5pdHMsXG4gICAgICAgIHNpemU6IHNhbXBsZS5sZW5ndGgsXG4gICAgICAgIGlzS2V5ZnJhbWU6IGlzS2V5ZnJhbWUsXG4gICAgICAgIGR1cmF0aW9uOiBzYW1wbGVEdXJhdGlvbixcbiAgICAgICAgb3JpZ2luYWxEdHM6IG9yaWdpbmFsRHRzLFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICBkZXBlbmRzT246IGlzS2V5ZnJhbWUgPyAyIDogMSxcbiAgICAgICAgICBpc0RlcGVuZGVkT246IGlzS2V5ZnJhbWUgPyAxIDogMCxcbiAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwLFxuICAgICAgICAgIGlzTm9uU3luYzogaXNLZXlmcmFtZSA/IDAgOiAxXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gYWxsb2NhdGUgbWRhdGJveFxuICAgIG1kYXRib3ggPSBuZXcgVWludDhBcnJheShtZGF0Qnl0ZXMpXG4gICAgbWRhdGJveFswXSA9IChtZGF0Qnl0ZXMgPj4+IDI0KSAmIDB4RkZcbiAgICBtZGF0Ym94WzFdID0gKG1kYXRCeXRlcyA+Pj4gMTYpICYgMHhGRlxuICAgIG1kYXRib3hbMl0gPSAobWRhdEJ5dGVzID4+PiA4KSAmIDB4RkZcbiAgICBtZGF0Ym94WzNdID0gKG1kYXRCeXRlcykgJiAweEZGXG4gICAgbWRhdGJveC5zZXQoTVA0LnR5cGVzLm1kYXQsIDQpXG5cbiAgICAvLyBXcml0ZSBzYW1wbGVzIGludG8gbWRhdGJveFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXA0U2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHVuaXRzID0gbXA0U2FtcGxlc1tpXS51bml0c1xuICAgICAgd2hpbGUgKHVuaXRzLmxlbmd0aCkge1xuICAgICAgICBsZXQgdW5pdCA9IHVuaXRzLnNoaWZ0KClcbiAgICAgICAgbGV0IGRhdGEgPSB1bml0LmRhdGFcbiAgICAgICAgbWRhdGJveC5zZXQoZGF0YSwgb2Zmc2V0KVxuICAgICAgICBvZmZzZXQgKz0gZGF0YS5ieXRlTGVuZ3RoXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGxhdGVzdCA9IG1wNFNhbXBsZXNbbXA0U2FtcGxlcy5sZW5ndGggLSAxXVxuICAgIGxhc3REdHMgPSBsYXRlc3QuZHRzICsgbGF0ZXN0LmR1cmF0aW9uXG4gICAgbGFzdFB0cyA9IGxhdGVzdC5wdHMgKyBsYXRlc3QuZHVyYXRpb25cbiAgICB0aGlzLl92aWRlb05leHREdHMgPSBsYXN0RHRzXG5cbiAgICAvLyBmaWxsIG1lZGlhIHNlZ21lbnQgaW5mbyAmIGFkZCB0byBpbmZvIGxpc3RcbiAgICBpbmZvLmJlZ2luRHRzID0gZmlyc3REdHNcbiAgICBpbmZvLmVuZER0cyA9IGxhc3REdHNcbiAgICBpbmZvLmJlZ2luUHRzID0gZmlyc3RQdHNcbiAgICBpbmZvLmVuZFB0cyA9IGxhc3RQdHNcbiAgICBpbmZvLm9yaWdpbmFsQmVnaW5EdHMgPSBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzXG4gICAgaW5mby5vcmlnaW5hbEVuZER0cyA9IGxhdGVzdC5vcmlnaW5hbER0cyArIGxhdGVzdC5kdXJhdGlvblxuICAgIGluZm8uZmlyc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhtcDRTYW1wbGVzWzBdLmR0cyxcbiAgICAgIG1wNFNhbXBsZXNbMF0ucHRzLFxuICAgICAgbXA0U2FtcGxlc1swXS5kdXJhdGlvbixcbiAgICAgIG1wNFNhbXBsZXNbMF0ub3JpZ2luYWxEdHMsXG4gICAgICBtcDRTYW1wbGVzWzBdLmlzS2V5ZnJhbWUpXG4gICAgaW5mby5sYXN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obGF0ZXN0LmR0cyxcbiAgICAgIGxhdGVzdC5wdHMsXG4gICAgICBsYXRlc3QuZHVyYXRpb24sXG4gICAgICBsYXRlc3Qub3JpZ2luYWxEdHMsXG4gICAgICBsYXRlc3QuaXNLZXlmcmFtZSlcbiAgICBpZiAoIXRoaXMuX2lzTGl2ZSkge1xuICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuYXBwZW5kKGluZm8pXG4gICAgfVxuXG4gICAgdHJhY2suc2FtcGxlcyA9IG1wNFNhbXBsZXNcbiAgICB0cmFjay5zZXF1ZW5jZU51bWJlcisrXG5cbiAgICAvLyB3b3JrYXJvdW5kIGZvciBjaHJvbWUgPCA1MDogZm9yY2UgZmlyc3Qgc2FtcGxlIGFzIGEgcmFuZG9tIGFjY2VzcyBwb2ludFxuICAgIC8vIHNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICBpZiAodGhpcy5fZm9yY2VGaXJzdElEUikge1xuICAgICAgbGV0IGZsYWdzID0gbXA0U2FtcGxlc1swXS5mbGFnc1xuICAgICAgZmxhZ3MuZGVwZW5kc09uID0gMlxuICAgICAgZmxhZ3MuaXNOb25TeW5jID0gMFxuICAgIH1cblxuICAgIGxldCBtb29mYm94ID0gTVA0Lm1vb2YodHJhY2ssIGZpcnN0RHRzKVxuICAgIHRyYWNrLnNhbXBsZXMgPSBbXVxuICAgIHRyYWNrLmxlbmd0aCA9IDBcblxuICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCd2aWRlbycsIHtcbiAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICBkYXRhOiB0aGlzLl9tZXJnZUJveGVzKG1vb2Zib3gsIG1kYXRib3gpLmJ1ZmZlcixcbiAgICAgIHNhbXBsZUNvdW50OiBtcDRTYW1wbGVzLmxlbmd0aCxcbiAgICAgIGluZm86IGluZm9cbiAgICB9KVxuICB9XG5cbiAgX21lcmdlQm94ZXMgKG1vb2YsIG1kYXQpIHtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobW9vZi5ieXRlTGVuZ3RoICsgbWRhdC5ieXRlTGVuZ3RoKVxuICAgIHJlc3VsdC5zZXQobW9vZiwgMClcbiAgICByZXN1bHQuc2V0KG1kYXQsIG1vb2YuYnl0ZUxlbmd0aClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTVA0UmVtdXhlclxuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmxldCBCcm93c2VyID0ge307XG5cbmZ1bmN0aW9uIGRldGVjdCgpIHtcbiAgICAvLyBtb2RpZmllZCBmcm9tIGpxdWVyeS1icm93c2VyLXBsdWdpblxuXG4gICAgbGV0IHVhID0gc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBsZXQgbWF0Y2ggPSAvKGVkZ2UpXFwvKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG9wcilbXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGllbW9iaWxlKVtcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHZlcnNpb24pKGFwcGxld2Via2l0KVsgXFwvXShbXFx3Ll0rKS4qKHNhZmFyaSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS4qKHZlcnNpb24pWyBcXC9dKFtcXHcuXSspLiooc2FmYXJpKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgdWEuaW5kZXhPZigndHJpZGVudCcpID49IDAgJiYgLyhydikoPzo6fCApKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICB1YS5pbmRleE9mKCdjb21wYXRpYmxlJykgPCAwICYmIC8oZmlyZWZveClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgbGV0IHBsYXRmb3JtX21hdGNoID0gLyhpcGFkKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpcG9kKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3aW5kb3dzIHBob25lKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpcGhvbmUpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGtpbmRsZSkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oYW5kcm9pZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2luZG93cykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8obWFjKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhsaW51eCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oY3JvcykvLmV4ZWModWEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgbGV0IG1hdGNoZWQgPSB7XG4gICAgICAgIGJyb3dzZXI6IG1hdGNoWzVdIHx8IG1hdGNoWzNdIHx8IG1hdGNoWzFdIHx8ICcnLFxuICAgICAgICB2ZXJzaW9uOiBtYXRjaFsyXSB8fCBtYXRjaFs0XSB8fCAnMCcsXG4gICAgICAgIG1ham9yVmVyc2lvbjogbWF0Y2hbNF0gfHwgbWF0Y2hbMl0gfHwgJzAnLFxuICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm1fbWF0Y2hbMF0gfHwgJydcbiAgICB9O1xuXG4gICAgbGV0IGJyb3dzZXIgPSB7fTtcbiAgICBpZiAobWF0Y2hlZC5icm93c2VyKSB7XG4gICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5icm93c2VyXSA9IHRydWU7XG5cbiAgICAgICAgbGV0IHZlcnNpb25BcnJheSA9IG1hdGNoZWQubWFqb3JWZXJzaW9uLnNwbGl0KCcuJyk7XG4gICAgICAgIGJyb3dzZXIudmVyc2lvbiA9IHtcbiAgICAgICAgICAgIG1ham9yOiBwYXJzZUludChtYXRjaGVkLm1ham9yVmVyc2lvbiwgMTApLFxuICAgICAgICAgICAgc3RyaW5nOiBtYXRjaGVkLnZlcnNpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHZlcnNpb25BcnJheS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBicm93c2VyLnZlcnNpb24ubWlub3IgPSBwYXJzZUludCh2ZXJzaW9uQXJyYXlbMV0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVyc2lvbkFycmF5Lmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIGJyb3dzZXIudmVyc2lvbi5idWlsZCA9IHBhcnNlSW50KHZlcnNpb25BcnJheVsyXSwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoZWQucGxhdGZvcm0pIHtcbiAgICAgICAgYnJvd3NlclttYXRjaGVkLnBsYXRmb3JtXSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIub3ByIHx8IGJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgIGJyb3dzZXIud2Via2l0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNU0lFLiBJRTExIGhhcyAncnYnIGlkZW50aWZlclxuICAgIGlmIChicm93c2VyLnJ2IHx8IGJyb3dzZXIuaWVtb2JpbGUpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucnYpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBicm93c2VyLnJ2O1xuICAgICAgICB9XG4gICAgICAgIGxldCBtc2llID0gJ21zaWUnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2llO1xuICAgICAgICBicm93c2VyW21zaWVdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNaWNyb3NvZnQgRWRnZVxuICAgIGlmIChicm93c2VyLmVkZ2UpIHtcbiAgICAgICAgZGVsZXRlIGJyb3dzZXIuZWRnZTtcbiAgICAgICAgbGV0IG1zZWRnZSA9ICdtc2VkZ2UnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2VkZ2U7XG4gICAgICAgIGJyb3dzZXJbbXNlZGdlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gT3BlcmEgMTUrXG4gICAgaWYgKGJyb3dzZXIub3ByKSB7XG4gICAgICAgIGxldCBvcGVyYSA9ICdvcGVyYSc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IG9wZXJhO1xuICAgICAgICBicm93c2VyW29wZXJhXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3RvY2sgYW5kcm9pZCBicm93c2VycyBhcmUgbWFya2VkIGFzIFNhZmFyaVxuICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiBicm93c2VyLmFuZHJvaWQpIHtcbiAgICAgICAgbGV0IGFuZHJvaWQgPSAnYW5kcm9pZCc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IGFuZHJvaWQ7XG4gICAgICAgIGJyb3dzZXJbYW5kcm9pZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGJyb3dzZXIubmFtZSA9IG1hdGNoZWQuYnJvd3NlcjtcbiAgICBicm93c2VyLnBsYXRmb3JtID0gbWF0Y2hlZC5wbGF0Zm9ybTtcblxuICAgIGZvciAobGV0IGtleSBpbiBCcm93c2VyKSB7XG4gICAgICAgIGlmIChCcm93c2VyLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCcm93c2VyW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihCcm93c2VyLCBicm93c2VyKTtcbn1cblxuZGV0ZWN0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IEJyb3dzZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBSdW50aW1lRXhjZXB0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnUnVudGltZUV4Y2VwdGlvbic7XG4gICAgfVxuXG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgJzogJyArIHRoaXMubWVzc2FnZTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdJbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uIGV4dGVuZHMgUnVudGltZUV4Y2VwdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbic7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbic7XG4gICAgfVxuXG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnXG5cbmNsYXNzIExvZyB7XG4gIHN0YXRpYyBlICh0YWcsIG1zZykge1xuICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKSB7IHRhZyA9IExvZy5HTE9CQUxfVEFHIH1cblxuICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gXG5cbiAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ2Vycm9yJywgc3RyKVxuICAgIH1cblxuICAgIGlmICghTG9nLkVOQUJMRV9FUlJPUikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3Ioc3RyKVxuICAgIH0gZWxzZSBpZiAoY29uc29sZS53YXJuKSB7XG4gICAgICBjb25zb2xlLndhcm4oc3RyKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhzdHIpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGkgKHRhZywgbXNnKSB7XG4gICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpIHsgdGFnID0gTG9nLkdMT0JBTF9UQUcgfVxuXG4gICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWBcblxuICAgIGlmIChMb2cuRU5BQkxFX0NBTExCQUNLKSB7XG4gICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCAnaW5mbycsIHN0cilcbiAgICB9XG5cbiAgICBpZiAoIUxvZy5FTkFCTEVfSU5GTykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGNvbnNvbGUuaW5mbykge1xuICAgICAgY29uc29sZS5pbmZvKHN0cilcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coc3RyKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB3ICh0YWcsIG1zZykge1xuICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKSB7IHRhZyA9IExvZy5HTE9CQUxfVEFHIH1cblxuICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gXG5cbiAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ3dhcm4nLCBzdHIpXG4gICAgfVxuXG4gICAgaWYgKCFMb2cuRU5BQkxFX1dBUk4pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChjb25zb2xlLndhcm4pIHtcbiAgICAgIGNvbnNvbGUud2FybihzdHIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKHN0cilcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZCAodGFnLCBtc2cpIHtcbiAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRykgeyB0YWcgPSBMb2cuR0xPQkFMX1RBRyB9XG5cbiAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YFxuXG4gICAgaWYgKExvZy5FTkFCTEVfQ0FMTEJBQ0spIHtcbiAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsICdkZWJ1ZycsIHN0cilcbiAgICB9XG5cbiAgICBpZiAoIUxvZy5FTkFCTEVfREVCVUcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChjb25zb2xlLmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKHN0cilcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coc3RyKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB2ICh0YWcsIG1zZykge1xuICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKSB7IHRhZyA9IExvZy5HTE9CQUxfVEFHIH1cblxuICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gXG5cbiAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ3ZlcmJvc2UnLCBzdHIpXG4gICAgfVxuXG4gICAgaWYgKCFMb2cuRU5BQkxFX1ZFUkJPU0UpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKHN0cilcbiAgfVxufVxuXG5Mb2cuR0xPQkFMX1RBRyA9ICdmbHYuanMnXG5Mb2cuRk9SQ0VfR0xPQkFMX1RBRyA9IGZhbHNlXG5Mb2cuRU5BQkxFX0VSUk9SID0gdHJ1ZVxuTG9nLkVOQUJMRV9JTkZPID0gdHJ1ZVxuTG9nLkVOQUJMRV9XQVJOID0gdHJ1ZVxuTG9nLkVOQUJMRV9ERUJVRyA9IHRydWVcbkxvZy5FTkFCTEVfVkVSQk9TRSA9IHRydWVcblxuTG9nLkVOQUJMRV9DQUxMQkFDSyA9IGZhbHNlXG5cbkxvZy5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbmV4cG9ydCBkZWZhdWx0IExvZ1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5jbGFzcyBMb2dnaW5nQ29udHJvbCB7XG5cbiAgICBzdGF0aWMgZ2V0IGZvcmNlR2xvYmFsVGFnKCkge1xuICAgICAgICByZXR1cm4gTG9nLkZPUkNFX0dMT0JBTF9UQUc7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBmb3JjZUdsb2JhbFRhZyhlbmFibGUpIHtcbiAgICAgICAgTG9nLkZPUkNFX0dMT0JBTF9UQUcgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGdsb2JhbFRhZygpIHtcbiAgICAgICAgcmV0dXJuIExvZy5HTE9CQUxfVEFHO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZ2xvYmFsVGFnKHRhZykge1xuICAgICAgICBMb2cuR0xPQkFMX1RBRyA9IHRhZztcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlQWxsKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9WRVJCT1NFXG4gICAgICAgICAgICAmJiBMb2cuRU5BQkxFX0RFQlVHXG4gICAgICAgICAgICAmJiBMb2cuRU5BQkxFX0lORk9cbiAgICAgICAgICAgICYmIExvZy5FTkFCTEVfV0FSTlxuICAgICAgICAgICAgJiYgTG9nLkVOQUJMRV9FUlJPUjtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZUFsbChlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9WRVJCT1NFID0gZW5hYmxlO1xuICAgICAgICBMb2cuRU5BQkxFX0RFQlVHID0gZW5hYmxlO1xuICAgICAgICBMb2cuRU5BQkxFX0lORk8gPSBlbmFibGU7XG4gICAgICAgIExvZy5FTkFCTEVfV0FSTiA9IGVuYWJsZTtcbiAgICAgICAgTG9nLkVOQUJMRV9FUlJPUiA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlRGVidWcoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX0RFQlVHO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlRGVidWcoZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfREVCVUcgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZVZlcmJvc2UoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX1ZFUkJPU0U7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVWZXJib3NlKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX1ZFUkJPU0UgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZUluZm8oKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX0lORk87XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVJbmZvKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX0lORk8gPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZVdhcm4oKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX1dBUk47XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVXYXJuKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX1dBUk4gPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZUVycm9yKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9FUlJPUjtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZUVycm9yKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX0VSUk9SID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsb2JhbFRhZzogTG9nLkdMT0JBTF9UQUcsXG4gICAgICAgICAgICBmb3JjZUdsb2JhbFRhZzogTG9nLkZPUkNFX0dMT0JBTF9UQUcsXG4gICAgICAgICAgICBlbmFibGVWZXJib3NlOiBMb2cuRU5BQkxFX1ZFUkJPU0UsXG4gICAgICAgICAgICBlbmFibGVEZWJ1ZzogTG9nLkVOQUJMRV9ERUJVRyxcbiAgICAgICAgICAgIGVuYWJsZUluZm86IExvZy5FTkFCTEVfSU5GTyxcbiAgICAgICAgICAgIGVuYWJsZVdhcm46IExvZy5FTkFCTEVfV0FSTixcbiAgICAgICAgICAgIGVuYWJsZUVycm9yOiBMb2cuRU5BQkxFX0VSUk9SLFxuICAgICAgICAgICAgZW5hYmxlQ2FsbGJhY2s6IExvZy5FTkFCTEVfQ0FMTEJBQ0tcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXBwbHlDb25maWcoY29uZmlnKSB7XG4gICAgICAgIExvZy5HTE9CQUxfVEFHID0gY29uZmlnLmdsb2JhbFRhZztcbiAgICAgICAgTG9nLkZPUkNFX0dMT0JBTF9UQUcgPSBjb25maWcuZm9yY2VHbG9iYWxUYWc7XG4gICAgICAgIExvZy5FTkFCTEVfVkVSQk9TRSA9IGNvbmZpZy5lbmFibGVWZXJib3NlO1xuICAgICAgICBMb2cuRU5BQkxFX0RFQlVHID0gY29uZmlnLmVuYWJsZURlYnVnO1xuICAgICAgICBMb2cuRU5BQkxFX0lORk8gPSBjb25maWcuZW5hYmxlSW5mbztcbiAgICAgICAgTG9nLkVOQUJMRV9XQVJOID0gY29uZmlnLmVuYWJsZVdhcm47XG4gICAgICAgIExvZy5FTkFCTEVfRVJST1IgPSBjb25maWcuZW5hYmxlRXJyb3I7XG4gICAgICAgIExvZy5FTkFCTEVfQ0FMTEJBQ0sgPSBjb25maWcuZW5hYmxlQ2FsbGJhY2s7XG4gICAgfVxuXG4gICAgc3RhdGljIF9ub3RpZnlDaGFuZ2UoKSB7XG4gICAgICAgIGxldCBlbWl0dGVyID0gTG9nZ2luZ0NvbnRyb2wuZW1pdHRlcjtcblxuICAgICAgICBpZiAoZW1pdHRlci5saXN0ZW5lckNvdW50KCdjaGFuZ2UnKSA+IDApIHtcbiAgICAgICAgICAgIGxldCBjb25maWcgPSBMb2dnaW5nQ29udHJvbC5nZXRDb25maWcoKTtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgY29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLmVtaXR0ZXIuYWRkTGlzdGVuZXIoJ2NoYW5nZScsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRMb2dMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBMb2cuZW1pdHRlci5hZGRMaXN0ZW5lcignbG9nJywgbGlzdGVuZXIpO1xuICAgICAgICBpZiAoTG9nLmVtaXR0ZXIubGlzdGVuZXJDb3VudCgnbG9nJykgPiAwKSB7XG4gICAgICAgICAgICBMb2cuRU5BQkxFX0NBTExCQUNLID0gdHJ1ZTtcbiAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVMb2dMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBMb2cuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignbG9nJywgbGlzdGVuZXIpO1xuICAgICAgICBpZiAoTG9nLmVtaXR0ZXIubGlzdGVuZXJDb3VudCgnbG9nJykgPT09IDApIHtcbiAgICAgICAgICAgIExvZy5FTkFCTEVfQ0FMTEJBQ0sgPSBmYWxzZTtcbiAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5Mb2dnaW5nQ29udHJvbC5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBMb2dnaW5nQ29udHJvbDsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgUG9seWZpbGwge1xuXG4gICAgc3RhdGljIGluc3RhbGwoKSB7XG4gICAgICAgIC8vIEVTNiBPYmplY3Quc2V0UHJvdG90eXBlT2ZcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChvYmosIHByb3RvKSB7XG4gICAgICAgICAgICBvYmouX19wcm90b19fID0gcHJvdG87XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEVTNiBPYmplY3QuYXNzaWduXG4gICAgICAgIE9iamVjdC5hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRVM2IFByb21pc2UgKG1pc3Npbmcgc3VwcG9ydCBpbiBJRTExKVxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmVxdWlyZSgnZXM2LXByb21pc2UnKS5wb2x5ZmlsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cblBvbHlmaWxsLmluc3RhbGwoKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9seWZpbGw7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgZGVyaXZlZCBmcm9tIEMrKyBwcm9qZWN0IGxpYldpblRGOCAoaHR0cHM6Ly9naXRodWIuY29tL20xMzI1My9saWJXaW5URjgpXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmZ1bmN0aW9uIGNoZWNrQ29udGludWF0aW9uKHVpbnQ4YXJyYXksIHN0YXJ0LCBjaGVja0xlbmd0aCkge1xuICAgIGxldCBhcnJheSA9IHVpbnQ4YXJyYXk7XG4gICAgaWYgKHN0YXJ0ICsgY2hlY2tMZW5ndGggPCBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgd2hpbGUgKGNoZWNrTGVuZ3RoLS0pIHtcbiAgICAgICAgICAgIGlmICgoYXJyYXlbKytzdGFydF0gJiAweEMwKSAhPT0gMHg4MClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlVVRGOCh1aW50OGFycmF5KSB7XG4gICAgbGV0IG91dCA9IFtdO1xuICAgIGxldCBpbnB1dCA9IHVpbnQ4YXJyYXk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW5ndGggPSB1aW50OGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChpbnB1dFtpXSA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaW5wdXRbaV0pKTtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhDMCkge1xuICAgICAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4RTApIHtcbiAgICAgICAgICAgIGlmIChjaGVja0NvbnRpbnVhdGlvbihpbnB1dCwgaSwgMSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdWNzNCA9IChpbnB1dFtpXSAmIDB4MUYpIDw8IDYgfCAoaW5wdXRbaSArIDFdICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKHVjczQgPj0gMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHVjczQgJiAweEZGRkYpKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEYwKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tDb250aW51YXRpb24oaW5wdXQsIGksIDIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVjczQgPSAoaW5wdXRbaV0gJiAweEYpIDw8IDEyIHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpIDw8IDYgfCBpbnB1dFtpICsgMl0gJiAweDNGO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID49IDB4ODAwICYmICh1Y3M0ICYgMHhGODAwKSAhPT0gMHhEODAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodWNzNCAmIDB4RkZGRikpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4RjgpIHtcbiAgICAgICAgICAgIGlmIChjaGVja0NvbnRpbnVhdGlvbihpbnB1dCwgaSwgMykpIHtcbiAgICAgICAgICAgICAgICBsZXQgdWNzNCA9IChpbnB1dFtpXSAmIDB4NykgPDwgMTggfCAoaW5wdXRbaSArIDFdICYgMHgzRikgPDwgMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICB8IChpbnB1dFtpICsgMl0gJiAweDNGKSA8PCA2IHwgKGlucHV0W2kgKyAzXSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID4gMHgxMDAwMCAmJiB1Y3M0IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdWNzNCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKCh1Y3M0ID4+PiAxMCkgfCAweEQ4MDApKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgodWNzNCAmIDB4M0ZGKSB8IDB4REMwMCkpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkZGRCkpO1xuICAgICAgICArK2k7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVjb2RlVVRGODsiLCJpbXBvcnQgUGxheWVyIGZyb20gJ3hncGxheWVyJ1xuaW1wb3J0IEZsdiBmcm9tICcuL2Zsdi9mbHYnXG5cbmNsYXNzIEZsdkpzUGxheWVyIGV4dGVuZHMgUGxheWVyIHtcbiAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKVxuICAgIHRoaXMuZmx2T3B0cyA9IHsgdHlwZTogJ2ZsdicgfVxuICAgIFBsYXllci51dGlsLmRlZXBDb3B5KHRoaXMuZmx2T3B0cywgb3B0aW9ucylcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzXG4gICAgcGxheWVyLm9uY2UoJ2NvbXBsZXRlJywgKCkgPT4ge1xuICAgICAgcGxheWVyLl9fZmx2X18gPSBGbHYuY3JlYXRlUGxheWVyKHRoaXMuZmx2T3B0cylcbiAgICAgIHBsYXllci5jcmVhdGVJbnN0YW5jZShwbGF5ZXIuX19mbHZfXylcbiAgICB9KVxuICB9XG4gIGNyZWF0ZUluc3RhbmNlIChmbHYpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB0aGlzXG4gICAgY29uc3QgdXRpbCA9IFBsYXllci51dGlsXG4gICAgZmx2LmF0dGFjaE1lZGlhRWxlbWVudChwbGF5ZXIudmlkZW8pXG4gICAgZmx2LmxvYWQoKVxuICAgIGZsdi5wbGF5KClcbiAgICBpZiAodGhpcy5mbHZPcHRzLmlzTGl2ZSkge1xuICAgICAgdXRpbC5hZGRDbGFzcyhwbGF5ZXIucm9vdCwgJ3hncGxheWVyLWlzLWxpdmUnKVxuICAgICAgY29uc3QgbGl2ZSA9IHV0aWwuY3JlYXRlRG9tKCd4Zy1saXZlJywgJ+ato+WcqOebtOaSrScsIHt9LCAneGdwbGF5ZXItbGl2ZScpXG4gICAgICBwbGF5ZXIuY29udHJvbHMuYXBwZW5kQ2hpbGQobGl2ZSlcbiAgICB9XG4gICAgZmx2Lm9uKEZsdi5FdmVudHMuRVJST1IsIChlKSA9PiB7XG4gICAgICBwbGF5ZXIuZW1pdCgnZXJyb3InLCBuZXcgUGxheWVyLkVycm9ycygnb3RoZXInLCBwbGF5ZXIuY29uZmlnLnVybCkpXG4gICAgfSlcblxuICAgIHBsYXllci5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgZmx2LmRlc3Ryb3koKVxuICAgICAgcGxheWVyLl9fZmx2X18gPSBudWxsXG4gICAgfSlcbiAgfVxuICBzd2l0Y2hVUkwgKHVybCkge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXNcbiAgICBjb25zdCBmbHZQbGF5ZXIgPSBwbGF5ZXIuX19mbHZfX1xuICAgIHBsYXllci5jb25maWcudXJsID0gdXJsXG4gICAgaWYgKCFwbGF5ZXIuY29uZmlnLmlzTGl2ZSkge1xuICAgICAgZmx2UGxheWVyLm9uRGVmaW5pdGlvbkNoYW5nZSh1cmwsIHBsYXllci5jb25maWcucmV0cnlUaW1lcylcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGVtcEZsdlBsYXllciA9IEZsdi5jcmVhdGVQbGF5ZXIocGxheWVyLmZsdk9wdHMpXG4gICAgICBmbHZQbGF5ZXIuZGVzdHJveSgpXG4gICAgICBwbGF5ZXIuY3JlYXRlSW5zdGFuY2UodGVtcEZsdlBsYXllcilcbiAgICAgIHBsYXllci5fX2Zsdl9fID0gdGVtcEZsdlBsYXllclxuICAgIH1cbiAgfVxufVxuRmx2SnNQbGF5ZXIuaXNTdXBwb3J0ZWQgPSBGbHYuaXNTdXBwb3J0ZWRcbmV4cG9ydCBkZWZhdWx0IEZsdkpzUGxheWVyXG4iLCIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wiUGxheWVyXCJdOyB9KCkpOyJdLCJzb3VyY2VSb290IjoiIn0=