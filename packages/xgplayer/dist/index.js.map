{"version":3,"file":"index.js","sources":["../node_modules/type/value/is.js","../node_modules/type/object/is.js","../node_modules/type/prototype/is.js","../node_modules/type/function/is.js","../node_modules/type/plain-function/is.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/es5-ext/object/is-object.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../node_modules/matches-selector/index.js","../node_modules/closest/index.js","../node_modules/component-event/index.js","../node_modules/delegate-events/index.js","../src/plugin/plugin.js","../src/stateClassMap.js","../src/defaultConfig.js","../src/plugin/preset.js","../src/plugins/controls/index.js","../src/player.js","../src/plugins/poster/index.js","../src/plugins/replay/index.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/plugins/miniScreen/miniScreenIcon.js","../src/plugins/miniScreen/index.js","../src/plugins/Controls/index.js","../src/plugins/playNext/index.js","../src/plugins/pc/index.js","../src/plugins/mobile/index.js","../src/plugins/placeholder/index.js","../src/plugins/start/index.js","../src/plugins/track/index.js","../src/Plugin/basePlugin.js","../src/Plugin/pluginsManager.js","../src/Plugin/plugin.js","../src/plugins/error/index.js","../src/plugins/enter/index.js","../src/plugins/keyboard/index.js","../src/plugins/loading/index.js","../src/plugins/progress/progressdots.js","../src/plugins/progress/index.js","../src/plugins/play/index.js","../src/plugins/fullscreen/index.js","../src/plugins/time/index.js","../src/plugins/volume/index.js","../src/plugins/rotate/index.js","../src/plugins/pip/index.js","../node_modules/downloadjs/download.js","../src/plugins/download/index.js","../src/plugins/screenShot/index.js","../src/plugins/definition/index.js","../src/plugins/playbackRate/index.js","../src/plugins/cssFullScreen/index.js","../src/presets/default.js","../src/index.js"],"sourcesContent":["\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.createDomFromHtml = function (html, attrs = {}, classname = '') {\n  try {\n    let doc = document.createElement('div')\n    doc.innerHTML = html\n    let dom = doc.children\n    doc = null\n    if (dom.length > 0) {\n      dom = dom[0]\n      classname && util.addClass(dom, classname)\n      if (attrs) {\n        Object.keys(attrs).forEach(key => {\n          dom.setAttribute(key, attrs[key])\n        })\n      }\n      return dom\n    }\n    return null\n  } catch (err) {\n    return null\n  }\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.getCss = function (dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key]\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (dst[key] === undefined || dst[key] === undefined) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\n\nutil.deepMerge = function (dst, src) {\n  Object.keys(src).map(key => {\n    if (typeof dst[key] === typeof src[key] && dst[key] !== null && typeof dst[key] === 'object' && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key])\n    } else {\n      dst[key] = src[key]\n    }\n  })\n  return dst\n}\n\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nutil.hide = function (dom) {\n  dom.style.display = 'none'\n}\n\nutil.show = function (dom, display) {\n  dom.style.display = display || 'block'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\nexport const RATE_CHANGE = 'rateChange'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const REPLAY = 'replay'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n\n// screen change evnets\nexport const FULLSCREEN_CHANGE = 'fullscreen_change'\nexport const CSS_FULLSCREEN_CHANGE = 'cssFullscreen_change'\nexport const MINI_STATE_CHANGE = 'mini_state_change'\n\n// transmuxer events\nexport const SEI_PARSED = 'SEI_PARSED';\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }, options.videoConfig);\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    if (options.defaultPlaybackRate) {\n      this.videoConfig.defaultPlaybackRate = options.defaultPlaybackRate\n    }\n\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplayMuted) {\n      this.video.muted = true\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata', 'ratechange'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n\n      this.videoEventHandler = () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video && this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }\n      this.video.addEventListener(Object.keys(item)[0], this.videoEventHandler, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean') {\n      this._hasStart = bool\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n\n      this.video.removeEventListener(evName, this.videoEventHandler, false)\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE, url)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as Events from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = Events\nexport {\n  BasePlugin as default,\n  Util,\n  Sniffer,\n  Errors,\n  Events\n}\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","var bind, unbind, prefix;\n\nfunction detect () {\n  bind = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  if (!bind) detect();\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (!unbind) detect();\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n","/**\n * Module dependencies.\n */\n\nvar closest = require('closest')\n  , event = require('component-event');\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nexports.bind = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return event.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  event.unbind(el, type, fn, capture);\n};\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin, {Util} from './basePlugin'\nimport * as delegate from 'delegate-events'\n\n// const {Util} = BasePlugin\nfunction _createElement (tag, name, attr = {}) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  attr && Object.keys(attr).map(key => {\n    dom.setAttribute(key, attr[key])\n  })\n  return dom\n}\n\nfunction isUrl (str) {\n  return str.indexOf('http') > 0\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons\n  Object.keys(iconsConfig).map(key => {\n    const orgIcon = iconsConfig[key] || {}\n    const classname = orgIcon.class || ''\n    const attr = orgIcon.attr || {}\n    let _icon = null\n    if (_icons && _icons[key]) {\n      _icon = _icons[key]\n      if (_icon instanceof window.Element) {\n        Util.addClass(_icon, classname)\n        Object.keys(attr).map(key => {\n          _icon.setAttribute(key, attr[key])\n        })\n      } else if (isUrl(_icon)) {\n        _icon = Util.createDom('img', '', {src: _icon}, attr, `xg-img ${classname}`)\n      } else if (typeof _icon === 'function') {\n        _icon = _icon(classname, attr)\n        if (_icon instanceof window.Element) {\n          Util.addClass(_icon, classname)\n          Object.keys(attr).map(key => {\n            _icon.setAttribute(key, attr[key])\n          })\n        }\n      } else {\n        _icon = Util.createDomFromHtml(_icon, attr, classname)\n      }\n    }\n    if (!_icon) {\n      _icon = orgIcon.icon ? orgIcon.icon : orgIcon\n      _icon = _icon instanceof window.Element ? _icon : Util.createDomFromHtml(_icon, attr, classname)\n    }\n    plugin.icons[key] = _icon\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const _orgicons = this.registerIcons() || {}\n    registerIconsObj(_orgicons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  appendChild (pdom, child) {\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0])\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null\n    }\n    try {\n      if (typeof pdom === 'string') {\n        return this.find(pdom).appendChild(child)\n      } else {\n        return pdom.appendChild(child)\n      }\n    } catch (err) {\n      console.warn(err)\n      return null\n    }\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter',\n  CONTROLS: 'controls'\n}\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  NOT_ALLOW_AUTOPLAY: 'not-allow-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile',\n  MINI: 'xgplayer-mini'\n};\n","export default function getDefaultConfig () {\n  return {\n    id: '', // 播放器容器id\n    el: null, // 播放器容器dom\n    url: '', // 播放url\n    width: 600, // 播放器宽度,单位px\n    height: 337.5, // 播放器高度,单位px\n    fluid: false, // 是否启用流式布局\n    fitVideoSize: 'auto', // fixWidth/fixHeight/auto\n    volume: 0.6, // 默认音量\n    autoplay: false, // 是否自动播放\n    autoplayMuted: false, // 是否自动静音\n    loop: false, // 是否循环播放\n    videoInit: false, // 是否优先显示视频首帧， mobile模式下无效\n    poster: '', // 封面图地址\n    defaultPlaybackRate: 1, // 默认播放倍数\n    execBeforePluginsCall: null, // 默认插件组装前回调\n    closeVideoClick: false, // 是否通过video的click/touchend行为切换播放暂停\n    closeVideoDblclick: false, // 是否通过双击行为触发全屏切换\n    closePlayerBlur: false, // 是个否启用鼠标移动激活行为\n    leavePlayerTime: 0, // 延迟触发时间\n    closePlayVideoFocus: false, // 是否关闭play时触发focus\n    closeFocusVideoFocus: false, // 是否支持播放器移动鼠标时触发focus\n    closeControlsBlur: false, // 鼠标移出播放器控制条范围时触发focus事件\n    videoAttrbutes: {}, // video扩展属性\n    // 是否删除\n    ignores: [],\n    whitelist: [],\n    inactive: 3000,\n    lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n    controls: true,\n    controlsList: [],\n    // 内置插件相关配置\n    screenShot: false, // 截图插件\n    rotate: false, // 旋转插件\n    pip: false, // pip插件\n    mini: false, // 迷你小窗插件\n    cssFullscreen: true, // 页面全屏\n    keyShortcut: true, // 是否开启快捷键\n    presets: [],\n    playbackRate: []\n  }\n}\n","export const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    // eslint-disable-next-line new-cap\n    presetInst = new (Preset.preset)(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config)\n  }\n  const {plugins = [], ignores = [], icons} = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = []\n  }\n\n  if (!player.config.ignores) {\n    player.config.ignores = []\n  }\n\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  player.config.icons = icons\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: ''\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n    if (!args.config.mode && Sniffer.device === 'mobile') {\n      args.config.mode = 'flex'\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.innerRoot = this.find('inner-controls')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini-controls') : Util.removeClass(this.root, 'mini-controls')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseleave', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    // console.log('controls mouseEnter')\n    clearTimeout(this.player.userTimer)\n  }\n\n  mouseOut () {\n    // console.log('controls mouseOut')\n    const {player} = this\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  show () {\n    this.root && (this.root.style.display = 'inline-block')\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {}\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    let className = this.config.mode === 'flex' ? 'flex-controls ' : ''\n    className += this.config.autoHide ? 'control_autohide' : ''\n    return `<xg-controls class=\"xgplayer-controls ${className}\" unselectable=\"on\" onselectstart=\"return false\">\n    <inner-controls class=\"inner-controls\">\n      <left-grid class=\"left-grid\">\n      </Left-grid>\n      <center class=\"center\"></center>\n      <right-grid class=\"right-grid\">\n      </right-grid>\n    </inner-controls>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport getDefaultConfig from './defaultConfig'\nimport { usePreset } from './plugin/preset';\nimport Controls from './plugins/controls'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepMerge(getDefaultConfig(), options)\n    this.config.presets = []\n\n    // resolve default preset\n    if (this.config.presets.length) {\n      const defaultIdx = this.config.presets.indexOf('default');\n      if (defaultIdx >= 0 && Player.defaultPreset) {\n        this.config.presets.push(Player.defaultPreset);\n        this.config.presets.splice(defaultIdx, 1);\n      }\n    } else if (Player.defaultPreset) {\n      this.config.presets.push(Player.defaultPreset)\n    }\n\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isReady = false\n    this.isPlaying = false\n    this.isSeeking = false\n    this.isActive = true\n    this.isCssfullScreen = false\n\n    this._initDOM()\n\n    this._bindEvents()\n    this._registerPresets()\n    this._registerPlugins()\n    pluginsManager.onPluginsReady(this)\n\n    setTimeout(() => {\n      this.emit(Events.READY)\n      this.onReady && this.onReady()\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit(Events.ERROR, new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    this.topBar = util.createDom('xg-bar', '', '', 'xg-top-bar')\n    this.leftBar = util.createDom('xg-bar', '', '', 'xg-left-bar')\n    this.rightBar = util.createDom('xg-bar', '', '', 'xg-right-bar')\n    this.root.appendChild(this.topBar)\n    this.root.appendChild(this.leftBar)\n    this.root.appendChild(this.rightBar)\n    // const baseBar = pluginsManager.register(this, BaseBar)\n    // this.baseBar = baseBar\n    const controls = pluginsManager.register(this, Controls)\n    this.controls = controls\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    if (this.config.autoplay) {\n      this.addClass(STATE_CLASS.ENTER)\n    }\n    if (this.config.fluid) {\n      const style = {\n        'max-width': '100%',\n        'width': '100%',\n        'height': '0',\n        'padding-top': `${this.config.height * 100 / this.config.width}%`,\n        'position': 'position',\n        'top': '0',\n        'left': '0'\n      };\n      Object.keys(style).map(key => {\n        this.root.style[key] = style[key]\n      })\n    } else {\n      ['width', 'height'].map(key => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== 'number') {\n            this.root.style[key] = this.config[key]\n          } else {\n            this.root.style[key] = `${this.config[key]}px`\n          }\n        }\n      })\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    }\n\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      // 加上判断减少触发次数\n      if (this.isActive) {\n        return\n      }\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    const eventkey = sniffer.service === 'mobile' ? 'touchstart' : 'mousemove'\n    this.root.addEventListener(eventkey, this.mousemoveFunc)\n\n    this.playFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n    // if (!this.config.closeVideoClick) {\n    //   ['touched', 'click'].map((key) => {\n    //     this.video.addEventListener(key, () => {\n    //       console.log('this.video.addEventListener')\n    //       if (this.paused) {\n    //         this.play()\n    //       } else {\n    //         this.pause()\n    //       }\n    //     })\n    //   })\n    // }\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      player.root.removeEventListener(eventkey, this.mousemoveFunc)\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    if (!url || url === '') {\n      this.emit(Events.URL_NULL)\n    }\n    this.canPlayFunc = function () {\n      this.volume = this.config.volume\n      this.play()\n      this.off(Events.CANPLAY, this.canPlayFunc)\n      this.removeClass(STATE_CLASS.ENTER)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.once(Events.CANPLAY, this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit(Events.COMPLETE)\n    }, 1)\n    if (!this.hasStart) {\n      pluginsManager.afterInit(this)\n    }\n    this.hasStart = true\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    this._loadingPlugins = []\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin)\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            }).catch(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            })\n            this._loadingPlugins.push(loadingPlugin)\n          }\n\n          return;\n        }\n        return this.registerPlugin(plugin)\n      } catch (err) {\n        console.error(err)\n        return null\n      }\n    })\n  }\n\n  _registerPresets () {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset)\n    })\n  }\n\n  registerPlugin (plugin) {\n    let PLUFGIN = null\n    let options = null\n    if (plugin.plugin && typeof plugin.plugin === 'function') {\n      PLUFGIN = plugin.plugin\n      options = plugin.options\n    } else {\n      PLUFGIN = plugin\n      options = {}\n    }\n\n    const position = options.position ? options.position : (PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position)\n    const {POSITIONS} = Plugin\n    if (!options.root && typeof position === 'string' && position.indexOf('controls') > -1) {\n      return this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName)\n    }\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        options.root = this.rightBar\n        break;\n      case POSITIONS.ROOT_LEFT:\n        options.root = this.leftBar\n        break;\n      case POSITIONS.ROOT_TOP:\n        options.root = this.topBar\n        break;\n      default:\n        options.root = this.root\n        break;\n    }\n    return pluginsManager.register(this, PLUFGIN, options)\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className)\n  }\n\n  start (url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      return this.play()\n    } else {\n      return pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url || this.config.url;\n        }\n        return this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start().then(resolve => {\n        this.play()\n      })\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY)\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n        this.isPlaying = true\n      }).catch((e) => {\n        // 避免AUTOPLAY_PREVENTED先于playing和play触发\n        setTimeout(() => {\n          this.emit(Events.AUTOPLAY_PREVENTED)\n          this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY)\n        }, 0)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.once(Events.CANPLAY, () => {\n      const playPromise = this.play()\n      if (playPromise && playPromise.catch) {\n        playPromise.catch(err => {\n          console.log(err)\n        })\n      }\n    })\n    this.currentTime = 0\n    this.play()\n    this.emit(Events.REPLAY)\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    if (this.config.fluid) {\n      this.root.style['padding-top'] = ''\n    }\n    this.isCssfullScreen = true\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, true)\n  }\n\n  exitCssFullscreen () {\n    if (this.config.fluid) {\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    this.isCssfullScreen = false\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, false)\n  }\n\n  onFocus (notAutoHide) {\n    this.isActive = true\n    let player = this\n    this.removeClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    if (notAutoHide) {\n      return;\n    }\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    this.isActive = false\n    if (!this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    // this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n    this.ended && this.removeClass(STATE_CLASS.ENDED)\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    const { NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING } = STATE_CLASS\n    const clsList = [NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING];\n    clsList.forEach((cls) => {\n      this.removeClass(cls)\n    })\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  seek (time) {\n    if (!this.video || isNaN(Number(time)) || time > this.duration) {\n      return\n    }\n    time = time < 0 ? 0 : time\n    this.currentTime = time\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.Util = util\nPlayer.Sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Events = Events\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Plugin from '../../plugin'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n}\n\nexport default Poster\n","import Plugin from '../../plugin'\nimport ReplaySvg from '../assets/replay.svg'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplaySvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.appendChild(this.icons.replay)\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Events.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.root.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Plugin from '../../plugin'\nimport './index.scss'\n\nconst {POSITIONS} = Plugin\n\nclass MiniScreenIcon extends Plugin {\n  static get pluginName () {\n    return 'miniscreenIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 10\n    }\n  }\n\n  afterCreate () {\n    this.getMini = this.getMini.bind(this)\n    this.exitMini = this.exitMini.bind(this)\n    this.bind(['click', 'touchend'], this.getMini)\n  }\n\n  getMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  exitMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.getMini)\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'miniscreen': {\n        jp: '日文text',\n        en: 'miniscreen',\n        zh: '小屏幕'\n      }\n    }\n  }\n\n  render () {\n    let text = this.text.miniscreen\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n      </xg-icon>`\n  }\n}\n\nexport default MiniScreenIcon\n","import Plugin from '../../plugin'\nimport PlayIcon from '../assets/play.svg'\nimport PauseIcon from '../assets/pause.svg'\nimport MiniScreenIcon from './miniScreenIcon'\nimport './index.scss'\n\nconst {Util, Events} = Plugin\n\nclass MiniScreen extends Plugin {\n  static get pluginName () {\n    return 'miniscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1, // 默认左下角\n      top: -1, // 默认左下角\n      isShowIcon: false, // 是否显示icon\n      isScrollSwitch: false, // 滚动自动切换自动切换\n      scrollTop: 0, // 触发滚动的高度\n      disableDrag: false // 禁用拖拽\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.isMini = false\n    const {config} = this\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width\n    }\n    this.coordinate = {\n      currentX: 0,\n      currentY: 0,\n      scrollY: window.scrollY || 0\n    }\n    this.lastStyle = null\n    this.isMoveing = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.mini === 'boolean') {\n      args.config.isShowIcon = args.player.config.mini\n    }\n  }\n\n  afterCreate () {\n    const bindFunKeys = ['onMousemove', 'onMousedown', 'onMouseup', 'onCancelClick', 'onCenterClick', 'onScroll']\n    bindFunKeys.map(key => {\n      this[key] = this[key].bind(this)\n    })\n    this.initIcons()\n    this.on(Events.PAUSE, () => {\n      this.setAttr('data-state', 'pause')\n    })\n    this.on(Events.PLAY, () => {\n      this.setAttr('data-state', 'play')\n    })\n  }\n\n  onPluginsReady () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini()\n          }\n        }\n      }\n      this.miniIcon = player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName)\n    }\n    this.bind('.mini-cancel-btn', 'click', this.onCancelClick)\n    this.bind('.play-icon', 'click', this.onCenterClick)\n    if (!this.config.disableDrag) {\n      this.bind('mousedown', this.onMousedown)\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener('scroll', this.onScroll)\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: {icon: PlayIcon, class: 'xg-icon-play'},\n      pause: {icon: PauseIcon, class: 'xg-icon-pause'}\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.play-icon', icons.play)\n    this.appendChild('.play-icon', icons.pause)\n  }\n\n  onCancelClick (e) {\n    this.exitMini()\n  }\n\n  onCenterClick (e) {\n    const {player} = this\n    player.paused ? player.play() : player.pause()\n  }\n\n  onScroll (e) {\n    if ((!window.scrollY && window.scrollY !== 0) || Math.abs(window.scrollY - this.coordinate.scrollY) < 50) {\n      return;\n    }\n    let scrollHeight = parseInt(Util.getCss(this.player.root, 'height'))\n    scrollHeight += this.config.scrollTop\n    this.coordinate.scrollY = window.scrollY\n    if (window.scrollY > scrollHeight + 5 && !this.isMini) {\n      this.getMini()\n    } else if (window.scrollY <= scrollHeight && this.isMini) {\n      this.exitMini()\n    }\n  }\n\n  onMousedown (e) {\n    if (e.target !== this.root || this.isMoveing) {\n      return;\n    }\n    this.isMoveing = true\n    this.coordinate.currentX = e.clientX\n    this.coordinate.currentY = e.clientY\n    this.bind('mouseup', this.onMouseup)\n    this.bind('mousemove', this.onMousemove)\n  }\n\n  onMouseup (e) {\n    if (e.target !== this.root || !this.isMoveing) {\n      return;\n    }\n    this.isMoveing = false\n    this.clientWidth = window.innerWidth\n    const target = this.config.target || this.player.root\n    this.pos.top = parseInt(Util.getCss(target, 'top'))\n    this.pos.left = parseInt(Util.getCss(target, 'left'))\n    this.unbind('mousemove', this.onMousemove)\n    this.unbind('mouseup', this.onMouseup)\n  }\n\n  onMousemove (e, callback) {\n    e = e || window.event\n    const target = this.config.target || this.player.root\n    const maxTop = window.innerHeight - parseInt(Util.getCss(target, 'height'))\n    const maxLeft = window.innerWidth - parseInt(Util.getCss(target, 'width'))\n    if (this.isMoveing) {\n      const nowX = e.clientX\n      const nowY = e.clientY\n      const disX = nowX - this.coordinate.currentX\n      const disY = nowY - this.coordinate.currentY\n      let top = parseInt(this.pos.top) + disY\n      let left = parseInt(this.pos.left) + disX\n      if (left < 0) {\n        left = 0;\n      } else if (left > maxLeft) {\n        left = maxLeft\n      }\n\n      if (top < 0) {\n        top = 0;\n      } else if (top > maxTop) {\n        top = maxTop\n      }\n      target.style.left = `${left}px`\n      target.style.top = `${top}px`\n      if (typeof callback === 'function') {\n        callback(left, top)\n      }\n\n      if (e.preventDefault) {\n        e.preventDefault()\n      }\n      return false\n    }\n  }\n\n  getMini () {\n    if (this.isMini) {\n      return\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    // this.draggie.enable()\n    this.lastStyle = {}\n    Util.addClass(player.root, 'xgplayer-mini')\n    Object.keys(this.pos).map(key => {\n      this.lastStyle[key] = target.style[key]\n      target.style[key] = `${this.pos[key]}px`\n    })\n    if (playerConfig.fluid) {\n      target.style['padding-top'] = ''\n    }\n    this.emit(Events.MINI_STATE_CHANGE, true)\n    player.isMini = this.isMini = true\n  }\n\n  exitMini () {\n    if (!this.isMini) {\n      return false\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    Util.removeClass(player.root, 'xgplayer-mini')\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map(key => {\n        target.style[key] = this.lastStyle[key]\n      })\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${playerConfig.height * 100 / playerConfig.width}%`\n    }\n    this.emit(Events.MINI_STATE_CHANGE, false)\n    this.isMini = player.isMini = false\n  }\n\n  destroy () {\n    this.unbind('mousedown', this.onMousedown)\n    window.removeEventListener('scroll', this.onScroll)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <div class=\"mask\"></div>\n      <xg-mini-header class=\"xgplayer-mini-header\">\n        <div>按住画面可移动小窗</div>\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">X</div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`\n  }\n}\n\nexport {\n  MiniScreen as default,\n  MiniScreenIcon\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: ''\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n    if (!args.config.mode && Sniffer.device === 'mobile') {\n      args.config.mode = 'flex'\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.innerRoot = this.find('inner-controls')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini-controls') : Util.removeClass(this.root, 'mini-controls')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseleave', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    // console.log('controls mouseEnter')\n    clearTimeout(this.player.userTimer)\n  }\n\n  mouseOut () {\n    // console.log('controls mouseOut')\n    const {player} = this\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  show () {\n    this.root && (this.root.style.display = 'inline-block')\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {}\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    let className = this.config.mode === 'flex' ? 'flex-controls ' : ''\n    className += this.config.autoHide ? 'control_autohide' : ''\n    return `<xg-controls class=\"xgplayer-controls ${className}\" unselectable=\"on\" onselectstart=\"return false\">\n    <inner-controls class=\"inner-controls\">\n      <left-grid class=\"left-grid\">\n      </Left-grid>\n      <center class=\"center\"></center>\n      <right-grid class=\"right-grid\">\n      </right-grid>\n    </inner-controls>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","/**\n * 下一个按钮组件\n */\nimport Plugin from '../../plugin'\nimport Next from '../assets/playNext.svg'\n// import Next from '../assets/mPlayNext.svg';\n// console.log(MPlayNext)\nconst {POSITIONS, Sniffer} = Plugin\nexport default class PlayNextIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayNext'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.idx = -1;\n  }\n\n  afterCreate () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    this.appendChild('.xgplayer-icon', this.icons.playNext)\n    this.initEvents()\n  }\n\n  registerIcons () {\n    return {\n      playNext: Next\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'playNext': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      }\n    }\n  }\n\n  initEvents () {\n    this.playNext = this.playNext.bind(this);\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.playNext)\n    this.show()\n  }\n\n  playNext () {\n    const { player } = this;\n    if (this.idx + 1 < this.config.urlList.length) {\n      this.idx++;\n      player.video.pause();\n      player.currentTime = 0;\n      player.video.autoplay = true;\n      player.src = this.config.urlList[this.idx];\n      player.emit('playerNext', this.idx + 1);\n    } else {\n      player.emit('urlList last');\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.playNext)\n  }\n\n  render () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <div class=\"xg-tips\">${this.text.playNext}</div>\n     </xg-icon>\n    `\n  }\n}\n","import BasePlugin from '../../plugin/basePlugin';\nconst {Events, Util} = BasePlugin\nexport default class PCPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'pc'\n  }\n\n  afterCreate () {\n    const eventHandlers = ['onVideoClick', 'onVideoDblClick', 'onMouseEnter', 'onMouseLeave', 'onControlMouseEnter',\n      'onControlMouseLeave', 'onContextmenu']\n    eventHandlers.map(key => {\n      if (this[key]) {\n        this[key] = this[key].bind(this)\n      }\n    })\n    // this.onVideoClick = this.onVideoClick.bind(this)\n    // this.onVideoDblClick = this.onVideoDblClick.bind(this)\n    // this.onMouseEnter = this.onMouseEnter.bind(this)\n    // this.onMouseLeave = this.onMouseLeave.bind(this)\n    // this.onControlMouseEnter = this.onControlMouseEnter.bind(this)\n    // this.onControlMouseLeave = this.onControlMouseLeave.bind(this)\n    this.initEvents();\n    const {playerConfig} = this\n    if (playerConfig.autoplay) {\n      this.onEnter()\n    }\n  }\n\n  initEvents () {\n    const { player } = this;\n\n    player.video.addEventListener('click', this.onVideoClick, false)\n\n    player.video.addEventListener('dblclick', this.onVideoDblClick, false)\n    player.root.addEventListener('contextmenu', this.onContextmenu, false)\n    this.once(Events.CANPLAY, this.onEntered.bind(this));\n    this.once(Events.AUTOPLAY_PREVENTED, () => {\n      this.onAutoPlayPrevented()\n    })\n\n    player.root.addEventListener('mouseenter', this.onMouseEnter)\n\n    player.root.addEventListener('mouseleave', this.onMouseLeave)\n\n    // player.controls.addEventListener('mouseenter', this.onControlMouseEnter, false)\n\n    // player.controls.addEventListener('mouseleave', this.onControlMouseLeave, false)\n  }\n\n  onContextmenu (e) {\n    e = e || window.event\n    if (e.preventDefault) {\n      e.preventDefault()\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation()\n    } else {\n      e.returnValue = false // 解决IE8右键弹出\n      e.cancelBubble = true\n    }\n  }\n  onEnter () {\n    const { player } = this;\n    Util.addClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onEntered () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onAutoPlayPrevented () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n    this.once(Events.PLAY, () => {\n      Util.addClass(player.root, 'xgplayer-is-enter')\n      this.once(Events.TIME_UPDATE, () => {\n        Util.removeClass(player.root, 'xgplayer-is-enter')\n      })\n    })\n  }\n\n  onVideoClick (e) {\n    e.preventDefault()\n    // e.stopPropagation()\n    if (!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    const { player } = this\n    let clk = 0; let timer;\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (timer) {\n        clearTimeout(timer)\n      }\n      if (clk === 1) {\n        timer = setTimeout(function () {\n          if (Util.hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              player.play()\n              // let playPromise = player.play()\n              // if (playPromise !== undefined && playPromise) {\n              //   playPromise.catch(err => {})\n              // }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n\n  onVideoDblClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    if (!player.config.closeVideoDblclick) {\n      player.fullscreen ? player.exitFullscreen() : player.getFullscreen()\n    }\n  }\n\n  onMouseEnter () {\n    const { player } = this\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n\n  onMouseLeave () {\n    const { player } = this;\n    if (!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 1500)\n    }\n  }\n\n  onControlMouseEnter () {\n    const { player } = this;\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n\n  onControlMouseLeave () {\n    const { player } = this;\n    if (!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n\n  destroy () {\n    const { player } = this;\n    player.root.removeEventListener('mouseenter', this.onMouseEnter)\n    player.root.removeEventListener('mouseleave', this.onMouseLeave)\n    player.off('ready', this.onReady)\n  }\n}\n","import Plugin from '../../plugin';\n\nconst {Events, Util} = Plugin\n\nclass MobilePlugin extends Plugin {\n  static get pluginName () {\n    return 'mobile';\n  }\n\n  static get defaultConfig () {\n    return {\n      index: 0,\n      disableGesture: false, // 是否禁用手势\n      gestureX: true, // 是否启用水平手势\n      gestureY: true, // 是否启用垂直手势\n      updateGesture: () => {}, // 手势处理回调\n      gradient: true, // 是否启用阴影\n      isTouchingSeek: false, // 是否在touchMove的同时更新currentTime\n      miniMoveStep: 5, // 最小差异，用于move节流\n      scopeL: 0.4, // 左侧手势范围比例\n      scopeR: 0.4, // 右侧手势范围比例\n      darkness: true, // 是否启用右侧调暗功能\n      maxDarkness: 0.6 // 调暗最大暗度，即蒙层最大透明度\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.isTouchMove = false;\n    this.isMoving = false\n    this.pos = {\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      op: 0\n    }\n  }\n\n  afterCreate () {\n    this.config.disableGesture = !!this.playerConfig.disableGesture\n\n    this.xgMask = Util.createDom('xg-mask', '', {}, 'xgmask')\n    this.player.root.append(this.xgMask)\n\n    this.onTouchMove = this.onTouchMove.bind(this)\n    this.onTouchStart = this.onTouchStart.bind(this)\n    this.onTouchEnd = this.onTouchEnd.bind(this)\n    this.onClick = this.onClick.bind(this)\n    this.root.addEventListener('touchstart', this.onTouchStart)\n    this.root.addEventListener('click', this.onClick, false)\n  }\n\n  getTouche (touches) {\n    if (touches && touches.length > 0) {\n      return touches[touches.length - 1]\n    } else {\n      return null\n    }\n  }\n\n  onTouchStart (e) {\n    const {player, config} = this\n    // 直播或者duration没有获取到之前不做操作\n    if (!(this.player.duration !== Infinity && this.player.duration > 0) || this.isMoving || config.disableGesture) {\n      return;\n    }\n    this.isMoving = true\n    const touche = this.getTouche(e.touches)\n    if (touche) {\n      this.pos.time = player.currentTime\n      this.pos.volume = player.volume\n      this.pos.width = parseInt(Util.getCss(this.root, 'width'), 10)\n      this.pos.height = parseInt(Util.getCss(this.root, 'height'), 10) - 48\n      this.pos.scopeL = config.scopeL * this.pos.width\n      this.pos.scopeR = (1 - config.scopeR) * this.pos.width\n      this.root.addEventListener('touchmove', this.onTouchMove, false)\n      this.root.addEventListener('touchend', this.onTouchEnd, false)\n      this.player.emit(Events.PLAYER_FOCUS, true)\n    }\n  }\n\n  onTouchMove (e) {\n    const touche = this.getTouche(e.touches)\n    if (!touche) {\n      return\n    }\n    if (Math.abs(touche.pageX - this.pos.x) > this.config.miniMoveStep || Math.abs(touche.pageX - this.pos.x) > this.config.miniMoveStep) {\n      const {pos, config} = this\n      const x = parseInt(touche.pageX, 10)\n      const y = parseInt(touche.pageY, 10)\n      const diffx = x - this.pos.x\n      const diffy = y - this.pos.y\n      const tan = Math.abs(diffy) / Math.abs(diffx)\n      if (config.gestureY && tan > 1.73 && (x < pos.scopeL || x > pos.scopeR)) {\n        if (x < pos.scopeL && config.darkness) {\n          pos.op = 3\n          this.updateBrightness(diffy / this.pos.height)\n        } else {\n          pos.op = 2\n          this.updateVolume(diffy / this.pos.height)\n        }\n      } else if (config.gestureX && tan < 0.27) {\n        pos.op = 1\n        this.updateTime(diffx / pos.width)\n      }\n      pos.x = x\n      pos.y = y\n      if (config.updateGesture && typeof config.updateGesture === 'function') {\n        config.updateGesture({diffx: diffx, diffy: diffy, x: x, y: y}, pos)\n      }\n    }\n  }\n\n  onTouchEnd (e) {\n    const {root, player, pos} = this\n    root.removeEventListener('touchmove', this.onTouchMove, false)\n    root.removeEventListener('touchend', this.onTouchEnd, false)\n    player.emit(Events.PLAYER_FOCUS, false)\n    if (pos.op === 1) {\n      if (pos.time > player.duration) {\n        player.currentTime = player.duration\n      } else {\n        player.currentTime = pos.time < 0 ? 0 : pos.time\n      }\n      this.once(Events.CANPLAY, () => {\n        this.player.isSeeking = false\n      })\n    }\n    pos.op = 0\n    this.isMoving = false\n  }\n\n  updateTime (percent) {\n    const {player} = this\n    player.isSeeking = true\n    let time = percent * player.duration\n    time += this.pos.time\n    time = time < 0 ? 0 : (time > player.duration ? player.duration : time)\n    player.getPlugin('time') && player.getPlugin('time').updateTime(time)\n    player.getPlugin('progress') && player.getPlugin('progress').updatePercent(time / this.player.duration, true)\n    if (this.config.isTouchingSeek) {\n      player.currentTime = Number(time).toFixed(1)\n    }\n    this.pos.time = time\n  }\n\n  updateVolume (percent) {\n    let volume = this.pos.volume - percent\n    this.pos.volume = volume < 0.1 ? 0 : (volume > 1 ? 1 : volume)\n    this.player.volume = this.pos.volume\n    this.pos.volume > 0 && (this.player.muted = false)\n  }\n\n  updateBrightness (percent) {\n    let light = this.pos.light - (0.8 * percent)\n    light = light > this.config.maxDarkness ? this.config.maxDarkness : (light < 0 ? 0 : light)\n    if (this.xgMask) {\n      this.xgMask.style.backgroundColor = `rgba(0,0,0,${light})`\n    }\n    this.pos.light = light\n  }\n\n  onClick (e) {\n    e.preventDefault();\n    const util = Plugin.Util;\n    e.stopPropagation();\n    const {player, playerConfig} = this;\n\n    if (!playerConfig.closeVideoTouch && !player.isTouchMove) {\n      if (util.hasClass(player.root, 'xgplayer-nostart')) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          let playPromise = player.play();\n          if (playPromise !== undefined && playPromise) {\n            // playPromise.catch(err => {});\n          }\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }\n\n  render () {\n    const className = this.config.gradient ? 'gradient' : ''\n    return `\n     <xg-trigger class=\"trigger ${className}\">\n     <!--<div class=\"bar\">\n        <span class=\"\"></span>\n     </div>\n     <div class=\"timenote\">\n        <span class=\"cur\">00:00</span>\n        <span>/</span>\n        <span class=\"dur\">00:00</span>\n        <div class=\"bar timebar\">\n          <span class=\"\"></span>\n        </class>\n     </div>-->\n     </xg-trigger>\n    `\n  }\n}\n\nexport default MobilePlugin;\n","import { BasePlugin } from '../../plugin';\n\nclass PlaceHolderPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'placeholder'\n  }\n\n  render () {\n    return `<xg-placeholder class=\"xgplayer-placeholder\">\n    </xg-placeholder>`\n  }\n}\nexport default PlaceHolderPlugin\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst AnimateMap = {}\nfunction addAnimate (key, seconds, callback = {start: null, end: null}) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id)\n  }\n  AnimateMap[key] = {}\n  callback.start && callback.start()\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end()\n    window.clearTimeout(AnimateMap[key].id)\n    delete AnimateMap[key]\n  }, seconds);\n}\n\nconst { Util, Events, Sniffer } = Plugin\n\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'start'\n  }\n\n  static get defaultConfig () {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAmimate: false\n    }\n  }\n\n  afterCreate () {\n    const {player, playerConfig} = this\n    this.initIcons()\n    if (Sniffer.device === 'mobile') {\n      this.config.isShowPause = true\n    }\n    this.once(Events.READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(player.root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(player.root, 'lang-is-jp')\n        }\n      }\n    })\n\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n\n    this.onClick = this.onClick.bind(this)\n\n    this.bind('click', this.onClick)\n\n    this.on([Events.PLAY, Events.PAUSE], () => {\n      this.player.isPlaying ? this.animate() : this.hide()\n    })\n    this.on(Events.AUTOPLAY_PREVENTED, () => {\n      this.show();\n    })\n  }\n\n  registerIcons () {\n    return {\n      startPlay: {icon: PlaySvg, class: 'xg-icon-play'},\n      startPause: {icon: PauseSvg, class: 'xg-icon-pause'}\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.icon', icons.startPlay)\n    this.appendChild('.icon', icons.startPause)\n  }\n\n  animate (isEnded) {\n    if ((this.config.isShowPause && this.player.paused && !this.player.ended) || this.player.ended || isEnded) {\n      if (this.player.ended && !this.config.isShowEnd) {\n        return\n      }\n      this.show()\n      this.setAttr('data-state', this.player.paused ? 'pause' : 'play')\n      return;\n    }\n    if (this.player.disableAmimate) {\n      return;\n    }\n    addAnimate('pauseplay', 400, {\n      start: () => {\n        Util.addClass(this.root, 'interact')\n        this.show()\n        this.setAttr('data-state', this.player.paused ? 'pause' : 'play')\n      },\n      end: () => {\n        Util.removeClass(this.root, 'interact');\n        if (this.config.isShowPause && (this.player.paused || isEnded)) {\n          return;\n        }\n        this.hide()\n      }\n    })\n  }\n\n  onClick (e) {\n    const {player} = this\n    e.preventDefault()\n    e.stopPropagation()\n    if (!player.isReady) {\n      return;\n    }\n    const paused = this.player.paused\n    if (!player.hasStart) {\n      player.start()\n      player.once('complete', () => {\n        player.play()\n      })\n    } else {\n      if (!paused) {\n        player.pause()\n      } else {\n        player.play()\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind('click', this.onClick)\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\" >\n      <div class=\"icon\">\n      </div>\n    </xg-start>`\n  }\n}\n\nexport default Start\n","import BasePlugin from '../../plugin/basePlugin';\n\nexport default class TextTrackPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'textTrack'\n  }\n\n  afterCreate () {\n    const { config, player } = this;\n    const options = config;\n    let textTrackDom = ''\n    if (options.textTrack && Array.isArray(options.textTrack) && (navigator.userAgent.indexOf('Chrome') > -1 || navigator.userAgent.indexOf('Firefox') > -1)) {\n      options.textTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    if (player.video) {\n      player.video.insertAdjacentHTML('afterbegin', textTrackDom);\n    }\n  }\n}\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as Events from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = Events\nexport {\n  BasePlugin as default,\n  Util,\n  Sniffer,\n  Errors,\n  Events\n}\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin, {Util} from './basePlugin'\nimport * as delegate from 'delegate-events'\n\n// const {Util} = BasePlugin\nfunction _createElement (tag, name, attr = {}) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  attr && Object.keys(attr).map(key => {\n    dom.setAttribute(key, attr[key])\n  })\n  return dom\n}\n\nfunction isUrl (str) {\n  return str.indexOf('http') > 0\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons\n  Object.keys(iconsConfig).map(key => {\n    const orgIcon = iconsConfig[key] || {}\n    const classname = orgIcon.class || ''\n    const attr = orgIcon.attr || {}\n    let _icon = null\n    if (_icons && _icons[key]) {\n      _icon = _icons[key]\n      if (_icon instanceof window.Element) {\n        Util.addClass(_icon, classname)\n        Object.keys(attr).map(key => {\n          _icon.setAttribute(key, attr[key])\n        })\n      } else if (isUrl(_icon)) {\n        _icon = Util.createDom('img', '', {src: _icon}, attr, `xg-img ${classname}`)\n      } else if (typeof _icon === 'function') {\n        _icon = _icon(classname, attr)\n        if (_icon instanceof window.Element) {\n          Util.addClass(_icon, classname)\n          Object.keys(attr).map(key => {\n            _icon.setAttribute(key, attr[key])\n          })\n        }\n      } else {\n        _icon = Util.createDomFromHtml(_icon, attr, classname)\n      }\n    }\n    if (!_icon) {\n      _icon = orgIcon.icon ? orgIcon.icon : orgIcon\n      _icon = _icon instanceof window.Element ? _icon : Util.createDomFromHtml(_icon, attr, classname)\n    }\n    plugin.icons[key] = _icon\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const _orgicons = this.registerIcons() || {}\n    registerIconsObj(_orgicons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  appendChild (pdom, child) {\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0])\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null\n    }\n    try {\n      if (typeof pdom === 'string') {\n        return this.find(pdom).appendChild(child)\n      } else {\n        return pdom.appendChild(child)\n      }\n    } catch (err) {\n      console.warn(err)\n      return null\n    }\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter',\n  CONTROLS: 'controls'\n}\n","import Player from '../../player'\nimport Plugin from '../../Plugin'\n\nexport default class ErrorPlugin extends Plugin {\n  static get pluginName () {\n    return 'error'\n  }\n\n  afterCreate () {\n    this.bind('.xgplayer-error-refresh', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n    this.on(Player.Events.CANPLAY, this.handleCanPlay.bind(this))\n    this.on(Player.Events.ERROR, this.handleError.bind(this))\n  }\n\n  handleCanPlay () {\n    Plugin.Util.removeClass(this.player.root, 'xgplayer-is-error')\n  }\n\n  handleError () {\n    const { player } = this;\n    const textDOM = this.find('.xgplayer-error-text');\n    if (player.error) {\n      textDOM.innerHTML = player.error\n    } else {\n      if (player.config.lang && player.config.lang === 'zh-cn') {\n        textDOM.innerHTML = player.lang.ERROR\n      } else {\n        this.root.innerHTML = `${player.lang.ERROR}，please try to <span class=\"xgplayer-error-refresh\">refresh</span>`\n      }\n    }\n  }\n  render () {\n    return `<xg-error class=\"xgplayer-error\">\n      <em class=\"xgplayer-error-text\"></em>请<span class=\"xgplayer-error-refresh\">刷新</span>试试\n    </xg-error>`\n  }\n}\n","import Plugin from '../../plugin';\n\nconst {Events, Util} = Plugin\nclass Enter extends Plugin {\n  static get pluginName () {\n    return 'enter';\n  }\n\n  static get defaultConfig () {\n    return {\n      innerHtml: '',\n      logo: ''\n    }\n  }\n\n  afterPlayerInit () {\n    const {player, playerConfig} = this\n    if (!playerConfig.autoplay || !playerConfig.videoInit) {\n      this.once(Events.CANPLAY, () => {\n        this.isCanPlay = true\n      })\n      this.on(Events.PLAY, () => {\n        if (!this.isCanPlay) {\n          player.addClass('xgplayer-is-enter')\n        }\n      })\n    }\n  }\n\n  render () {\n    const {innerHtml} = this.config\n    const root = Util.createDom('xg-enter', '', {}, 'xgplayer-enter')\n\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml)\n    } else if (innerHtml && typeof innerHtml === 'string') {\n      root.innerHTML = innerHtml\n    } else {\n      let barStr = '';\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`\n    }\n    return root\n  }\n}\n\nexport default Enter;\n","import BasePlugin from '../../plugin/basePlugin'\n\nclass Keyboard extends BasePlugin {\n  static get pluginName () {\n    return 'Keyboard'\n  }\n\n  static get defaultConfig () {\n    return {\n      seekStep: 10,\n      keyCodeMap: {},\n      disable: false\n    }\n  }\n\n  mergekeyCodeMap () {\n    const extendkeyCodeMap = this.config.keyCodeMap\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map(key => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key]\n        } else {\n          ['keyCode', 'action', 'disable', 'isBodyTarget'].map(key1 => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1])\n          })\n        }\n      })\n    }\n  }\n\n  afterCreate () {\n    this.config.disable = !this.playerConfig.keyShortcut\n    this.seekStep = 10\n    this.keyCodeMap = {\n      'space': {\n        keyCode: 32,\n        action: 'playPause',\n        disable: false,\n        noBodyTarget: false // 默认在body上触发\n      },\n      'up': {\n        keyCode: 38,\n        action: 'upVolume',\n        disable: false,\n        noBodyTarget: true // 默认不在body上触发\n      },\n      'down': {\n        keyCode: 40,\n        action: 'downVolume',\n        disable: false,\n        noBodyTarget: true\n      },\n      'left': {\n        keyCode: 37,\n        action: 'seekBack',\n        disable: false\n      },\n      'right': {\n        keyCode: 39,\n        action: 'seek',\n        disable: false\n      },\n      'esc': {\n        keyCode: 27,\n        action: 'exitFullscreen',\n        disable: false\n      }\n    }\n    this.mergekeyCodeMap()\n    this.onKeydown = this.onKeydown.bind(this)\n    this.onBodyKeyDown = this.onBodyKeyDown.bind(this)\n    this.player.root.addEventListener('keydown', this.onKeydown)\n    document.addEventListener('keydown', this.onBodyKeyDown)\n  }\n\n  afterPlayerInit () {\n    const seekStep = typeof this.config.seekStep === 'function' ? this.config.seekStep(this.player) : this.config.seekStep\n    if (!seekStep || typeof seekStep !== 'number') {\n      this.seekStep = seekStep\n    }\n  }\n\n  checkCode (code, isBodyTarget) {\n    let flag = false\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode) {\n        flag = !isBodyTarget || (isBodyTarget && !this.keyCodeMap[key].noBodyTarget)\n      }\n    })\n    return flag\n  }\n\n  downVolume () {\n    const {player} = this\n    if (player.volume - 0.1 >= 0) {\n      player.volume = parseFloat((player.volume - 0.1).toFixed(1))\n    } else {\n      player.volume = 0\n    }\n  }\n\n  upVolume () {\n    const {player} = this\n    if (player.volume + 0.1 <= 1) {\n      player.volume = parseFloat((player.volume + 0.1).toFixed(1))\n    } else {\n      player.volume = 1\n    }\n  }\n\n  seek () {\n    const {player} = this\n    if (player.currentTime + this.seekStep <= player.duration) {\n      player.currentTime += this.seekStep\n    } else {\n      player.currentTime = player.duration - 1\n    }\n  }\n\n  seekBack () {\n    const {player} = this\n    if (player.currentTime - this.seekStep >= 0) {\n      player.currentTime -= this.seekStep\n    } else {\n      player.currentTime = 0\n    }\n  }\n\n  playPause () {\n    const {player} = this\n    if (player.paused) {\n      // eslint-disable-next-line handle-callback-err\n      player.play()\n    } else {\n      player.pause()\n    }\n  }\n\n  exitFullscreen () {\n    const {player} = this\n    if (player.fullscreen) {\n      player.exitFullscreen()\n    }\n    if (player.isCssfullScreen) {\n      player.exitCssFullscreen()\n    }\n  }\n\n  // TODO: 多播放器实例存在的情况下，body下的快捷键会触发所有实例的逻辑，需改进\n  onBodyKeyDown (event) {\n    if (this.config.disable) {\n      return\n    }\n    let e = event || window.event\n    const keyCode = e.keyCode\n    if (e.target === document.body && this.checkCode(keyCode, true)) {\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n      this.handleKeyCode(keyCode)\n      return false\n    }\n    return false\n  }\n\n  onKeydown (event) {\n    if (this.config.disable) {\n      return\n    }\n    const player = this.player\n    let e = event || window.event\n    if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n      player.emit('focus')\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n    } else {\n      return true\n    }\n    this.handleKeyCode(e.keyCode)\n  }\n\n  handleKeyCode (keyCode) {\n    const {player} = this\n    if (keyCode === 40 || keyCode === 38) {\n      if (player.controls) {\n        // let volumeSlider = player.controls.querySelector('.xgplayer-slider')\n        // if (volumeSlider) {\n        //   if (Util.hasClass(volumeSlider, 'xgplayer-none')) {\n        //     Util.removeClass(volumeSlider, 'xgplayer-none')\n        //   }\n        //   if (player.sliderTimer) {\n        //     clearTimeout(player.sliderTimer)\n        //   }\n        //   player.sliderTimer = setTimeout(function () {\n        //     Util.addClass(volumeSlider, 'xgplayer-none')\n        //   }, player.config.inactive)\n        // }\n      }\n    }\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key].keyCode === keyCode && !this.keyCodeMap[key].disable) {\n        if (typeof this.keyCodeMap[key].action === 'function') {\n          this.keyCodeMap[key].action()\n        } else if (typeof this.keyCodeMap[key].action === 'string') {\n          const funKey = this.keyCodeMap[key].action\n          if (typeof this[funKey] === 'function') {\n            this[funKey]()\n          }\n        }\n      }\n    })\n  }\n\n  destroy () {\n    this.player.root.removeEventListener('keydown', this.onKeydown)\n    document.removeEventListener('keydown', this.onBodyKeyDown)\n  }\n}\n\nexport default Keyboard\n","import loadingIcon from '../assets/loading.svg';\n\nimport Plugin from '../../plugin/plugin';\n\nclass Loading extends Plugin {\n  static get pluginName () {\n    return 'loading'\n  }\n\n  registerIcons () {\n    return {\n      'loadingIcon': loadingIcon\n    }\n  }\n\n  afterCreate () {\n    console.log('this.icons.loadingIcon', this.icons.loadingIcon)\n    this.appendChild(this.icons.loadingIcon)\n  }\n\n  render () {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n    </xg-loading>`\n  }\n}\n\nexport default Loading;\n","import Plugin from '../../plugin'\nconst defaultDot = {\n  time: 10, // 出现的时间点\n  text: '', // hover显示的文案\n  duration: 1, // 显示时长\n  style: {}, // 指定样式\n  color: '#fff' // 颜色\n}\n\nconst {Util, Events} = Plugin\nexport default class ProgressDot extends Plugin {\n  static get pluginName () {\n    return 'ProgressDots'\n  }\n\n  static get defaultConfig () {\n    return {\n      dots: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.dotsList = {}\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      const {dots} = this.config\n      if (!dots || !Array.isArray(dots)) {\n        return\n      }\n      dots.map(dot => {\n        this.createDotDom(dot)\n      })\n      this.initEvents()\n    })\n  }\n\n  initEvents () {\n    // this.bind('.xgplayer-progress-dot', 'mouseenter', (e) => {\n    //   console.log('mouseenter', e.target)\n    // })\n    // this.bind('.xgplayer-progress-dot', 'mouseleave', (e) => {\n    //   console.log('mouseleave', e.target)\n    // })\n  }\n\n  addDot (time, text, duration) {\n    let newDots = null\n    if (arguments.length === 1 && typeof time === 'object') {\n      newDots = arguments[0]\n    } else {\n      newDots = {\n        time: time,\n        text: text,\n        duration: duration\n      }\n    }\n    newDots = Util.deepCopy(arguments[0], defaultDot)\n    this.createDotDom(newDots)\n  }\n\n  removeDot (time) {\n    const {player} = this\n    if (time >= 0 && time <= player.duration && this.dotsList[time]) {\n      let dot = this.dotsList[time]\n      dot.parentNode.removeChild(dot)\n      dot = null\n      this.dotsList[time] = null\n    }\n  }\n\n  removeAllProgressDots () {\n    Object.keys(this.dotsList).forEach((key) => {\n      if (this.dotsList[key]) {\n        let dot = this.dotsList[key]\n        dot.parentNode.removeChild(dot)\n        dot = null\n        this.dotsList[key] = null\n      }\n    })\n  }\n\n  createDotDom (dot) {\n    const {player} = this\n    const dom = Util.createDom('xg-progress-dot', `${dot.text ? `<span class=\"xgplayer-progress-tip\">${dot.text}</span>` : ''}`, {}, 'xgplayer-progress-dot')\n    const style = dot.style || {}\n    style.left = (dot.time / player.duration) * 100 + '%'\n    style.width = (Math.min(dot.duration, player.duration - dot.time) / player.duration) * 100 + '%'\n    Object.keys(style).map(item => {\n      dom.style[item] = style[item]\n    })\n    this.dotsList[dot.time] = dom\n    this.root.appendChild(dom)\n  }\n\n  render () {\n    return '<xg-dots></xg-dots>'\n  }\n\n  destroy () {\n\n  }\n}\n","import Plugin from '../../plugin'\nimport ProgressDots from './progressdots'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nconst defaultThumbnailConfig = {\n  isShow: false,\n  urls: [],\n  pic_num: 0,\n  row: 0,\n  col: 0,\n  height: 160,\n  width: 90,\n  scale: 1\n}\n\n/**\n * 进度条组件\n */\nclass Progress extends Plugin {\n  static get pluginName () {\n    return 'Progress'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      progressDot: [],\n      thumbnail: null,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.useable = false\n    this.isProgressMoving = false\n\n    if (Sniffer.device !== 'mobile' && this.playerConfig.thumbnail) {\n      this.config.thumbnail = this.playerConfig.thumbnail\n    }\n  }\n\n  changeState (useable = true) {\n    this.useable = useable\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.progress === 'boolean') {\n      args.config.disable = !args.player.config.progress\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.playedBar = this.find('.xgplayer-progress-played')\n    this.cachedBar = this.find('.xgplayer-progress-cache')\n    this.pointTip = this.find('.xgplayer-progress-point')\n    this.progressBtn = this.find('.xgplayer-progress-btn')\n    this.thumbnailDom = this.find('xg-thumbnail')\n    this.initThumbnail()\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on(Events.SEEKING, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on([Events.BUFFER_CHANGE, Events.ENDED], () => {\n      this.onCacheUpdate()\n    })\n    this.bindDomEvents()\n  }\n\n  children () {\n    return {\n      ProgressDots: {\n        plugin: ProgressDots,\n        options: {\n          root: this.find('xg-outer'),\n          dots: this.playerConfig.progressDot || this.config.progressDot\n        }\n      }\n    }\n  }\n\n  initThumbnail () {\n    if (this.config.thumbnail) {\n      const {thumbnail} = this.config\n      this.thumbnailConfig = {}\n      Object.keys(defaultThumbnailConfig).map(key => {\n        if (typeof thumbnail[key] === 'undefined') {\n          this.thumbnailConfig[key] = defaultThumbnailConfig[key]\n        } else {\n          this.thumbnailConfig[key] = thumbnail[key]\n        }\n      })\n      const {width, height, scale} = this.thumbnailConfig\n      this.thumbnailDom.style.width = `${width * scale}px`\n      this.thumbnailDom.style.height = `${height * scale}px`\n    }\n  }\n\n  bindDomEvents () {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseMove = this.mouseMove.bind(this)\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this);\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.addEventListener(event, this.mouseDown);\n    })\n    this.root.addEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  mouseDown (e) {\n    const {player} = this\n    if (player.isMini || player.config.closeMoveSeek) {\n      return\n    }\n    const self = this\n    e.stopPropagation()\n    Util.event(e)\n    // this.pointTip为tip信息 不做seek操作\n    if (e.target === this.pointTip || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return true\n    }\n    this.isProgressMoving = true\n    Util.addClass(self.progressBtn, 'btn-move')\n    self.computeWidth(e)\n\n    let move = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      this.isProgressMoving = true\n      self.computeWidth(e)\n    }\n\n    let up = function (e) {\n      Util.removeClass(self.progressBtn, 'btn-move')\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      if (Sniffer.device === 'mobile') {\n        self.root.removeEventListener('touchmove', move)\n        self.root.removeEventListener('touchend', up)\n      } else {\n        self.root.removeEventListener('mousemove', move)\n        self.root.removeEventListener('mouseup', up)\n      }\n      self.isProgressMoving = false\n    }\n\n    if (Sniffer.device === 'mobile') {\n      self.root.addEventListener('touchmove', move, false)\n      self.root.addEventListener('touchend', up, false)\n    } else {\n      self.root.addEventListener('mousemove', move)\n      self.root.addEventListener('mouseup', up)\n    }\n    return true\n  }\n\n  mouseEnter (e) {\n    const {player} = this\n    if (player.isMini || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return\n    }\n    this.root.addEventListener('mousemove', this.mouseMove, false)\n    this.root.addEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseLeave (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    this.pointTip.style.display = 'none'\n    this.thumbnailDom.style.display = 'none'\n    this.root.removeEventListener('mousemove', this.mouseMove, false)\n    this.root.removeEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseMove (e) {\n    const {player} = this\n    let left = this.root.getBoundingClientRect().left\n    let width = this.root.getBoundingClientRect().width\n    let now = (e.clientX - left) / width * player.duration\n    now = now < 0 ? 0 : now\n    this.pointTip.textContent = Util.format(now)\n    let pointWidth = this.pointTip.getBoundingClientRect().width\n    let pleft = e.clientX - left - pointWidth / 2\n    pleft = pleft > 0 ? pleft : 0\n    pleft = pleft > width - pointWidth ? width - pointWidth : pleft\n    this.pointTip.style.left = `${pleft}px`\n    if (e.target && e.target.className === 'xgplayer-progress-dot') {\n      this.pointTip.style.display = 'none'\n    } else {\n      this.pointTip.style.display = 'block'\n    }\n    this.updateThumbnailPosition(e, now, width)\n  }\n\n  updateThumbnailPosition (e, now, containerWidth) {\n    if (!this.config.thumbnail) {\n      return;\n    }\n    const thumbnail = this.thumbnailConfig\n    if (!thumbnail || !thumbnail.pic_num === 0 || thumbnail.urls.length === 0) {\n      return\n    }\n    this.interval = this.player.duration / thumbnail.pic_num\n    let index = Math.floor(now / this.interval)\n    const {urls, row, col, height, width, scale} = thumbnail\n    const indexInPage = index + 1 - (col * row) * (Math.ceil((index + 1) / (col * row)) - 1)\n    const rowIndex = Math.ceil(indexInPage / row) - 1\n    const colIndex = indexInPage - rowIndex * row - 1\n    let left = e.clientX - width * scale / 2\n    left = left > 0 ? left : 0\n    left = left < containerWidth - width * scale ? left : containerWidth - width * scale\n    const style = {\n      backgroundImage: `url(${urls[Math.ceil((index + 1) / (col * row)) - 1]})`,\n      'background-position': `-${colIndex * width}px -${rowIndex * height}px`,\n      left: `${left}px`,\n      top: `${-10 - height * scale}px`,\n      display: 'block'\n    }\n    Object.keys(style).map((key) => {\n      this.thumbnailDom.style[key] = style[key]\n    })\n  }\n\n  computeWidth (e) {\n    const containerWidth = this.root.getBoundingClientRect().width\n    let {left} = this.playedBar.getBoundingClientRect()\n    let w = e.clientX - left\n    if (w > containerWidth) {\n      w = containerWidth\n    }\n    this.updatePercent(w / containerWidth)\n  }\n\n  updateTime (time) {\n    const {player} = this\n    let timeIcon = player.plugins.time\n    if (time) {\n      timeIcon.updateTime(time)\n    }\n  }\n\n  updatePercent (percent, notSeek) {\n    if (this.config.disable) {\n      return;\n    }\n    const {player} = this\n    let now = percent * player.duration\n    this.playedBar.style.width = `${percent * 100}%`\n    if (notSeek) {\n      return\n    }\n    if (player.videoConfig.mediaType === 'video' && !player.dash && !player.config.closeMoveSeek) {\n      player.seek(Number(now).toFixed(1))\n    } else {\n      this.updateTime(now)\n    }\n  }\n\n  compute (e) {\n    const containerLeft = this.root.getBoundingClientRect().left\n    const containerWidth = this.root.getBoundingClientRect().width\n    const pointWidth = this.pointTip.getBoundingClientRect().width\n    let left = e.clientX - containerLeft - pointWidth / 2\n    left = left > 0 ? left : 0\n    left = left > containerWidth - pointWidth ? containerWidth - pointWidth : left\n    this.pointTip.style.left = `${left}px`\n  }\n\n  onTimeupdate () {\n    const {player} = this\n    if (player.isSeeking || this.isProgressMoving) {\n      return;\n    }\n    if (player.videoConfig.mediaType !== 'audio' || !player.dash) {\n      this.playedBar.style.width = `${player.currentTime * 100 / player.duration}%`\n    }\n  }\n\n  onCacheUpdate () {\n    const {player} = this\n    let buffered = player.buffered\n    if (buffered && buffered.length > 0) {\n      let end = buffered.end(buffered.length - 1)\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        if (player.currentTime >= buffered.start(i) && player.currentTime <= buffered.end(i)) {\n          end = buffered.end(i)\n          for (let j = i + 1; j < buffered.length; j++) {\n            if (buffered.start(j) - buffered.end(j - 1) >= 2) {\n              end = buffered.end(j - 1)\n              break\n            }\n          }\n          break\n        }\n      }\n      this.cachedBar.style.width = `${end / player.duration * 100}%`\n    }\n  }\n\n  destroy () {\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.removeEventListener(event, this.mouseDown);\n    })\n    this.root.removeEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-progress class=\"xgplayer-progress\">\n        <xg-outer class=\"xgplayer-progress-outer\">\n          <xg-cache class=\"xgplayer-progress-cache\" style=\"width:0\">\n          </xg-cache>\n          <xg-played class=\"xgplayer-progress-played\" style=\"width:0\">\n            <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n            <xg-point class=\"xgplayer-progress-point xg-tips\">00:00</xg-point>\n            <xg-thumbnail class=\"xgplayer-progress-thumbnail xg-tips\"></xg-thumbnail>\n          </xg-played>\n        </xg-outer>\n      </xg-progress>\n    `\n  }\n}\n\nexport default Progress\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst {Events, POSITIONS, Sniffer} = Plugin\n\nclass Play extends Plugin {\n  static get pluginName () {\n    return 'Play'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    const { player, config } = this\n    if (config.disable) {\n      return\n    }\n    this.initIcons()\n    this.btnClick = this.btnClick.bind(this)\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.btnClick)\n\n    this.on(Events.PAUSE, () => {\n      this.animate(player.paused)\n    })\n    this.on(Events.PLAY, () => {\n      this.animate(player.paused)\n    })\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: {icon: PlaySvg, class: 'xg-icon-play'},\n      pause: {icon: PauseSvg, class: 'xg-icon-pause'}\n    }\n  }\n\n  btnClick (e) {\n    const {player} = this\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.xgplayer-icon', icons.play)\n    this.appendChild('.xgplayer-icon', icons.pause)\n  }\n\n  animate (paused) {\n    if (paused) {\n      this.setAttr('data-state', 'pause')\n      this.find('.xg-tips').innerHTML = this.text.play\n    } else {\n      this.setAttr('data-state', 'play')\n      this.find('.xg-tips').innerHTML = this.text.pause\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.btnClick)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    <div class=\"xg-tips\">${this.player.paused ? this.text.play : this.text.pause}</div>\n    </xg-icon>`\n  }\n}\nexport default Play\n","import Plugin from '../../plugin'\nimport FullScreenSvg from '../assets/requestFull.svg'\nimport ExitFullScreenSvg from '../assets/exitFull.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class Fullscreen extends Plugin {\n  static get pluginName () {\n    return 'fullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 0,\n      useCssFullscreen: false,\n      switchCallback: null,\n      target: null\n    }\n  }\n\n  afterCreate () {\n    this.isFullScreen = this.player.isFullScreen\n    this.initIcons()\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['click', 'touchend'], this.btnClick)\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      this.find('.xg-tips').innerHTML = isFullScreen ? this.text.exitFullscreen : this.text.fullscreen\n      this.animate(isFullScreen)\n    })\n  }\n\n  registerLangauageTexts () {\n    return {\n      fullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Fullscreen',\n        zh: '进入全屏'\n      },\n      exitFullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Exit fullscreen',\n        zh: '退出全屏'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      fullscreen: {icon: FullScreenSvg, class: 'xg-get-fullscreen'},\n      exitFullscreen: {icon: ExitFullScreenSvg, class: 'xg-exit-fullscreen'}\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.xgplayer-icon', icons.fullscreen)\n    this.appendChild('.xgplayer-icon', icons.exitFullscreen)\n  }\n\n  btnClick (e) {\n    const {player, config} = this;\n    let useCssFullscreen = false\n    if (config.useCssFullscreen === true || (typeof config.useCssFullscreen === 'function' && config.useCssFullscreen())) {\n      useCssFullscreen = true;\n    }\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.getCssFullscreen()\n        player.fullscreen = true\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        player.exitCssFullscreen()\n        player.fullscreen = false\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n      this.animate(player.fullscreen)\n    } else {\n      if (config.switchCallback && typeof config.switchCallback === 'function') {\n        config.switchFullScreen(this.isFullScreen)\n        this.isFullScreen = !this.isFullScreen\n        return\n      }\n      if (player.fullscreen) {\n        player.exitFullscreen(config.target)\n      } else {\n        player.getFullscreen(config.target)\n      }\n    }\n  }\n\n  animate (isFullScreen) {\n    isFullScreen ? this.setAttr('data-state', 'full') : this.setAttr('data-state', 'normal')\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    <div class=\"xg-tips\">${this.player.isFullScreen ? this.text.exitFullscreen : this.text.fullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Util, Events, POSITIONS, Sniffer } = Plugin\n\nclass Time extends Plugin {\n  static get pluginName () {\n    return 'time'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false,\n      mode: 'pc'\n    }\n  }\n\n  afterCreate () {\n    this.mode = Sniffer.device === 'mobile' ? 'mobile' : 'pc'\n    if (this.config.disable) {\n      return\n    }\n    if (this.mode === 'mobile') {\n      this.createCenterTime()\n      this.hide()\n    }\n    this.durationDom = this.find('.time-duration')\n    this.timeDom = this.find('.time-current')\n    this.on(Events.DURATION_CHANGE, () => {\n      this.onTimeUpdate()\n    })\n    this.on(Events.TIME_UPDATE, () => {\n      !this.player.isSeeking && this.onTimeUpdate()\n    })\n  }\n\n  show () {\n    if (this.mode === 'mobile') {\n      return\n    }\n    super.show()\n  }\n\n  onTimeUpdate () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    const current = player.currentTime\n    if (this.mode === 'mobile') {\n      this.centerCurDom.innerHTML = Util.format(current)\n      if (player.duration !== Infinity) {\n        this.centerDurDom.innerHTML = Util.format(player.duration)\n      }\n    } else {\n      this.timeDom.innerHTML = Util.format(current)\n      if (player.duration !== Infinity) {\n        this.durationDom.innerHTML = Util.format(player.duration)\n      }\n    }\n  }\n\n  createCenterTime () {\n    const {player} = this\n    if (!player.controls || !player.controls.center) {\n      return\n    }\n    const center = player.controls.center\n    this.centerCurDom = Util.createDom('xg-icon', '00:00', {style: 'margin-left:0px;margin-right:10px;'}, 'xgplayer-time')\n    this.centerDurDom = Util.createDom('xg-icon', '00:00', {}, 'xgplayer-time')\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom)\n    center.appendChild(this.centerDurDom)\n  }\n\n  afterPlayerInit () {\n    const {player, config} = this\n    if (player.duration === Infinity || this.playerConfig.isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n    }\n    if (config.hide) {\n      this.hide()\n      return\n    }\n    this.show();\n  }\n\n  changeLiveState (isLive) {\n    if (isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n      Util.show(this.find('.time-separator'))\n      Util.show(this.durationDom)\n      Util.show(this.timeDom)\n    }\n  }\n\n  updateTime (time) {\n    const { player } = this\n    if ((!time && time !== 0) || time > player.duration) {\n      return\n    }\n    if (this.mode === 'mobile') {\n      this.centerCurDom.innerHTML = Util.format(time)\n      return\n    }\n    this.timeDom.innerHTML = Util.format(time)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-time\" style=\"display:none\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">直播</span>\n    </xg-icon>`\n  }\n}\nexport default Time\n","import Plugin from '../../plugin'\nimport volumeLargeSvg from '../assets/volumeLarge.svg'\nimport volumeSmallSvg from '../assets/volumeSmall.svg'\nimport volumeMutedSvg from '../assets/volumeMuted.svg'\n\nconst {Util, Events, POSITIONS} = Plugin\n\nclass Volume extends Plugin {\n  static get pluginName () {\n    return 'Volume'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  registerIcons () {\n    return {\n      volumeSmall: {icon: volumeSmallSvg, class: 'xg-volume-small'},\n      volumeLarge: {icon: volumeLargeSvg, class: 'xg-volume'},\n      volumeMuted: {icon: volumeMutedSvg, class: 'xg-volume-mute'}\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n\n    this.initIcons()\n\n    this.changeMuted = this.changeMuted.bind(this)\n    this.onBarMousedown = this.onBarMousedown.bind(this)\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onMouseleave = this.onMouseleave.bind(this)\n\n    this.bind('mouseenter', this.onMouseenter)\n\n    this.bind(['blur', 'mouseleave'], this.onMouseleave)\n\n    this.bind('.xgplayer-bar', 'mousedown', this.onBarMousedown)\n\n    this.bind('.xgplayer-icon', ['click', 'touched'], this.changeMuted)\n\n    this.on(Events.VOLUME_CHANGE, this.onVolumeChange.bind(this))\n  }\n\n  onBarMousedown (e) {\n    const {player} = this\n    const drag = this.find('.xgplayer-drag')\n    const slider = this.find('.xgplayer-slider')\n    const bar = this.find('.xgplayer-bar')\n    slider.focus()\n    Util.event(e)\n\n    let barRect = bar.getBoundingClientRect()\n    let pos = {x: e.clientX, y: e.clientY}\n    let height = drag.getBoundingClientRect().height\n    this.isMoveing = false\n    let onMove = (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      this.isMoveing = true\n      let w = height - e.clientY + pos.y\n      if (w > barRect.height) {\n        return\n      }\n      let now = w / barRect.height\n      drag.style.height = `${w}px`\n      player.volume = Math.max(Math.min(now, 1), 0)\n      player.muted = false\n    }\n\n    let onUp = (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', onMove)\n      window.removeEventListener('touchmove', onMove)\n      window.removeEventListener('mouseup', onUp)\n      window.removeEventListener('touchend', onUp)\n\n      if (!this.isMoveing) {\n        let w = barRect.height - (e.clientY - barRect.top)\n        let now = w / barRect.height\n        drag.style.height = `${w}px`\n        player.volume = Math.max(Math.min(now, 1), 0)\n        player.muted = false\n      }\n      this.isMoveing = false\n    }\n    window.addEventListener('mousemove', onMove)\n    window.addEventListener('touchmove', onMove)\n    window.addEventListener('mouseup', onUp)\n    window.addEventListener('touchend', onUp)\n    return false\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.addClass(this.root, 'slide-show')\n  }\n\n  onMouseleave (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.removeClass(this.root, 'slide-show')\n  }\n\n  changeMuted () {\n    const {player} = this\n    player.muted = !player.muted\n  }\n\n  onVolumeChange () {\n    const {muted, volume} = this.player\n    if (!this.isMoveing) {\n      this.find('.xgplayer-drag').style.height = muted || volume === 0 ? `0px` : `${volume * 100}%`\n    }\n    this.animate(muted, volume)\n  }\n\n  animate (muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr('data-state', 'mute')\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr('data-state', 'small')\n    } else {\n      this.setAttr('data-state', 'normal')\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.xgplayer-icon', icons.volumeSmall)\n    this.appendChild('.xgplayer-icon', icons.volumeLarge)\n    this.appendChild('.xgplayer-icon', icons.volumeMuted)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    const {volume} = this.player\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`\n  }\n}\nexport default Volume\n","import Plugin from '../../plugin'\nimport RotateSvg from '../assets/rotate.svg'\n\nconst {POSITIONS} = Plugin\n\nexport default class Rotate extends Plugin {\n  static get pluginName () {\n    return 'rotate'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      innerRotate: false, // true为只有画面旋转，false为整个播放器旋转\n      clockwise: false,\n      rotateDeg: 0, // 初始旋转角度\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.rotateDeg = this.config.rotateDeg || 0\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.rotate === 'boolean') {\n      args.config.disable = !args.player.config.rotate\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild('.xgplayer-icon', this.icons.rotate)\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  destroy () {\n    this.unbind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  onBtnClick (e) {\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1)\n  }\n\n  updateRotateDeg () {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n\n    let width = player.root.offsetWidth\n    let height = player.root.offsetHeight\n    let targetWidth = player.video.videoWidth\n    let targetHeight = player.video.videoHeight\n\n    if (!this.config.innerRotate) {\n      // player.root.style.width = height + 'px'\n      // player.root.style.height = width + 'px'\n    }\n\n    let scale\n    if (this.rotateDeg === 0.25 || this.rotateDeg === 0.75) {\n      if (this.config.innerRotate) {\n        if ((targetWidth / targetHeight) > (height / width)) { // 旋转后纵向撑满\n          let videoWidth = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoWidth = height * targetWidth / targetHeight\n          } else {\n            // 旋转前是横向撑满\n            videoWidth = width\n          }\n          scale = height / videoWidth\n        } else { // 旋转后横向撑满\n          let videoHeight = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoHeight = height\n          } else { // 旋转前是横向撑满\n            videoHeight = width * targetHeight / targetWidth\n          }\n          scale = width / videoHeight\n        }\n      } else {\n        if (width >= height) {\n          scale = width / height\n        } else {\n          scale = height / width\n        }\n      }\n      scale = parseFloat(scale.toFixed(5))\n    } else {\n      scale = 1\n    }\n\n    if (this.config.innerRotate) {\n      player.video.style.transformOrigin = 'center center'\n      player.video.style.transform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n      player.video.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n    } else {\n      player.root.style.transformOrigin = 'center center'\n      player.root.style.transform = `rotate(${this.rotateDeg}turn) scale(${1})`\n      player.root.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${1})`\n    }\n  }\n\n  rotate (clockwise = false, innerRotate = true, times = 1) {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n    let factor = clockwise ? 1 : -1\n\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1\n    this.updateRotateDeg()\n    player.emit('rotate', this.rotateDeg * 360)\n  }\n\n  registerIcons () {\n    return {\n      'rotate': RotateSvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'rotate': {\n        jp: '日文text',\n        en: 'rotate',\n        zh: '旋转屏幕'\n      }\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <div class=\"xg-tips\">\n      ${this.text.rotate}\n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, POSITIONS} = Plugin\n\nclass PIP extends Plugin {\n  static get pluginName () {\n    return 'Pip'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      showIcon: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.pip === 'boolean') {\n      args.config.showIcon = args.player.config.pip\n    }\n  }\n\n  afterCreate () {\n    this.btnClick = (e) => {\n      this.switchPIP(e)\n    }\n    // video初始化之后再做判断是否显示\n    this.once(Events.COMPLETE, () => {\n      console.log(this.config.showIcon && this.isPIPAvailable())\n      if (this.config.showIcon && this.isPIPAvailable()) {\n        this.show()\n        this.bind('click', this.btnClick)\n      }\n      this.initPipEvents()\n    })\n  }\n\n  registerLangauageTexts () {\n    return {\n      'pipicon': {\n        jp: 'picture-in-picture',\n        en: 'picture-in-picture',\n        zh: '画中画'\n      }\n    }\n  }\n\n  initPipEvents () {\n    const {player} = this\n    this.leavePIPCallback = () => {\n      // 处理点击x关闭画中画的时候暂停问题\n      const paused = player.paused\n      setTimeout(() => {\n        !paused && player.play()\n      }, 0)\n      player.emit('pip_change', false)\n    }\n\n    this.enterPIPCallback = () => {\n      player.emit('pip_change', true)\n    }\n\n    if (player.video) {\n      player.video.addEventListener('enterpictureinpicture', this.enterPIPCallback)\n      // Video left Picture-in-Picture mode.\n      player.video.addEventListener('leavepictureinpicture', this.leavePIPCallback)\n    }\n  }\n\n  switchPIP () {\n    const {player, playerConfig} = this\n    if (!this.isPIPAvailable()) {\n      return false\n    }\n    try {\n      if (document.pictureInPictureElement && document.pictureInPictureElement === player.video) {\n        document.exitPictureInPicture();\n      } else {\n        if (!player.video) {\n          return\n        }\n        if (playerConfig.poster) {\n          player.video.poster = playerConfig.poster\n        }\n        player.video.requestPictureInPicture()\n      }\n      return true\n    } catch (reason) {\n      console.error('switchPIP', reason);\n      return false\n    }\n  }\n\n  get isPip () {\n    const {player} = this\n    return document.pictureInPictureElement === player.video\n  }\n\n  isPIPAvailable () {\n    const {player} = this\n    return document.pictureInPictureEnabled || !(player.video && player.video.disablePictureInPicture);\n  }\n\n  destroy () {\n    const {player} = this\n    player.video.removeEventListener('enterpictureinpicture', this.enterPIPCallback)\n    player.video.removeEventListener('leavepictureinpicture', this.leavePIPCallback)\n    this.unbind('click', this.btnClick)\n  }\n\n  render () {\n    if (!this.config.showIcon && this.isPIPAvailable()) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon btn-definition\">\n      ${`<span>${this.text.pipicon}</span>`}\n      </div>\n      ${`<div class=\"xg-tips\">${this.text.pipicon}</div>`}\n    </xg-icon>`\n  }\n}\nexport default PIP\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","import downloadUtil from 'downloadjs'\nimport Plugin from '../../plugin'\nimport DownloadSvg from '../assets/download.svg'\nconst {POSITIONS} = Plugin\n\nexport default class Download extends Plugin {\n  static get pluginName () {\n    return 'DownloadIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      disable: true\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.timer = null\n    this.isLock = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.download === 'boolean') {\n      args.config.disable = !args.player.config.download\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild('.xgplayer-icon', this.icons.download)\n    this.download = this.download.bind(this)\n    this.bind(['click', 'touchend'], this.download)\n  }\n\n  registerLangauageTexts () {\n    return {\n      download: {\n        jp: 'フルスクリーン',\n        en: 'download',\n        zh: '下载'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      download: DownloadSvg\n    }\n  }\n\n  download () {\n    if (!this.isLock) {\n      return\n    }\n    const url = this.getAbsoluteURL(this.player.src)\n    downloadUtil(url)\n    this.isLock = true\n    this.timer = window.setTimeout(() => {\n      this.isLock = false\n      window.clearTimeout(this.timer)\n      this.timer = null\n    }, 300)\n  }\n\n  getAbsoluteURL (url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement('div')\n      div.innerHTML = `<a href=\"${url}\">x</a>`\n      url = div.firstChild.href\n    }\n    return url\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.download)\n    window.clearTimeout(this.timer)\n    this.timer = null\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <div class=\"xg-tips\">${this.text.download}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { POSITIONS } = Plugin\nexport default class ScreenShot extends Plugin {\n  static get pluginName () {\n    return 'screenShot'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 5,\n      quality: 0.92,\n      type: 'image/png',\n      format: '.png',\n      width: 600,\n      height: 337,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.screenShot === 'boolean') {\n      args.config.disable = !args.player.config.screenShot\n    }\n  }\n\n  afterCreate () {\n    this.appendChild('xgplayer-icon', this.icons.screenshotIcon)\n  }\n\n  onPluginsReady () {\n    this.show()\n    this.onClickBtn = this.onClickBtn.bind(this)\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  saveScreenShot (data, filename) {\n    const saveLink = document.createElement('a')\n    saveLink.href = data\n    saveLink.download = filename\n    let event = document.createEvent('MouseEvents')\n    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    saveLink.dispatchEvent(event)\n  }\n\n  createCanvans () {\n    const canvas = document.createElement('canvas')\n    this.canvasCtx = canvas.getContext('2d')\n    this.canvas = canvas\n    canvas.width = this.config.width || 600\n    canvas.height = this.config.height || 337.5\n  }\n\n  onClickBtn (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.canvas) {\n      this.createCanvans();\n    }\n    let img = new window.Image();\n    this.canvasCtx.drawImage(this.player.video, 0, 0, this.canvas.width, this.canvas.height)\n    const encoderOptions = this.config.quality\n    const type = this.config.type\n    const format = this.config.format\n    img.setAttribute('crossOrigin', 'anonymous')\n    img.src = this.canvas.toDataURL(type, encoderOptions).replace(type, 'image/octet-stream')\n    const screenShotImg = img.src.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream')\n    this.emit('screenShot', screenShotImg)\n    this.saveScreenShot(screenShotImg, '截图' + format)\n    img.onload = () => {\n      console.log('img.onload')\n      img = null;\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'screenshot': {\n        jp: 'play',\n        en: 'play',\n        zh: '截图'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      'screenshotIcon': null\n    }\n  }\n\n  destroy () {\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? 'xgplayer-icon' : 'xgplayer-icon btn-definition'\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? `` : `<span>${this.text.screenshot}</span>`} \n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Events, Util, Sniffer, POSITIONS } = Plugin\nexport default class DefinitionIcon extends Plugin {\n  static get pluginName () {\n    return 'Definition'\n  }\n\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      list: null,\n      disable: false,\n      hideMobile: true // 是否在移动端竖屏状态下隐藏\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    // 记录切换的时候的播放器状态\n    this.curTime = 0\n    this.isPaused = true\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      if (this.config.list && this.config.list.length > 0) {\n        this.renderItemList()\n        this.show()\n      }\n    })\n    this.once('resourceReady', (list) => {\n      this.changeDefinitionList(list)\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onToggle = this.onToggle.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onToggle)\n    this.bind('mouseleave', this.onToggle)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const {player} = this\n    const {list} = this.config\n    let src = player.config.url;\n    const a = document.createElement('a')\n    if (player.switchURL) {\n      this.switchUrl()\n    } else {\n      src = player.currentSrc || player.src\n    }\n    if (player['hls']) {\n      a.href = player['hls'].url\n      src = a.href\n    }\n\n    const liList = list.map(item => {\n      a.href = item.url\n      const className = player.dash ? (item.selected ? 'selected' : '') : (a.href === src ? 'selected' : '')\n      return `<li class=\"${className}\" cname=\"${item.name}\" url=\"${item.url}\">${item.name}</li>`\n    })\n    let cursrc = list.filter(item => {\n      a.href = item.url\n      if (player.dash) {\n        return item.selected === true\n      } else {\n        return a.href === src\n      }\n    })\n    this.find('.icon-text').innerHTML = (cursrc[0] || {name: '清晰度'}).name\n    this.find('.icon-list').innerHTML = liList.join('')\n  }\n\n  onCanplayChangeDefinition () {\n    const {player} = this\n    player.currentTime = this.curTime\n    if (!this.isPaused) {\n      let playPromise = player.play()\n      if (playPromise !== undefined && playPromise) {\n        // eslint-disable-next-line handle-callback-err\n        playPromise.catch(err => {})\n      }\n    }\n    player.emit('afterdefinitionChange')\n  }\n\n  onToggle (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  switchUrl (lastATag) {\n    const {player} = this\n    let curRUL = document.createElement('a');\n    ['mp4', 'hls', '__flv__', 'dash'].every(item => {\n      if (player[item]) {\n        if (player[item].url) {\n          curRUL.href = player[item].url\n        }\n        if (item === '__flv__') {\n          if (player[item]._options) {\n            curRUL.href = player[item]._options.url\n          } else {\n            curRUL.href = player[item]._mediaDataSource.url\n          }\n        }\n        return false\n      } else {\n        return true\n      }\n    })\n    if (lastATag && curRUL.href !== lastATag.href && !player.ended) {\n      player.switchURL(lastATag.href)\n    }\n  }\n\n  // 对外暴露 切换清晰度\n  changeDefinitionList (list) {\n    this.config.list = list\n    this.renderItemList()\n    this.show()\n  }\n\n  onItemClick (e) {\n    const {player} = this\n    const {list} = this.config\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.target && e.target.className === 'selected') {\n      return false\n    }\n    const a = document.createElement('a')\n    player.emit('beforeDefinitionChange', a.href)\n    if (player.dash) {\n      list.forEach(item => {\n        item.selected = false\n        if (item.name === e.target.innerHTML) {\n          item.selected = true\n        }\n      })\n    }\n    const curlSelected = this.find('.selected')\n    Util.addClass(e.target, 'selected')\n    curlSelected && Util.removeClass(curlSelected, 'selected')\n    const from = curlSelected ? curlSelected.getAttribute('cname') : ''\n    const to = e.target.getAttribute('cname')\n    a.href = e.target.getAttribute('url')\n    this.curTime = player.currentTime;\n    this.isPaused = player.paused\n    if (player.switchURL) {\n      this.switchUrl(a)\n    } else {\n      // if (player['hls']) {\n      //   let curRUL = document.createElement('a')\n      //   curRUL = player['hls'].url\n      // }\n      if (a.href !== player.currentSrc) {\n        if (!player.ended) {\n          player.src = a.href\n          this.once('canplay', () => {\n            this.onCanplayChangeDefinition()\n          })\n        }\n      }\n    }\n    this.find('.icon-text').innerHTML = to\n    player.emit('definitionChange', {from, to})\n    if (Sniffer.device === 'mobile') {\n      Util.removeClass(this.root, 'list-show')\n    }\n  }\n\n  render () {\n    const text = '清晰度'\n    return `<xg-icon class=\"xgplayer-definition\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, Sniffer, POSITIONS} = Plugin\n\nexport default class PlaybackRate extends Plugin {\n  static get pluginName () {\n    return 'PlaybackRate'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 4,\n      list: [0.5, 0.75, {rate: 1, iconText: '倍速'}, 1.5, 2]\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.curRate = 1\n  }\n\n  afterCreate () {\n    const {playerConfig, config} = this\n    if (Array.isArray(playerConfig.playbackRate)) {\n      config.list = playerConfig.playbackRate\n    }\n    this.once(Events.CANPLAY, () => {\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.renderItemList();\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  show () {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show()\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  onItemClick (e) {\n    const target = e.target\n    const cname = target.getAttribute('cname')\n    if (Number(cname) === this.curRate) {\n      return false\n    }\n    Util.removeClass(this.find('.selected'), 'selected')\n    Util.addClass(target, 'selected')\n    this.curRate = Number(cname)\n    this.player.playbackRate = Number(cname)\n    this.find('.icon-text').innerHTML = target.getAttribute('ctext')\n  }\n\n  destroy () {\n    this.unbind(this.activeEvent, this.onMouseenter)\n    this.unbind('mouseleave', this.onMouseenter)\n    this.unbind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const playbackRate = this.player.playbackRate || 1\n    this.curRate = playbackRate\n    let currentText = ''\n    const items = this.config.list.map((item) => {\n      let itemInfo = typeof item === 'object' ? item : {rate: item}\n      !itemInfo.text && (itemInfo.text = `${itemInfo.rate}x`)\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.isCurrent = true\n        currentText = item.iconText || itemInfo.text\n      }\n      return `<li cname=\"${itemInfo.rate}\" ctext=\"${item.iconText || itemInfo.text}\" class=\"${itemInfo.isCurrent ? 'selected' : ''}\">${itemInfo.text}</li>`\n    })\n    this.find('.icon-list').innerHTML = items.join('')\n    this.find('.icon-text').innerHTML = currentText\n    this.show()\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\">\n    <span class=\"icon-text\"></span>\n    </div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\nimport CssFullSceenSvg from '../assets/requestCssFull.svg'\nimport ExitCssFullSceenSvg from '../assets/exitCssFull.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class CssFullScreen extends Plugin {\n  static get pluginName () {\n    return 'cssFullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.cssFullscreen === 'boolean') {\n      args.config.disable = !args.player.config.cssFullscreen\n    }\n  }\n\n  afterCreate () {\n    this.initIcons()\n    this.on(Events.CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen)\n    })\n    // 退出全屏的时候会同时退出网页全屏\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      !isFullScreen && this.animate(isFullScreen)\n    })\n  }\n\n  initIcons () {\n    const {icons} = this\n    const contentIcon = this.find('.xgplayer-icon')\n    contentIcon.appendChild(icons.cssFullscreen)\n    contentIcon.appendChild(icons.exitCssFullscreen)\n  }\n\n  afterPlayerInit () {\n    this.btnClick = this.btnClick.bind(this);\n    this.bind(['click', 'touchend'], this.btnClick)\n  }\n\n  btnClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.player.isCssfullScreen) {\n      this.player.getCssFullscreen()\n    } else {\n      this.player.exitCssFullscreen()\n    }\n  }\n\n  animate (isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    // const path = this.find('.path')\n    // const full = this.find('.path_full').getAttribute('d')\n    // const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? this.setAttr('data-state', 'full') : this.setAttr('data-state', 'normal')\n  }\n\n  switchTips () {\n    this.find('.xg-tips').innerHTML = this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen\n  }\n\n  registerIcons () {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: 'xg-get-cssfull' },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: 'xg-exit-cssfull' }\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'cssFullscreen': {\n        jp: 'Cssfullscreen',\n        en: 'Cssfullscreen',\n        zh: '进入样式全屏'\n      },\n      exitCssFullscreen: {\n        jp: 'Exit cssfullscreen',\n        en: 'Exit cssfullscreen',\n        zh: '退出样式全屏'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    if (!this.playerConfig.cssFullscreen) {\n      return\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    <div class=\"xg-tips\">${this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import sniffer from '../utils/sniffer';\n// import Danmu from '../plugins/danmu'\nimport Replay from '../plugins/replay';\nimport Poster from '../plugins/poster';\nimport Start from '../plugins/start';\nimport Enter from '../plugins/enter';\nimport Miniscreen from '../plugins/miniScreen';\nimport PC from '../plugins/pc'\nimport Mobile from '../plugins/mobile'\nimport Keyboard from '../plugins/keyboard'\nimport Loading from '../plugins/loading'\nimport Progress from '../plugins/progress'\nimport PlayIcon from '../plugins/play'\nimport FullScreen from '../plugins/fullscreen'\nimport TimeIcon from '../plugins/time'\nimport Volume from '../plugins/volume'\nimport RotateIcon from '../plugins/rotate'\nimport PIPIcon from '../plugins/pip'\nimport PlayNextIcon from '../plugins/playNext'\nimport DownLoadIcon from '../plugins/download'\nimport ScreenShotIcon from '../plugins/screenShot'\nimport DefinitionIcon from '../plugins/definition'\nimport PlaybackRateIcon from '../plugins/playbackRate'\nimport CssFullScreen from '../plugins/cssFullScreen'\n\nexport default class DefaultPreset {\n  constructor () {\n    const contolsIcons = [Progress, PlayIcon, FullScreen, TimeIcon,\n      RotateIcon, PlayNextIcon, DefinitionIcon, PlaybackRateIcon, DownLoadIcon, ScreenShotIcon]\n\n    const barIcons = [{\n      plugin: PIPIcon,\n      options: {\n        index: 0,\n        position: PIPIcon.POSITIONS.ROOT_TOP\n      }}]\n\n    const layers = [Replay, Poster, Start, Loading, Enter]\n\n    this.plugins = [...contolsIcons, ...layers]\n    switch (sniffer.device) {\n      case 'pc':\n        this.plugins.push(...[Keyboard, PC, CssFullScreen, Volume], ...barIcons, Miniscreen);\n        break;\n      case 'mobile':\n        this.plugins.push(Mobile);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PC])\n    }\n    this.ignores = []\n  }\n}\n","import Player from './player'\nimport * as Plugins from './plugins'\nimport defaultPreset from './presets/default';\n\nPlayer.defaultPreset = defaultPreset;\nPlayer.defaultPlugins = Plugins;\n\nexport default Player\n"],"names":["isValue","isObject","isPrototype","isFunction","_undefined","require$$0","require$$1","value","keys","normalizeOpts","isPlainFunction","callable","d","hasOwnProperty","util","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","Object","forEach","key","item","setAttribute","createDomFromHtml","html","classname","doc","children","length","addClass","err","hasClass","classList","Array","prototype","some","call","match","RegExp","replace","split","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","e","indexOf","getElementById","slice","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","String","len","maxlen","Math","ceil","chars","r","push","join","substring","format","time","window","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","obj","toString","deepCopy","dst","src","Node","undefined","concat","deepMerge","map","babelHelpers.typeof","getBgImage","url","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","name","setInterval","context","eventName","intervalFunc","frequency","_interval","bind","clearInterval","createImgBtn","imgUrl","width","height","btn","style","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","test","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","hide","display","show","ErrorTypes","network","code","msg","remark","mse","parse","decoder","runtime","timeout","other","Errors","type","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","version","errorCode","mediaError","arguments","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","SEI_PARSED","Proxy","options","_hasStart","_currentTime","_duration","videoConfig","assign","controls","autoplay","playsinline","airplay","tabindex","mediaType","videoAttrbutes","loop","defaultPlaybackRate","video","autoplayMuted","muted","EventEmitter","_initEvents","lastBuffer","ev","charAt","toUpperCase","_emitEvent","funName","player","evItem","videoEventHandler","errorHandler","emit","curBuffer","i","buffered","start","end","addEventListener","error","pause","removeAttribute","load","k","evName","evFunc","off","removeEventListener","allOff","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","status","en","cn","lang","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","device","os","isPc","browser","ua","navigator","userAgent","toLowerCase","ie","firfox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","Obj","defineProperty","args","Util","beforeCreate","__args","__events","config","__init","defineGetterOrSetter","get","pluginName","constructor","logger","callback","on","isArray","once","res","offAll","destroy","Sniffer","Events","pluginsManager","init","cgid","_pluginInfoId","Date","getTime","pluginGroup","lazyRegister","lazyPlugin","Promise","race","loader","then","plugin","result","__esModule","default","register","resolve","reject","setTimeout","Error","_plugins","plugins","originalOptions","_originalOptions","_player","isSupported","console","warn","defaultConfig","root","index","_instance","func","afterCreate","unRegister","_destroy","getPlugins","findPlugin","cName","beforeInit","log","retPromise","prevTask","_loadingPlugins","all","pluginsRet","beforePlayerInit","ret","catch","afterInit","afterPlayerInit","reRender","pluginsMap","_args","onPluginsReady","matches","_createElement","tag","attr","isUrl","registerIconsObj","iconsConfig","_icons","icons","playerConfig","orgIcon","class","_icon","Element","icon","registerTextObj","textConfig","text","Plugin","parent","insertIdx","parseInt","isDomElement","HTMLElement","appendChild","insertAdjacentHTML","insertBefore","_parent","_el","_orgicons","registerIcons","defaultTexConfig","registerLangauageTexts","renderStr","render","message","insert","setAttr","setStyle","__registeChildren","_children","_plugin","c","registerPlugin","_c","qs","eventType","bindEL","delegate","unbindEL","htmlStr","innerHtml","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","pdom","child","find","parentNode","removeChild","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_CENTER","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","NO_START","ACTIVE","FULLSCREEN","CSS_FULLSCREEN","NO_CONTROLS","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","id","fluid","fitVideoSize","videoInit","poster","execBeforePluginsCall","closeVideoClick","closeVideoDblclick","closePlayerBlur","leavePlayerTime","closePlayVideoFocus","closeFocusVideoFocus","closeControlsBlur","ignores","whitelist","inactive","documentElement","getAttribute","language","toLocaleLowerCase","controlsList","screenShot","rotate","pip","mini","cssFullscreen","keyShortcut","presets","usePreset","Preset","presetInst","preset","Controls","disable","mode","left","center","right","innerRoot","isMini","mouseEnter","mouseOut","clearTimeout","userTimer","isActive","position","autoHide","FULLSCREEN_EVENTS","Player","defaultIdx","defaultPreset","splice","waitTimer","isReady","isPlaying","isSeeking","isCssfullScreen","_initDOM","_bindEvents","_registerPresets","_registerPlugins","onReady","hasStart","vid","topBar","leftBar","rightBar","STATE_CLASS","onFullscreenChange","fullEl","_fullscreenEl","fullscreen","getVideoSize","mousemoveFunc","focus","eventkey","service","playFunc","onDestroy","canPlayFunc","loadeddataFunc","firstChild","ignoresStr","lazy","loadingPlugin","forceBeforeInit","PLUFGIN","_startInit","fileName","lineNumber","playPromise","reloadFunc","isDelDom","classNameList","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","notAutoHide","self","clsList","cls","videoWidth","videoHeight","containerSize","getBoundingClientRect","Number","__url","posterUrl","_isFullScreen","val","descriptor","Poster","Replay","ReplaySvg","jp","zh","replay","preventDefault","path","transform","styleInject","css","ref","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","MiniScreenIcon","getMini","exitMini","onClick","unbind","miniscreen","MiniScreen","top","isShowIcon","isScrollSwitch","scrollTop","disableDrag","pos","innerWidth","innerHeight","coordinate","currentX","currentY","scrollY","lastStyle","isMoveing","bindFunKeys","initIcons","miniIcon","onCancelClick","onCenterClick","onMousedown","onScroll","PlayIcon","PauseIcon","abs","scrollHeight","onMouseup","onMousemove","clientWidth","maxTop","maxLeft","nowX","nowY","disX","disY","PlayNextIcon","urlList","idx","playNext","initEvents","Next","PCPlugin","eventHandlers","onEnter","onVideoClick","onVideoDblClick","onContextmenu","onEntered","onAutoPlayPrevented","onMouseEnter","onMouseLeave","stopPropagation","returnValue","cancelBubble","closeVideoStopPropagation","clk","timer","getFullscreen","leavePlayerTimer","MobilePlugin","disableGesture","gestureX","gestureY","updateGesture","gradient","isTouchingSeek","miniMoveStep","scopeL","scopeR","darkness","maxDarkness","isTouchMove","isMoving","x","y","light","op","xgMask","append","onTouchMove","onTouchStart","onTouchEnd","Infinity","touche","getTouche","diffx","diffy","tan","updateBrightness","updateVolume","updateTime","percent","getPlugin","updatePercent","toFixed","backgroundColor","closeVideoTouch","PlaceHolderPlugin","AnimateMap","addAnimate","seconds","Start","isShowPause","animate","startPlay","PlaySvg","startPause","PauseSvg","isEnded","isShowEnd","disableAmimate","TextTrackPlugin","textTrackDom","textTrack","track","label","kind","srclang","crossorigin","textTrackStyle","styleStr","wrap","sheet","insertRule","addRule","ErrorPlugin","handleCanPlay","handleError","textDOM","Enter","isCanPlay","barStr","logo","Keyboard","extendkeyCodeMap","keyCodeMap","key1","seekStep","keyCode","action","noBodyTarget","mergekeyCodeMap","onKeydown","onBodyKeyDown","isBodyTarget","flag","exitCssFullscreen","body","checkCode","handleKeyCode","funKey","Loading","loadingIcon","defaultDot","color","ProgressDot","dots","dotsList","createDotDom","dot","newDots","min","defaultThumbnailConfig","isShow","urls","pic_num","row","col","scale","Progress","progressDot","thumbnail","useable","isProgressMoving","progress","playedBar","cachedBar","pointTip","progressBtn","thumbnailDom","initThumbnail","onTimeupdate","onCacheUpdate","bindDomEvents","ProgressDots","thumbnailConfig","mouseDown","mouseMove","mouseLeave","closeMoveSeek","allowSeekAfterEnded","computeWidth","move","up","now","textContent","pointWidth","pleft","updateThumbnailPosition","containerWidth","interval","indexInPage","rowIndex","colIndex","timeIcon","notSeek","dash","seek","containerLeft","j","Play","btnClick","Fullscreen","isFullScreen","FullScreenSvg","ExitFullScreenSvg","useCssFullscreen","getCssFullscreen","switchCallback","switchFullScreen","Time","createCenterTime","durationDom","timeDom","onTimeUpdate","current","centerCurDom","centerDurDom","isLive","Volume","volumeSmall","volumeSmallSvg","volumeLarge","volumeLargeSvg","volumeMuted","volumeMutedSvg","changeMuted","onBarMousedown","onMouseenter","onMouseleave","onVolumeChange","drag","slider","bar","barRect","onMove","max","onUp","Rotate","innerRotate","clockwise","rotateDeg","onBtnClick","offsetWidth","offsetHeight","targetWidth","targetHeight","transformOrigin","webKitTransform","times","factor","updateRotateDeg","RotateSvg","PIP","showIcon","switchPIP","isPIPAvailable","initPipEvents","leavePIPCallback","enterPIPCallback","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","reason","pictureInPictureEnabled","disablePictureInPicture","pipicon","this","Download","isLock","download","DownloadSvg","getAbsoluteURL","downloadUtil","div","ScreenShot","screenshotIcon","onClickBtn","data","filename","saveLink","createEvent","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","createCanvans","img","Image","drawImage","encoderOptions","quality","toDataURL","screenShotImg","saveScreenShot","onload","screenshot","DefinitionIcon","list","hideMobile","curTime","isPaused","renderItemList","changeDefinitionList","activeEvent","onToggle","onItemClick","switchURL","switchUrl","liList","selected","cursrc","lastATag","curRUL","_options","_mediaDataSource","curlSelected","from","to","onCanplayChangeDefinition","PlaybackRate","iconText","curRate","currentText","items","itemInfo","isCurrent","CssFullScreen","contentIcon","CssFullSceenSvg","ExitCssFullSceenSvg","DefaultPreset","contolsIcons","FullScreen","TimeIcon","RotateIcon","PlaybackRateIcon","DownLoadIcon","ScreenShotIcon","barIcons","PIPIcon","layers","Miniscreen","Mobile","defaultPlugins","Plugins"],"mappings":"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"}