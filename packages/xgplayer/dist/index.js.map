{"version":3,"file":"index.js","sources":["../node_modules/type/value/is.js","../node_modules/type/object/is.js","../node_modules/type/prototype/is.js","../node_modules/type/function/is.js","../node_modules/type/plain-function/is.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/es5-ext/object/is-object.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../node_modules/matches-selector/index.js","../node_modules/closest/index.js","../node_modules/component-event/index.js","../node_modules/delegate-events/index.js","../src/plugin/plugin.js","../src/stateClassMap.js","../src/defaultConfig.js","../src/plugin/preset.js","../src/plugins/controls/index.js","../src/player.js","../src/plugins/poster/index.js","../src/plugins/replay/index.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/plugins/miniScreen/miniScreenIcon.js","../src/plugins/miniScreen/index.js","../src/plugins/Controls/index.js","../src/plugins/playNext/index.js","../src/plugins/pc/index.js","../src/plugins/mobile/index.js","../src/plugins/placeholder/index.js","../src/plugins/start/index.js","../src/plugins/track/index.js","../src/Plugin/basePlugin.js","../src/Plugin/pluginsManager.js","../src/Plugin/plugin.js","../src/plugins/error/index.js","../src/plugins/enter/index.js","../src/plugins/keyboard/index.js","../src/plugins/loading/index.js","../src/plugins/progress/progressdots.js","../src/plugins/progress/index.js","../src/plugins/play/index.js","../src/plugins/fullscreen/index.js","../src/plugins/time/index.js","../src/plugins/volume/index.js","../src/plugins/rotate/index.js","../src/plugins/pip/index.js","../node_modules/downloadjs/download.js","../src/plugins/download/index.js","../src/plugins/screenShot/index.js","../src/plugins/definition/index.js","../src/plugins/playbackRate/index.js","../src/plugins/cssFullScreen/index.js","../src/presets/default.js","../src/index.js"],"sourcesContent":["\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (dst[key] === undefined || dst[key] === undefined) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\n\nutil.deepMerge = function (dst, src) {\n  Object.keys(src).map(key => {\n    if (typeof dst[key] === typeof src[key] && dst[key] !== null && typeof dst[key] === 'object' && !(src[key] instanceof Node)) {\n      util.deepMerge(dst[key], src[key])\n    } else {\n      dst[key] = src[key]\n    }\n  })\n  return dst\n}\n\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nutil.hide = function (dom) {\n  dom.style.display = 'none'\n}\n\nutil.show = function (dom, display) {\n  dom.style.display = display || 'block'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\nexport const RATE_CHANGE = 'rateChange'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const REPLAY = 'replay'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n\n// screen change evnets\nexport const FULLSCREEN_CHANGE = 'fullscreen_change'\nexport const CSS_FULLSCREEN_CHANGE = 'cssFullscreen_change'\nexport const MINI_STATE_CHANGE = 'mini_state_change'\n\n// transmuxer events\nexport const SEI_PARSED = 'SEI_PARSED';\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video',\n    }, options.videoConfig);\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    if (options.defaultPlaybackRate) {\n      this.videoConfig.defaultPlaybackRate = options.defaultPlaybackRate\n    }\n\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplayMuted) {\n      this.video.muted = true\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata','ratechange'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n\n      this.videoEventHandler = () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }\n      this.video.addEventListener(Object.keys(item)[0], this.videoEventHandler, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean') {\n      this._hasStart = bool\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n\n      this.video.removeEventListener(evName, this.videoEventHandler, false)\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE, url)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","var bind, unbind, prefix;\n\nfunction detect () {\n  bind = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  if (!bind) detect();\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (!unbind) detect();\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n","/**\n * Module dependencies.\n */\n\nvar closest = require('closest')\n  , event = require('component-event');\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nexports.bind = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return event.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  event.unbind(el, type, fn, capture);\n};\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter'\n}\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  AUTOPLAY: 'xgplayer-is-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile',\n  MINI: 'xgplayer-mini'\n};\n","export default function getDefaultConfig () {\n  return {\n    id: '', // 播放器容器id\n    el: null, // 播放器容器dom\n    url: '', // 播放url\n    width: 600, // 播放器宽度,单位px\n    height: 337.5, // 播放器高度,单位px\n    fluid: false, // 是否启用流式布局\n    fitVideoSize: 'auto', // fixWidth/fixHeight/auto\n    volume: 0.6, // 默认音量\n    autoplay: false, // 是否自动播放\n    autoplayMuted: false, // 是否自动静音\n    loop: false, // 是否循环播放\n    videoInit: false, // 是否优先显示视频首帧， mobile模式下无效\n    poster: '', // 封面图地址\n    defaultPlaybackRate: 1, // 默认播放倍数\n    execBeforePluginsCall: null, // 默认插件组装前回调\n    closeVideoClick: false, // 是否通过video的click/touchend行为切换播放暂停\n    closeVideoDblclick: false, // 是否通过双击行为触发全屏切换\n    closePlayerBlur: false, // 是个否启用鼠标移动激活行为\n    leavePlayerTime: 0, // 延迟触发时间\n    closePlayVideoFocus: false, // 是否关闭play时触发focus\n    closeFocusVideoFocus: false, // 是否支持播放器移动鼠标时触发focus\n    closeControlsBlur: false, // 鼠标移出播放器控制条范围时触发focus事件\n    videoAttrbutes: {}, // video扩展属性\n    // 是否删除\n    ignores: [],\n    whitelist: [],\n    inactive: 3000,\n    lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n    controls: true,\n    controlsList: [],\n    // 内置插件相关配置\n    screenShot: false, // 截图插件\n    rotate: false, // 旋转插件\n    pip: false, // pip插件\n    mini: false, // 迷你小窗插件\n    cssFullscreen: true, // 页面全屏\n    keyShortcut: true, // 是否开启快捷键\n    presets: []\n  }\n}\n","export const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    // eslint-disable-next-line new-cap\n    presetInst = new (Preset.preset)(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config)\n  }\n  const {plugins = [], ignores = [], icons} = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = []\n  }\n\n  if (!player.config.ignores) {\n    player.config.ignores = []\n  }\n\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  player.config.icons = icons\n}\n","import Plugin from '../../plugin'\nconst {Events, Util, POSITIONS} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini') : Util.removeClass(this.root, 'mini')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseou', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    console.log('mouseenter')\n  }\n\n  mouseOut () {\n    console.log('mouseout')\n  }\n\n  showTips () {\n\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : plugin.defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-controls class=\"xgplayer-controls\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport getDefaultConfig from './defaultConfig'\nimport { usePreset } from './plugin/preset';\nimport Controls from './plugins/controls'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepMerge(getDefaultConfig(), options)\n    console.log('this.config', this.config)\n\n    // resolve default preset\n    if (this.config.presets.length) {\n      const defaultIdx = this.config.presets.indexOf('default');\n      if (defaultIdx >= 0 && Player.defaultPreset) {\n        this.config.presets.push(Player.defaultPreset);\n        this.config.presets.splice(defaultIdx, 1);\n      }\n    } else if (Player.defaultPreset) {\n      this.config.presets.push(Player.defaultPreset)\n    }\n\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isProgressMoving = false\n    this.isReady = false\n    this.isPlaying = false\n    this.isSeeking = false\n    this.isActive = true\n    this.isCssfullScreen = false\n\n    this._initDOM()\n\n    this._bindEvents()\n    this._registerPresets()\n    this._registerPlugins()\n    pluginsManager.onPluginsReady(this)\n\n    setTimeout(() => {\n      this.emit(Events.READY)\n      this.onReady && this.onReady()\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit(Events.ERROR, new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    this.topBar = util.createDom('xg-bar', '', '', 'xg-top-bar')\n    this.leftBar = util.createDom('xg-bar', '', '', 'xg-left-bar')\n    this.rightBar = util.createDom('xg-bar', '', '', 'xg-right-bar')\n    this.root.appendChild(this.topBar)\n    this.root.appendChild(this.leftBar)\n    this.root.appendChild(this.rightBar)\n    // const baseBar = pluginsManager.register(this, BaseBar)\n    // this.baseBar = baseBar\n    const controls = pluginsManager.register(this, Controls)\n    this.controls = controls\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    if (this.config.fluid) {\n      const style = {\n        'max-width': '100%',\n        'width': '100%',\n        'height': '0',\n        'padding-top': `${this.config.height * 100 / this.config.width}%`,\n        'position': 'position',\n        'top': '0',\n        'left': '0'\n      };\n      Object.keys(style).map(key => {\n        this.root.style[key] = style[key]\n      })\n    } else {\n      ['width', 'height'].map(key => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== 'number') {\n            this.root.style[key] = this.config[key]\n          } else {\n            this.root.style[key] = `${this.config[key]}px`\n          }\n        }\n      })\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    }\n\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      // 加上判断减少触发次数\n      if (this.isActive) {\n        return\n      }\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n\n    this.playFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n    // if (!this.config.closeVideoClick) {\n    //   ['touched', 'click'].map((key) => {\n    //     this.video.addEventListener(key, () => {\n    //       console.log('this.video.addEventListener')\n    //       if (this.paused) {\n    //         this.play()\n    //       } else {\n    //         this.pause()\n    //       }\n    //     })\n    //   })\n    // }\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    let player = this\n    if (!url || url === '') {\n      this.emit(Events.URL_NULL)\n    }\n    this.canPlayFunc = function () {\n      this.volume = this.config.volume\n      this.play()\n      player.off(Events.CANPLAY, this.canPlayFunc)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.once(Events.CANPLAY, this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit(Events.COMPLETE)\n    }, 1)\n    if (!this.hasStart) {\n      pluginsManager.afterInit(this)\n    }\n    this.hasStart = true\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    this._loadingPlugins = []\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin)\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            }).catch(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            })\n            this._loadingPlugins.push(loadingPlugin)\n          }\n\n          return;\n        }\n        return this.registerPlugin(plugin)\n      } catch (err) {\n        console.error(err)\n        return null\n      }\n    })\n  }\n\n  _registerPresets () {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset)\n    })\n  }\n\n  registerPlugin (plugin) {\n    let PLUFGIN = null\n    let options = null\n    if (plugin.plugin && typeof plugin.plugin === 'function') {\n      PLUFGIN = plugin.plugin\n      options = plugin.options\n    } else {\n      PLUFGIN = plugin\n      options = {}\n    }\n\n    const position = options.position ? options.position : (PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position)\n    const {POSITIONS} = Plugin\n    if (!options.root && typeof position === 'string' && position.indexOf('controls') > -1) {\n      return this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName)\n    }\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        options.root = this.rightBar\n        break;\n      case POSITIONS.ROOT_LEFT:\n        options.root = this.leftBar\n        break;\n      case POSITIONS.ROOT_TOP:\n        options.root = this.topBar\n        break;\n      default:\n        options.root = this.root\n        break;\n    }\n    return pluginsManager.register(this, PLUFGIN, options)\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className)\n  }\n\n  start (url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      return this.play()\n    } else {\n      return pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url || this.config.url;\n        }\n        return this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start()\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.AUTOPLAY)\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n      }).catch((e) => {\n        // 避免AUTOPLAY_PREVENTED先于playing和play触发\n        setTimeout(() => {\n          this.emit(Events.AUTOPLAY_PREVENTED)\n          this.addClass(STATE_CLASS.AUTOPLAY)\n        }, 0)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.once(Events.CANPLAY, () => {\n      const playPromise = this.play()\n      if (playPromise && playPromise.catch) {\n        playPromise.catch(err => {\n          console.log(err)\n        })\n      }\n    })\n    this.emit(Events.REPLAY)\n    this.currentTime = 0\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    if (this.config.fluid) {\n      this.root.style['padding-top'] = ''\n    }\n    this.isCssfullScreen = true\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, true)\n  }\n\n  exitCssFullscreen () {\n    if (this.config.fluid) {\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    this.isCssfullScreen = false\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, false)\n  }\n\n  onFocus () {\n    this.isActive = true\n    let player = this\n    this.removeClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    this.isActive = false\n    if (!this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n    this.ended && this.removeClass(STATE_CLASS.ENDED)\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    const { NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING } = STATE_CLASS\n    const clsList = [NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING];\n    clsList.forEach((cls) => {\n      this.removeClass(cls)\n    })\n    this.addClass(STATE_CLASS.PLAYING)\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.Util = util\nPlayer.Sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Events = Events\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Plugin from '../../plugin'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n}\n\nexport default Poster\n","import Plugin from '../../plugin'\nimport ReplaySvg from '../assets/replay.svg'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplaySvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Events.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.root.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      ${this.icons.replay}\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Plugin from '../../plugin'\nimport './index.scss'\n\nconst {POSITIONS} = Plugin\n\nclass MiniScreenIcon extends Plugin {\n  static get pluginName () {\n    return 'miniscreenIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 10\n    }\n  }\n\n  afterCreate () {\n    this.getMini = this.getMini.bind(this)\n    this.exitMini = this.exitMini.bind(this)\n    this.bind(['click', 'touchend'], this.getMini)\n  }\n\n  getMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  exitMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.getMini)\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'miniscreen': {\n        jp: '日文text',\n        en: 'miniscreen',\n        zh: '小屏幕'\n      }\n    }\n  }\n\n  render () {\n    let text = this.text.miniscreen\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n      </xg-icon>`\n  }\n}\n\nexport default MiniScreenIcon\n","import Plugin from '../../plugin'\nimport PlayIcon from '../assets/play.svg'\nimport PauseIcon from '../assets/pause.svg'\nimport MiniScreenIcon from './miniScreenIcon'\nimport './index.scss'\n\nconst {Util, Events} = Plugin\n\nclass MiniScreen extends Plugin {\n  static get pluginName () {\n    return 'miniscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1, // 默认左下角\n      top: -1, // 默认左下角\n      isShowIcon: false, // 是否显示icon\n      isScrollSwitch: false, // 滚动自动切换自动切换\n      scrollTop: 0, // 触发滚动的高度\n      disableDrag: false // 禁用拖拽\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.isMini = false\n    const {config} = this\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width\n    }\n    this.coordinate = {\n      currentX: 0,\n      currentY: 0,\n      scrollY: window.scrollY || 0\n    }\n    this.lastStyle = null\n    this.isMoveing = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.mini === 'boolean') {\n      args.config.isShowIcon = args.player.config.mini\n    }\n  }\n\n  afterCreate () {\n    const bindFunKeys = ['onMousemove', 'onMousedown', 'onMouseup', 'onCancelClick', 'onCenterClick', 'onScroll']\n    bindFunKeys.map(key => {\n      this[key] = this[key].bind(this)\n    })\n    this.on(Events.PAUSE, () => {\n      const btn = this.find('.play-icon')\n      Util.addClass(btn, 'pause')\n      Util.removeClass(btn, 'play')\n    })\n    this.on(Events.PLAY, () => {\n      const btn = this.find('.play-icon')\n      Util.addClass(btn, 'play')\n      Util.removeClass(btn, 'pause')\n    })\n  }\n\n  onPluginsReady () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini()\n          }\n        }\n      }\n      this.miniIcon = player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName)\n    }\n    this.bind('.mini-cancel-btn', 'click', this.onCancelClick)\n    this.bind('.play-icon', 'click', this.onCenterClick)\n    if (!this.config.disableDrag) {\n      this.bind('mousedown', this.onMousedown)\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener('scroll', this.onScroll)\n    }\n  }\n\n  onCancelClick (e) {\n    this.exitMini()\n  }\n\n  onCenterClick (e) {\n    const {player} = this\n    player.paused ? player.play() : player.pause()\n  }\n\n  getCss (o, key) {\n    return o.currentStyle ? o.currentStyle[key] : document.defaultView.getComputedStyle(o, false)[key]\n  }\n\n  onScroll (e) {\n    if ((!window.scrollY && window.scrollY !== 0) || Math.abs(window.scrollY - this.coordinate.scrollY) < 50) {\n      return;\n    }\n    let scrollHeight = parseInt(this.getCss(this.player.root, 'height'))\n    scrollHeight += this.config.scrollTop\n    this.coordinate.scrollY = window.scrollY\n    if (window.scrollY > scrollHeight + 5 && !this.isMini) {\n      this.getMini()\n    } else if (window.scrollY <= scrollHeight && this.isMini) {\n      this.exitMini()\n    }\n  }\n\n  onMousedown (e) {\n    if (e.target !== this.root || this.isMoveing) {\n      return;\n    }\n    this.isMoveing = true\n    this.coordinate.currentX = e.clientX\n    this.coordinate.currentY = e.clientY\n    this.bind('mouseup', this.onMouseup)\n    this.bind('mousemove', this.onMousemove)\n  }\n\n  onMouseup (e) {\n    if (e.target !== this.root || !this.isMoveing) {\n      return;\n    }\n    this.isMoveing = false\n    const target = this.config.target || this.player.root\n    this.pos.top = parseInt(this.getCss(target, 'top'))\n    this.pos.left = parseInt(this.getCss(target, 'left'))\n    this.unbind('mousemove', this.onMousemove)\n    this.unbind('mouseup', this.onMouseup)\n  }\n\n  onMousemove (e, callback) {\n    e = e || window.event\n    const target = this.config.target || this.player.root\n    const maxTop = window.innerHeight - parseInt(this.getCss(target, 'height'))\n    const maxLeft = window.innerWidth - parseInt(this.getCss(target, 'width'))\n    if (this.isMoveing) {\n      const nowX = e.clientX\n      const nowY = e.clientY\n      const disX = nowX - this.coordinate.currentX\n      const disY = nowY - this.coordinate.currentY\n      let top = parseInt(this.pos.top) + disY\n      let left = parseInt(this.pos.left) + disX\n      if (left < 0) {\n        left = 0;\n      } else if (left > maxLeft) {\n        left = maxLeft\n      }\n\n      if (top < 0) {\n        top = 0;\n      } else if (top > maxTop) {\n        top = maxTop\n      }\n      target.style.left = `${left}px`\n      target.style.top = `${top}px`\n      if (typeof callback === 'function') {\n        callback(left, top)\n      }\n\n      if (e.preventDefault) {\n        e.preventDefault()\n      }\n      return false\n    }\n  }\n\n  getMini () {\n    if (this.isMini) {\n      return\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    // this.draggie.enable()\n    this.lastStyle = {}\n    Util.addClass(player.root, 'xgplayer-mini')\n    Object.keys(this.pos).map(key => {\n      this.lastStyle[key] = target.style[key]\n      target.style[key] = `${this.pos[key]}px`\n    })\n    if (playerConfig.fluid) {\n      target.style['padding-top'] = ''\n    }\n    this.emit(Events.MINI_STATE_CHANGE, true)\n    player.isMini = this.isMini = true\n  }\n\n  exitMini () {\n    if (!this.isMini) {\n      return false\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    Util.removeClass(player.root, 'xgplayer-mini')\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map(key => {\n        target.style[key] = this.lastStyle[key]\n      })\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${playerConfig.height * 100 / playerConfig.width}%`\n    }\n    this.emit(Events.MINI_STATE_CHANGE, false)\n    this.isMini = player.isMini = false\n  }\n\n  destroy () {\n    this.unbind('mousedown', this.onMousedown)\n    window.removeEventListener('scroll', this.onScroll)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <div class=\"mask\"></div>\n      <xg-mini-header class=\"xgplayer-mini-header\">\n        <div>按住画面可移动小窗</div>\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">X</div>\n      <div class=\"play-icon play\">\n        ${PauseIcon}\n        ${PlayIcon}\n      </div>\n      </xg-mini-layer>`\n  }\n}\n\nexport {\n  MiniScreen as default,\n  MiniScreenIcon\n}\n","import Plugin from '../../plugin'\nconst {Events, Util, POSITIONS} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini') : Util.removeClass(this.root, 'mini')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseou', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    console.log('mouseenter')\n  }\n\n  mouseOut () {\n    console.log('mouseout')\n  }\n\n  showTips () {\n\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : plugin.defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-controls class=\"xgplayer-controls\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","/**\n * 下一个按钮组件\n */\nimport Plugin from '../../plugin'\nimport Next from '../assets/playNext.svg'\n// import Next from '../assets/mPlayNext.svg';\n// console.log(MPlayNext)\nconst {POSITIONS, Sniffer} = Plugin\nexport default class PlayNextIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayNext'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.idx = -1;\n  }\n\n  afterCreate () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    this.initEvents()\n  }\n\n  initEvents () {\n    this.playNext = this.playNext.bind(this);\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.playNext)\n    this.show()\n  }\n\n  playNext () {\n    const { player } = this;\n    if (this.idx + 1 < this.config.urlList.length) {\n      this.idx++;\n      player.video.pause();\n      player.currentTime = 0;\n      player.video.autoplay = true;\n      player.src = this.config.urlList[this.idx];\n      player.emit('playerNext', this.idx + 1);\n    } else {\n      player.emit('urlList last');\n    }\n  }\n\n  registerIcons () {\n    return {\n      playNext: Next\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'playNext': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.playNext)\n  }\n\n  render () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.playNext}\n      </div>\n      <div class=\"xg-tips\">${this.text.playNext}</div>\n     </xg-icon>\n    `\n  }\n}\n","import BasePlugin from '../../plugin/basePlugin';\nconst {Events, Util} = BasePlugin\nexport default class PCPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'pc'\n  }\n\n  afterCreate () {\n    const eventHandlers = ['onVideoClick', 'onVideoDblClick', 'onMouseEnter', 'onMouseLeave', 'onControlMouseEnter',\n      'onControlMouseLeave', 'onContextmenu']\n    eventHandlers.map(key => {\n      if (this[key]) {\n        this[key] = this[key].bind(this)\n      }\n    })\n    // this.onVideoClick = this.onVideoClick.bind(this)\n    // this.onVideoDblClick = this.onVideoDblClick.bind(this)\n    // this.onMouseEnter = this.onMouseEnter.bind(this)\n    // this.onMouseLeave = this.onMouseLeave.bind(this)\n    // this.onControlMouseEnter = this.onControlMouseEnter.bind(this)\n    // this.onControlMouseLeave = this.onControlMouseLeave.bind(this)\n    this.initEvents();\n    const {playerConfig} = this\n    if (playerConfig.autoplay) {\n      this.onEnter()\n    }\n  }\n\n  initEvents () {\n    const { player } = this;\n\n    player.video.addEventListener('click', this.onVideoClick, false)\n\n    player.video.addEventListener('dblclick', this.onVideoDblClick, false)\n    player.root.addEventListener('contextmenu', this.onContextmenu, false)\n    this.once(Events.CANPLAY, this.onEntered.bind(this));\n    this.once(Events.AUTOPLAY_PREVENTED, () => {\n      this.onAutoPlayPrevented()\n    })\n\n    player.root.addEventListener('mouseenter', this.onMouseEnter)\n\n    player.root.addEventListener('mouseleave', this.onMouseLeave)\n\n    // player.controls.addEventListener('mouseenter', this.onControlMouseEnter, false)\n\n    // player.controls.addEventListener('mouseleave', this.onControlMouseLeave, false)\n  }\n\n  onContextmenu (e) {\n    e = e || window.event\n    if (e.preventDefault) {\n      e.preventDefault()\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation()\n    } else {\n      e.returnValue = false // 解决IE8右键弹出\n      e.cancelBubble = true\n    }\n  }\n  onEnter () {\n    const { player } = this;\n    Util.addClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onEntered () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onAutoPlayPrevented () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n    this.once(Events.PLAY, () => {\n      Util.addClass(player.root, 'xgplayer-is-enter')\n      this.once(Events.TIME_UPDATE, () => {\n        Util.removeClass(player.root, 'xgplayer-is-enter')\n      })\n    })\n  }\n\n  onVideoClick (e) {\n    e.preventDefault()\n    // e.stopPropagation()\n    if (!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    const { player } = this\n    let clk = 0; let timer;\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (timer) {\n        clearTimeout(timer)\n      }\n      if (clk === 1) {\n        timer = setTimeout(function () {\n          if (Util.hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              player.play()\n              // let playPromise = player.play()\n              // if (playPromise !== undefined && playPromise) {\n              //   playPromise.catch(err => {})\n              // }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n\n  onVideoDblClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    if (!player.config.closeVideoDblclick) {\n      player.fullscreen ? player.exitFullscreen() : player.getFullscreen()\n    }\n  }\n\n  onMouseEnter () {\n    const { player } = this\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n\n  onMouseLeave () {\n    const { player } = this;\n    if (!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 1500)\n    }\n  }\n\n  onControlMouseEnter () {\n    const { player } = this;\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n\n  onControlMouseLeave () {\n    const { player } = this;\n    if (!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n\n  destroy () {\n    const { player } = this;\n    player.root.removeEventListener('mouseenter', this.onMouseEnter)\n    player.root.removeEventListener('mouseleave', this.onMouseLeave)\n    player.off('ready', this.onReady)\n  }\n}\n","import Plugin from '../../plugin';\n\nclass MobilePlugin extends Plugin {\n  static get pluginName () {\n    return 'mobile';\n  }\n\n  static get defaultConfig () {\n    return {\n      index: 0\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.isTouchMove = false;\n  }\n\n  afterCreate () {\n    const {player} = this;\n    player.video.addEventListener('touchend', (e) => {\n      this.onTouchEnd(e);\n    }, false);\n\n    player.video.addEventListener('touchstart', () => {\n      this.isTouchMove = false;\n    });\n\n    player.video.addEventListener('touchmove', () => {\n      this.isTouchMove = true;\n    });\n  }\n\n  onTouchEnd (e) {\n    e.preventDefault();\n    const util = Plugin.Util;\n    e.stopPropagation();\n    const {player, playerConfig} = this;\n    if (util.hasClass(player.root, 'xgplayer-inactive')) {\n      player.emit('focus');\n    } else {\n      player.emit('blur');\n    }\n    if (!playerConfig.closeVideoTouch && !player.isTouchMove) {\n      if (util.hasClass(player.root, 'xgplayer-nostart')) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          let playPromise = player.play();\n          if (playPromise !== undefined && playPromise) {\n            playPromise.catch(err => {});\n          }\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }\n  render () {\n    return `\n     <xg-trigger></xg-trigger>\n    `\n  }\n}\n\nexport default MobilePlugin;\n","import { BasePlugin } from '../../plugin';\n\nclass PlaceHolderPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'placeholder'\n  }\n\n  render () {\n    return `<xg-placeholder class=\"xgplayer-placeholder\">\n    </xg-placeholder>`\n  }\n}\nexport default PlaceHolderPlugin\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst AnimateMap = {}\nfunction addAnimate (key, seconds, callback = {start: null, end: null}) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id)\n  }\n  AnimateMap[key] = {}\n  callback.start && callback.start()\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end()\n    window.clearTimeout(AnimateMap[key].id)\n    delete AnimateMap[key]\n  }, seconds);\n}\n\nconst { Util, Events } = Plugin\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'start'\n  }\n\n  static get defaultConfig () {\n    return {\n      isShowPause: false\n    }\n  }\n\n  afterCreate () {\n    const {player, root, playerConfig} = this\n    this.once(Events.READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(root, 'lang-is-jp')\n        }\n      }\n    })\n\n    if (!player.config.autoplay) {\n      this.show();\n    }\n\n    this.bind('click', (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      if (!player.isReady) {\n        return;\n      }\n      const paused = this.player.paused\n      if (!this.player.hasStart) {\n        this.player.start()\n        this.player.once('complete', () => {\n          this.player.play()\n        })\n      } else {\n        if (!paused) {\n          this.player.pause()\n        } else {\n          this.player.play()\n        }\n      }\n    })\n    this.on([Events.PLAY, Events.PAUSE], () => {\n      this.animate()\n    })\n    this.on(Events.AUTOPLAY_PREVENTED, () => {\n      this.show('inline-block');\n      this.animate(true)\n    })\n  }\n\n  registerIcons () {\n    return {\n      play: PlaySvg,\n      pause: PauseSvg\n    }\n  }\n\n  animate (isShowEnded) {\n    if (this.config.isShowPause && (isShowEnded || this.player.paused)) {\n      this.show()\n      this.root.innerHTML = this.icons.play\n      return;\n    }\n    addAnimate('pauseplay', 400, {\n      start: () => {\n        Util.addClass(this.root, 'interact')\n        this.show()\n        this.root.innerHTML = this.player.paused ? this.icons.pause : this.icons.play\n      },\n      end: () => {\n        Util.removeClass(this.root, 'interact');\n        if (this.config.isShowPause && (this.player.paused || isShowEnded)) {\n          return;\n        }\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\" >\n      <div class=\"play\">\n      ${this.icons.play}\n      </div>\n    </xg-start>`\n  }\n}\n\nexport default Start\n","import BasePlugin from '../../plugin/basePlugin';\n\nexport default class TextTrackPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'textTrack'\n  }\n\n  afterCreate () {\n    const { config, player } = this;\n    const options = config;\n    let textTrackDom = ''\n    if (options.textTrack && Array.isArray(options.textTrack) && (navigator.userAgent.indexOf('Chrome') > -1 || navigator.userAgent.indexOf('Firefox') > -1)) {\n      options.textTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    if (player.video) {\n      player.video.insertAdjacentHTML('afterbegin', textTrackDom);\n    }\n  }\n}\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter'\n}\n","import Player from '../../player'\nimport Plugin from '../../Plugin'\n\nexport default class ErrorPlugin extends Plugin {\n  static get pluginName () {\n    return 'error'\n  }\n\n  afterCreate () {\n    this.bind('.xgplayer-error-refresh', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n    this.on(Player.Events.CANPLAY, this.handleCanPlay.bind(this))\n    this.on(Player.Events.ERROR, this.handleError.bind(this))\n  }\n\n  handleCanPlay () {\n    Plugin.Util.removeClass(this.player.root, 'xgplayer-is-error')\n  }\n\n  handleError () {\n    const { player } = this;\n    const textDOM = this.find('.xgplayer-error-text');\n    if (player.error) {\n      textDOM.innerHTML = player.error\n    } else {\n      if (player.config.lang && player.config.lang === 'zh-cn') {\n        textDOM.innerHTML = player.lang.ERROR\n      } else {\n        this.root.innerHTML = `${player.lang.ERROR}，please try to <span class=\"xgplayer-error-refresh\">refresh</span>`\n      }\n    }\n  }\n  render () {\n    return `<xg-error class=\"xgplayer-error\">\n      <em class=\"xgplayer-error-text\"></em>请<span class=\"xgplayer-error-refresh\">刷新</span>试试\n    </xg-error>`\n  }\n}\n","import Plugin from '../../plugin';\n\nclass EnterPlugin extends Plugin {\n  static get pluginName () {\n    return 'index.scss';\n  }\n\n  render () {\n    let barStr = '';\n    for (let i = 1; i <= 12; i++) {\n      barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n    }\n\n    return `<xg-enter class=\"xgplayer-enter\"><div class=\"xgplayer-enter-spinner\">\n      ${barStr}\n    </div></xg-enter>`;\n  }\n}\n\nexport default EnterPlugin;\n","import BasePlugin from '../../plugin/basePlugin'\n\nclass Keyboard extends BasePlugin {\n  static get pluginName () {\n    return 'Keyboard'\n  }\n\n  static get defaultConfig () {\n    return {\n      seekStep: 10,\n      keyCodeMap: {},\n      disable: false\n    }\n  }\n\n  mergekeyCodeMap () {\n    const extendkeyCodeMap = this.config.keyCodeMap\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map(key => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key]\n        } else {\n          ['keyCode', 'action', 'disable', 'isBodyTarget'].map(key1 => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1])\n          })\n        }\n      })\n    }\n  }\n\n  afterCreate () {\n    this.config.disable = !this.playerConfig.keyShortcut\n    this.seekStep = 10\n    this.keyCodeMap = {\n      'space': {\n        keyCode: 32,\n        action: 'playPause',\n        disable: false,\n        noBodyTarget: false // 默认在body上触发\n      },\n      'up': {\n        keyCode: 38,\n        action: 'upVolume',\n        disable: false\n      },\n      'down': {\n        keyCode: 40,\n        action: 'downVolume',\n        disable: false\n      },\n      'left': {\n        keyCode: 37,\n        action: 'seekBack',\n        disable: false\n      },\n      'right': {\n        keyCode: 39,\n        action: 'seek',\n        disable: false\n      },\n      'esc': {\n        keyCode: 27,\n        action: 'exitFullscreen',\n        disable: false\n      }\n    }\n    this.mergekeyCodeMap()\n    this.onKeydown = this.onKeydown.bind(this)\n    this.onBodyKeyDown = this.onBodyKeyDown.bind(this)\n    this.player.root.addEventListener('keydown', this.onKeydown)\n    document.addEventListener('keydown', this.onBodyKeyDown)\n  }\n\n  afterPlayerInit () {\n    const seekStep = typeof this.config.seekStep === 'function' ? this.config.seekStep(this.player) : this.config.seekStep\n    if (!seekStep || typeof seekStep !== 'number') {\n      this.seekStep = seekStep\n    }\n  }\n\n  checkCode (code, isBodyTarget) {\n    let flag = false\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode) {\n        flag = !isBodyTarget || (isBodyTarget && !this.keyCodeMap[key].noBodyTarget)\n      }\n    })\n    return flag\n  }\n\n  downVolume () {\n    const {player} = this\n    if (player.volume - 0.1 >= 0) {\n      player.volume = parseFloat((player.volume - 0.1).toFixed(1))\n    } else {\n      player.volume = 0\n    }\n  }\n\n  upVolume () {\n    const {player} = this\n    if (player.volume + 0.1 <= 1) {\n      player.volume = parseFloat((player.volume + 0.1).toFixed(1))\n    } else {\n      player.volume = 1\n    }\n  }\n\n  seek () {\n    const {player} = this\n    if (player.currentTime + this.seekStep <= player.duration) {\n      player.currentTime += this.seekStep\n    } else {\n      player.currentTime = player.duration - 1\n    }\n  }\n\n  seekBack () {\n    const {player} = this\n    if (player.currentTime - this.seekStep >= 0) {\n      player.currentTime -= this.seekStep\n    } else {\n      player.currentTime = 0\n    }\n  }\n\n  playPause () {\n    const {player} = this\n    if (player.paused) {\n      // eslint-disable-next-line handle-callback-err\n      player.play().catch(err => {\n      })\n    } else {\n      player.pause()\n    }\n  }\n\n  exitFullscreen () {\n    const {player} = this\n    if (player.fullscreen) {\n      player.exitFullscreen()\n    }\n    if (player.isCssfullScreen) {\n      player.exitCssFullscreen()\n    }\n  }\n\n  // TODO: 多播放器实例存在的情况下，body下的快捷键会触发所有实例的逻辑，需改进\n  onBodyKeyDown (event) {\n    if (this.config.disable) {\n      return\n    }\n    let e = event || window.event\n    const keyCode = e.keyCode\n    if (e.target === document.body && this.checkCode(keyCode, true)) {\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n      this.handleKeyCode(keyCode)\n      return false\n    }\n    return false\n  }\n\n  onKeydown (event) {\n    if (this.config.disable) {\n      return\n    }\n    const player = this.player\n    let e = event || window.event\n    if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n      player.emit('focus')\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n    } else {\n      return true\n    }\n    this.handleKeyCode(e.keyCode)\n  }\n\n  handleKeyCode (keyCode) {\n    const {player} = this\n    if (keyCode === 40 || keyCode === 38) {\n      if (player.controls) {\n        // let volumeSlider = player.controls.querySelector('.xgplayer-slider')\n        // if (volumeSlider) {\n        //   if (Util.hasClass(volumeSlider, 'xgplayer-none')) {\n        //     Util.removeClass(volumeSlider, 'xgplayer-none')\n        //   }\n        //   if (player.sliderTimer) {\n        //     clearTimeout(player.sliderTimer)\n        //   }\n        //   player.sliderTimer = setTimeout(function () {\n        //     Util.addClass(volumeSlider, 'xgplayer-none')\n        //   }, player.config.inactive)\n        // }\n      }\n    }\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key].keyCode === keyCode && !this.keyCodeMap[key].disable) {\n        if (typeof this.keyCodeMap[key].action === 'function') {\n          this.keyCodeMap[key].action()\n        } else if (typeof this.keyCodeMap[key].action === 'string') {\n          const funKey = this.keyCodeMap[key].action\n          if (typeof this[funKey] === 'function') {\n            this[funKey]()\n          }\n        }\n      }\n    })\n  }\n\n  destroy () {\n    this.player.root.removeEventListener('keydown', this.onKeydown)\n    document.removeEventListener('keydown', this.onBodyKeyDown)\n  }\n}\n\nexport default Keyboard\n","import loadingIcon from '../assets/loading.svg';\n\nimport Plugin from '../../plugin/plugin';\n\nclass Loading extends Plugin {\n  static get pluginName () {\n    return 'loading'\n  }\n\n  registerIcons () {\n    return {\n      'loadingIcon': loadingIcon\n    }\n  }\n\n  render () {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      ${this.icons.loadingIcon}\n    </xg-loading>`\n  }\n}\n\nexport default Loading;\n","import Plugin from '../../plugin'\nconst defaultDot = {\n  time: 10, // 出现的时间点\n  text: '', // hover显示的文案\n  duration: 1, // 显示时长\n  style: {}, // 指定样式\n  color: '#fff' // 颜色\n}\n\nconst {Util, Events} = Plugin\nexport default class ProgressDot extends Plugin {\n  static get pluginName () {\n    return 'ProgressDots'\n  }\n\n  static get defaultConfig () {\n    return {\n      dots: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.dotsList = {}\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      const {dots} = this.config\n      if (!dots || !Array.isArray(dots)) {\n        return\n      }\n      dots.map(dot => {\n        this.createDotDom(dot)\n      })\n      this.initEvents()\n    })\n  }\n\n  initEvents () {\n    // this.bind('.xgplayer-progress-dot', 'mouseenter', (e) => {\n    //   console.log('mouseenter', e.target)\n    // })\n    // this.bind('.xgplayer-progress-dot', 'mouseleave', (e) => {\n    //   console.log('mouseleave', e.target)\n    // })\n  }\n\n  addDot (time, text, duration) {\n    let newDots = null\n    if (arguments.length === 1 && typeof time === 'object') {\n      newDots = arguments[0]\n    } else {\n      newDots = {\n        time: time,\n        text: text,\n        duration: duration\n      }\n    }\n    newDots = Util.deepCopy(arguments[0], defaultDot)\n    this.createDotDom(newDots)\n  }\n\n  removeDot (time) {\n    const {player} = this\n    if (time >= 0 && time <= player.duration && this.dotsList[time]) {\n      let dot = this.dotsList[time]\n      dot.parentNode.removeChild(dot)\n      dot = null\n      this.dotsList[time] = null\n    }\n  }\n\n  removeAllProgressDots () {\n    Object.keys(this.dotsList).forEach((key) => {\n      if (this.dotsList[key]) {\n        let dot = this.dotsList[key]\n        dot.parentNode.removeChild(dot)\n        dot = null\n        this.dotsList[key] = null\n      }\n    })\n  }\n\n  createDotDom (dot) {\n    const {player} = this\n    const dom = Util.createDom('xg-progress-dot', `${dot.text ? `<span class=\"xgplayer-progress-tip\">${dot.text}</span>` : ''}`, {}, 'xgplayer-progress-dot')\n    const style = dot.style || {}\n    style.left = (dot.time / player.duration) * 100 + '%'\n    style.width = (Math.min(dot.duration, player.duration - dot.time) / player.duration) * 100 + '%'\n    Object.keys(style).map(item => {\n      dom.style[item] = style[item]\n    })\n    this.dotsList[dot.time] = dom\n    this.root.appendChild(dom)\n  }\n\n  render () {\n    return '<xg-dots></xg-dots>'\n  }\n\n  destroy () {\n\n  }\n}\n","import Plugin from '../../plugin'\nimport ProgressDots from './progressdots'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nconst defaultThumbnailConfig = {\n  isShow: false,\n  urls: [],\n  pic_num: 0,\n  row: 0,\n  col: 0,\n  height: 160,\n  width: 90,\n  scale: 1\n}\n\n/**\n * 进度条组件\n */\nclass Progress extends Plugin {\n  static get pluginName () {\n    return 'Progress'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      progressDot: [],\n      thumbnail: null\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.useable = false\n    this.isProgressMoving = false\n\n    if (this.playerConfig.thumbnail && Sniffer.device !== 'mobile') {\n      this.config.thumbnail = this.playerConfig.thumbnail\n    }\n  }\n\n  changeState (useable = true) {\n    this.useable = useable\n  }\n\n  afterCreate () {\n    this.playedBar = this.find('.xgplayer-progress-played')\n    this.cachedBar = this.find('.xgplayer-progress-cache')\n    this.pointTip = this.find('.xgplayer-progress-point')\n    this.progressBtn = this.find('.xgplayer-progress-btn')\n    this.thumbnailDom = this.find('xg-thumbnail')\n    this.initThumbnail()\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on(Events.SEEKING, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on([Events.BUFFER_CHANGE, Events.ENDED], () => {\n      this.onCacheUpdate()\n    })\n    this.bindDomEvents()\n  }\n\n  children () {\n    return {\n      ProgressDots: {\n        plugin: ProgressDots,\n        options: {\n          root: this.find('xg-outer'),\n          dots: this.playerConfig.progressDot\n        }\n      }\n    }\n  }\n\n  initThumbnail () {\n    if (this.config.thumbnail) {\n      const {thumbnail} = this.config\n      this.thumbnailConfig = {}\n      Object.keys(defaultThumbnailConfig).map(key => {\n        if (typeof thumbnail[key] === 'undefined') {\n          this.thumbnailConfig[key] = defaultThumbnailConfig[key]\n        } else {\n          this.thumbnailConfig[key] = thumbnail[key]\n        }\n      })\n      const {width, height, scale} = this.thumbnailConfig\n      this.thumbnailDom.style.width = `${width * scale}px`\n      this.thumbnailDom.style.height = `${height * scale}px`\n    }\n  }\n\n  bindDomEvents () {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseMove = this.mouseMove.bind(this)\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this);\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.addEventListener(event, this.mouseDown);\n    })\n    this.root.addEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  mouseDown (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    const self = this\n    e.stopPropagation()\n    Util.event(e)\n    // this.pointTip为tip信息 不做seek操作\n    if (e.target === this.pointTip || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return true\n    }\n    this.root.focus()\n    const containerWidth = this.root.getBoundingClientRect().width\n    let {left} = this.playedBar.getBoundingClientRect()\n    let move = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      self.isProgressMoving = true\n      let w = e.clientX - left\n      if (w > containerWidth) {\n        w = containerWidth\n      }\n      let now = w / containerWidth * player.duration\n      self.playedBar.style.width = `${w * 100 / containerWidth}%`\n\n      if (player.videoConfig.mediaType === 'video' && !player.dash && !player.config.closeMoveSeek) {\n        player.currentTime = Number(now).toFixed(1)\n      } else {\n        self.updateTime(now)\n      }\n      player.emit('focus')\n    }\n    let up = function (e) {\n      // e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', move)\n      window.removeEventListener('touchmove', move, { passive: false })\n      window.removeEventListener('mouseup', up)\n      window.removeEventListener('touchend', up)\n      self.root.blur()\n      if (!self.isProgressMoving || player.videoConfig.mediaType === 'audio' || player.dash || player.config.closeMoveSeek) {\n        let w = e.clientX - left\n        if (w > containerWidth) {\n          w = containerWidth\n        }\n        let now = w / containerWidth * player.duration\n        self.playedBar.style.width = `${w * 100 / containerWidth}%`\n        player.currentTime = Number(now).toFixed(1)\n      }\n      player.emit('focus')\n      self.isProgressMoving = false\n    }\n    window.addEventListener('mousemove', move)\n    window.addEventListener('touchmove', move, { passive: false })\n    window.addEventListener('mouseup', up)\n    window.addEventListener('touchend', up)\n    return true\n  }\n\n  mouseEnter (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    if (!player.config.allowSeekAfterEnded && player.ended) {\n      return true\n    }\n    this.root.addEventListener('mousemove', this.mouseMove, false)\n    this.root.addEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseLeave (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    this.pointTip.style.display = 'none'\n    this.thumbnailDom.style.display = 'none'\n    this.root.removeEventListener('mousemove', this.mouseMove, false)\n    this.root.removeEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseMove (e) {\n    const {player} = this\n    let left = this.root.getBoundingClientRect().left\n    let width = this.root.getBoundingClientRect().width\n    let now = (e.clientX - left) / width * player.duration\n    now = now < 0 ? 0 : now\n    this.pointTip.textContent = Util.format(now)\n    let pointWidth = this.pointTip.getBoundingClientRect().width\n    let pleft = e.clientX - left - pointWidth / 2\n    pleft = pleft > 0 ? pleft : 0\n    pleft = pleft > width - pointWidth ? width - pointWidth : pleft\n    this.pointTip.style.left = `${pleft}px`\n    if (e.target && e.target.className === 'xgplayer-progress-dot') {\n      this.pointTip.style.display = 'none'\n    } else {\n      this.pointTip.style.display = 'block'\n    }\n    this.updateThumbnailPosition(e, now, width)\n  }\n\n  updateThumbnailPosition (e, now, containerWidth) {\n    if (!this.config.thumbnail) {\n      return;\n    }\n    const thumbnail = this.thumbnailConfig\n    if (!thumbnail || !thumbnail.pic_num === 0 || thumbnail.urls.length === 0) {\n      return\n    }\n    this.interval = this.player.duration / thumbnail.pic_num\n    let index = Math.floor(now / this.interval)\n    const {urls, row, col, height, width, scale} = thumbnail\n    const indexInPage = index + 1 - (col * row) * (Math.ceil((index + 1) / (col * row)) - 1)\n    const rowIndex = Math.ceil(indexInPage / row) - 1\n    const colIndex = indexInPage - rowIndex * row - 1\n    let left = e.clientX - width * scale / 2\n    left = left > 0 ? left : 0\n    left = left < containerWidth - width * scale ? left : containerWidth - width * scale\n    const style = {\n      backgroundImage: `url(${urls[Math.ceil((index + 1) / (col * row)) - 1]})`,\n      'background-position': `-${colIndex * width}px -${rowIndex * height}px`,\n      left: `${left}px`,\n      top: `${-10 - height * scale}px`,\n      display: 'block'\n    }\n    Object.keys(style).map((key) => {\n      this.thumbnailDom.style[key] = style[key]\n    })\n  }\n\n  updateTime (time) {\n    const {player} = this\n    let timeIcon = player.plugins.time\n    if (time) {\n      timeIcon.updateTime(time)\n    }\n  }\n\n  compute (e) {\n    const containerLeft = this.root.getBoundingClientRect().left\n    const containerWidth = this.root.getBoundingClientRect().width\n    const pointWidth = this.pointTip.getBoundingClientRect().width\n    let left = e.clientX - containerLeft - pointWidth / 2\n    left = left > 0 ? left : 0\n    left = left > containerWidth - pointWidth ? containerWidth - pointWidth : left\n    this.pointTip.style.left = `${left}px`\n  }\n\n  onTimeupdate () {\n    const {player} = this\n    if (player.isSeeking) {\n      return;\n    }\n    if (player.videoConfig.mediaType !== 'audio' || !this.isProgressMoving || !player.dash) {\n      this.playedBar.style.width = `${player.currentTime * 100 / player.duration}%`\n    }\n  }\n\n  onCacheUpdate () {\n    const {player} = this\n    let buffered = player.buffered\n    if (buffered && buffered.length > 0) {\n      let end = buffered.end(buffered.length - 1)\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        if (player.currentTime >= buffered.start(i) && player.currentTime <= buffered.end(i)) {\n          end = buffered.end(i)\n          for (let j = i + 1; j < buffered.length; j++) {\n            if (buffered.start(j) - buffered.end(j - 1) >= 2) {\n              end = buffered.end(j - 1)\n              break\n            }\n          }\n          break\n        }\n      }\n      this.cachedBar.style.width = `${end / player.duration * 100}%`\n    }\n  }\n\n  destroy () {\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.removeEventListener(event, this.mouseDown);\n    })\n    this.root.removeEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  render () {\n    return `\n      <xg-progress class=\"xgplayer-progress\">\n        <xg-outer class=\"xgplayer-progress-outer\">\n          <xg-cache class=\"xgplayer-progress-cache\" style=\"width:0\">\n          </xg-cache>\n          <xg-played class=\"xgplayer-progress-played\" style=\"width:0\">\n            <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n            <xg-point class=\"xgplayer-progress-point xg-tips\">00:00</xg-point>\n            <xg-thumbnail class=\"xgplayer-progress-thumbnail xg-tips\"></xg-thumbnail>\n          </xg-played>\n        </xg-outer>\n      </xg-progress>\n    `\n  }\n}\n\nexport default Progress\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst {Events, POSITIONS, Sniffer} = Plugin\n\nclass Play extends Plugin {\n  static get pluginName () {\n    return 'Play'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    const { player, config } = this\n    if (config.disable) {\n      return\n    }\n    this.btnClick = this.btnClick.bind(this)\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.btnClick)\n\n    this.on(Events.PAUSE, () => {\n      this.animate(player.paused)\n    })\n    this.on(Events.PLAY, () => {\n      this.animate(player.paused)\n    })\n  }\n\n  btnClick (e) {\n    const {player} = this\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: PlaySvg,\n      pause: PauseSvg\n    }\n  }\n\n  animate (paused) {\n    if (paused) {\n      this.find('.xgplayer-icon').innerHTML = this.icons.play\n      this.find('.xg-tips').innerHTML = this.text.play\n    } else {\n      this.find('.xgplayer-icon').innerHTML = this.icons.pause\n      this.find('.xg-tips').innerHTML = this.text.pause\n    }\n    // const path = this.find('.path')\n    // const pathPlay = this.find('.path_play').getAttribute('d')\n    // const pathPause = this.find('.path_pause').getAttribute('d')\n    // !paused ? path.setAttribute('d', pathPause) : path.setAttribute('d', pathPlay)\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.btnClick)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.play}\n    </div>\n    <div class=\"xg-tips\">${this.player.paused ? this.text.play : this.text.pause}</div>\n    </xg-icon>`\n  }\n}\nexport default Play\n","import Plugin from '../../plugin'\nimport FullScreenChangeSvg from '../assets/fullscreenChange.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class Fullscreen extends Plugin {\n  static get pluginName () {\n    return 'fullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 0,\n      useCssFullscreen: false,\n      switchCallback: null,\n      target: null\n    }\n  }\n\n  afterCreate () {\n    this.isFullScreen = this.player.isFullScreen\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['click', 'touchend'], this.btnClick)\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      this.find('.xg-tips').innerHTML = isFullScreen ? this.text.exitFullscreen : this.text.fullscreen\n      this.animate(isFullScreen)\n    })\n  }\n\n  btnClick (e) {\n    const {player, config} = this;\n    let useCssFullscreen = false\n    if (config.useCssFullscreen === true || (typeof config.useCssFullscreen === 'function' && config.useCssFullscreen())) {\n      useCssFullscreen = true;\n    }\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.getCssFullscreen()\n        player.fullscreen = true\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        player.exitCssFullscreen()\n        player.fullscreen = false\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    } else {\n      if (config.switchCallback && typeof config.switchCallback === 'function') {\n        config.switchFullScreen(this.isFullScreen)\n        this.isFullScreen = !this.isFullScreen\n        return\n      }\n      if (player.fullscreen) {\n        player.exitFullscreen(config.target)\n      } else {\n        player.getFullscreen(config.target)\n      }\n    }\n  }\n\n  animate (isFullScreen) {\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  registerLangauageTexts () {\n    return {\n      fullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Fullscreen',\n        zh: '进入全屏'\n      },\n      exitFullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Exit fullscreen',\n        zh: '退出全屏'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      fullscreenChange: FullScreenChangeSvg\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.fullscreenChange}\n    </div>\n    <div class=\"xg-tips\">${this.player.isFullScreen ? this.text.exitFullscreen : this.text.fullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Util, Events, POSITIONS } = Plugin\n\nclass Time extends Plugin {\n  static get pluginName () {\n    return 'time'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    this.durationDom = this.find('.time-duration')\n    this.timeDom = this.find('.time-current')\n    this.on(Events.DURATION_CHANGE, () => {\n      this.onTimeUpdate()\n    })\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeUpdate()\n    })\n  }\n\n  onTimeUpdate () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    const current = player.currentTime\n    this.timeDom.innerHTML = Util.format(current)\n    if (player.duration !== Infinity) {\n      this.durationDom.innerHTML = Util.format(player.duration)\n    }\n  }\n\n  afterPlayerInit () {\n    const {player, config} = this\n    if (player.duration === Infinity || this.playerConfig.isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n    }\n    if (config.hide) {\n      this.hide()\n      return\n    }\n    this.show();\n  }\n\n  changeLiveState (isLive) {\n    if (isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n      Util.show(this.find('.time-separator'))\n      Util.show(this.durationDom)\n      Util.show(this.timeDom)\n    }\n  }\n\n  updateTime (time) {\n    const { player } = this\n    if ((!time && time !== 0) || time > player.duration) {\n      return\n    }\n    this.timeDom.innerHTML = Util.format(time)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-time\" style=\"display:none\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">直播</span>\n    </xg-icon>`\n  }\n}\nexport default Time\n","import Plugin from '../../plugin'\nimport volumeChange from '../assets/volumeChange.svg'\n\nconst {Util, Events, POSITIONS} = Plugin\n\nclass Volume extends Plugin {\n  static get pluginName () {\n    return 'Volume'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  registerIcons () {\n    return {\n      volumeChange: volumeChange\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    this.bar = this.find('.xgplayer-bar')\n    this.drag = this.find('.xgplayer-drag')\n    this.changeMuted = this.changeMuted.bind(this)\n\n    this.onBarMousedown = this.onBarMousedown.bind(this)\n\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onMouseleave = this.onMouseleave.bind(this)\n    this.bind('mouseenter', this.onMouseenter)\n\n    this.bind(['blur', 'mouseleave'], this.onMouseleave)\n\n    this.bind('.xgplayer-bar', 'mousedown', this.onBarMousedown)\n    this.bind('.xgplayer-icon', ['click', 'touched'], this.changeMuted)\n\n    this.on(Events.VOLUME_CHANGE, this.onVolumeChange.bind(this))\n  }\n\n  onBarMousedown (e) {\n    const {player} = this\n    player.video.muted = false\n    const drag = this.drag\n    const slider = this.find('.xgplayer-slider')\n    slider.focus()\n    Util.event(e)\n\n    let barRect = this.bar.getBoundingClientRect()\n    let pos = {x: e.clientX, y: e.clientY}\n    let height = drag.getBoundingClientRect().height\n    let isMove = false\n    let onMove = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      isMove = true\n      let w = height - e.clientY + pos.y\n      let now = w / barRect.height\n      drag.style.height = `${w}px`\n      player.volume = Math.max(Math.min(now, 1), 0)\n    }\n\n    let onUp = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', onMove)\n      window.removeEventListener('touchmove', onMove)\n      window.removeEventListener('mouseup', onUp)\n      window.removeEventListener('touchend', onUp)\n\n      if (!isMove) {\n        let w = barRect.height - (e.clientY - barRect.top)\n        let now = w / barRect.height\n        drag.style.height = `${w}px`\n        if (now <= 0) {\n          if (player.volume > 0) {\n            drag.volume = player.video.volume\n          } else {\n            now = drag.volume\n          }\n        }\n        player.volume = Math.max(Math.min(now, 1), 0)\n      }\n      slider.volume = player.volume\n      isMove = false\n    }\n    window.addEventListener('mousemove', onMove)\n    window.addEventListener('touchmove', onMove)\n    window.addEventListener('mouseup', onUp)\n    window.addEventListener('touchend', onUp)\n    return false\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.addClass(this.root, 'slide-show')\n  }\n  onMouseleave (e) {\n    console.log('mouseleave')\n    e.preventDefault()\n    e.stopPropagation()\n    Util.removeClass(this.root, 'slide-show')\n  }\n\n  changeMuted () {\n    const {player} = this\n    player.muted = !player.muted\n  }\n\n  onVolumeChange () {\n    const {muted, volume} = this.player\n    this.find('.xgplayer-drag').style.height = muted || volume === 0 ? `0px` : `${volume * 100}%`\n    this.animate(muted, volume)\n  }\n\n  animate (muted, volume) {\n    const path = this.find('.path')\n    const pathLarge = this.find('.path_large').getAttribute('d')\n    const pathSmall = this.find('.path_small').getAttribute('d')\n    const pathMuted = this.find('.path_muted').getAttribute('d')\n    if (muted || volume === 0) {\n      path.setAttribute('d', pathMuted)\n    } else {\n      volume >= 0.5 ? path.setAttribute('d', pathLarge) : path.setAttribute('d', pathSmall)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    const {volume} = this.player\n    return `\n    <xg-icon class=\"xgplayer-volume\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.volumeChange}\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        <xg-bar class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </xg-bar>\n      </xg-slider>\n    </xg-icon>`\n  }\n}\nexport default Volume\n","import Plugin from '../../plugin'\nimport RotateSvg from '../assets/rotate.svg'\n\nconst {POSITIONS} = Plugin\n\nexport default class Rotate extends Plugin {\n  static get pluginName () {\n    return 'rotate'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      innerRotate: false, // true为只有画面旋转，false为整个播放器旋转\n      clockwise: false,\n      rotateDeg: 0, // 初始旋转角度\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.rotateDeg = this.config.rotateDeg || 0\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.rotate === 'boolean') {\n      args.config.disable = !args.player.config.rotate\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  destroy () {\n    this.unbind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  onBtnClick (e) {\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1)\n  }\n\n  updateRotateDeg () {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n\n    let width = player.root.offsetWidth\n    let height = player.root.offsetHeight\n    let targetWidth = player.video.videoWidth\n    let targetHeight = player.video.videoHeight\n\n    if (!this.config.innerRotate) {\n      // player.root.style.width = height + 'px'\n      // player.root.style.height = width + 'px'\n    }\n\n    let scale\n    if (this.rotateDeg === 0.25 || this.rotateDeg === 0.75) {\n      if (this.config.innerRotate) {\n        if ((targetWidth / targetHeight) > (height / width)) { // 旋转后纵向撑满\n          let videoWidth = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoWidth = height * targetWidth / targetHeight\n          } else {\n            // 旋转前是横向撑满\n            videoWidth = width\n          }\n          scale = height / videoWidth\n        } else { // 旋转后横向撑满\n          let videoHeight = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoHeight = height\n          } else { // 旋转前是横向撑满\n            videoHeight = width * targetHeight / targetWidth\n          }\n          scale = width / videoHeight\n        }\n      } else {\n        if (width >= height) {\n          scale = width / height\n        } else {\n          scale = height / width\n        }\n      }\n      scale = parseFloat(scale.toFixed(5))\n    } else {\n      scale = 1\n    }\n\n    if (this.config.innerRotate) {\n      player.video.style.transformOrigin = 'center center'\n      player.video.style.transform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n      player.video.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n    } else {\n      player.root.style.transformOrigin = 'center center'\n      player.root.style.transform = `rotate(${this.rotateDeg}turn) scale(${1})`\n      player.root.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${1})`\n    }\n  }\n\n  rotate (clockwise = false, innerRotate = true, times = 1) {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n    let factor = clockwise ? 1 : -1\n\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1\n    this.updateRotateDeg()\n    player.emit('rotate', this.rotateDeg * 360)\n  }\n\n  registerIcons () {\n    return {\n      'rotate': RotateSvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'rotate': {\n        jp: '日文text',\n        en: 'rotate',\n        zh: '旋转屏幕'\n      }\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.rotate}\n      </div>\n      <div class=\"xg-tips\">\n      ${this.text.rotate}\n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, POSITIONS} = Plugin\n\nclass PIP extends Plugin {\n  static get pluginName () {\n    return 'Pip'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      showIcon: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.pip === 'boolean') {\n      args.config.showIcon = args.player.config.pip\n    }\n  }\n\n  afterCreate () {\n    // video初始化之后再做判断是否显示\n    this.once(Events.COMPLETE, () => {\n      if (this.config.showIcon && this.isPIPAvailable()) {\n        this.show()\n        this.switchPIP = this.switchPIP.bind(this)\n        this.bind('click', this.switchPIP)\n      }\n      this.initPipEvents()\n    })\n  }\n\n  initPipEvents () {\n    const {player} = this\n    this.leavePIPCallback = () => {\n      // 处理点击x关闭画中画的时候暂停问题\n      const paused = player.paused\n      setTimeout(() => {\n        !paused && player.play()\n      }, 0)\n      player.emit('pip_change', false)\n    }\n\n    this.enterPIPCallback = () => {\n      player.emit('pip_change', true)\n    }\n\n    if (player.video) {\n      player.video.addEventListener('enterpictureinpicture', this.enterPIPCallback)\n      // Video left Picture-in-Picture mode.\n      player.video.addEventListener('leavepictureinpicture', this.leavePIPCallback)\n    }\n  }\n\n  switchPIP () {\n    const {player, playerConfig} = this\n    if (this.isPIPAvailable()) {\n      return false\n    }\n    try {\n      if (document.pictureInPictureElement && document.pictureInPictureElement === player.video) {\n        document.exitPictureInPicture();\n      } else {\n        if (playerConfig.poster) {\n          player.video.poster = playerConfig.poster\n        }\n        player.video && player.video.requestPictureInPicture()\n      }\n      return true\n    } catch (reason) {\n      console.error('switchPIP', reason);\n      return false\n    }\n  }\n\n  get isPip () {\n    const {player} = this\n    return document.pictureInPictureElement === player.video\n  }\n\n  isPIPAvailable () {\n    const {player} = this\n    return document.pictureInPictureEnabled || !(player.video && player.video.disablePictureInPicture);\n  }\n\n  registerLangauageTexts () {\n    return {\n      'pipicon': {\n        jp: 'picture-in-picture',\n        en: 'picture-in-picture',\n        zh: '画中画'\n      }\n    }\n  }\n\n  destroy () {\n    const {player} = this\n    player.video.removeEventListener('enterpictureinpicture', this.enterPIPCallback)\n    player.video.removeEventListener('leavepictureinpicture', this.leavePIPCallback)\n    this.unbind('click', this.switchPIP)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon btn-definition\">\n      ${this.icons.pipicon ? this.icons.pipicon : `<span>${this.text.pipicon}</span>`}\n      </div>\n      ${this.icons.pipicon ? `<div class=\"xg-tips\">${this.text.pipicon}</div>` : ''}\n    </xg-icon>`\n  }\n}\nexport default PIP\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","import downloadUtil from 'downloadjs'\nimport Plugin from '../../plugin'\nimport DownloadSvg from '../assets/download.svg'\nconst {POSITIONS} = Plugin\n\nexport default class Download extends Plugin {\n  static get pluginName () {\n    return 'DownloadIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.timer = null\n    this.isLock = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.download === 'boolean') {\n      args.config.disable = !args.player.config.download\n    }\n  }\n\n  afterCreate () {\n    if (!this.config.download) {\n      return;\n    }\n    this.download = this.download.bind(this)\n    this.bind(['click', 'touchend'], this.download)\n  }\n\n  registerLangauageTexts () {\n    return {\n      download: {\n        jp: 'フルスクリーン',\n        en: 'download',\n        zh: '下载'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      download: DownloadSvg\n    }\n  }\n\n  download () {\n    if (!this.isLock) {\n      return\n    }\n    const url = this.getAbsoluteURL(this.player.src)\n    downloadUtil(url)\n    this.isLock = true\n    this.timer = window.setTimeout(() => {\n      this.isLock = false\n      window.clearTimeout(this.timer)\n      this.timer = null\n    }, 300)\n  }\n\n  getAbsoluteURL (url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement('div')\n      div.innerHTML = `<a href=\"${url}\">x</a>`\n      url = div.firstChild.href\n    }\n    return url\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.download)\n    window.clearTimeout(this.timer)\n    this.timer = null\n  }\n\n  render () {\n    if (!this.config.download) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.download}\n      </div>\n      <div class=\"xg-tips\">${this.text.download}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { POSITIONS } = Plugin\nexport default class ScreenShot extends Plugin {\n  static get pluginName () {\n    return 'screenShot'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 5,\n      quality: 0.92,\n      type: 'image/png',\n      format: '.png',\n      width: 600,\n      height: 337,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.screenShot === 'boolean') {\n      args.config.disable = !args.player.config.screenShot\n    }\n  }\n\n  onPluginsReady () {\n    this.show()\n    this.onClickBtn = this.onClickBtn.bind(this)\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  saveScreenShot (data, filename) {\n    const saveLink = document.createElement('a')\n    saveLink.href = data\n    saveLink.download = filename\n    let event = document.createEvent('MouseEvents')\n    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    saveLink.dispatchEvent(event)\n  }\n\n  createCanvans () {\n    const canvas = document.createElement('canvas')\n    this.canvasCtx = canvas.getContext('2d')\n    this.canvas = canvas\n    canvas.width = this.config.width || 600\n    canvas.height = this.config.height || 337.5\n  }\n\n  onClickBtn (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.canvas) {\n      this.createCanvans();\n    }\n    let img = new window.Image();\n    this.canvasCtx.drawImage(this.player.video, 0, 0, this.canvas.width, this.canvas.height)\n    const encoderOptions = this.config.quality\n    const type = this.config.type\n    const format = this.config.format\n    img.setAttribute('crossOrigin', 'anonymous')\n    img.src = this.canvas.toDataURL(type, encoderOptions).replace(type, 'image/octet-stream')\n    const screenShotImg = img.src.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream')\n    this.emit('screenShot', screenShotImg)\n    this.saveScreenShot(screenShotImg, '截图' + format)\n    img.onload = () => {\n      console.log('img.onload')\n      img = null;\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'screenshot': {\n        jp: 'play',\n        en: 'play',\n        zh: '截图'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      'screenshotIcon': null\n    }\n  }\n\n  destroy () {\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? 'xgplayer-icon' : 'xgplayer-icon btn-definition'\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? `${this.icons.screenshotIcon}` : `<span>${this.text.screenshot}</span>`} \n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Events, Util, Sniffer, POSITIONS } = Plugin\nexport default class DefinitionIcon extends Plugin {\n  static get pluginName () {\n    return 'Definition'\n  }\n\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      list: null,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    // 记录切换的时候的播放器状态\n    this.curTime = 0\n    this.isPaused = true\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      if (this.config.list && this.config.list.length > 0) {\n        this.renderItemList()\n        this.show()\n      }\n    })\n    this.once('resourceReady', (list) => {\n      this.changeDefinitionList(list)\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onToggle = this.onToggle.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onToggle)\n    this.bind('mouseleave', this.onToggle)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const {player} = this\n    const {list} = this.config\n    let src = player.config.url;\n    const a = document.createElement('a')\n    if (player.switchURL) {\n      this.switchUrl()\n    } else {\n      src = player.currentSrc || player.src\n    }\n    if (player['hls']) {\n      a.href = player['hls'].url\n      src = a.href\n    }\n\n    const liList = list.map(item => {\n      a.href = item.url\n      const className = player.dash ? (item.selected ? 'selected' : '') : (a.href === src ? 'selected' : '')\n      return `<li class=\"${className}\" cname=\"${item.name}\" url=\"${item.url}\">${item.name}</li>`\n    })\n    let cursrc = list.filter(item => {\n      a.href = item.url\n      if (player.dash) {\n        return item.selected === true\n      } else {\n        return a.href === src\n      }\n    })\n    this.find('.icon-text').innerHTML = (cursrc[0] || {name: '清晰度'}).name\n    this.find('.icon-list').innerHTML = liList.join('')\n  }\n\n  onCanplayChangeDefinition () {\n    const {player} = this\n    player.currentTime = this.curTime\n    if (!this.isPaused) {\n      let playPromise = player.play()\n      if (playPromise !== undefined && playPromise) {\n        // eslint-disable-next-line handle-callback-err\n        playPromise.catch(err => {})\n      }\n    }\n    player.emit('afterdefinitionChange')\n  }\n\n  onToggle (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  switchUrl (lastATag) {\n    const {player} = this\n    let curRUL = document.createElement('a');\n    ['mp4', 'hls', '__flv__', 'dash'].every(item => {\n      if (player[item]) {\n        if (player[item].url) {\n          curRUL.href = player[item].url\n        }\n        if (item === '__flv__') {\n          if (player[item]._options) {\n            curRUL.href = player[item]._options.url\n          } else {\n            curRUL.href = player[item]._mediaDataSource.url\n          }\n        }\n        return false\n      } else {\n        return true\n      }\n    })\n    if (lastATag && curRUL.href !== lastATag.href && !player.ended) {\n      player.switchURL(lastATag.href)\n    }\n  }\n\n  // 对外暴露 切换清晰度\n  changeDefinitionList (list) {\n    this.config.list = list\n    this.renderItemList()\n    this.show()\n  }\n\n  onItemClick (e) {\n    const {player} = this\n    const {list} = this.config\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.target && e.target.className === 'selected') {\n      return false\n    }\n    const a = document.createElement('a')\n    player.emit('beforeDefinitionChange', a.href)\n    if (player.dash) {\n      list.forEach(item => {\n        item.selected = false\n        if (item.name === e.target.innerHTML) {\n          item.selected = true\n        }\n      })\n    }\n    const curlSelected = this.find('.selected')\n    Util.addClass(e.target, 'selected')\n    curlSelected && Util.removeClass(curlSelected, 'selected')\n    const from = curlSelected ? curlSelected.getAttribute('cname') : ''\n    const to = e.target.getAttribute('cname')\n    a.href = e.target.getAttribute('url')\n    this.curTime = player.currentTime;\n    this.isPaused = player.paused\n    if (player.switchURL) {\n      this.switchUrl(a)\n    } else {\n      // if (player['hls']) {\n      //   let curRUL = document.createElement('a')\n      //   curRUL = player['hls'].url\n      // }\n      if (a.href !== player.currentSrc) {\n        if (!player.ended) {\n          player.src = a.href\n          this.once('canplay', () => {\n            this.onCanplayChangeDefinition()\n          })\n        }\n      }\n    }\n    this.find('.icon-text').innerHTML = to\n    player.emit('definitionChange', {from, to})\n    if (Sniffer.device === 'mobile') {\n      Util.removeClass(this.root, 'list-show')\n    }\n  }\n\n  render () {\n    const text = '清晰度'\n    return `<xg-icon class=\"xgplayer-playbackrate\" style=\"display: none;\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, Sniffer, POSITIONS} = Plugin\n\nexport default class PlaybackRate extends Plugin {\n  static get pluginName () {\n    return 'PlaybackRate'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 4,\n      list: [0.5, 0.75, {rate: 1, iconText: '倍速'}, 1.5, 2]\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.curRate = 1\n  }\n\n  afterCreate () {\n    const {playerConfig, config} = this\n    if (Array.isArray(playerConfig.playbackRate)) {\n      config.list = playerConfig.playbackRate\n    }\n    this.once(Events.CANPLAY, () => {\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.renderItemList();\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  show () {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show()\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  onItemClick (e) {\n    const target = e.target\n    const cname = target.getAttribute('cname')\n    if (Number(cname) === this.curRate) {\n      return false\n    }\n    Util.removeClass(this.find('.selected'), 'selected')\n    Util.addClass(target, 'selected')\n    this.curRate = Number(cname)\n    this.player.playbackRate = Number(cname)\n    this.find('.icon-text').innerHTML = target.getAttribute('ctext')\n  }\n\n  destroy () {\n    this.unbind(this.activeEvent, this.onMouseenter)\n    this.unbind('mouseleave', this.onMouseenter)\n    this.unbind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const playbackRate = this.player.playbackRate || 1\n    this.curRate = playbackRate\n    let currentText = ''\n    const items = this.config.list.map((item) => {\n      let itemInfo = typeof item === 'object' ? item : {rate: item}\n      !itemInfo.text && (itemInfo.text = `${itemInfo.rate}x`)\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.isCurrent = true\n        currentText = item.iconText || itemInfo.text\n      }\n      return `<li cname=\"${itemInfo.rate}\" ctext=\"${item.iconText || itemInfo.text}\" class=\"${itemInfo.isCurrent ? 'selected' : ''}\">${itemInfo.text}</li>`\n    })\n    this.find('.icon-list').innerHTML = items.join('')\n    this.find('.icon-text').innerHTML = currentText\n    this.show()\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\">\n    <span class=\"icon-text\"></span>\n    </div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\nimport CssFullscreenChange from '../assets/cssFullscreenChange.svg'\n\nconst {Events, POSITIONS} = Plugin\nexport default class CssFullScreen extends Plugin {\n  static get pluginName () {\n    return 'cssFullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.cssFullscreen === 'boolean') {\n      args.config.disable = !args.player.config.cssFullscreen\n    }\n  }\n\n  afterCreate () {\n    this.on(Events.CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen)\n    })\n    // 退出全屏的时候会同时退出网页全屏\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      !isFullScreen && this.animate(isFullScreen)\n    })\n  }\n\n  afterPlayerInit () {\n    this.btnClick = this.btnClick.bind(this);\n    this.bind(['click', 'touchend'], this.btnClick)\n  }\n\n  btnClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.player.isCssfullScreen) {\n      this.player.getCssFullscreen()\n    } else {\n      this.player.exitCssFullscreen()\n    }\n  }\n\n  animate (isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  switchTips () {\n    this.find('.xg-tips').innerHTML = this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen\n  }\n\n  registerIcons () {\n    return {\n      cssFullscreen: CssFullscreenChange\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'cssFullscreen': {\n        jp: 'Cssfullscreen',\n        en: 'Cssfullscreen',\n        zh: '进入样式全屏'\n      },\n      exitCssFullscreen: {\n        jp: 'Exit cssfullscreen',\n        en: 'Exit cssfullscreen',\n        zh: '退出样式全屏'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    if (!this.playerConfig.cssFullscreen) {\n      return\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    ${this.icons.cssFullscreen}\n    </div>\n    <div class=\"xg-tips\">${this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import sniffer from '../utils/sniffer';\n// import Danmu from '../plugins/danmu'\nimport Replay from '../plugins/replay';\nimport Poster from '../plugins/poster';\nimport Start from '../plugins/start';\nimport Enter from '../plugins/enter';\nimport Miniscreen from '../plugins/miniScreen';\nimport PC from '../plugins/pc'\nimport Mobile from '../plugins/mobile'\nimport Keyboard from '../plugins/keyboard'\nimport Loading from '../plugins/loading'\nimport Progress from '../plugins/progress'\nimport PlayIcon from '../plugins/play'\nimport FullScreen from '../plugins/fullscreen'\nimport TimeIcon from '../plugins/time'\nimport Volume from '../plugins/volume'\nimport RotateIcon from '../plugins/rotate'\nimport PIPIcon from '../plugins/pip'\nimport PlayNextIcon from '../plugins/playNext'\nimport DownLoadIcon from '../plugins/download'\nimport ScreenShotIcon from '../plugins/screenShot'\nimport DefinitionIcon from '../plugins/definition'\nimport PlaybackRateIcon from '../plugins/playbackRate'\nimport CssFullScreen from '../plugins/cssFullScreen'\n\nexport default class DefaultPreset {\n  constructor () {\n    const contolsIcons = [Progress, PlayIcon, FullScreen, TimeIcon, Volume,\n      RotateIcon, PlayNextIcon, DefinitionIcon, PlaybackRateIcon, CssFullScreen, DownLoadIcon, ScreenShotIcon]\n\n    const barIcons = [{\n      plugin: PIPIcon,\n      options: {\n        index: 0,\n        position: PIPIcon.POSITIONS.ROOT_RIGHT\n      }}]\n\n    const layers = [Replay, Poster, Start, Loading, Enter, Miniscreen]\n\n    this.plugins = [...contolsIcons, ...layers, ...barIcons]\n    switch (sniffer.device) {\n      case 'pc':\n        this.plugins.push(...[Keyboard, PC]);\n        break;\n      case 'mobile':\n        this.plugins.push(Mobile);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PC])\n    }\n    this.ignores = []\n  }\n}\n","import Player from './player'\nimport * as Plugins from './plugins'\nimport defaultPreset from './presets/default';\n\nPlayer.defaultPreset = defaultPreset;\nPlayer.defaultPlugins = Plugins;\n\nexport default Player\n"],"names":["isValue","isObject","isPrototype","isFunction","_undefined","require$$0","require$$1","value","keys","normalizeOpts","isPlainFunction","callable","d","hasOwnProperty","util","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","Object","forEach","key","item","setAttribute","hasClass","classList","Array","prototype","some","call","match","RegExp","addClass","replace","split","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","e","indexOf","getElementById","slice","padStart","str","length","pad","charstr","String","len","maxlen","Math","ceil","chars","r","push","join","substring","format","time","window","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","obj","toString","deepCopy","dst","src","Node","undefined","concat","deepMerge","map","getBgImage","url","currentStyle","getComputedStyle","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","name","setInterval","context","eventName","intervalFunc","frequency","_interval","bind","clearInterval","createImgBtn","imgUrl","width","height","btn","style","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","test","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","hide","display","show","ErrorTypes","network","code","msg","remark","mse","parse","decoder","runtime","timeout","other","Errors","type","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","version","errorCode","mediaError","arguments","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","SEI_PARSED","Proxy","options","_hasStart","_currentTime","_duration","videoConfig","assign","controls","autoplay","playsinline","airplay","tabindex","mediaType","videoAttrbutes","loop","defaultPlaybackRate","video","autoplayMuted","muted","EventEmitter","_initEvents","lastBuffer","ev","charAt","toUpperCase","_emitEvent","funName","player","evItem","videoEventHandler","errorHandler","emit","curBuffer","i","buffered","start","end","addEventListener","error","pause","removeAttribute","load","k","evName","evFunc","off","removeEventListener","allOff","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","err","status","en","cn","lang","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","device","os","isPc","browser","ua","navigator","userAgent","toLowerCase","ie","firfox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","Obj","defineProperty","args","Util","beforeCreate","__args","__events","config","__init","defineGetterOrSetter","get","pluginName","constructor","logger","callback","on","isArray","once","res","offAll","destroy","Sniffer","Events","pluginsManager","init","cgid","_pluginInfoId","Date","getTime","pluginGroup","lazyRegister","lazyPlugin","Promise","race","loader","then","plugin","result","__esModule","default","register","resolve","reject","setTimeout","Error","_plugins","plugins","originalOptions","_originalOptions","_player","isSupported","console","warn","defaultConfig","root","index","_instance","func","afterCreate","unRegister","_destroy","getPlugins","findPlugin","cName","beforeInit","log","retPromise","prevTask","_loadingPlugins","all","pluginsRet","beforePlayerInit","ret","catch","afterInit","afterPlayerInit","reRender","pluginsMap","_args","onPluginsReady","matches","_createElement","tag","registerIconsObj","iconsConfig","iconKey","icons","_icons","playerConfig","registerTextObj","textConfig","text","Plugin","html","parent","children","insertIdx","parseInt","isDomElement","HTMLElement","appendChild","insertAdjacentHTML","insertBefore","_parent","_el","defaultIcons","registerIcons","defaultTexConfig","registerLangauageTexts","renderStr","render","message","insert","attr","setAttr","setStyle","__registeChildren","_children","_plugin","c","registerPlugin","_c","qs","eventType","bindEL","delegate","unbindEL","htmlStr","innerHtml","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","parentNode","removeChild","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_CENTER","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","NO_START","ACTIVE","FULLSCREEN","CSS_FULLSCREEN","NO_CONTROLS","AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","id","fluid","fitVideoSize","videoInit","poster","execBeforePluginsCall","closeVideoClick","closeVideoDblclick","closePlayerBlur","leavePlayerTime","closePlayVideoFocus","closeFocusVideoFocus","closeControlsBlur","ignores","whitelist","inactive","documentElement","getAttribute","language","toLocaleLowerCase","controlsList","screenShot","rotate","pip","mini","cssFullscreen","keyShortcut","presets","usePreset","Preset","presetInst","preset","Controls","disable","left","find","center","right","isMini","mouseEnter","mouseOut","position","FULLSCREEN_EVENTS","Player","defaultIdx","defaultPreset","splice","userTimer","waitTimer","isProgressMoving","isReady","isPlaying","isSeeking","isActive","isCssfullScreen","_initDOM","_bindEvents","_registerPresets","_registerPlugins","onReady","hasStart","vid","topBar","leftBar","rightBar","STATE_CLASS","onFullscreenChange","fullEl","_fullscreenEl","fullscreen","getVideoSize","mousemoveFunc","focus","playFunc","onDestroy","canPlayFunc","loadeddataFunc","firstChild","ignoresStr","lazy","loadingPlugin","forceBeforeInit","PLUFGIN","_startInit","fileName","lineNumber","playPromise","reloadFunc","isDelDom","classNameList","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","clearTimeout","self","clsList","cls","videoWidth","videoHeight","containerSize","getBoundingClientRect","__url","posterUrl","_isFullScreen","val","descriptor","Poster","Replay","ReplaySvg","jp","zh","preventDefault","replay","path","transform","styleInject","css","ref","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","MiniScreenIcon","getMini","exitMini","onClick","unbind","miniscreen","MiniScreen","top","isShowIcon","isScrollSwitch","scrollTop","disableDrag","pos","innerWidth","innerHeight","coordinate","currentX","currentY","scrollY","lastStyle","isMoveing","bindFunKeys","miniIcon","onCancelClick","onCenterClick","onMousedown","onScroll","o","defaultView","abs","scrollHeight","getCss","onMouseup","onMousemove","maxTop","maxLeft","nowX","nowY","disX","disY","PauseIcon","PlayIcon","PlayNextIcon","urlList","idx","initEvents","playNext","Next","PCPlugin","eventHandlers","onEnter","onVideoClick","onVideoDblClick","onContextmenu","onEntered","onAutoPlayPrevented","onMouseEnter","onMouseLeave","stopPropagation","returnValue","cancelBubble","closeVideoStopPropagation","clk","timer","getFullscreen","leavePlayerTimer","MobilePlugin","isTouchMove","onTouchEnd","closeVideoTouch","PlaceHolderPlugin","AnimateMap","addAnimate","seconds","Start","animate","PlaySvg","PauseSvg","isShowEnded","isShowPause","TextTrackPlugin","textTrackDom","textTrack","track","label","kind","srclang","crossorigin","textTrackStyle","styleStr","wrap","sheet","insertRule","addRule","ErrorPlugin","handleCanPlay","handleError","textDOM","EnterPlugin","barStr","Keyboard","extendkeyCodeMap","keyCodeMap","key1","seekStep","keyCode","action","noBodyTarget","mergekeyCodeMap","onKeydown","onBodyKeyDown","isBodyTarget","flag","toFixed","exitCssFullscreen","body","checkCode","handleKeyCode","funKey","Loading","loadingIcon","defaultDot","color","ProgressDot","dots","dotsList","createDotDom","dot","newDots","min","defaultThumbnailConfig","isShow","urls","pic_num","row","col","scale","Progress","progressDot","thumbnail","useable","playedBar","cachedBar","pointTip","progressBtn","thumbnailDom","initThumbnail","onTimeupdate","onCacheUpdate","bindDomEvents","ProgressDots","thumbnailConfig","mouseDown","mouseMove","mouseLeave","allowSeekAfterEnded","containerWidth","move","now","dash","closeMoveSeek","Number","updateTime","up","passive","blur","textContent","pointWidth","pleft","updateThumbnailPosition","interval","indexInPage","rowIndex","colIndex","timeIcon","containerLeft","j","Play","btnClick","Fullscreen","isFullScreen","useCssFullscreen","getCssFullscreen","switchCallback","switchFullScreen","full","exit","fullscreenChange","FullScreenChangeSvg","Time","durationDom","timeDom","onTimeUpdate","current","Infinity","isLive","Volume","volumeChange","bar","drag","changeMuted","onBarMousedown","onMouseenter","onMouseleave","onVolumeChange","slider","barRect","x","y","isMove","onMove","max","onUp","pathLarge","pathSmall","pathMuted","Rotate","innerRotate","clockwise","rotateDeg","onBtnClick","offsetWidth","offsetHeight","targetWidth","targetHeight","transformOrigin","webKitTransform","times","factor","updateRotateDeg","RotateSvg","PIP","showIcon","isPIPAvailable","switchPIP","initPipEvents","leavePIPCallback","enterPIPCallback","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","reason","pictureInPictureEnabled","disablePictureInPicture","pipicon","this","Download","isLock","download","DownloadSvg","getAbsoluteURL","downloadUtil","div","ScreenShot","onClickBtn","data","filename","saveLink","createEvent","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","createCanvans","img","Image","drawImage","encoderOptions","quality","toDataURL","screenShotImg","saveScreenShot","onload","screenshotIcon","screenshot","DefinitionIcon","list","curTime","isPaused","renderItemList","changeDefinitionList","activeEvent","onToggle","onItemClick","switchURL","switchUrl","liList","selected","cursrc","lastATag","curRUL","_options","_mediaDataSource","curlSelected","from","to","onCanplayChangeDefinition","PlaybackRate","iconText","curRate","currentText","items","itemInfo","isCurrent","CssFullScreen","CssFullscreenChange","DefaultPreset","contolsIcons","FullScreen","TimeIcon","RotateIcon","PlaybackRateIcon","DownLoadIcon","ScreenShotIcon","barIcons","PIPIcon","layers","Enter","Miniscreen","Mobile","defaultPlugins","Plugins"],"mappings":"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"}