{"version":3,"file":"index.js","sources":["../../../node_modules/type/value/is.js","../../../node_modules/type/object/is.js","../../../node_modules/type/prototype/is.js","../../../node_modules/type/function/is.js","../../../node_modules/type/plain-function/is.js","../../../node_modules/es5-ext/object/assign/is-implemented.js","../../../node_modules/es5-ext/object/keys/is-implemented.js","../../../node_modules/es5-ext/function/noop.js","../../../node_modules/es5-ext/object/is-value.js","../../../node_modules/es5-ext/object/keys/shim.js","../../../node_modules/es5-ext/object/keys/index.js","../../../node_modules/es5-ext/object/valid-value.js","../../../node_modules/es5-ext/object/assign/shim.js","../../../node_modules/es5-ext/object/assign/index.js","../../../node_modules/es5-ext/object/normalize-options.js","../../../node_modules/es5-ext/string/#/contains/is-implemented.js","../../../node_modules/es5-ext/string/#/contains/shim.js","../../../node_modules/es5-ext/string/#/contains/index.js","../../../node_modules/d/index.js","../../../node_modules/es5-ext/object/valid-callable.js","../../../node_modules/event-emitter/index.js","../../../node_modules/es5-ext/object/is-object.js","../../../node_modules/es5-ext/object/valid-object.js","../../../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../src/plugin/plugin.js","../src/stateClassMap.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/plugins/poster/index.js","../src/plugins/replay/index.js","../src/plugins/StartPlugin/index.js","../src/plugins/index.js","../src/player.js"],"sourcesContent":["\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (!dst[key]) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplay) {\n      this.video.autoplay = true\n      if (options.autoplayMuted) {\n        this.video.muted = true\n      }\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n      this.video.addEventListener(Object.keys(item)[0], () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean' && bool === true && !this._hasStart) {\n      this._hasStart = true\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate()\n    }\n    this.__init(args)\n    if (Util.checkIsFunction(this.afterCreate)) {\n      this.afterCreate()\n    }\n  }\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'root': {\n        get: () => {\n          return args.player.root\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Event = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n    console.log('plugin.pluginName', plugin.pluginName)\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = originalOptions[item]\n      } else {\n        options.config = {}\n      }\n    }\n    if (!options.root) {\n      options.root = player.root\n    }\n    try { // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      const cgid = player._pluginInfoId\n      const plugins = this.pluginGroup[cgid]._plugins\n      const pluginsRet = []\n      for (const item of Object.keys(plugins)) {\n        if (plugins[item] && plugins[item].beforePlayerInit) {\n          try {\n            let ret = plugins[item].beforePlayerInit()\n            pluginsRet.push(retPromise(ret))\n          } catch (e) {\n            pluginsRet.push(retPromise(null))\n            throw e\n          }\n        }\n      }\n      Promise.all(pluginsRet).then(() => {\n        resolve()\n      }).catch((e) => {\n        console.error(e)\n        resolve()\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","/**\n* an ui Plugin class\n*\n**/\nimport delegate from 'delegate-events'\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.name = name\n  return dom\n}\n/**\n * 插入dom结构\n * @param {String} html html字符串\n * @param {DocumentElemebt } parent\n * @param {*} index\n */\nfunction insert (html, parent, index) {\n  const len = parent.children.length\n  const insertIdx = parseInt(index)\n  if (typeof index === 'undefined' || len <= insertIdx) {\n    parent.insertAdjacentHTML('beforeend', html)\n    return parent.children[parent.children.length - 1]\n  } else if (insertIdx === 0) {\n    parent.insertAdjacentHTML('afterbegin', html)\n    return parent.children[0]\n  }\n  const el = parent.children[insertIdx]\n  if (el && el.insertAdjacentHTML) {\n    el.insertAdjacentHTML('beforebegin', html)\n    return parent.children[insertIdx]\n  }\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        const lang = plugin.playerConfig.lang || 'zh'\n        console.log(textConfig[key][lang])\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    console.log('registerLangauageTexts', defaultTexConfig)\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n\n    if (renderStr) {\n      _el = insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'el': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          const c = this._registerPlugin(name, children[item], this.config[name])\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  _registerPlugin (name, item, options) {\n    const opts = (typeof options === 'object' ? options : {})\n    opts.root = this.el\n    opts.pluginName = name\n    return pluginsManager.register(this.player, item, opts)\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    return this.el.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      this.bindEL(querySelector, eventType)\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      delegate.bind(this.el, querySelector, eventType, callback, false)\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      this.unbindEL(querySelector, eventType)\n    } else if (typeof callback === 'function') {\n      delegate.ubind(this.el, querySelector, eventType, callback, false)\n    }\n  }\n\n  setStyle (name, value) {\n    if (typeof name === 'string') {\n      this.style[name] = value\n      return (this.el.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.el.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (typeof name === 'string') {\n      return this.el.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.el.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    this.el.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (`on${event}` in this.el && typeof eventHandle === 'function') {\n      this.el.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (`on${event}` in this.el && typeof eventHandle === 'function') {\n      this.el.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show () {\n    this.el.style.display = ''\n    const cs = window.getComputedStyle(this.el, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.el.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.el.style.display = 'none'\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.el) {\n      if (this.el.hasOwnProperty('remove')) {\n        this.el.remove()\n      } else if (this.el.parentNode) {\n        this.el.parentNode.removeChild(this.el)\n      }\n    }\n  }\n}\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  AUTOPLAY: 'xgplayer-is-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile'\n};\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Plugin from '../../plugin'\nimport './poster.scss'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n\n  beforePlayerInit () {\n    console.log('beforePlayerInit')\n  }\n}\n\nexport default Poster\n","import Plugin from '../../plugin'\nimport ReplayIcon from '../../skin/assets/replay.svg'\nimport './replay.scss'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplayIcon\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Event.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.el.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      ${this.icons.replay}\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","import Plugin from '../../plugin'\nimport StartPlayIcon from '../assets/startPlay.svg'\nimport StartPauseIcon from '../assets/startPause.svg'\nimport './index.scss'\n\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'start'\n  }\n\n  afterCreate () {\n    const { Util } = Plugin\n    const {player, root, playerConfig} = this\n    Util.addClass(root, 'xgplayer-skin-default')\n    this.once('ready', () => {\n      // Util.addClass(root, 'xgplayer-skin-default')\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(root, 'lang-is-jp')\n        }\n      }\n    })\n\n    this.bind('click', (e) => {\n      if (!player.isReady) {\n        return;\n      }\n      e.preventDefault()\n      e.stopPropagation()\n      const paused = this.player.paused\n      if (!paused) {\n        this.player.pause()\n      } else {\n        this.player.play()\n      }\n    })\n  }\n\n  registerIcons () {\n    return {\n      'startPlayIcon': StartPlayIcon,\n      'startPauseIcon': StartPauseIcon\n    }\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\">\n      <div class=\"xgplayer-icon-play\">\n      ${this.icons.startPlayIcon}\n      </div>\n      <div class=\"xgplayer-icon-pause\">\n      ${this.icons.startPauseIcon}\n      </div>\n    </xg-start>`\n  }\n}\n\nexport default Start\n","\nimport '../skin/style/variable.scss'\nimport Poster from './poster'\nimport Replay from './replay'\nimport StartPlugin from './StartPlugin'\n/**\n * 根据入参的播放器配置进行默认plugin列表的配置\n * @param {object} playerConfig\n */\nexport default function getDefaultPlugins (playerConfig, Player) {\n  const defaultPlugins = []\n  defaultPlugins.push(Replay)\n  defaultPlugins.push(Poster)\n  defaultPlugins.push(StartPlugin)\n  const plugins = playerConfig.plugins || []\n  const retPlugins = defaultPlugins.concat(plugins)\n  return retPlugins\n}\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport getDefaultPlugins from './plugins'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    options.plugins = getDefaultPlugins(options)\n    super(options)\n    this.config = util.deepCopy({\n      width: 600,\n      height: 337.5,\n      ignores: [],\n      whitelist: [],\n      lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n      inactive: 3000,\n      volume: 0.6,\n      controls: true,\n      controlsList: ['nodownload']\n    }, options)\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isProgressMoving = false\n    this.isReady = false\n    this.isPlaying = false\n\n    this._initDOM()\n\n    this._bindEvents()\n\n    this._registerPlugins()\n\n    setTimeout(() => {\n      this.emit('ready')\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit) {\n      if (util.hasClass(this.root, STATE_CLASS.NO_START)) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    this.controls = util.createDom('xg-controls', '', {\n      unselectable: 'on',\n      onselectstart: 'return false'\n    }, 'xgplayer-controls')\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit('error', new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    // this.rootBackup = util.copyDom(this.root)\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    this.root.appendChild(this.controls)\n    if (this.config.fluid) {\n      this.root.style['max-width'] = '100%'\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n\n      this.video.style['position'] = 'absolute'\n      this.video.style['top'] = '0'\n      this.video.style['left'] = '0'\n    } else {\n      // this.root.style.width = `${this.config.width}px`\n      // this.root.style.height = `${this.config.height}px`\n      if (this.config.width) {\n        if (typeof this.config.width !== 'number') {\n          this.root.style.width = this.config.width\n        } else {\n          this.root.style.width = `${this.config.width}px`\n        }\n      }\n      if (this.config.height) {\n        if (typeof this.config.height !== 'number') {\n          this.root.style.height = this.config.height\n        } else {\n          this.root.style.height = `${this.config.height}px`\n        }\n      }\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n      }\n    }\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      this.emit('focus')\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n    this.playFunc = () => {\n      this.emit('focus')\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    let player = this\n    if (!url || url === '') {\n      this.emit('urlNull')\n    }\n    this.canPlayFunc = function () {\n      this.play()\n      player.off('canplay', this.canPlayFunc)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.on('canplay', this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit('complete')\n    }, 1)\n    this.hasStart = true\n    pluginsManager.afterInit(this)\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        return pluginsManager.register(this, plugin)\n      } catch (err) {\n        return null\n      }\n    })\n  }\n\n  registerPlugin () {\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (util.hasClass(this.root, className)) {\n      util.removeClass(this.root, className)\n    }\n  }\n\n  start (url = this.url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      this.play()\n    } else {\n      pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url\n        }\n        this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start()\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n      }).catch((e) => {\n        this.emit(Events.AUTOPLAY_PREVENTED)\n        this.addClass(STATE_CLASS.AUTOPLAY)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.currentTime = 0\n    this.play().catch(err => {\n      console.log(err)\n    })\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    let player = this\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    player.emit('requestCssFullscreen')\n  }\n\n  exitCssFullscreen () {\n    let player = this\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    player.emit('exitCssFullscreen')\n  }\n\n  onFocus () {\n    let player = this\n    this.removeClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      player.emit('blur')\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    // this.video.blur()\n    if (!this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit('focus')\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(`${STATE_CLASS.NO_START} ${STATE_CLASS.PAUSED} ${STATE_CLASS.ENDED} ${STATE_CLASS.ERROR} ${STATE_CLASS.REPLAY}`)\n    this.addClass(STATE_CLASS.PLAYING)\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n}\n\nPlayer.util = util\nPlayer.sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n"],"names":["_undefined","module","value","possibleTypes","isValue","hasOwnProperty","call","isObject","constructor","prototype","error","length","apply","isPrototype","classRe","functionToString","Function","toString","isFunction","test","assign","Object","obj","foo","bar","trzy","keys","e","require","val","object","TypeError","Math","max","dest","src","i","arguments","key","forEach","undefined","Array","create","process","opts1","result","options","str","contains","indexOf","String","searchString","d","dscr","c","w","desc","configurable","enumerable","writable","normalizeOpts","gs","get","set","isPlainFunction","fn","defineProperty","defineProperties","descriptor","on","once","off","emit","methods","descriptors","base","type","listener","data","__ee__","push","self","__eeOnceListener__","listeners","candidate","splice","l","args","slice","exports","o","map","function","emitter","util","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","item","setAttribute","hasClass","classList","some","match","RegExp","addClass","replace","split","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","getElementById","padStart","pad","charstr","len","maxlen","ceil","chars","r","join","substring","format","time","window","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","deepCopy","dst","Node","concat","getBgImage","url","currentStyle","getComputedStyle","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","name","setInterval","context","eventName","intervalFunc","frequency","_interval","bind","clearInterval","createImgBtn","imgUrl","width","height","btn","style","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","ErrorTypes","network","code","msg","remark","mse","parse","decoder","runtime","timeout","other","Errors","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","version","errorCode","mediaError","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","DESTROY","URL_CHANGE","Proxy","_hasStart","_currentTime","_duration","videoConfig","controls","autoplay","playsinline","airplay","tabindex","mediaType","videoAttrbutes","loop","video","autoplayMuted","muted","EventEmitter","_initEvents","lastBuffer","ev","charAt","toUpperCase","_emitEvent","funName","player","evItem","addEventListener","errorHandler","curBuffer","buffered","start","end","pause","removeAttribute","load","k","evName","evFunc","allOff","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","err","status","en","cn","lang","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","device","os","isPc","browser","ua","navigator","userAgent","toLowerCase","ie","firfox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","Obj","__args","__events","config","Util","beforeCreate","__init","afterCreate","defineGetterOrSetter","pluginName","root","logger","callback","isArray","res","offAll","destroy","Sniffer","Event","pluginsManager","init","cgid","_pluginInfoId","Date","getTime","pluginGroup","register","plugin","_plugins","plugins","originalOptions","_originalOptions","_player","console","log","Error","_instance","func","unRegister","_destroy","getPlugins","findPlugin","cName","beforeInit","retPromise","then","Promise","resolve","pluginsRet","beforePlayerInit","ret","all","catch","afterInit","afterPlayerInit","reRender","pluginsMap","_args","_createElement","tag","insert","html","parent","index","children","insertIdx","parseInt","insertAdjacentHTML","registerIconsObj","iconsConfig","iconKey","icons","_icons","playerConfig","registerTextObj","textConfig","text","Plugin","_parent","_el","defaultIcons","registerIcons","defaultTexConfig","registerLangauageTexts","renderStr","render","message","appendChild","attr","setAttr","setStyle","__registeChildren","_children","_registerPlugin","opts","qs","eventType","bindEL","delegate","unbindEL","ubind","htmlStr","innerHtml","eventHandle","isBubble","removeEventListener","display","cs","cssDisplayValue","getPropertyValue","parentNode","removeChild","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","REPLAY","NO_START","ACTIVE","FULLSCREEN","CSS_FULLSCREEN","NO_CONTROLS","AUTOPLAY","PC","MOBILE","styleInject","css","ref","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","Poster","poster","Replay","ReplayIcon","jp","zh","preventDefault","replay","path","transform","Start","isReady","stopPropagation","StartPlayIcon","StartPauseIcon","startPlayIcon","startPauseIcon","getDefaultPlugins","Player","defaultPlugins","StartPlugin","retPlugins","FULLSCREEN_EVENTS","ignores","whitelist","documentElement","getAttribute","language","toLocaleLowerCase","inactive","controlsList","userTimer","waitTimer","isProgressMoving","isPlaying","_initDOM","_bindEvents","_registerPlugins","setTimeout","videoInit","STATE_CLASS","id","unselectable","onselectstart","vid","fluid","onFullscreenChange","fullEl","_fullscreenEl","fullscreen","getVideoSize","mousemoveFunc","closeFocusVideoFocus","focus","playFunc","closePlayVideoFocus","onDestroy","canPlayFunc","loadeddataFunc","hasStart","ignoresStr","_startInit","fileName","lineNumber","playPromise","Events","reloadFunc","isDelDom","classNameList","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","clearTimeout","videoWidth","videoHeight","containerSize","getBoundingClientRect","fitVideoSize","__url","posterUrl","_isFullScreen"],"mappings":"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"}