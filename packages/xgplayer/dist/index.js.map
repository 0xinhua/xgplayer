{"version":3,"file":"index.js","sources":["../node_modules/type/value/is.js","../node_modules/type/object/is.js","../node_modules/type/prototype/is.js","../node_modules/type/function/is.js","../node_modules/type/plain-function/is.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/es5-ext/object/is-object.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../node_modules/matches-selector/index.js","../node_modules/closest/index.js","../node_modules/component-event/index.js","../node_modules/delegate-events/index.js","../src/plugin/plugin.js","../src/stateClassMap.js","../src/defaultConfig.js","../src/plugin/preset.js","../src/plugins/controls/index.js","../src/player.js","../src/plugins/poster/index.js","../src/plugins/replay/index.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/plugins/miniScreen/miniScreenIcon.js","../src/plugins/miniScreen/index.js","../src/plugins/Controls/index.js","../src/plugins/playNext/index.js","../src/plugins/pc/index.js","../src/plugins/mobile/index.js","../src/plugins/placeholder/index.js","../src/plugins/start/index.js","../src/plugins/track/index.js","../src/Plugin/basePlugin.js","../src/Plugin/pluginsManager.js","../src/Plugin/plugin.js","../src/plugins/error/index.js","../src/plugins/enter/index.js","../src/plugins/keyboard/index.js","../src/plugins/loading/index.js","../src/plugins/progress/progressdots.js","../src/plugins/progress/index.js","../src/plugins/play/index.js","../src/plugins/fullscreen/index.js","../src/plugins/time/index.js","../src/plugins/volume/index.js","../src/plugins/rotate/index.js","../src/plugins/pip/index.js","../node_modules/downloadjs/download.js","../src/plugins/download/index.js","../src/plugins/screenShot/index.js","../src/plugins/definition/index.js","../src/plugins/playbackRate/index.js","../src/plugins/cssFullScreen/index.js","../src/presets/default.js","../src/index.js"],"sourcesContent":["\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.getCss = function (dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key]\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (dst[key] === undefined || dst[key] === undefined) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\n\nutil.deepMerge = function (dst, src) {\n  Object.keys(src).map(key => {\n    if (typeof dst[key] === typeof src[key] && dst[key] !== null && typeof dst[key] === 'object' && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key])\n    } else {\n      dst[key] = src[key]\n    }\n  })\n  return dst\n}\n\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nutil.hide = function (dom) {\n  dom.style.display = 'none'\n}\n\nutil.show = function (dom, display) {\n  dom.style.display = display || 'block'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\nexport const RATE_CHANGE = 'rateChange'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const REPLAY = 'replay'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n\n// screen change evnets\nexport const FULLSCREEN_CHANGE = 'fullscreen_change'\nexport const CSS_FULLSCREEN_CHANGE = 'cssFullscreen_change'\nexport const MINI_STATE_CHANGE = 'mini_state_change'\n\n// transmuxer events\nexport const SEI_PARSED = 'SEI_PARSED';\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }, options.videoConfig);\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    if (options.defaultPlaybackRate) {\n      this.videoConfig.defaultPlaybackRate = options.defaultPlaybackRate\n    }\n\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplayMuted) {\n      this.video.muted = true\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata', 'ratechange'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n\n      this.videoEventHandler = () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video && this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }\n      this.video.addEventListener(Object.keys(item)[0], this.videoEventHandler, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean') {\n      this._hasStart = bool\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n\n      this.video.removeEventListener(evName, this.videoEventHandler, false)\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE, url)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","var bind, unbind, prefix;\n\nfunction detect () {\n  bind = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  if (!bind) detect();\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (!unbind) detect();\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n","/**\n * Module dependencies.\n */\n\nvar closest = require('closest')\n  , event = require('component-event');\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nexports.bind = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return event.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  event.unbind(el, type, fn, capture);\n};\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter'\n}\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  NOT_ALLOW_AUTOPLAY: 'not-allow-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile',\n  MINI: 'xgplayer-mini'\n};\n","export default function getDefaultConfig () {\n  return {\n    id: '', // 播放器容器id\n    el: null, // 播放器容器dom\n    url: '', // 播放url\n    width: 600, // 播放器宽度,单位px\n    height: 337.5, // 播放器高度,单位px\n    fluid: false, // 是否启用流式布局\n    fitVideoSize: 'auto', // fixWidth/fixHeight/auto\n    volume: 0.6, // 默认音量\n    autoplay: false, // 是否自动播放\n    autoplayMuted: false, // 是否自动静音\n    loop: false, // 是否循环播放\n    videoInit: false, // 是否优先显示视频首帧， mobile模式下无效\n    poster: '', // 封面图地址\n    defaultPlaybackRate: 1, // 默认播放倍数\n    execBeforePluginsCall: null, // 默认插件组装前回调\n    closeVideoClick: false, // 是否通过video的click/touchend行为切换播放暂停\n    closeVideoDblclick: false, // 是否通过双击行为触发全屏切换\n    closePlayerBlur: false, // 是个否启用鼠标移动激活行为\n    leavePlayerTime: 0, // 延迟触发时间\n    closePlayVideoFocus: false, // 是否关闭play时触发focus\n    closeFocusVideoFocus: false, // 是否支持播放器移动鼠标时触发focus\n    closeControlsBlur: false, // 鼠标移出播放器控制条范围时触发focus事件\n    videoAttrbutes: {}, // video扩展属性\n    // 是否删除\n    ignores: [],\n    whitelist: [],\n    inactive: 3000,\n    lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n    controls: true,\n    controlsList: [],\n    // 内置插件相关配置\n    screenShot: false, // 截图插件\n    rotate: false, // 旋转插件\n    pip: false, // pip插件\n    mini: false, // 迷你小窗插件\n    cssFullscreen: true, // 页面全屏\n    keyShortcut: true, // 是否开启快捷键\n    presets: [],\n    playbackRate: []\n  }\n}\n","export const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    // eslint-disable-next-line new-cap\n    presetInst = new (Preset.preset)(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config)\n  }\n  const {plugins = [], ignores = [], icons} = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = []\n  }\n\n  if (!player.config.ignores) {\n    player.config.ignores = []\n  }\n\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  player.config.icons = icons\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: ''\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n    if (!args.config.mode && Sniffer.device === 'mobile') {\n      args.config.mode = 'flex'\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini') : Util.removeClass(this.root, 'mini')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseleave', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    clearTimeout(this.player.userTimer)\n  }\n\n  mouseOut () {\n    const {player} = this\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  show () {\n    this.root && (this.root.style.display = 'inline-block')\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : plugin.defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    let className = this.config.mode === 'flex' ? 'flex ' : ''\n    className += this.config.autoHide ? 'control_autohide' : ''\n\n    return `<xg-controls class=\"xgplayer-controls ${className}\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport getDefaultConfig from './defaultConfig'\nimport { usePreset } from './plugin/preset';\nimport Controls from './plugins/controls'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepMerge(getDefaultConfig(), options)\n    this.config.presets = []\n\n    // resolve default preset\n    if (this.config.presets.length) {\n      const defaultIdx = this.config.presets.indexOf('default');\n      if (defaultIdx >= 0 && Player.defaultPreset) {\n        this.config.presets.push(Player.defaultPreset);\n        this.config.presets.splice(defaultIdx, 1);\n      }\n    } else if (Player.defaultPreset) {\n      this.config.presets.push(Player.defaultPreset)\n    }\n\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isReady = false\n    this.isPlaying = false\n    this.isSeeking = false\n    this.isActive = true\n    this.isCssfullScreen = false\n\n    this._initDOM()\n\n    this._bindEvents()\n    this._registerPresets()\n    this._registerPlugins()\n    pluginsManager.onPluginsReady(this)\n\n    setTimeout(() => {\n      this.emit(Events.READY)\n      this.onReady && this.onReady()\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit(Events.ERROR, new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    this.topBar = util.createDom('xg-bar', '', '', 'xg-top-bar')\n    this.leftBar = util.createDom('xg-bar', '', '', 'xg-left-bar')\n    this.rightBar = util.createDom('xg-bar', '', '', 'xg-right-bar')\n    this.root.appendChild(this.topBar)\n    this.root.appendChild(this.leftBar)\n    this.root.appendChild(this.rightBar)\n    // const baseBar = pluginsManager.register(this, BaseBar)\n    // this.baseBar = baseBar\n    const controls = pluginsManager.register(this, Controls)\n    this.controls = controls\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    if (this.config.autoplay) {\n      this.addClass(STATE_CLASS.ENTER)\n    }\n    if (this.config.fluid) {\n      const style = {\n        'max-width': '100%',\n        'width': '100%',\n        'height': '0',\n        'padding-top': `${this.config.height * 100 / this.config.width}%`,\n        'position': 'position',\n        'top': '0',\n        'left': '0'\n      };\n      Object.keys(style).map(key => {\n        this.root.style[key] = style[key]\n      })\n    } else {\n      ['width', 'height'].map(key => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== 'number') {\n            this.root.style[key] = this.config[key]\n          } else {\n            this.root.style[key] = `${this.config[key]}px`\n          }\n        }\n      })\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    }\n\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      // 加上判断减少触发次数\n      if (this.isActive) {\n        return\n      }\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    const eventkey = sniffer.service === 'mobile' ? 'touchstart' : 'mousemove'\n    this.root.addEventListener(eventkey, this.mousemoveFunc)\n\n    this.playFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n    // if (!this.config.closeVideoClick) {\n    //   ['touched', 'click'].map((key) => {\n    //     this.video.addEventListener(key, () => {\n    //       console.log('this.video.addEventListener')\n    //       if (this.paused) {\n    //         this.play()\n    //       } else {\n    //         this.pause()\n    //       }\n    //     })\n    //   })\n    // }\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      player.root.removeEventListener(eventkey, this.mousemoveFunc)\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    if (!url || url === '') {\n      this.emit(Events.URL_NULL)\n    }\n    this.canPlayFunc = function () {\n      this.volume = this.config.volume\n      this.play()\n      this.off(Events.CANPLAY, this.canPlayFunc)\n      this.removeClass(STATE_CLASS.ENTER)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.once(Events.CANPLAY, this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit(Events.COMPLETE)\n    }, 1)\n    if (!this.hasStart) {\n      pluginsManager.afterInit(this)\n    }\n    this.hasStart = true\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    this._loadingPlugins = []\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin)\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            }).catch(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            })\n            this._loadingPlugins.push(loadingPlugin)\n          }\n\n          return;\n        }\n        return this.registerPlugin(plugin)\n      } catch (err) {\n        console.error(err)\n        return null\n      }\n    })\n  }\n\n  _registerPresets () {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset)\n    })\n  }\n\n  registerPlugin (plugin) {\n    let PLUFGIN = null\n    let options = null\n    if (plugin.plugin && typeof plugin.plugin === 'function') {\n      PLUFGIN = plugin.plugin\n      options = plugin.options\n    } else {\n      PLUFGIN = plugin\n      options = {}\n    }\n\n    const position = options.position ? options.position : (PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position)\n    const {POSITIONS} = Plugin\n    if (!options.root && typeof position === 'string' && position.indexOf('controls') > -1) {\n      return this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName)\n    }\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        options.root = this.rightBar\n        break;\n      case POSITIONS.ROOT_LEFT:\n        options.root = this.leftBar\n        break;\n      case POSITIONS.ROOT_TOP:\n        options.root = this.topBar\n        break;\n      default:\n        options.root = this.root\n        break;\n    }\n    return pluginsManager.register(this, PLUFGIN, options)\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className)\n  }\n\n  start (url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      return this.play()\n    } else {\n      return pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url || this.config.url;\n        }\n        return this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start().then(resolve => {\n        this.play()\n      })\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY)\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n        this.isPlaying = true\n      }).catch((e) => {\n        // 避免AUTOPLAY_PREVENTED先于playing和play触发\n        setTimeout(() => {\n          this.emit(Events.AUTOPLAY_PREVENTED)\n          this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY)\n        }, 0)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.once(Events.CANPLAY, () => {\n      const playPromise = this.play()\n      if (playPromise && playPromise.catch) {\n        playPromise.catch(err => {\n          console.log(err)\n        })\n      }\n    })\n    this.currentTime = 0\n    this.play()\n    this.emit(Events.REPLAY)\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    if (this.config.fluid) {\n      this.root.style['padding-top'] = ''\n    }\n    this.isCssfullScreen = true\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, true)\n  }\n\n  exitCssFullscreen () {\n    if (this.config.fluid) {\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    this.isCssfullScreen = false\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, false)\n  }\n\n  onFocus (notAutoHide) {\n    this.isActive = true\n    let player = this\n    this.removeClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    if (notAutoHide) {\n      return;\n    }\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    this.isActive = false\n    if (!this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    // this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n    this.ended && this.removeClass(STATE_CLASS.ENDED)\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    const { NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING } = STATE_CLASS\n    const clsList = [NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING];\n    clsList.forEach((cls) => {\n      this.removeClass(cls)\n    })\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.Util = util\nPlayer.Sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Events = Events\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Plugin from '../../plugin'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n}\n\nexport default Poster\n","import Plugin from '../../plugin'\nimport ReplaySvg from '../assets/replay.svg'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplaySvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Events.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.root.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      ${this.icons.replay}\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Plugin from '../../plugin'\nimport './index.scss'\n\nconst {POSITIONS} = Plugin\n\nclass MiniScreenIcon extends Plugin {\n  static get pluginName () {\n    return 'miniscreenIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 10\n    }\n  }\n\n  afterCreate () {\n    this.getMini = this.getMini.bind(this)\n    this.exitMini = this.exitMini.bind(this)\n    this.bind(['click', 'touchend'], this.getMini)\n  }\n\n  getMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  exitMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.getMini)\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'miniscreen': {\n        jp: '日文text',\n        en: 'miniscreen',\n        zh: '小屏幕'\n      }\n    }\n  }\n\n  render () {\n    let text = this.text.miniscreen\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n      </xg-icon>`\n  }\n}\n\nexport default MiniScreenIcon\n","import Plugin from '../../plugin'\nimport PlayIcon from '../assets/play.svg'\nimport PauseIcon from '../assets/pause.svg'\nimport MiniScreenIcon from './miniScreenIcon'\nimport './index.scss'\n\nconst {Util, Events} = Plugin\n\nclass MiniScreen extends Plugin {\n  static get pluginName () {\n    return 'miniscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1, // 默认左下角\n      top: -1, // 默认左下角\n      isShowIcon: false, // 是否显示icon\n      isScrollSwitch: false, // 滚动自动切换自动切换\n      scrollTop: 0, // 触发滚动的高度\n      disableDrag: false // 禁用拖拽\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.isMini = false\n    const {config} = this\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width\n    }\n    this.coordinate = {\n      currentX: 0,\n      currentY: 0,\n      scrollY: window.scrollY || 0\n    }\n    this.lastStyle = null\n    this.isMoveing = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.mini === 'boolean') {\n      args.config.isShowIcon = args.player.config.mini\n    }\n  }\n\n  afterCreate () {\n    const bindFunKeys = ['onMousemove', 'onMousedown', 'onMouseup', 'onCancelClick', 'onCenterClick', 'onScroll']\n    bindFunKeys.map(key => {\n      this[key] = this[key].bind(this)\n    })\n    this.on(Events.PAUSE, () => {\n      const btn = this.find('.play-icon')\n      Util.addClass(btn, 'pause')\n      Util.removeClass(btn, 'play')\n    })\n    this.on(Events.PLAY, () => {\n      const btn = this.find('.play-icon')\n      Util.addClass(btn, 'play')\n      Util.removeClass(btn, 'pause')\n    })\n  }\n\n  onPluginsReady () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini()\n          }\n        }\n      }\n      this.miniIcon = player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName)\n    }\n    this.bind('.mini-cancel-btn', 'click', this.onCancelClick)\n    this.bind('.play-icon', 'click', this.onCenterClick)\n    if (!this.config.disableDrag) {\n      this.bind('mousedown', this.onMousedown)\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener('scroll', this.onScroll)\n    }\n  }\n\n  onCancelClick (e) {\n    this.exitMini()\n  }\n\n  onCenterClick (e) {\n    const {player} = this\n    player.paused ? player.play() : player.pause()\n  }\n\n  onScroll (e) {\n    if ((!window.scrollY && window.scrollY !== 0) || Math.abs(window.scrollY - this.coordinate.scrollY) < 50) {\n      return;\n    }\n    let scrollHeight = parseInt(Util.getCss(this.player.root, 'height'))\n    scrollHeight += this.config.scrollTop\n    this.coordinate.scrollY = window.scrollY\n    if (window.scrollY > scrollHeight + 5 && !this.isMini) {\n      this.getMini()\n    } else if (window.scrollY <= scrollHeight && this.isMini) {\n      this.exitMini()\n    }\n  }\n\n  onMousedown (e) {\n    if (e.target !== this.root || this.isMoveing) {\n      return;\n    }\n    this.isMoveing = true\n    this.coordinate.currentX = e.clientX\n    this.coordinate.currentY = e.clientY\n    this.bind('mouseup', this.onMouseup)\n    this.bind('mousemove', this.onMousemove)\n  }\n\n  onMouseup (e) {\n    if (e.target !== this.root || !this.isMoveing) {\n      return;\n    }\n    this.isMoveing = false\n    this.clientWidth = window.innerWidth\n    const target = this.config.target || this.player.root\n    this.pos.top = parseInt(Util.getCss(target, 'top'))\n    this.pos.left = parseInt(Util.getCss(target, 'left'))\n    this.unbind('mousemove', this.onMousemove)\n    this.unbind('mouseup', this.onMouseup)\n  }\n\n  onMousemove (e, callback) {\n    e = e || window.event\n    const target = this.config.target || this.player.root\n    const maxTop = window.innerHeight - parseInt(Util.getCss(target, 'height'))\n    const maxLeft = window.innerWidth - parseInt(Util.getCss(target, 'width'))\n    if (this.isMoveing) {\n      const nowX = e.clientX\n      const nowY = e.clientY\n      const disX = nowX - this.coordinate.currentX\n      const disY = nowY - this.coordinate.currentY\n      let top = parseInt(this.pos.top) + disY\n      let left = parseInt(this.pos.left) + disX\n      if (left < 0) {\n        left = 0;\n      } else if (left > maxLeft) {\n        left = maxLeft\n      }\n\n      if (top < 0) {\n        top = 0;\n      } else if (top > maxTop) {\n        top = maxTop\n      }\n      target.style.left = `${left}px`\n      target.style.top = `${top}px`\n      if (typeof callback === 'function') {\n        callback(left, top)\n      }\n\n      if (e.preventDefault) {\n        e.preventDefault()\n      }\n      return false\n    }\n  }\n\n  getMini () {\n    if (this.isMini) {\n      return\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    // this.draggie.enable()\n    this.lastStyle = {}\n    Util.addClass(player.root, 'xgplayer-mini')\n    Object.keys(this.pos).map(key => {\n      this.lastStyle[key] = target.style[key]\n      target.style[key] = `${this.pos[key]}px`\n    })\n    if (playerConfig.fluid) {\n      target.style['padding-top'] = ''\n    }\n    this.emit(Events.MINI_STATE_CHANGE, true)\n    player.isMini = this.isMini = true\n  }\n\n  exitMini () {\n    if (!this.isMini) {\n      return false\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    Util.removeClass(player.root, 'xgplayer-mini')\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map(key => {\n        target.style[key] = this.lastStyle[key]\n      })\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${playerConfig.height * 100 / playerConfig.width}%`\n    }\n    this.emit(Events.MINI_STATE_CHANGE, false)\n    this.isMini = player.isMini = false\n  }\n\n  destroy () {\n    this.unbind('mousedown', this.onMousedown)\n    window.removeEventListener('scroll', this.onScroll)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <div class=\"mask\"></div>\n      <xg-mini-header class=\"xgplayer-mini-header\">\n        <div>按住画面可移动小窗</div>\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">X</div>\n      <div class=\"play-icon play\">\n        ${PauseIcon}\n        ${PlayIcon}\n      </div>\n      </xg-mini-layer>`\n  }\n}\n\nexport {\n  MiniScreen as default,\n  MiniScreenIcon\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: ''\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n    if (!args.config.mode && Sniffer.device === 'mobile') {\n      args.config.mode = 'flex'\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini') : Util.removeClass(this.root, 'mini')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseleave', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    clearTimeout(this.player.userTimer)\n  }\n\n  mouseOut () {\n    const {player} = this\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  show () {\n    this.root && (this.root.style.display = 'inline-block')\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : plugin.defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    let className = this.config.mode === 'flex' ? 'flex ' : ''\n    className += this.config.autoHide ? 'control_autohide' : ''\n\n    return `<xg-controls class=\"xgplayer-controls ${className}\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","/**\n * 下一个按钮组件\n */\nimport Plugin from '../../plugin'\nimport Next from '../assets/playNext.svg'\n// import Next from '../assets/mPlayNext.svg';\n// console.log(MPlayNext)\nconst {POSITIONS, Sniffer} = Plugin\nexport default class PlayNextIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayNext'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.idx = -1;\n  }\n\n  afterCreate () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    this.initEvents()\n  }\n\n  initEvents () {\n    this.playNext = this.playNext.bind(this);\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.playNext)\n    this.show()\n  }\n\n  playNext () {\n    const { player } = this;\n    if (this.idx + 1 < this.config.urlList.length) {\n      this.idx++;\n      player.video.pause();\n      player.currentTime = 0;\n      player.video.autoplay = true;\n      player.src = this.config.urlList[this.idx];\n      player.emit('playerNext', this.idx + 1);\n    } else {\n      player.emit('urlList last');\n    }\n  }\n\n  registerIcons () {\n    return {\n      playNext: Next\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'playNext': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.playNext)\n  }\n\n  render () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.playNext}\n      </div>\n      <div class=\"xg-tips\">${this.text.playNext}</div>\n     </xg-icon>\n    `\n  }\n}\n","import BasePlugin from '../../plugin/basePlugin';\nconst {Events, Util} = BasePlugin\nexport default class PCPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'pc'\n  }\n\n  afterCreate () {\n    const eventHandlers = ['onVideoClick', 'onVideoDblClick', 'onMouseEnter', 'onMouseLeave', 'onControlMouseEnter',\n      'onControlMouseLeave', 'onContextmenu']\n    eventHandlers.map(key => {\n      if (this[key]) {\n        this[key] = this[key].bind(this)\n      }\n    })\n    // this.onVideoClick = this.onVideoClick.bind(this)\n    // this.onVideoDblClick = this.onVideoDblClick.bind(this)\n    // this.onMouseEnter = this.onMouseEnter.bind(this)\n    // this.onMouseLeave = this.onMouseLeave.bind(this)\n    // this.onControlMouseEnter = this.onControlMouseEnter.bind(this)\n    // this.onControlMouseLeave = this.onControlMouseLeave.bind(this)\n    this.initEvents();\n    const {playerConfig} = this\n    if (playerConfig.autoplay) {\n      this.onEnter()\n    }\n  }\n\n  initEvents () {\n    const { player } = this;\n\n    player.video.addEventListener('click', this.onVideoClick, false)\n\n    player.video.addEventListener('dblclick', this.onVideoDblClick, false)\n    player.root.addEventListener('contextmenu', this.onContextmenu, false)\n    this.once(Events.CANPLAY, this.onEntered.bind(this));\n    this.once(Events.AUTOPLAY_PREVENTED, () => {\n      this.onAutoPlayPrevented()\n    })\n\n    player.root.addEventListener('mouseenter', this.onMouseEnter)\n\n    player.root.addEventListener('mouseleave', this.onMouseLeave)\n\n    // player.controls.addEventListener('mouseenter', this.onControlMouseEnter, false)\n\n    // player.controls.addEventListener('mouseleave', this.onControlMouseLeave, false)\n  }\n\n  onContextmenu (e) {\n    e = e || window.event\n    if (e.preventDefault) {\n      e.preventDefault()\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation()\n    } else {\n      e.returnValue = false // 解决IE8右键弹出\n      e.cancelBubble = true\n    }\n  }\n  onEnter () {\n    const { player } = this;\n    Util.addClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onEntered () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onAutoPlayPrevented () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n    this.once(Events.PLAY, () => {\n      Util.addClass(player.root, 'xgplayer-is-enter')\n      this.once(Events.TIME_UPDATE, () => {\n        Util.removeClass(player.root, 'xgplayer-is-enter')\n      })\n    })\n  }\n\n  onVideoClick (e) {\n    e.preventDefault()\n    // e.stopPropagation()\n    if (!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    const { player } = this\n    let clk = 0; let timer;\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (timer) {\n        clearTimeout(timer)\n      }\n      if (clk === 1) {\n        timer = setTimeout(function () {\n          if (Util.hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              player.play()\n              // let playPromise = player.play()\n              // if (playPromise !== undefined && playPromise) {\n              //   playPromise.catch(err => {})\n              // }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n\n  onVideoDblClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    if (!player.config.closeVideoDblclick) {\n      player.fullscreen ? player.exitFullscreen() : player.getFullscreen()\n    }\n  }\n\n  onMouseEnter () {\n    const { player } = this\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n\n  onMouseLeave () {\n    const { player } = this;\n    if (!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 1500)\n    }\n  }\n\n  onControlMouseEnter () {\n    const { player } = this;\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n\n  onControlMouseLeave () {\n    const { player } = this;\n    if (!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n\n  destroy () {\n    const { player } = this;\n    player.root.removeEventListener('mouseenter', this.onMouseEnter)\n    player.root.removeEventListener('mouseleave', this.onMouseLeave)\n    player.off('ready', this.onReady)\n  }\n}\n","import Plugin from '../../plugin';\n\nconst {Events, Util} = Plugin\n\nclass MobilePlugin extends Plugin {\n  static get pluginName () {\n    return 'mobile';\n  }\n\n  static get defaultConfig () {\n    return {\n      index: 0,\n      disableGesture: false, // 是否禁用手势\n      gestureX: true, // 是否启用水平手势\n      gestureY: true, // 是否启用垂直手势\n      updateGesture: () => {}, // 手势处理回调\n      gradient: true, // 是否启用阴影\n      isTouchingSeek: false, // 是否在touchMove的同时更新currentTime\n      miniMoveStep: 5, // 最小差异，用于move节流\n      scopeL: 0.4, // 左侧手势范围比例\n      scopeR: 0.4, // 右侧手势范围比例\n      darkness: true, // 是否启用右侧调暗功能\n      maxDarkness: 0.6 // 调暗最大暗度，即蒙层最大透明度\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.isTouchMove = false;\n    this.isMoving = false\n    this.pos = {\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      op: 0\n    }\n  }\n\n  afterCreate () {\n    this.config.disableGesture = !!this.playerConfig.disableGesture\n\n    this.xgMask = Util.createDom('xg-mask', '', {}, 'xgmask')\n    this.player.root.append(this.xgMask)\n\n    this.onTouchMove = this.onTouchMove.bind(this)\n    this.onTouchStart = this.onTouchStart.bind(this)\n    this.onTouchEnd = this.onTouchEnd.bind(this)\n    this.onClick = this.onClick.bind(this)\n    this.root.addEventListener('touchstart', this.onTouchStart)\n    this.root.addEventListener('click', this.onClick, false)\n  }\n\n  getTouche (touches) {\n    if (touches && touches.length > 0) {\n      return touches[touches.length - 1]\n    } else {\n      return null\n    }\n  }\n\n  onTouchStart (e) {\n    const {player, config} = this\n    // 直播或者duration没有获取到之前不做操作\n    if (!(this.player.duration !== Infinity && this.player.duration > 0) || this.isMoving || config.disableGesture) {\n      return;\n    }\n    this.isMoving = true\n    const touche = this.getTouche(e.touches)\n    if (touche) {\n      this.pos.time = player.currentTime\n      this.pos.volume = player.volume\n      this.pos.width = parseInt(Util.getCss(this.root, 'width'), 10)\n      this.pos.height = parseInt(Util.getCss(this.root, 'height'), 10) - 48\n      this.pos.scopeL = config.scopeL * this.pos.width\n      this.pos.scopeR = (1 - config.scopeR) * this.pos.width\n      this.root.addEventListener('touchmove', this.onTouchMove, false)\n      this.root.addEventListener('touchend', this.onTouchEnd, false)\n      this.player.emit(Events.PLAYER_FOCUS, true)\n    }\n  }\n\n  onTouchMove (e) {\n    const touche = this.getTouche(e.touches)\n    if (!touche) {\n      return\n    }\n    if (Math.abs(touche.pageX - this.pos.x) > this.config.miniMoveStep || Math.abs(touche.pageX - this.pos.x) > this.config.miniMoveStep) {\n      const {pos, config} = this\n      const x = parseInt(touche.pageX, 10)\n      const y = parseInt(touche.pageY, 10)\n      const diffx = x - this.pos.x\n      const diffy = y - this.pos.y\n      const tan = Math.abs(diffy) / Math.abs(diffx)\n      if (config.gestureY && tan > 1.73 && (x < pos.scopeL || x > pos.scopeR)) {\n        if (x < pos.scopeL && config.darkness) {\n          pos.op = 3\n          this.updateBrightness(diffy / this.pos.height)\n        } else {\n          pos.op = 2\n          this.updateVolume(diffy / this.pos.height)\n        }\n      } else if (config.gestureX && tan < 0.27) {\n        pos.op = 1\n        this.updateTime(diffx / pos.width)\n      }\n      pos.x = x\n      pos.y = y\n      if (config.updateGesture && typeof config.updateGesture === 'function') {\n        config.updateGesture({diffx: diffx, diffy: diffy, x: x, y: y}, pos)\n      }\n    }\n  }\n\n  onTouchEnd (e) {\n    const {root, player, pos} = this\n    root.removeEventListener('touchmove', this.onTouchMove, false)\n    root.removeEventListener('touchend', this.onTouchEnd, false)\n    player.emit(Events.PLAYER_FOCUS, false)\n    if (pos.op === 1) {\n      if (pos.time > player.duration) {\n        player.currentTime = player.duration\n      } else {\n        player.currentTime = pos.time < 0 ? 0 : pos.time\n      }\n      this.once(Events.CANPLAY, () => {\n        this.player.isSeeking = false\n      })\n    }\n    pos.op = 0\n    this.isMoving = false\n  }\n\n  updateTime (percent) {\n    const {player} = this\n    player.isSeeking = true\n    let time = percent * player.duration\n    time += this.pos.time\n    time = time < 0 ? 0 : (time > player.duration ? player.duration : time)\n    player.getPlugin('time') && player.getPlugin('time').updateTime(time)\n    player.getPlugin('progress') && player.getPlugin('progress').updatePercent(time / this.player.duration, true)\n    if (this.config.isTouchingSeek) {\n      player.currentTime = Number(time).toFixed(1)\n    }\n    this.pos.time = time\n  }\n\n  updateVolume (percent) {\n    let volume = this.pos.volume - percent\n    this.pos.volume = volume < 0.1 ? 0 : (volume > 1 ? 1 : volume)\n    this.player.volume = this.pos.volume\n    this.pos.volume > 0 && (this.player.muted = false)\n  }\n\n  updateBrightness (percent) {\n    let light = this.pos.light - (0.8 * percent)\n    light = light > this.config.maxDarkness ? this.config.maxDarkness : (light < 0 ? 0 : light)\n    if (this.xgMask) {\n      this.xgMask.style.backgroundColor = `rgba(0,0,0,${light})`\n    }\n    this.pos.light = light\n  }\n\n  onClick (e) {\n    e.preventDefault();\n    const util = Plugin.Util;\n    e.stopPropagation();\n    const {player, playerConfig} = this;\n\n    if (!playerConfig.closeVideoTouch && !player.isTouchMove) {\n      if (util.hasClass(player.root, 'xgplayer-nostart')) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          let playPromise = player.play();\n          if (playPromise !== undefined && playPromise) {\n            // playPromise.catch(err => {});\n          }\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }\n\n  render () {\n    const className = this.config.gradient ? 'gradient' : ''\n    return `\n     <xg-trigger class=\"trigger ${className}\"></xg-trigger>\n    `\n  }\n}\n\nexport default MobilePlugin;\n","import { BasePlugin } from '../../plugin';\n\nclass PlaceHolderPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'placeholder'\n  }\n\n  render () {\n    return `<xg-placeholder class=\"xgplayer-placeholder\">\n    </xg-placeholder>`\n  }\n}\nexport default PlaceHolderPlugin\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst AnimateMap = {}\nfunction addAnimate (key, seconds, callback = {start: null, end: null}) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id)\n  }\n  AnimateMap[key] = {}\n  callback.start && callback.start()\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end()\n    window.clearTimeout(AnimateMap[key].id)\n    delete AnimateMap[key]\n  }, seconds);\n}\n\nconst { Util, Events, Sniffer } = Plugin\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'start'\n  }\n\n  static get defaultConfig () {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAmimate: false\n    }\n  }\n\n  afterCreate () {\n    const {player, playerConfig} = this\n    if (Sniffer.device === 'mobile') {\n      this.config.isShowPause = true\n    }\n    this.once(Events.READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(player.root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(player.root, 'lang-is-jp')\n        }\n      }\n    })\n\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n\n    this.onClick = this.onClick.bind(this)\n\n    this.bind('click', this.onClick)\n\n    this.on([Events.PLAY, Events.PAUSE], () => {\n      this.player.isPlaying ? this.animate() : this.hide()\n    })\n    this.on(Events.AUTOPLAY_PREVENTED, () => {\n      this.show();\n    })\n  }\n\n  registerIcons () {\n    return {\n      play: PlaySvg,\n      pause: PauseSvg\n    }\n  }\n\n  animate (isEnded) {\n    if ((this.config.isShowPause && this.player.paused && !this.player.ended) || this.player.ended || isEnded) {\n      if (this.player.ended && !this.config.isShowEnd) {\n        return\n      }\n      this.show()\n      this.root.innerHTML = this.player.paused ? this.icons.play : this.icons.pause\n      return;\n    }\n    if (this.player.disableAmimate) {\n      return;\n    }\n    addAnimate('pauseplay', 400, {\n      start: () => {\n        Util.addClass(this.root, 'interact')\n        this.show()\n        this.root.innerHTML = this.player.paused ? this.icons.pause : this.icons.play\n      },\n      end: () => {\n        Util.removeClass(this.root, 'interact');\n        if (this.config.isShowPause && (this.player.paused || isEnded)) {\n          return;\n        }\n        this.hide()\n      }\n    })\n  }\n\n  onClick (e) {\n    const {player} = this\n    e.preventDefault()\n    e.stopPropagation()\n    if (!player.isReady) {\n      return;\n    }\n    const paused = this.player.paused\n    if (!player.hasStart) {\n      player.start()\n      player.once('complete', () => {\n        player.play()\n      })\n    } else {\n      if (!paused) {\n        player.pause()\n      } else {\n        player.play()\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind('click', this.onClick)\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\" >\n      <div class=\"icon\">\n      ${this.icons.play}\n      </div>\n    </xg-start>`\n  }\n}\n\nexport default Start\n","import BasePlugin from '../../plugin/basePlugin';\n\nexport default class TextTrackPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'textTrack'\n  }\n\n  afterCreate () {\n    const { config, player } = this;\n    const options = config;\n    let textTrackDom = ''\n    if (options.textTrack && Array.isArray(options.textTrack) && (navigator.userAgent.indexOf('Chrome') > -1 || navigator.userAgent.indexOf('Firefox') > -1)) {\n      options.textTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    if (player.video) {\n      player.video.insertAdjacentHTML('afterbegin', textTrackDom);\n    }\n  }\n}\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter'\n}\n","import Player from '../../player'\nimport Plugin from '../../Plugin'\n\nexport default class ErrorPlugin extends Plugin {\n  static get pluginName () {\n    return 'error'\n  }\n\n  afterCreate () {\n    this.bind('.xgplayer-error-refresh', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n    this.on(Player.Events.CANPLAY, this.handleCanPlay.bind(this))\n    this.on(Player.Events.ERROR, this.handleError.bind(this))\n  }\n\n  handleCanPlay () {\n    Plugin.Util.removeClass(this.player.root, 'xgplayer-is-error')\n  }\n\n  handleError () {\n    const { player } = this;\n    const textDOM = this.find('.xgplayer-error-text');\n    if (player.error) {\n      textDOM.innerHTML = player.error\n    } else {\n      if (player.config.lang && player.config.lang === 'zh-cn') {\n        textDOM.innerHTML = player.lang.ERROR\n      } else {\n        this.root.innerHTML = `${player.lang.ERROR}，please try to <span class=\"xgplayer-error-refresh\">refresh</span>`\n      }\n    }\n  }\n  render () {\n    return `<xg-error class=\"xgplayer-error\">\n      <em class=\"xgplayer-error-text\"></em>请<span class=\"xgplayer-error-refresh\">刷新</span>试试\n    </xg-error>`\n  }\n}\n","import Plugin from '../../plugin';\n\nclass EnterPlugin extends Plugin {\n  static get pluginName () {\n    return 'index.scss';\n  }\n\n  render () {\n    let barStr = '';\n    for (let i = 1; i <= 12; i++) {\n      barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n    }\n\n    return `<xg-enter class=\"xgplayer-enter\"><div class=\"xgplayer-enter-spinner\">\n      ${barStr}\n    </div></xg-enter>`;\n  }\n}\n\nexport default EnterPlugin;\n","import BasePlugin from '../../plugin/basePlugin'\n\nclass Keyboard extends BasePlugin {\n  static get pluginName () {\n    return 'Keyboard'\n  }\n\n  static get defaultConfig () {\n    return {\n      seekStep: 10,\n      keyCodeMap: {},\n      disable: false\n    }\n  }\n\n  mergekeyCodeMap () {\n    const extendkeyCodeMap = this.config.keyCodeMap\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map(key => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key]\n        } else {\n          ['keyCode', 'action', 'disable', 'isBodyTarget'].map(key1 => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1])\n          })\n        }\n      })\n    }\n  }\n\n  afterCreate () {\n    this.config.disable = !this.playerConfig.keyShortcut\n    this.seekStep = 10\n    this.keyCodeMap = {\n      'space': {\n        keyCode: 32,\n        action: 'playPause',\n        disable: false,\n        noBodyTarget: false // 默认在body上触发\n      },\n      'up': {\n        keyCode: 38,\n        action: 'upVolume',\n        disable: false\n      },\n      'down': {\n        keyCode: 40,\n        action: 'downVolume',\n        disable: false\n      },\n      'left': {\n        keyCode: 37,\n        action: 'seekBack',\n        disable: false\n      },\n      'right': {\n        keyCode: 39,\n        action: 'seek',\n        disable: false\n      },\n      'esc': {\n        keyCode: 27,\n        action: 'exitFullscreen',\n        disable: false\n      }\n    }\n    this.mergekeyCodeMap()\n    this.onKeydown = this.onKeydown.bind(this)\n    this.onBodyKeyDown = this.onBodyKeyDown.bind(this)\n    this.player.root.addEventListener('keydown', this.onKeydown)\n    document.addEventListener('keydown', this.onBodyKeyDown)\n  }\n\n  afterPlayerInit () {\n    const seekStep = typeof this.config.seekStep === 'function' ? this.config.seekStep(this.player) : this.config.seekStep\n    if (!seekStep || typeof seekStep !== 'number') {\n      this.seekStep = seekStep\n    }\n  }\n\n  checkCode (code, isBodyTarget) {\n    let flag = false\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode) {\n        flag = !isBodyTarget || (isBodyTarget && !this.keyCodeMap[key].noBodyTarget)\n      }\n    })\n    return flag\n  }\n\n  downVolume () {\n    const {player} = this\n    if (player.volume - 0.1 >= 0) {\n      player.volume = parseFloat((player.volume - 0.1).toFixed(1))\n    } else {\n      player.volume = 0\n    }\n  }\n\n  upVolume () {\n    const {player} = this\n    if (player.volume + 0.1 <= 1) {\n      player.volume = parseFloat((player.volume + 0.1).toFixed(1))\n    } else {\n      player.volume = 1\n    }\n  }\n\n  seek () {\n    const {player} = this\n    if (player.currentTime + this.seekStep <= player.duration) {\n      player.currentTime += this.seekStep\n    } else {\n      player.currentTime = player.duration - 1\n    }\n  }\n\n  seekBack () {\n    const {player} = this\n    if (player.currentTime - this.seekStep >= 0) {\n      player.currentTime -= this.seekStep\n    } else {\n      player.currentTime = 0\n    }\n  }\n\n  playPause () {\n    const {player} = this\n    if (player.paused) {\n      // eslint-disable-next-line handle-callback-err\n      player.play().catch(err => {\n      })\n    } else {\n      player.pause()\n    }\n  }\n\n  exitFullscreen () {\n    const {player} = this\n    if (player.fullscreen) {\n      player.exitFullscreen()\n    }\n    if (player.isCssfullScreen) {\n      player.exitCssFullscreen()\n    }\n  }\n\n  // TODO: 多播放器实例存在的情况下，body下的快捷键会触发所有实例的逻辑，需改进\n  onBodyKeyDown (event) {\n    if (this.config.disable) {\n      return\n    }\n    let e = event || window.event\n    const keyCode = e.keyCode\n    if (e.target === document.body && this.checkCode(keyCode, true)) {\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n      this.handleKeyCode(keyCode)\n      return false\n    }\n    return false\n  }\n\n  onKeydown (event) {\n    if (this.config.disable) {\n      return\n    }\n    const player = this.player\n    let e = event || window.event\n    if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n      player.emit('focus')\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n    } else {\n      return true\n    }\n    this.handleKeyCode(e.keyCode)\n  }\n\n  handleKeyCode (keyCode) {\n    const {player} = this\n    if (keyCode === 40 || keyCode === 38) {\n      if (player.controls) {\n        // let volumeSlider = player.controls.querySelector('.xgplayer-slider')\n        // if (volumeSlider) {\n        //   if (Util.hasClass(volumeSlider, 'xgplayer-none')) {\n        //     Util.removeClass(volumeSlider, 'xgplayer-none')\n        //   }\n        //   if (player.sliderTimer) {\n        //     clearTimeout(player.sliderTimer)\n        //   }\n        //   player.sliderTimer = setTimeout(function () {\n        //     Util.addClass(volumeSlider, 'xgplayer-none')\n        //   }, player.config.inactive)\n        // }\n      }\n    }\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key].keyCode === keyCode && !this.keyCodeMap[key].disable) {\n        if (typeof this.keyCodeMap[key].action === 'function') {\n          this.keyCodeMap[key].action()\n        } else if (typeof this.keyCodeMap[key].action === 'string') {\n          const funKey = this.keyCodeMap[key].action\n          if (typeof this[funKey] === 'function') {\n            this[funKey]()\n          }\n        }\n      }\n    })\n  }\n\n  destroy () {\n    this.player.root.removeEventListener('keydown', this.onKeydown)\n    document.removeEventListener('keydown', this.onBodyKeyDown)\n  }\n}\n\nexport default Keyboard\n","import loadingIcon from '../assets/loading.svg';\n\nimport Plugin from '../../plugin/plugin';\n\nclass Loading extends Plugin {\n  static get pluginName () {\n    return 'loading'\n  }\n\n  registerIcons () {\n    return {\n      'loadingIcon': loadingIcon\n    }\n  }\n\n  render () {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      ${this.icons.loadingIcon}\n    </xg-loading>`\n  }\n}\n\nexport default Loading;\n","import Plugin from '../../plugin'\nconst defaultDot = {\n  time: 10, // 出现的时间点\n  text: '', // hover显示的文案\n  duration: 1, // 显示时长\n  style: {}, // 指定样式\n  color: '#fff' // 颜色\n}\n\nconst {Util, Events} = Plugin\nexport default class ProgressDot extends Plugin {\n  static get pluginName () {\n    return 'ProgressDots'\n  }\n\n  static get defaultConfig () {\n    return {\n      dots: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.dotsList = {}\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      const {dots} = this.config\n      if (!dots || !Array.isArray(dots)) {\n        return\n      }\n      dots.map(dot => {\n        this.createDotDom(dot)\n      })\n      this.initEvents()\n    })\n  }\n\n  initEvents () {\n    // this.bind('.xgplayer-progress-dot', 'mouseenter', (e) => {\n    //   console.log('mouseenter', e.target)\n    // })\n    // this.bind('.xgplayer-progress-dot', 'mouseleave', (e) => {\n    //   console.log('mouseleave', e.target)\n    // })\n  }\n\n  addDot (time, text, duration) {\n    let newDots = null\n    if (arguments.length === 1 && typeof time === 'object') {\n      newDots = arguments[0]\n    } else {\n      newDots = {\n        time: time,\n        text: text,\n        duration: duration\n      }\n    }\n    newDots = Util.deepCopy(arguments[0], defaultDot)\n    this.createDotDom(newDots)\n  }\n\n  removeDot (time) {\n    const {player} = this\n    if (time >= 0 && time <= player.duration && this.dotsList[time]) {\n      let dot = this.dotsList[time]\n      dot.parentNode.removeChild(dot)\n      dot = null\n      this.dotsList[time] = null\n    }\n  }\n\n  removeAllProgressDots () {\n    Object.keys(this.dotsList).forEach((key) => {\n      if (this.dotsList[key]) {\n        let dot = this.dotsList[key]\n        dot.parentNode.removeChild(dot)\n        dot = null\n        this.dotsList[key] = null\n      }\n    })\n  }\n\n  createDotDom (dot) {\n    const {player} = this\n    const dom = Util.createDom('xg-progress-dot', `${dot.text ? `<span class=\"xgplayer-progress-tip\">${dot.text}</span>` : ''}`, {}, 'xgplayer-progress-dot')\n    const style = dot.style || {}\n    style.left = (dot.time / player.duration) * 100 + '%'\n    style.width = (Math.min(dot.duration, player.duration - dot.time) / player.duration) * 100 + '%'\n    Object.keys(style).map(item => {\n      dom.style[item] = style[item]\n    })\n    this.dotsList[dot.time] = dom\n    this.root.appendChild(dom)\n  }\n\n  render () {\n    return '<xg-dots></xg-dots>'\n  }\n\n  destroy () {\n\n  }\n}\n","import Plugin from '../../plugin'\nimport ProgressDots from './progressdots'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nconst defaultThumbnailConfig = {\n  isShow: false,\n  urls: [],\n  pic_num: 0,\n  row: 0,\n  col: 0,\n  height: 160,\n  width: 90,\n  scale: 1\n}\n\n/**\n * 进度条组件\n */\nclass Progress extends Plugin {\n  static get pluginName () {\n    return 'Progress'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      progressDot: [],\n      thumbnail: null,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.useable = false\n    this.isProgressMoving = false\n\n    if (Sniffer.device !== 'mobile' && this.playerConfig.thumbnail) {\n      this.config.thumbnail = this.playerConfig.thumbnail\n    }\n  }\n\n  changeState (useable = true) {\n    this.useable = useable\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.progress === 'boolean') {\n      args.config.disable = !args.player.config.progress\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.playedBar = this.find('.xgplayer-progress-played')\n    this.cachedBar = this.find('.xgplayer-progress-cache')\n    this.pointTip = this.find('.xgplayer-progress-point')\n    this.progressBtn = this.find('.xgplayer-progress-btn')\n    this.thumbnailDom = this.find('xg-thumbnail')\n    this.initThumbnail()\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on(Events.SEEKING, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on([Events.BUFFER_CHANGE, Events.ENDED], () => {\n      this.onCacheUpdate()\n    })\n    this.bindDomEvents()\n  }\n\n  children () {\n    return {\n      ProgressDots: {\n        plugin: ProgressDots,\n        options: {\n          root: this.find('xg-outer'),\n          dots: this.playerConfig.progressDot || this.config.progressDot\n        }\n      }\n    }\n  }\n\n  initThumbnail () {\n    if (this.config.thumbnail) {\n      const {thumbnail} = this.config\n      this.thumbnailConfig = {}\n      Object.keys(defaultThumbnailConfig).map(key => {\n        if (typeof thumbnail[key] === 'undefined') {\n          this.thumbnailConfig[key] = defaultThumbnailConfig[key]\n        } else {\n          this.thumbnailConfig[key] = thumbnail[key]\n        }\n      })\n      const {width, height, scale} = this.thumbnailConfig\n      this.thumbnailDom.style.width = `${width * scale}px`\n      this.thumbnailDom.style.height = `${height * scale}px`\n    }\n  }\n\n  bindDomEvents () {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseMove = this.mouseMove.bind(this)\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this);\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.addEventListener(event, this.mouseDown);\n    })\n    this.root.addEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  mouseDown (e) {\n    console.log('mousedown')\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    const self = this\n    e.stopPropagation()\n    Util.event(e)\n    // this.pointTip为tip信息 不做seek操作\n    if (e.target === this.pointTip || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return true\n    }\n    this.root.focus()\n    Util.addClass(this.progressBtn, 'btn-move')\n    const containerWidth = this.root.getBoundingClientRect().width\n    let {left} = this.playedBar.getBoundingClientRect()\n    let move = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      self.isProgressMoving = true\n      let w = e.clientX - left\n      if (w > containerWidth) {\n        w = containerWidth\n      }\n      self.updatePercent(w / containerWidth)\n      player.emit('focus')\n    }\n    let up = function (e) {\n      // e.preventDefault()\n      Util.removeClass(self.progressBtn, 'btn-move')\n      e.stopPropagation()\n      Util.event(e)\n      if (Sniffer.device === 'mobile') {\n        self.root.removeEventListener('touchmove', move, { passive: false })\n        self.root.removeEventListener('touchend', up)\n      } else {\n        self.root.removeEventListener('mousemove', move)\n        self.root.removeEventListener('mouseup', up)\n      }\n      self.root.blur()\n      if (!self.isProgressMoving || player.videoConfig.mediaType === 'audio' || player.dash || player.config.closeMoveSeek) {\n        let w = e.clientX - left\n        if (w > containerWidth) {\n          w = containerWidth\n        }\n        // let now = w / containerWidth * player.duration\n        // self.playedBar.style.width = `${w * 100 / containerWidth}%`\n        // player.currentTime = Number(now).toFixed(1)\n        self.updatePercent(w / containerWidth)\n      }\n      player.emit('focus')\n      self.isProgressMoving = false\n    }\n    if (Sniffer.device === 'mobile') {\n      self.root.addEventListener('touchmove', move, false)\n      self.root.addEventListener('touchend', up, false)\n    } else {\n      self.root.addEventListener('mousemove', move)\n      self.root.addEventListener('mouseup', up)\n    }\n    return true\n  }\n\n  mouseEnter (e) {\n    console.log('mouseEnter')\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    if (!player.config.allowSeekAfterEnded && player.ended) {\n      return true\n    }\n    this.root.addEventListener('mousemove', this.mouseMove, false)\n    this.root.addEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseLeave (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    this.pointTip.style.display = 'none'\n    this.thumbnailDom.style.display = 'none'\n    this.root.removeEventListener('mousemove', this.mouseMove, false)\n    this.root.removeEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseMove (e) {\n    const {player} = this\n    let left = this.root.getBoundingClientRect().left\n    let width = this.root.getBoundingClientRect().width\n    let now = (e.clientX - left) / width * player.duration\n    now = now < 0 ? 0 : now\n    this.pointTip.textContent = Util.format(now)\n    let pointWidth = this.pointTip.getBoundingClientRect().width\n    let pleft = e.clientX - left - pointWidth / 2\n    pleft = pleft > 0 ? pleft : 0\n    pleft = pleft > width - pointWidth ? width - pointWidth : pleft\n    this.pointTip.style.left = `${pleft}px`\n    if (e.target && e.target.className === 'xgplayer-progress-dot') {\n      this.pointTip.style.display = 'none'\n    } else {\n      this.pointTip.style.display = 'block'\n    }\n    this.updateThumbnailPosition(e, now, width)\n  }\n\n  updateThumbnailPosition (e, now, containerWidth) {\n    if (!this.config.thumbnail) {\n      return;\n    }\n    const thumbnail = this.thumbnailConfig\n    if (!thumbnail || !thumbnail.pic_num === 0 || thumbnail.urls.length === 0) {\n      return\n    }\n    this.interval = this.player.duration / thumbnail.pic_num\n    let index = Math.floor(now / this.interval)\n    const {urls, row, col, height, width, scale} = thumbnail\n    const indexInPage = index + 1 - (col * row) * (Math.ceil((index + 1) / (col * row)) - 1)\n    const rowIndex = Math.ceil(indexInPage / row) - 1\n    const colIndex = indexInPage - rowIndex * row - 1\n    let left = e.clientX - width * scale / 2\n    left = left > 0 ? left : 0\n    left = left < containerWidth - width * scale ? left : containerWidth - width * scale\n    const style = {\n      backgroundImage: `url(${urls[Math.ceil((index + 1) / (col * row)) - 1]})`,\n      'background-position': `-${colIndex * width}px -${rowIndex * height}px`,\n      left: `${left}px`,\n      top: `${-10 - height * scale}px`,\n      display: 'block'\n    }\n    Object.keys(style).map((key) => {\n      this.thumbnailDom.style[key] = style[key]\n    })\n  }\n\n  updateTime (time) {\n    const {player} = this\n    let timeIcon = player.plugins.time\n    if (time) {\n      timeIcon.updateTime(time)\n    }\n  }\n\n  updatePercent (percent, notSeek) {\n    if (this.config.disable) {\n      return;\n    }\n    const {player} = this\n    let now = percent * player.duration\n    this.playedBar.style.width = `${percent * 100}%`\n    if (notSeek) {\n      return\n    }\n    if (player.videoConfig.mediaType === 'video' && !player.dash && !player.config.closeMoveSeek) {\n      player.currentTime = Number(now).toFixed(1)\n    } else {\n      this.updateTime(now)\n    }\n  }\n\n  compute (e) {\n    const containerLeft = this.root.getBoundingClientRect().left\n    const containerWidth = this.root.getBoundingClientRect().width\n    const pointWidth = this.pointTip.getBoundingClientRect().width\n    let left = e.clientX - containerLeft - pointWidth / 2\n    left = left > 0 ? left : 0\n    left = left > containerWidth - pointWidth ? containerWidth - pointWidth : left\n    this.pointTip.style.left = `${left}px`\n  }\n\n  onTimeupdate () {\n    const {player} = this\n    if (player.isSeeking) {\n      return;\n    }\n    if (player.videoConfig.mediaType !== 'audio' || !this.isProgressMoving || !player.dash) {\n      this.playedBar.style.width = `${player.currentTime * 100 / player.duration}%`\n    }\n  }\n\n  onCacheUpdate () {\n    const {player} = this\n    let buffered = player.buffered\n    if (buffered && buffered.length > 0) {\n      let end = buffered.end(buffered.length - 1)\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        if (player.currentTime >= buffered.start(i) && player.currentTime <= buffered.end(i)) {\n          end = buffered.end(i)\n          for (let j = i + 1; j < buffered.length; j++) {\n            if (buffered.start(j) - buffered.end(j - 1) >= 2) {\n              end = buffered.end(j - 1)\n              break\n            }\n          }\n          break\n        }\n      }\n      this.cachedBar.style.width = `${end / player.duration * 100}%`\n    }\n  }\n\n  destroy () {\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.removeEventListener(event, this.mouseDown);\n    })\n    this.root.removeEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-progress class=\"xgplayer-progress\">\n        <xg-outer class=\"xgplayer-progress-outer\">\n          <xg-cache class=\"xgplayer-progress-cache\" style=\"width:0\">\n          </xg-cache>\n          <xg-played class=\"xgplayer-progress-played\" style=\"width:0\">\n            <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n            <xg-point class=\"xgplayer-progress-point xg-tips\">00:00</xg-point>\n            <xg-thumbnail class=\"xgplayer-progress-thumbnail xg-tips\"></xg-thumbnail>\n          </xg-played>\n        </xg-outer>\n      </xg-progress>\n    `\n  }\n}\n\nexport default Progress\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst {Events, POSITIONS, Sniffer} = Plugin\n\nclass Play extends Plugin {\n  static get pluginName () {\n    return 'Play'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    const { player, config } = this\n    if (config.disable) {\n      return\n    }\n    this.btnClick = this.btnClick.bind(this)\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.btnClick)\n\n    this.on(Events.PAUSE, () => {\n      this.animate(player.paused)\n    })\n    this.on(Events.PLAY, () => {\n      this.animate(player.paused)\n    })\n  }\n\n  btnClick (e) {\n    const {player} = this\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: PlaySvg,\n      pause: PauseSvg\n    }\n  }\n\n  animate (paused) {\n    if (paused) {\n      this.find('.xgplayer-icon').innerHTML = this.icons.play\n      this.find('.xg-tips').innerHTML = this.text.play\n    } else {\n      this.find('.xgplayer-icon').innerHTML = this.icons.pause\n      this.find('.xg-tips').innerHTML = this.text.pause\n    }\n    // const path = this.find('.path')\n    // const pathPlay = this.find('.path_play').getAttribute('d')\n    // const pathPause = this.find('.path_pause').getAttribute('d')\n    // !paused ? path.setAttribute('d', pathPause) : path.setAttribute('d', pathPlay)\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.btnClick)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.play}\n    </div>\n    <div class=\"xg-tips\">${this.player.paused ? this.text.play : this.text.pause}</div>\n    </xg-icon>`\n  }\n}\nexport default Play\n","import Plugin from '../../plugin'\nimport FullScreenChangeSvg from '../assets/fullscreenChange.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class Fullscreen extends Plugin {\n  static get pluginName () {\n    return 'fullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 0,\n      useCssFullscreen: false,\n      switchCallback: null,\n      target: null\n    }\n  }\n\n  afterCreate () {\n    this.isFullScreen = this.player.isFullScreen\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['click', 'touchend'], this.btnClick)\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      this.find('.xg-tips').innerHTML = isFullScreen ? this.text.exitFullscreen : this.text.fullscreen\n      this.animate(isFullScreen)\n    })\n  }\n\n  btnClick (e) {\n    const {player, config} = this;\n    let useCssFullscreen = false\n    if (config.useCssFullscreen === true || (typeof config.useCssFullscreen === 'function' && config.useCssFullscreen())) {\n      useCssFullscreen = true;\n    }\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.getCssFullscreen()\n        player.fullscreen = true\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        player.exitCssFullscreen()\n        player.fullscreen = false\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    } else {\n      if (config.switchCallback && typeof config.switchCallback === 'function') {\n        config.switchFullScreen(this.isFullScreen)\n        this.isFullScreen = !this.isFullScreen\n        return\n      }\n      if (player.fullscreen) {\n        player.exitFullscreen(config.target)\n      } else {\n        player.getFullscreen(config.target)\n      }\n    }\n  }\n\n  animate (isFullScreen) {\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  registerLangauageTexts () {\n    return {\n      fullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Fullscreen',\n        zh: '进入全屏'\n      },\n      exitFullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Exit fullscreen',\n        zh: '退出全屏'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      fullscreenChange: FullScreenChangeSvg\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.fullscreenChange}\n    </div>\n    <div class=\"xg-tips\">${this.player.isFullScreen ? this.text.exitFullscreen : this.text.fullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Util, Events, POSITIONS, Sniffer } = Plugin\n\nclass Time extends Plugin {\n  static get pluginName () {\n    return 'time'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false,\n      mode: 'pc'\n    }\n  }\n\n  afterCreate () {\n    this.mode = Sniffer.device === 'mobile' ? 'mobile' : 'pc'\n    if (this.config.disable) {\n      return\n    }\n    if (this.mode === 'mobile') {\n      this.createCenterTime()\n      this.hide()\n    }\n    this.durationDom = this.find('.time-duration')\n    this.timeDom = this.find('.time-current')\n    this.on(Events.DURATION_CHANGE, () => {\n      this.onTimeUpdate()\n    })\n    this.on(Events.TIME_UPDATE, () => {\n      !this.player.isSeeking && this.onTimeUpdate()\n    })\n  }\n\n  show () {\n    if (this.mode === 'mobile') {\n      return\n    }\n    super.show()\n  }\n\n  onTimeUpdate () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    const current = player.currentTime\n    if (this.mode === 'mobile') {\n      this.centerCurDom.innerHTML = Util.format(current)\n      if (player.duration !== Infinity) {\n        this.centerDurDom.innerHTML = Util.format(player.duration)\n      }\n    } else {\n      this.timeDom.innerHTML = Util.format(current)\n      if (player.duration !== Infinity) {\n        this.durationDom.innerHTML = Util.format(player.duration)\n      }\n    }\n  }\n\n  createCenterTime () {\n    const {player} = this\n    if (!player.controls || !player.controls.center) {\n      return\n    }\n    const center = player.controls.center\n    this.centerCurDom = Util.createDom('xg-icon', '00:00', {style: 'margin-left:0px;margin-right:10px;'}, 'xgplayer-time')\n    this.centerDurDom = Util.createDom('xg-icon', '00:00', {}, 'xgplayer-time')\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom)\n    center.appendChild(this.centerDurDom)\n  }\n\n  afterPlayerInit () {\n    const {player, config} = this\n    if (player.duration === Infinity || this.playerConfig.isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n    }\n    if (config.hide) {\n      this.hide()\n      return\n    }\n    this.show();\n  }\n\n  changeLiveState (isLive) {\n    if (isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n      Util.show(this.find('.time-separator'))\n      Util.show(this.durationDom)\n      Util.show(this.timeDom)\n    }\n  }\n\n  updateTime (time) {\n    const { player } = this\n    if ((!time && time !== 0) || time > player.duration) {\n      return\n    }\n    if (this.mode === 'mobile') {\n      this.centerCurDom.innerHTML = Util.format(time)\n      return\n    }\n    this.timeDom.innerHTML = Util.format(time)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-time\" style=\"display:none\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">直播</span>\n    </xg-icon>`\n  }\n}\nexport default Time\n","import Plugin from '../../plugin'\nimport volumeChange from '../assets/volumeChange.svg'\n\nconst {Util, Events, POSITIONS} = Plugin\n\nclass Volume extends Plugin {\n  static get pluginName () {\n    return 'Volume'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  registerIcons () {\n    return {\n      volumeChange: volumeChange\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    this.bar = this.find('.xgplayer-bar')\n    this.drag = this.find('.xgplayer-drag')\n    this.changeMuted = this.changeMuted.bind(this)\n\n    this.onBarMousedown = this.onBarMousedown.bind(this)\n\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onMouseleave = this.onMouseleave.bind(this)\n    this.bind('mouseenter', this.onMouseenter)\n\n    this.bind(['blur', 'mouseleave'], this.onMouseleave)\n\n    this.bind('.xgplayer-bar', 'mousedown', this.onBarMousedown)\n    this.bind('.xgplayer-icon', ['click', 'touched'], this.changeMuted)\n\n    this.on(Events.VOLUME_CHANGE, this.onVolumeChange.bind(this))\n  }\n\n  onBarMousedown (e) {\n    const {player} = this\n    player.video.muted = false\n    const drag = this.drag\n    const slider = this.find('.xgplayer-slider')\n    slider.focus()\n    Util.event(e)\n\n    let barRect = this.bar.getBoundingClientRect()\n    let pos = {x: e.clientX, y: e.clientY}\n    let height = drag.getBoundingClientRect().height\n    let isMove = false\n    let onMove = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      isMove = true\n      let w = height - e.clientY + pos.y\n      let now = w / barRect.height\n      drag.style.height = `${w}px`\n      player.volume = Math.max(Math.min(now, 1), 0)\n    }\n\n    let onUp = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', onMove)\n      window.removeEventListener('touchmove', onMove)\n      window.removeEventListener('mouseup', onUp)\n      window.removeEventListener('touchend', onUp)\n\n      if (!isMove) {\n        let w = barRect.height - (e.clientY - barRect.top)\n        let now = w / barRect.height\n        drag.style.height = `${w}px`\n        if (now <= 0) {\n          if (player.volume > 0) {\n            drag.volume = player.video.volume\n          } else {\n            now = drag.volume\n          }\n        }\n        player.volume = Math.max(Math.min(now, 1), 0)\n      }\n      slider.volume = player.volume\n      isMove = false\n    }\n    window.addEventListener('mousemove', onMove)\n    window.addEventListener('touchmove', onMove)\n    window.addEventListener('mouseup', onUp)\n    window.addEventListener('touchend', onUp)\n    return false\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.addClass(this.root, 'slide-show')\n  }\n\n  onMouseleave (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.removeClass(this.root, 'slide-show')\n  }\n\n  changeMuted () {\n    const {player} = this\n    player.muted = !player.muted\n  }\n\n  onVolumeChange () {\n    const {muted, volume} = this.player\n    this.find('.xgplayer-drag').style.height = muted || volume === 0 ? `0px` : `${volume * 100}%`\n    this.animate(muted, volume)\n  }\n\n  animate (muted, volume) {\n    const path = this.find('.path')\n    const pathLarge = this.find('.path_large').getAttribute('d')\n    const pathSmall = this.find('.path_small').getAttribute('d')\n    const pathMuted = this.find('.path_muted').getAttribute('d')\n    if (muted || volume === 0) {\n      path.setAttribute('d', pathMuted)\n    } else {\n      volume >= 0.5 ? path.setAttribute('d', pathLarge) : path.setAttribute('d', pathSmall)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    const {volume} = this.player\n    return `\n    <xg-icon class=\"xgplayer-volume\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.volumeChange}\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        <xg-bar class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </xg-bar>\n      </xg-slider>\n    </xg-icon>`\n  }\n}\nexport default Volume\n","import Plugin from '../../plugin'\nimport RotateSvg from '../assets/rotate.svg'\n\nconst {POSITIONS} = Plugin\n\nexport default class Rotate extends Plugin {\n  static get pluginName () {\n    return 'rotate'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      innerRotate: false, // true为只有画面旋转，false为整个播放器旋转\n      clockwise: false,\n      rotateDeg: 0, // 初始旋转角度\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.rotateDeg = this.config.rotateDeg || 0\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.rotate === 'boolean') {\n      args.config.disable = !args.player.config.rotate\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  destroy () {\n    this.unbind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  onBtnClick (e) {\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1)\n  }\n\n  updateRotateDeg () {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n\n    let width = player.root.offsetWidth\n    let height = player.root.offsetHeight\n    let targetWidth = player.video.videoWidth\n    let targetHeight = player.video.videoHeight\n\n    if (!this.config.innerRotate) {\n      // player.root.style.width = height + 'px'\n      // player.root.style.height = width + 'px'\n    }\n\n    let scale\n    if (this.rotateDeg === 0.25 || this.rotateDeg === 0.75) {\n      if (this.config.innerRotate) {\n        if ((targetWidth / targetHeight) > (height / width)) { // 旋转后纵向撑满\n          let videoWidth = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoWidth = height * targetWidth / targetHeight\n          } else {\n            // 旋转前是横向撑满\n            videoWidth = width\n          }\n          scale = height / videoWidth\n        } else { // 旋转后横向撑满\n          let videoHeight = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoHeight = height\n          } else { // 旋转前是横向撑满\n            videoHeight = width * targetHeight / targetWidth\n          }\n          scale = width / videoHeight\n        }\n      } else {\n        if (width >= height) {\n          scale = width / height\n        } else {\n          scale = height / width\n        }\n      }\n      scale = parseFloat(scale.toFixed(5))\n    } else {\n      scale = 1\n    }\n\n    if (this.config.innerRotate) {\n      player.video.style.transformOrigin = 'center center'\n      player.video.style.transform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n      player.video.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n    } else {\n      player.root.style.transformOrigin = 'center center'\n      player.root.style.transform = `rotate(${this.rotateDeg}turn) scale(${1})`\n      player.root.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${1})`\n    }\n  }\n\n  rotate (clockwise = false, innerRotate = true, times = 1) {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n    let factor = clockwise ? 1 : -1\n\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1\n    this.updateRotateDeg()\n    player.emit('rotate', this.rotateDeg * 360)\n  }\n\n  registerIcons () {\n    return {\n      'rotate': RotateSvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'rotate': {\n        jp: '日文text',\n        en: 'rotate',\n        zh: '旋转屏幕'\n      }\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.rotate}\n      </div>\n      <div class=\"xg-tips\">\n      ${this.text.rotate}\n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, POSITIONS} = Plugin\n\nclass PIP extends Plugin {\n  static get pluginName () {\n    return 'Pip'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      showIcon: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.pip === 'boolean') {\n      args.config.showIcon = args.player.config.pip\n    }\n  }\n\n  afterCreate () {\n    this.btnClick = (e) => {\n      this.switchPIP(e)\n    }\n    // video初始化之后再做判断是否显示\n    this.once(Events.COMPLETE, () => {\n      console.log(this.config.showIcon && this.isPIPAvailable())\n      if (this.config.showIcon && this.isPIPAvailable()) {\n        this.show()\n        this.bind('click', this.btnClick)\n      }\n      this.initPipEvents()\n    })\n  }\n\n  initPipEvents () {\n    const {player} = this\n    this.leavePIPCallback = () => {\n      // 处理点击x关闭画中画的时候暂停问题\n      const paused = player.paused\n      setTimeout(() => {\n        !paused && player.play()\n      }, 0)\n      player.emit('pip_change', false)\n    }\n\n    this.enterPIPCallback = () => {\n      player.emit('pip_change', true)\n    }\n\n    if (player.video) {\n      player.video.addEventListener('enterpictureinpicture', this.enterPIPCallback)\n      // Video left Picture-in-Picture mode.\n      player.video.addEventListener('leavepictureinpicture', this.leavePIPCallback)\n    }\n  }\n\n  switchPIP () {\n    const {player, playerConfig} = this\n    if (!this.isPIPAvailable()) {\n      return false\n    }\n    try {\n      if (document.pictureInPictureElement && document.pictureInPictureElement === player.video) {\n        document.exitPictureInPicture();\n      } else {\n        if (!player.video) {\n          return\n        }\n        if (playerConfig.poster) {\n          player.video.poster = playerConfig.poster\n        }\n        player.video.requestPictureInPicture()\n      }\n      return true\n    } catch (reason) {\n      console.error('switchPIP', reason);\n      return false\n    }\n  }\n\n  get isPip () {\n    const {player} = this\n    return document.pictureInPictureElement === player.video\n  }\n\n  isPIPAvailable () {\n    const {player} = this\n    return document.pictureInPictureEnabled || !(player.video && player.video.disablePictureInPicture);\n  }\n\n  registerLangauageTexts () {\n    return {\n      'pipicon': {\n        jp: 'picture-in-picture',\n        en: 'picture-in-picture',\n        zh: '画中画'\n      }\n    }\n  }\n\n  destroy () {\n    const {player} = this\n    player.video.removeEventListener('enterpictureinpicture', this.enterPIPCallback)\n    player.video.removeEventListener('leavepictureinpicture', this.leavePIPCallback)\n    this.unbind('click', this.btnClick)\n  }\n\n  render () {\n    if (!this.config.showIcon && this.isPIPAvailable()) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon btn-definition\">\n      ${this.icons.pipicon ? this.icons.pipicon : `<span>${this.text.pipicon}</span>`}\n      </div>\n      ${this.icons.pipicon ? `<div class=\"xg-tips\">${this.text.pipicon}</div>` : ''}\n    </xg-icon>`\n  }\n}\nexport default PIP\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","import downloadUtil from 'downloadjs'\nimport Plugin from '../../plugin'\nimport DownloadSvg from '../assets/download.svg'\nconst {POSITIONS} = Plugin\n\nexport default class Download extends Plugin {\n  static get pluginName () {\n    return 'DownloadIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.timer = null\n    this.isLock = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.download === 'boolean') {\n      args.config.disable = !args.player.config.download\n    }\n  }\n\n  afterCreate () {\n    if (!this.config.download) {\n      return;\n    }\n    this.download = this.download.bind(this)\n    this.bind(['click', 'touchend'], this.download)\n  }\n\n  registerLangauageTexts () {\n    return {\n      download: {\n        jp: 'フルスクリーン',\n        en: 'download',\n        zh: '下载'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      download: DownloadSvg\n    }\n  }\n\n  download () {\n    if (!this.isLock) {\n      return\n    }\n    const url = this.getAbsoluteURL(this.player.src)\n    downloadUtil(url)\n    this.isLock = true\n    this.timer = window.setTimeout(() => {\n      this.isLock = false\n      window.clearTimeout(this.timer)\n      this.timer = null\n    }, 300)\n  }\n\n  getAbsoluteURL (url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement('div')\n      div.innerHTML = `<a href=\"${url}\">x</a>`\n      url = div.firstChild.href\n    }\n    return url\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.download)\n    window.clearTimeout(this.timer)\n    this.timer = null\n  }\n\n  render () {\n    if (!this.config.download) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.download}\n      </div>\n      <div class=\"xg-tips\">${this.text.download}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { POSITIONS } = Plugin\nexport default class ScreenShot extends Plugin {\n  static get pluginName () {\n    return 'screenShot'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 5,\n      quality: 0.92,\n      type: 'image/png',\n      format: '.png',\n      width: 600,\n      height: 337,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.screenShot === 'boolean') {\n      args.config.disable = !args.player.config.screenShot\n    }\n  }\n\n  onPluginsReady () {\n    this.show()\n    this.onClickBtn = this.onClickBtn.bind(this)\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  saveScreenShot (data, filename) {\n    const saveLink = document.createElement('a')\n    saveLink.href = data\n    saveLink.download = filename\n    let event = document.createEvent('MouseEvents')\n    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    saveLink.dispatchEvent(event)\n  }\n\n  createCanvans () {\n    const canvas = document.createElement('canvas')\n    this.canvasCtx = canvas.getContext('2d')\n    this.canvas = canvas\n    canvas.width = this.config.width || 600\n    canvas.height = this.config.height || 337.5\n  }\n\n  onClickBtn (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.canvas) {\n      this.createCanvans();\n    }\n    let img = new window.Image();\n    this.canvasCtx.drawImage(this.player.video, 0, 0, this.canvas.width, this.canvas.height)\n    const encoderOptions = this.config.quality\n    const type = this.config.type\n    const format = this.config.format\n    img.setAttribute('crossOrigin', 'anonymous')\n    img.src = this.canvas.toDataURL(type, encoderOptions).replace(type, 'image/octet-stream')\n    const screenShotImg = img.src.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream')\n    this.emit('screenShot', screenShotImg)\n    this.saveScreenShot(screenShotImg, '截图' + format)\n    img.onload = () => {\n      console.log('img.onload')\n      img = null;\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'screenshot': {\n        jp: 'play',\n        en: 'play',\n        zh: '截图'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      'screenshotIcon': null\n    }\n  }\n\n  destroy () {\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? 'xgplayer-icon' : 'xgplayer-icon btn-definition'\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? `${this.icons.screenshotIcon}` : `<span>${this.text.screenshot}</span>`} \n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Events, Util, Sniffer, POSITIONS } = Plugin\nexport default class DefinitionIcon extends Plugin {\n  static get pluginName () {\n    return 'Definition'\n  }\n\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      list: null,\n      disable: false,\n      hideMobile: true // 是否在移动端竖屏状态下隐藏\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    // 记录切换的时候的播放器状态\n    this.curTime = 0\n    this.isPaused = true\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      if (this.config.list && this.config.list.length > 0) {\n        this.renderItemList()\n        this.show()\n      }\n    })\n    this.once('resourceReady', (list) => {\n      this.changeDefinitionList(list)\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onToggle = this.onToggle.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onToggle)\n    this.bind('mouseleave', this.onToggle)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const {player} = this\n    const {list} = this.config\n    let src = player.config.url;\n    const a = document.createElement('a')\n    if (player.switchURL) {\n      this.switchUrl()\n    } else {\n      src = player.currentSrc || player.src\n    }\n    if (player['hls']) {\n      a.href = player['hls'].url\n      src = a.href\n    }\n\n    const liList = list.map(item => {\n      a.href = item.url\n      const className = player.dash ? (item.selected ? 'selected' : '') : (a.href === src ? 'selected' : '')\n      return `<li class=\"${className}\" cname=\"${item.name}\" url=\"${item.url}\">${item.name}</li>`\n    })\n    let cursrc = list.filter(item => {\n      a.href = item.url\n      if (player.dash) {\n        return item.selected === true\n      } else {\n        return a.href === src\n      }\n    })\n    this.find('.icon-text').innerHTML = (cursrc[0] || {name: '清晰度'}).name\n    this.find('.icon-list').innerHTML = liList.join('')\n  }\n\n  onCanplayChangeDefinition () {\n    const {player} = this\n    player.currentTime = this.curTime\n    if (!this.isPaused) {\n      let playPromise = player.play()\n      if (playPromise !== undefined && playPromise) {\n        // eslint-disable-next-line handle-callback-err\n        playPromise.catch(err => {})\n      }\n    }\n    player.emit('afterdefinitionChange')\n  }\n\n  onToggle (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  switchUrl (lastATag) {\n    const {player} = this\n    let curRUL = document.createElement('a');\n    ['mp4', 'hls', '__flv__', 'dash'].every(item => {\n      if (player[item]) {\n        if (player[item].url) {\n          curRUL.href = player[item].url\n        }\n        if (item === '__flv__') {\n          if (player[item]._options) {\n            curRUL.href = player[item]._options.url\n          } else {\n            curRUL.href = player[item]._mediaDataSource.url\n          }\n        }\n        return false\n      } else {\n        return true\n      }\n    })\n    if (lastATag && curRUL.href !== lastATag.href && !player.ended) {\n      player.switchURL(lastATag.href)\n    }\n  }\n\n  // 对外暴露 切换清晰度\n  changeDefinitionList (list) {\n    this.config.list = list\n    this.renderItemList()\n    this.show()\n  }\n\n  onItemClick (e) {\n    const {player} = this\n    const {list} = this.config\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.target && e.target.className === 'selected') {\n      return false\n    }\n    const a = document.createElement('a')\n    player.emit('beforeDefinitionChange', a.href)\n    if (player.dash) {\n      list.forEach(item => {\n        item.selected = false\n        if (item.name === e.target.innerHTML) {\n          item.selected = true\n        }\n      })\n    }\n    const curlSelected = this.find('.selected')\n    Util.addClass(e.target, 'selected')\n    curlSelected && Util.removeClass(curlSelected, 'selected')\n    const from = curlSelected ? curlSelected.getAttribute('cname') : ''\n    const to = e.target.getAttribute('cname')\n    a.href = e.target.getAttribute('url')\n    this.curTime = player.currentTime;\n    this.isPaused = player.paused\n    if (player.switchURL) {\n      this.switchUrl(a)\n    } else {\n      // if (player['hls']) {\n      //   let curRUL = document.createElement('a')\n      //   curRUL = player['hls'].url\n      // }\n      if (a.href !== player.currentSrc) {\n        if (!player.ended) {\n          player.src = a.href\n          this.once('canplay', () => {\n            this.onCanplayChangeDefinition()\n          })\n        }\n      }\n    }\n    this.find('.icon-text').innerHTML = to\n    player.emit('definitionChange', {from, to})\n    if (Sniffer.device === 'mobile') {\n      Util.removeClass(this.root, 'list-show')\n    }\n  }\n\n  render () {\n    const text = '清晰度'\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, Sniffer, POSITIONS} = Plugin\n\nexport default class PlaybackRate extends Plugin {\n  static get pluginName () {\n    return 'PlaybackRate'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 4,\n      list: [0.5, 0.75, {rate: 1, iconText: '倍速'}, 1.5, 2]\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.curRate = 1\n  }\n\n  afterCreate () {\n    const {playerConfig, config} = this\n    if (Array.isArray(playerConfig.playbackRate)) {\n      config.list = playerConfig.playbackRate\n    }\n    this.once(Events.CANPLAY, () => {\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.renderItemList();\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  show () {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show()\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  onItemClick (e) {\n    const target = e.target\n    const cname = target.getAttribute('cname')\n    if (Number(cname) === this.curRate) {\n      return false\n    }\n    Util.removeClass(this.find('.selected'), 'selected')\n    Util.addClass(target, 'selected')\n    this.curRate = Number(cname)\n    this.player.playbackRate = Number(cname)\n    this.find('.icon-text').innerHTML = target.getAttribute('ctext')\n  }\n\n  destroy () {\n    this.unbind(this.activeEvent, this.onMouseenter)\n    this.unbind('mouseleave', this.onMouseenter)\n    this.unbind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const playbackRate = this.player.playbackRate || 1\n    this.curRate = playbackRate\n    let currentText = ''\n    const items = this.config.list.map((item) => {\n      let itemInfo = typeof item === 'object' ? item : {rate: item}\n      !itemInfo.text && (itemInfo.text = `${itemInfo.rate}x`)\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.isCurrent = true\n        currentText = item.iconText || itemInfo.text\n      }\n      return `<li cname=\"${itemInfo.rate}\" ctext=\"${item.iconText || itemInfo.text}\" class=\"${itemInfo.isCurrent ? 'selected' : ''}\">${itemInfo.text}</li>`\n    })\n    this.find('.icon-list').innerHTML = items.join('')\n    this.find('.icon-text').innerHTML = currentText\n    this.show()\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\">\n    <span class=\"icon-text\"></span>\n    </div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\nimport CssFullscreenChange from '../assets/cssFullscreenChange.svg'\n\nconst {Events, POSITIONS} = Plugin\nexport default class CssFullScreen extends Plugin {\n  static get pluginName () {\n    return 'cssFullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.cssFullscreen === 'boolean') {\n      args.config.disable = !args.player.config.cssFullscreen\n    }\n  }\n\n  afterCreate () {\n    this.on(Events.CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen)\n    })\n    // 退出全屏的时候会同时退出网页全屏\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      !isFullScreen && this.animate(isFullScreen)\n    })\n  }\n\n  afterPlayerInit () {\n    this.btnClick = this.btnClick.bind(this);\n    this.bind(['click', 'touchend'], this.btnClick)\n  }\n\n  btnClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.player.isCssfullScreen) {\n      this.player.getCssFullscreen()\n    } else {\n      this.player.exitCssFullscreen()\n    }\n  }\n\n  animate (isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  switchTips () {\n    this.find('.xg-tips').innerHTML = this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen\n  }\n\n  registerIcons () {\n    return {\n      cssFullscreen: CssFullscreenChange\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'cssFullscreen': {\n        jp: 'Cssfullscreen',\n        en: 'Cssfullscreen',\n        zh: '进入样式全屏'\n      },\n      exitCssFullscreen: {\n        jp: 'Exit cssfullscreen',\n        en: 'Exit cssfullscreen',\n        zh: '退出样式全屏'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    if (!this.playerConfig.cssFullscreen) {\n      return\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    ${this.icons.cssFullscreen}\n    </div>\n    <div class=\"xg-tips\">${this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import sniffer from '../utils/sniffer';\n// import Danmu from '../plugins/danmu'\nimport Replay from '../plugins/replay';\nimport Poster from '../plugins/poster';\nimport Start from '../plugins/start';\nimport Enter from '../plugins/enter';\nimport Miniscreen from '../plugins/miniScreen';\nimport PC from '../plugins/pc'\nimport Mobile from '../plugins/mobile'\nimport Keyboard from '../plugins/keyboard'\nimport Loading from '../plugins/loading'\nimport Progress from '../plugins/progress'\nimport PlayIcon from '../plugins/play'\nimport FullScreen from '../plugins/fullscreen'\nimport TimeIcon from '../plugins/time'\nimport Volume from '../plugins/volume'\nimport RotateIcon from '../plugins/rotate'\nimport PIPIcon from '../plugins/pip'\nimport PlayNextIcon from '../plugins/playNext'\nimport DownLoadIcon from '../plugins/download'\nimport ScreenShotIcon from '../plugins/screenShot'\nimport DefinitionIcon from '../plugins/definition'\nimport PlaybackRateIcon from '../plugins/playbackRate'\nimport CssFullScreen from '../plugins/cssFullScreen'\n\nexport default class DefaultPreset {\n  constructor () {\n    const contolsIcons = [Progress, PlayIcon, FullScreen, TimeIcon,\n      RotateIcon, PlayNextIcon, DefinitionIcon, PlaybackRateIcon, DownLoadIcon, ScreenShotIcon]\n\n    const barIcons = [{\n      plugin: PIPIcon,\n      options: {\n        index: 0,\n        position: PIPIcon.POSITIONS.ROOT_TOP\n      }}]\n\n    const layers = [Replay, Poster, Start, Loading, Enter]\n\n    this.plugins = [...contolsIcons, ...layers]\n    switch (sniffer.device) {\n      case 'pc':\n        this.plugins.push(...[Keyboard, PC, CssFullScreen, Volume], ...barIcons, Miniscreen);\n        break;\n      case 'mobile':\n        this.plugins.push(Mobile);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PC])\n    }\n    this.ignores = []\n  }\n}\n","import Player from './player'\nimport * as Plugins from './plugins'\nimport defaultPreset from './presets/default';\n\nPlayer.defaultPreset = defaultPreset;\nPlayer.defaultPlugins = Plugins;\n\nexport default Player\n"],"names":["isValue","isObject","isPrototype","isFunction","_undefined","require$$0","require$$1","value","keys","normalizeOpts","isPlainFunction","callable","d","hasOwnProperty","util","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","Object","forEach","key","item","setAttribute","hasClass","classList","Array","prototype","some","call","match","RegExp","addClass","replace","split","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","e","indexOf","getElementById","slice","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","length","pad","charstr","String","len","maxlen","Math","ceil","chars","r","push","join","substring","format","time","window","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","obj","toString","deepCopy","dst","src","Node","undefined","concat","deepMerge","map","babelHelpers.typeof","getBgImage","url","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","name","setInterval","context","eventName","intervalFunc","frequency","_interval","bind","clearInterval","createImgBtn","imgUrl","width","height","btn","style","w","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","test","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","hide","display","show","ErrorTypes","network","code","msg","remark","mse","parse","decoder","runtime","timeout","other","Errors","type","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","version","errorCode","mediaError","arguments","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","SEI_PARSED","Proxy","options","_hasStart","_currentTime","_duration","videoConfig","assign","controls","autoplay","playsinline","airplay","tabindex","mediaType","videoAttrbutes","loop","defaultPlaybackRate","video","autoplayMuted","muted","EventEmitter","_initEvents","lastBuffer","ev","charAt","toUpperCase","_emitEvent","funName","player","evItem","videoEventHandler","errorHandler","emit","curBuffer","i","buffered","start","end","addEventListener","error","pause","removeAttribute","load","k","evName","evFunc","off","removeEventListener","allOff","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","err","status","en","cn","lang","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","device","os","isPc","browser","ua","navigator","userAgent","toLowerCase","ie","firfox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","Obj","defineProperty","args","Util","beforeCreate","__args","__events","config","__init","defineGetterOrSetter","get","pluginName","constructor","logger","callback","on","isArray","once","res","offAll","destroy","Sniffer","Events","pluginsManager","init","cgid","_pluginInfoId","Date","getTime","pluginGroup","lazyRegister","lazyPlugin","Promise","race","loader","then","plugin","result","__esModule","default","register","resolve","reject","setTimeout","Error","_plugins","plugins","originalOptions","_originalOptions","_player","isSupported","console","warn","defaultConfig","root","index","_instance","func","afterCreate","unRegister","_destroy","getPlugins","findPlugin","cName","beforeInit","log","retPromise","prevTask","_loadingPlugins","all","pluginsRet","beforePlayerInit","ret","catch","afterInit","afterPlayerInit","reRender","pluginsMap","_args","onPluginsReady","matches","_createElement","tag","registerIconsObj","iconsConfig","iconKey","icons","_icons","playerConfig","registerTextObj","textConfig","text","Plugin","html","parent","children","insertIdx","parseInt","isDomElement","HTMLElement","appendChild","insertAdjacentHTML","insertBefore","_parent","_el","defaultIcons","registerIcons","defaultTexConfig","registerLangauageTexts","renderStr","render","message","insert","attr","setAttr","setStyle","__registeChildren","_children","_plugin","c","registerPlugin","_c","qs","eventType","bindEL","delegate","unbindEL","htmlStr","innerHtml","eventHandle","isBubble","cs","cssDisplayValue","getPropertyValue","parentNode","removeChild","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_CENTER","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","NO_START","ACTIVE","FULLSCREEN","CSS_FULLSCREEN","NO_CONTROLS","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","id","fluid","fitVideoSize","videoInit","poster","execBeforePluginsCall","closeVideoClick","closeVideoDblclick","closePlayerBlur","leavePlayerTime","closePlayVideoFocus","closeFocusVideoFocus","closeControlsBlur","ignores","whitelist","inactive","documentElement","getAttribute","language","toLocaleLowerCase","controlsList","screenShot","rotate","pip","mini","cssFullscreen","keyShortcut","presets","usePreset","Preset","presetInst","preset","Controls","disable","mode","left","find","center","right","isMini","mouseEnter","mouseOut","clearTimeout","userTimer","isActive","position","autoHide","FULLSCREEN_EVENTS","Player","defaultIdx","defaultPreset","splice","waitTimer","isReady","isPlaying","isSeeking","isCssfullScreen","_initDOM","_bindEvents","_registerPresets","_registerPlugins","onReady","hasStart","vid","topBar","leftBar","rightBar","STATE_CLASS","onFullscreenChange","fullEl","_fullscreenEl","fullscreen","getVideoSize","mousemoveFunc","focus","eventkey","service","playFunc","onDestroy","canPlayFunc","loadeddataFunc","firstChild","ignoresStr","lazy","loadingPlugin","forceBeforeInit","PLUFGIN","_startInit","fileName","lineNumber","playPromise","reloadFunc","isDelDom","classNameList","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","notAutoHide","self","clsList","cls","videoWidth","videoHeight","containerSize","getBoundingClientRect","__url","posterUrl","_isFullScreen","val","descriptor","Poster","Replay","ReplaySvg","jp","zh","preventDefault","replay","path","transform","styleInject","css","ref","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","MiniScreenIcon","getMini","exitMini","onClick","unbind","miniscreen","MiniScreen","top","isShowIcon","isScrollSwitch","scrollTop","disableDrag","pos","innerWidth","innerHeight","coordinate","currentX","currentY","scrollY","lastStyle","isMoveing","bindFunKeys","miniIcon","onCancelClick","onCenterClick","onMousedown","onScroll","abs","scrollHeight","onMouseup","onMousemove","clientWidth","maxTop","maxLeft","nowX","nowY","disX","disY","PauseIcon","PlayIcon","PlayNextIcon","urlList","idx","initEvents","playNext","Next","PCPlugin","eventHandlers","onEnter","onVideoClick","onVideoDblClick","onContextmenu","onEntered","onAutoPlayPrevented","onMouseEnter","onMouseLeave","stopPropagation","returnValue","cancelBubble","closeVideoStopPropagation","clk","timer","getFullscreen","leavePlayerTimer","MobilePlugin","disableGesture","gestureX","gestureY","updateGesture","gradient","isTouchingSeek","miniMoveStep","scopeL","scopeR","darkness","maxDarkness","isTouchMove","isMoving","x","y","light","op","xgMask","append","onTouchMove","onTouchStart","onTouchEnd","Infinity","touche","getTouche","diffx","diffy","tan","updateBrightness","updateVolume","updateTime","percent","getPlugin","updatePercent","Number","toFixed","backgroundColor","closeVideoTouch","PlaceHolderPlugin","AnimateMap","addAnimate","seconds","Start","isShowPause","animate","PlaySvg","PauseSvg","isEnded","isShowEnd","disableAmimate","TextTrackPlugin","textTrackDom","textTrack","track","label","kind","srclang","crossorigin","textTrackStyle","styleStr","wrap","sheet","insertRule","addRule","ErrorPlugin","handleCanPlay","handleError","textDOM","EnterPlugin","barStr","Keyboard","extendkeyCodeMap","keyCodeMap","key1","seekStep","keyCode","action","noBodyTarget","mergekeyCodeMap","onKeydown","onBodyKeyDown","isBodyTarget","flag","exitCssFullscreen","body","checkCode","handleKeyCode","funKey","Loading","loadingIcon","defaultDot","color","ProgressDot","dots","dotsList","createDotDom","dot","newDots","min","defaultThumbnailConfig","isShow","urls","pic_num","row","col","scale","Progress","progressDot","thumbnail","useable","isProgressMoving","progress","playedBar","cachedBar","pointTip","progressBtn","thumbnailDom","initThumbnail","onTimeupdate","onCacheUpdate","bindDomEvents","ProgressDots","thumbnailConfig","mouseDown","mouseMove","mouseLeave","allowSeekAfterEnded","containerWidth","move","up","passive","blur","dash","closeMoveSeek","now","textContent","pointWidth","pleft","updateThumbnailPosition","interval","indexInPage","rowIndex","colIndex","timeIcon","notSeek","containerLeft","j","Play","btnClick","Fullscreen","isFullScreen","useCssFullscreen","getCssFullscreen","switchCallback","switchFullScreen","full","exit","fullscreenChange","FullScreenChangeSvg","Time","createCenterTime","durationDom","timeDom","onTimeUpdate","current","centerCurDom","centerDurDom","isLive","Volume","volumeChange","bar","drag","changeMuted","onBarMousedown","onMouseenter","onMouseleave","onVolumeChange","slider","barRect","isMove","onMove","max","onUp","pathLarge","pathSmall","pathMuted","Rotate","innerRotate","clockwise","rotateDeg","onBtnClick","offsetWidth","offsetHeight","targetWidth","targetHeight","transformOrigin","webKitTransform","times","factor","updateRotateDeg","RotateSvg","PIP","showIcon","switchPIP","isPIPAvailable","initPipEvents","leavePIPCallback","enterPIPCallback","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","reason","pictureInPictureEnabled","disablePictureInPicture","pipicon","this","Download","isLock","download","DownloadSvg","getAbsoluteURL","downloadUtil","div","ScreenShot","onClickBtn","data","filename","saveLink","createEvent","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","createCanvans","img","Image","drawImage","encoderOptions","quality","toDataURL","screenShotImg","saveScreenShot","onload","screenshotIcon","screenshot","DefinitionIcon","list","hideMobile","curTime","isPaused","renderItemList","changeDefinitionList","activeEvent","onToggle","onItemClick","switchURL","switchUrl","liList","selected","cursrc","lastATag","curRUL","_options","_mediaDataSource","curlSelected","from","to","onCanplayChangeDefinition","PlaybackRate","iconText","curRate","currentText","items","itemInfo","isCurrent","CssFullScreen","CssFullscreenChange","DefaultPreset","contolsIcons","FullScreen","TimeIcon","RotateIcon","PlaybackRateIcon","DownLoadIcon","ScreenShotIcon","barIcons","PIPIcon","layers","Enter","Miniscreen","Mobile","defaultPlugins","Plugins"],"mappings":"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"}