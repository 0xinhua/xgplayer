{"version":3,"file":"index.min.js","sources":["../node_modules/matches-selector/index.js","../node_modules/component-event/index.js","../src/plugin/plugin.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/defaultConfig.js","../node_modules/type/value/is.js","../node_modules/type/object/is.js","../node_modules/type/prototype/is.js","../node_modules/type/function/is.js","../node_modules/type/plain-function/is.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/es5-ext/object/is-object.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../node_modules/closest/index.js","../node_modules/delegate-events/index.js","../src/stateClassMap.js","../src/plugins/replay/index.js","../src/plugins/poster/index.js","../node_modules/pasition/dist/pasition.js","../src/plugins/start/index.js","../src/plugins/enter/index.js","../src/plugins/miniScreen/index.js","../src/plugins/pc/index.js","../src/plugins/mobile/index.js","../src/plugins/keyboard/index.js","../src/plugins/loading/index.js","../src/plugins/presets/default.js","../src/plugin/preset.js","../src/plugins/icons/progress/progressdots.js","../src/plugins/icons/progress/index.js","../src/plugins/icons/playIcon/index.js","../src/plugins/icons/fullscreen/index.js","../src/plugins/icons/timeIcon/index.js","../src/plugins/icons/volumeIcon/index.js","../src/plugins/icons/rotate/index.js","../src/plugins/icons/pipIcon/index.js","../src/plugins/icons/playNextIcon/index.js","../src/plugins/icons/definitionIcon/index.js","../src/plugins/icons/playbackRateIcon/index.js","../src/plugins/icons/cssFullScreen/index.js","../src/plugins/controls/index.js","../src/player.js","../src/index.js"],"sourcesContent":["\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","var bind, unbind, prefix;\n\nfunction detect () {\n  bind = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  if (!bind) detect();\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (!unbind) detect();\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.name = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'el': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.el\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(name, Plugin, options)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (name, plugin, options) {\n    const opts = (typeof options === 'object' ? options : {})\n    opts.root = options.root || this.el\n    opts.pluginName = name\n    return pluginsManager.register(this.player, plugin, opts)\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    return this.el.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.el, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.el, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.el, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.el, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (typeof name === 'string') {\n      this.style[name] = value\n      return (this.el.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.el.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (typeof name === 'string') {\n      return this.el.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.el.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    this.el.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (`on${event}` in this.el && typeof eventHandle === 'function') {\n      this.el.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (`on${event}` in this.el && typeof eventHandle === 'function') {\n      this.el.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    this.el.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.el, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.el.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.el.style.display = 'none'\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.el) {\n      if (this.el.hasOwnProperty('remove')) {\n        this.el.remove()\n      } else if (this.el.parentNode) {\n        this.el.parentNode.removeChild(this.el)\n      }\n    }\n  }\n}\n\nPlugin.Util = BasePlugin.Util\nPlugin.Sniffer = BasePlugin.Sniffer\nPlugin.Errors = BasePlugin.Errors\nPlugin.Event = BasePlugin.Event\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export default function getDefaultConfig () {\n  return {\n    id: '', // 播放器容器id\n    el: null, // 播放器容器dom\n    url: '', // 播放url\n    width: 600, // 播放器宽度,单位px\n    height: 337.5, // 播放器高度,单位px\n    fluid: false, // 是否启用流式布局\n    fitVideoSize: 'auto', // fixWidth/fixHeight/auto\n    volume: 0.6, // 默认音量\n    autoplay: false, // 是否自动播放\n    autoplayMuted: false, // 是否自动静音\n    loop: false, // 是否循环播放\n    videoInit: false, // 是否优先显示视频首帧， mobile模式下无效\n    poster: '', // 封面图地址\n    defaultPlaybackRate: 0, // 默认播放倍数\n    playbackRate: [], // 倍速调控档位，参考[0.5, 0.75, 1, 1.5, 2]\n    execBeforePluginsCall: null, // 默认插件组装前回调\n    closeVideoClick: false, // 是否通过video的click/touchend行为切换播放暂停\n    closeVideoDblclick: false, // 是否通过双击行为触发全屏切换\n    closePlayerBlur: false, // 是个否启用鼠标移动激活行为\n    leavePlayerTime: 0, // 延迟触发时间\n    closePlayVideoFocus: false, // 是否关闭play时触发focus\n    closeFocusVideoFocus: false, // 是否支持播放器移动鼠标时触发focus\n    closeControlsBlur: false, // 鼠标移出播放器控制条范围时触发focus事件\n    videoAttrbutes: {}, // video扩展属性\n    // 是否删除\n    ignores: [],\n    whitelist: [],\n    inactive: 3000,\n    lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n    controls: true,\n    controlsList: []\n  }\n}\n\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (dst[key] === undefined) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nutil.hide = function (dom) {\n  dom.style.display = 'none'\n}\n\nutil.show = function (dom, display) {\n  dom.style.display = display || 'block'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const REPLAY = 'replay'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n\n// screen change evnets\nexport const FULLSCREEN_CHANGE = 'fullscreen_change'\nexport const CSS_FULLSCREEN_CHANGE = 'cssFullscreen_change'\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n\n    console.log('this.videoConfig', this.videoConfig)\n    if (options.defaultPlaybackRate) {\n      this.videoConfig.defaultPlaybackRate = options.defaultPlaybackRate\n    }\n\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplayMuted) {\n      this.video.muted = true\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n      this.video.addEventListener(Object.keys(item)[0], () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean') {\n      this._hasStart = bool\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE, url)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    // this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate()\n    }\n    this.__init(args)\n    if (Util.checkIsFunction(this.afterCreate)) {\n      this.afterCreate()\n    }\n  }\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'root': {\n        get: () => {\n          return args.player.root\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n    // console.log('plugin.pluginName', plugin.pluginName)\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      const cgid = player._pluginInfoId\n      const plugins = this.pluginGroup[cgid]._plugins\n      const pluginsRet = []\n      for (const item of Object.keys(plugins)) {\n        if (plugins[item] && plugins[item].beforePlayerInit) {\n          try {\n            let ret = plugins[item].beforePlayerInit()\n            pluginsRet.push(retPromise(ret))\n          } catch (e) {\n            pluginsRet.push(retPromise(null))\n            throw e\n          }\n        }\n      }\n      Promise.all(pluginsRet).then(() => {\n        resolve()\n      }).catch((e) => {\n        console.error(e)\n        resolve()\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","/**\n * Module dependencies.\n */\n\nvar closest = require('closest')\n  , event = require('component-event');\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nexports.bind = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return event.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  event.unbind(el, type, fn, capture);\n};\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  AUTOPLAY: 'xgplayer-is-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile'\n};\n","import Plugin from '../../plugin'\nimport ReplayIcon from '../../skin/assets/replay.svg'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplayIcon\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Events.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.el.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      ${this.icons.replay}\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","import Plugin from '../../plugin'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n}\n\nexport default Poster\n","/**\n * pasition v1.0.2 By dntzhang\n * Github: https://github.com/AlloyTeam/pasition\n * MIT Licensed.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.pasition = factory());\n}(this, (function () { 'use strict';\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n//https://github.com/colinmeinke/svg-arc-to-cubic-bezier\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n    var x = _ref.x,\n        y = _ref.y;\n\n    x *= rx;\n    y *= ry;\n\n    var xp = cosphi * x - sinphi * y;\n    var yp = sinphi * x + cosphi * y;\n\n    return {\n        x: xp + centerx,\n        y: yp + centery\n    };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n    var a = 4 / 3 * Math.tan(ang2 / 4);\n\n    var x1 = Math.cos(ang1);\n    var y1 = Math.sin(ang1);\n    var x2 = Math.cos(ang1 + ang2);\n    var y2 = Math.sin(ang1 + ang2);\n\n    return [{\n        x: x1 - y1 * a,\n        y: y1 + x1 * a\n    }, {\n        x: x2 + y2 * a,\n        y: y2 - x2 * a\n    }, {\n        x: x2,\n        y: y2\n    }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n    var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n    var umag = Math.sqrt(ux * ux + uy * uy);\n    var vmag = Math.sqrt(ux * ux + uy * uy);\n    var dot = ux * vx + uy * vy;\n\n    var div = dot / (umag * vmag);\n\n    if (div > 1) {\n        div = 1;\n    }\n\n    if (div < -1) {\n        div = -1;\n    }\n\n    return sign * Math.acos(div);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n    var rxsq = Math.pow(rx, 2);\n    var rysq = Math.pow(ry, 2);\n    var pxpsq = Math.pow(pxp, 2);\n    var pypsq = Math.pow(pyp, 2);\n\n    var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n    if (radicant < 0) {\n        radicant = 0;\n    }\n\n    radicant /= rxsq * pypsq + rysq * pxpsq;\n    radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n    var centerxp = radicant * rx / ry * pyp;\n    var centeryp = radicant * -ry / rx * pxp;\n\n    var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n    var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n    var vx1 = (pxp - centerxp) / rx;\n    var vy1 = (pyp - centeryp) / ry;\n    var vx2 = (-pxp - centerxp) / rx;\n    var vy2 = (-pyp - centeryp) / ry;\n\n    var ang1 = vectorAngle(1, 0, vx1, vy1);\n    var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n    if (sweepFlag === 0 && ang2 > 0) {\n        ang2 -= TAU;\n    }\n\n    if (sweepFlag === 1 && ang2 < 0) {\n        ang2 += TAU;\n    }\n\n    return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n    var px = _ref2.px,\n        py = _ref2.py,\n        cx = _ref2.cx,\n        cy = _ref2.cy,\n        rx = _ref2.rx,\n        ry = _ref2.ry,\n        _ref2$xAxisRotation = _ref2.xAxisRotation,\n        xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n        _ref2$largeArcFlag = _ref2.largeArcFlag,\n        largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n        _ref2$sweepFlag = _ref2.sweepFlag,\n        sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n    var curves = [];\n\n    if (rx === 0 || ry === 0) {\n        return [];\n    }\n\n    var sinphi = Math.sin(xAxisRotation * TAU / 360);\n    var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n    var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n    var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n    if (pxp === 0 && pyp === 0) {\n        return [];\n    }\n\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n\n    var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n        _getArcCenter2 = slicedToArray(_getArcCenter, 4),\n        centerx = _getArcCenter2[0],\n        centery = _getArcCenter2[1],\n        ang1 = _getArcCenter2[2],\n        ang2 = _getArcCenter2[3];\n\n    var segments = Math.max(Math.ceil(Math.abs(ang2) / (TAU / 4)), 1);\n\n    ang2 /= segments;\n\n    for (var i = 0; i < segments; i++) {\n        curves.push(approxUnitArc(ang1, ang2));\n        ang1 += ang2;\n    }\n\n    return curves.map(function (curve) {\n        var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n            x1 = _mapToEllipse.x,\n            y1 = _mapToEllipse.y;\n\n        var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n            x2 = _mapToEllipse2.x,\n            y2 = _mapToEllipse2.y;\n\n        var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n            x = _mapToEllipse3.x,\n            y = _mapToEllipse3.y;\n\n        return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n    });\n};\n\n//https://github.com/jkroso/parse-svg-path/blob/master/index.js\n/**\n * expected argument lengths\n * @type {Object}\n */\n\nvar length = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0\n\n    /**\n     * segment pattern\n     * @type {RegExp}\n     */\n\n};var segment = /([astvzqmhlc])([^astvzqmhlc]*)/ig;\n\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * @param {String} path\n * @return {Array}\n */\n\nfunction parse(path) {\n    var data = [];\n    path.replace(segment, function (_, command, args) {\n        var type = command.toLowerCase();\n        args = parseValues(args);\n\n        // overloaded moveTo\n        if (type == 'm' && args.length > 2) {\n            data.push([command].concat(args.splice(0, 2)));\n            type = 'l';\n            command = command == 'm' ? 'l' : 'L';\n        }\n\n        while (true) {\n            if (args.length == length[type]) {\n                args.unshift(command);\n                return data.push(args);\n            }\n            if (args.length < length[type]) throw new Error('malformed path data');\n            data.push([command].concat(args.splice(0, length[type])));\n        }\n    });\n    return data;\n}\n\nvar number = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig;\n\nfunction parseValues(args) {\n    var numbers = args.match(number);\n    return numbers ? numbers.map(Number) : [];\n}\n\nfunction shapeBox(shape) {\n    var minX = shape[0][0],\n        minY = shape[0][1],\n        maxX = minX,\n        maxY = minY;\n    shape.forEach(function (curve) {\n        var x1 = curve[0],\n            x2 = curve[2],\n            x3 = curve[4],\n            x4 = curve[6],\n            y1 = curve[1],\n            y2 = curve[3],\n            y3 = curve[5],\n            y4 = curve[7];\n\n        minX = Math.min(minX, x1, x2, x3, x4);\n        minY = Math.min(minY, y1, y2, y3, y4);\n        maxX = Math.max(maxX, x1, x2, x3, x4);\n        maxY = Math.max(maxY, y1, y2, y3, y4);\n    });\n\n    return [minX, minY, maxX, maxY];\n}\n\nfunction boxDistance(boxA, boxB) {\n    return Math.sqrt(Math.pow(boxA[0] - boxB[0], 2) + Math.pow(boxA[1] - boxB[1], 2)) + Math.sqrt(Math.pow(boxA[2] - boxB[2], 2) + Math.pow(boxA[3] - boxB[3], 2));\n}\n\nfunction curveDistance(curveA, curveB) {\n    var x1 = curveA[0],\n        x2 = curveA[2],\n        x3 = curveA[4],\n        x4 = curveA[6],\n        y1 = curveA[1],\n        y2 = curveA[3],\n        y3 = curveA[5],\n        y4 = curveA[7],\n        xb1 = curveB[0],\n        xb2 = curveB[2],\n        xb3 = curveB[4],\n        xb4 = curveB[6],\n        yb1 = curveB[1],\n        yb2 = curveB[3],\n        yb3 = curveB[5],\n        yb4 = curveB[7];\n\n    return Math.sqrt(Math.pow(xb1 - x1, 2) + Math.pow(yb1 - y1, 2)) + Math.sqrt(Math.pow(xb2 - x2, 2) + Math.pow(yb2 - y2, 2)) + Math.sqrt(Math.pow(xb3 - x3, 2) + Math.pow(yb3 - y3, 2)) + Math.sqrt(Math.pow(xb4 - x4, 2) + Math.pow(yb4 - y4, 2));\n}\n\nfunction sortCurves(curvesA, curvesB) {\n\n    var arrList = permuteCurveNum(curvesA.length);\n\n    var list = [];\n    arrList.forEach(function (arr) {\n        var distance = 0;\n        var i = 0;\n        arr.forEach(function (index) {\n            distance += curveDistance(curvesA[index], curvesB[i++]);\n        });\n        list.push({ index: arr, distance: distance });\n    });\n\n    list.sort(function (a, b) {\n        return a.distance - b.distance;\n    });\n\n    var result = [];\n\n    list[0].index.forEach(function (index) {\n        result.push(curvesA[index]);\n    });\n\n    return result;\n}\n\nfunction sort(pathA, pathB) {\n\n    var arrList = permuteNum(pathA.length);\n\n    var list = [];\n    arrList.forEach(function (arr) {\n        var distance = 0;\n        arr.forEach(function (index) {\n            distance += boxDistance(shapeBox(pathA[index]), shapeBox(pathB[index]));\n        });\n        list.push({ index: arr, distance: distance });\n    });\n\n    list.sort(function (a, b) {\n        return a.distance - b.distance;\n    });\n\n    var result = [];\n\n    list[0].index.forEach(function (index) {\n        result.push(pathA[index]);\n    });\n\n    return result;\n}\n\nfunction permuteCurveNum(num) {\n    var arr = [];\n\n    for (var i = 0; i < num; i++) {\n        var indexArr = [];\n        for (var j = 0; j < num; j++) {\n            var index = j + i;\n            if (index > num - 1) index -= num;\n            indexArr[index] = j;\n        }\n\n        arr.push(indexArr);\n    }\n\n    return arr;\n}\n\nfunction permuteNum(num) {\n    var arr = [];\n    for (var i = 0; i < num; i++) {\n        arr.push(i);\n    }\n\n    return permute(arr);\n}\n\nfunction permute(input) {\n    var permArr = [],\n        usedChars = [];\n    function main(input) {\n        var i, ch;\n        for (i = 0; i < input.length; i++) {\n            ch = input.splice(i, 1)[0];\n            usedChars.push(ch);\n            if (input.length == 0) {\n                permArr.push(usedChars.slice());\n            }\n            main(input);\n            input.splice(i, 0, ch);\n            usedChars.pop();\n        }\n        return permArr;\n    }\n    return main(input);\n}\n\nvar pasition = {};\npasition.parser = parse;\n\npasition.lerpCurve = function (pathA, pathB, t) {\n\n    return pasition.lerpPoints(pathA[0], pathA[1], pathB[0], pathB[1], t).concat(pasition.lerpPoints(pathA[2], pathA[3], pathB[2], pathB[3], t)).concat(pasition.lerpPoints(pathA[4], pathA[5], pathB[4], pathB[5], t)).concat(pasition.lerpPoints(pathA[6], pathA[7], pathB[6], pathB[7], t));\n};\n\npasition.lerpPoints = function (x1, y1, x2, y2, t) {\n    return [x1 + (x2 - x1) * t, y1 + (y2 - y1) * t];\n};\n\npasition.q2b = function (x1, y1, x2, y2, x3, y3) {\n    return [x1, y1, (x1 + 2 * x2) / 3, (y1 + 2 * y2) / 3, (x3 + 2 * x2) / 3, (y3 + 2 * y2) / 3, x3, y3];\n};\n\npasition.path2shapes = function (path) {\n    //https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths\n    //M = moveto\n    //L = lineto\n    //H = horizontal lineto\n    //V = vertical lineto\n    //C = curveto\n    //S = smooth curveto\n    //Q = quadratic Belzier curve\n    //T = smooth quadratic Belzier curveto\n    //A = elliptical Arc\n    //Z = closepath\n    //以上所有命令均允许小写字母。大写表示绝对定位，小写表示相对定位(从上一个点开始)。\n    var cmds = pasition.parser(path),\n        preX = 0,\n        preY = 0,\n        j = 0,\n        len = cmds.length,\n        shapes = [],\n        current = null,\n        closeX = void 0,\n        closeY = void 0,\n        preCX = void 0,\n        preCY = void 0,\n        sLen = void 0,\n        curves = void 0,\n        lastCurve = void 0;\n\n    for (; j < len; j++) {\n        var item = cmds[j];\n        var action = item[0];\n        var preItem = cmds[j - 1];\n\n        switch (action) {\n            case 'm':\n                sLen = shapes.length;\n                shapes[sLen] = [];\n                current = shapes[sLen];\n                preX = preX + item[1];\n                preY = preY + item[2];\n                break;\n            case 'M':\n\n                sLen = shapes.length;\n                shapes[sLen] = [];\n                current = shapes[sLen];\n                preX = item[1];\n                preY = item[2];\n                break;\n\n            case 'l':\n                current.push([preX, preY, preX, preY, preX, preY, preX + item[1], preY + item[2]]);\n                preX += item[1];\n                preY += item[2];\n                break;\n\n            case 'L':\n\n                current.push([preX, preY, item[1], item[2], item[1], item[2], item[1], item[2]]);\n                preX = item[1];\n                preY = item[2];\n\n                break;\n\n            case 'h':\n\n                current.push([preX, preY, preX, preY, preX, preY, preX + item[1], preY]);\n                preX += item[1];\n                break;\n\n            case 'H':\n                current.push([preX, preY, item[1], preY, item[1], preY, item[1], preY]);\n                preX = item[1];\n                break;\n\n            case 'v':\n                current.push([preX, preY, preX, preY, preX, preY, preX, preY + item[1]]);\n                preY += item[1];\n                break;\n\n            case 'V':\n                current.push([preX, preY, preX, item[1], preX, item[1], preX, item[1]]);\n                preY = item[1];\n                break;\n\n            case 'C':\n\n                current.push([preX, preY, item[1], item[2], item[3], item[4], item[5], item[6]]);\n                preX = item[5];\n                preY = item[6];\n                break;\n            case 'S':\n                if (preItem[0] === 'C' || preItem[0] === 'c') {\n                    current.push([preX, preY, preX + preItem[5] - preItem[3], preY + preItem[6] - preItem[4], item[1], item[2], item[3], item[4]]);\n                } else if (preItem[0] === 'S' || preItem[0] === 's') {\n                    current.push([preX, preY, preX + preItem[3] - preItem[1], preY + preItem[4] - preItem[2], item[1], item[2], item[3], item[4]]);\n                }\n                preX = item[3];\n                preY = item[4];\n                break;\n\n            case 'c':\n                current.push([preX, preY, preX + item[1], preY + item[2], preX + item[3], preY + item[4], preX + item[5], preY + item[6]]);\n                preX = preX + item[5];\n                preY = preY + item[6];\n                break;\n            case 's':\n                if (preItem[0] === 'C' || preItem[0] === 'c') {\n\n                    current.push([preX, preY, preX + preItem[5] - preItem[3], preY + preItem[6] - preItem[4], preX + item[1], preY + item[2], preX + item[3], preY + item[4]]);\n                } else if (preItem[0] === 'S' || preItem[0] === 's') {\n                    current.push([preX, preY, preX + preItem[3] - preItem[1], preY + preItem[4] - preItem[2], preX + item[1], preY + item[2], preX + item[3], preY + item[4]]);\n                }\n\n                preX = preX + item[3];\n                preY = preY + item[4];\n\n                break;\n            case 'a':\n                curves = arcToBezier({\n                    rx: item[1],\n                    ry: item[2],\n                    px: preX,\n                    py: preY,\n                    xAxisRotation: item[3],\n                    largeArcFlag: item[4],\n                    sweepFlag: item[5],\n                    cx: preX + item[6],\n                    cy: preY + item[7]\n                });\n                lastCurve = curves[curves.length - 1];\n\n                curves.forEach(function (curve, index) {\n                    if (index === 0) {\n                        current.push([preX, preY, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    } else {\n                        current.push([curves[index - 1].x, curves[index - 1].y, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    }\n                });\n\n                preX = lastCurve.x;\n                preY = lastCurve.y;\n\n                break;\n\n            case 'A':\n\n                curves = arcToBezier({\n                    rx: item[1],\n                    ry: item[2],\n                    px: preX,\n                    py: preY,\n                    xAxisRotation: item[3],\n                    largeArcFlag: item[4],\n                    sweepFlag: item[5],\n                    cx: item[6],\n                    cy: item[7]\n                });\n                lastCurve = curves[curves.length - 1];\n\n                curves.forEach(function (curve, index) {\n                    if (index === 0) {\n                        current.push([preX, preY, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    } else {\n                        current.push([curves[index - 1].x, curves[index - 1].y, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y]);\n                    }\n                });\n\n                preX = lastCurve.x;\n                preY = lastCurve.y;\n\n                break;\n            case 'Q':\n                current.push(pasition.q2b(preX, preY, item[1], item[2], item[3], item[4]));\n                preX = item[3];\n                preY = item[4];\n\n                break;\n            case 'q':\n                current.push(pasition.q2b(preX, preY, preX + item[1], preY + item[2], item[3] + preX, item[4] + preY));\n                preX += item[3];\n                preY += item[4];\n                break;\n\n            case 'T':\n\n                if (preItem[0] === 'Q' || preItem[0] === 'q') {\n                    preCX = preX + preItem[3] - preItem[1];\n                    preCY = preY + preItem[4] - preItem[2];\n                    current.push(pasition.q2b(preX, preY, preCX, preCY, item[1], item[2]));\n                } else if (preItem[0] === 'T' || preItem[0] === 't') {\n                    current.push(pasition.q2b(preX, preY, preX + preX - preCX, preY + preY - preCY, item[1], item[2]));\n                    preCX = preX + preX - preCX;\n                    preCY = preY + preY - preCY;\n                }\n\n                preX = item[1];\n                preY = item[2];\n                break;\n\n            case 't':\n                if (preItem[0] === 'Q' || preItem[0] === 'q') {\n                    preCX = preX + preItem[3] - preItem[1];\n                    preCY = preY + preItem[4] - preItem[2];\n                    current.push(pasition.q2b(preX, preY, preCX, preCY, preX + item[1], preY + item[2]));\n                } else if (preItem[0] === 'T' || preItem[0] === 't') {\n                    current.push(pasition.q2b(preX, preY, preX + preX - preCX, preY + preY - preCY, preX + item[1], preY + item[2]));\n                    preCX = preX + preX - preCX;\n                    preCY = preY + preY - preCY;\n                }\n\n                preX += item[1];\n                preY += item[2];\n                break;\n\n            case 'Z':\n                closeX = current[0][0];\n                closeY = current[0][1];\n                current.push([preX, preY, closeX, closeY, closeX, closeY, closeX, closeY]);\n                break;\n            case 'z':\n                closeX = current[0][0];\n                closeY = current[0][1];\n                current.push([preX, preY, closeX, closeY, closeX, closeY, closeX, closeY]);\n                break;\n        }\n    }\n\n    return shapes;\n};\n\npasition._upCurves = function (curves, count) {\n    var i = 0,\n        index = 0,\n        len = curves.length;\n    for (; i < count; i++) {\n        curves.push(curves[index].slice(0));\n        index++;\n        if (index > len - 1) {\n            index -= len;\n        }\n    }\n};\n\nfunction split(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return {\n        left: _split(x1, y1, x2, y2, x3, y3, x4, y4, t),\n        right: _split(x4, y4, x3, y3, x2, y2, x1, y1, 1 - t, true)\n    };\n}\n\nfunction _split(x1, y1, x2, y2, x3, y3, x4, y4, t, reverse) {\n\n    var x12 = (x2 - x1) * t + x1;\n    var y12 = (y2 - y1) * t + y1;\n\n    var x23 = (x3 - x2) * t + x2;\n    var y23 = (y3 - y2) * t + y2;\n\n    var x34 = (x4 - x3) * t + x3;\n    var y34 = (y4 - y3) * t + y3;\n\n    var x123 = (x23 - x12) * t + x12;\n    var y123 = (y23 - y12) * t + y12;\n\n    var x234 = (x34 - x23) * t + x23;\n    var y234 = (y34 - y23) * t + y23;\n\n    var x1234 = (x234 - x123) * t + x123;\n    var y1234 = (y234 - y123) * t + y123;\n\n    if (reverse) {\n        return [x1234, y1234, x123, y123, x12, y12, x1, y1];\n    }\n    return [x1, y1, x12, y12, x123, y123, x1234, y1234];\n}\n\npasition._splitCurves = function (curves, count) {\n    var i = 0,\n        index = 0;\n\n    for (; i < count; i++) {\n        var curve = curves[index];\n        var cs = split(curve[0], curve[1], curve[2], curve[3], curve[4], curve[5], curve[6], curve[7], 0.5);\n        curves.splice(index, 1);\n        curves.splice(index, 0, cs.left, cs.right);\n\n        index += 2;\n        if (index >= curves.length - 1) {\n            index = 0;\n        }\n    }\n};\n\nfunction sync(shapes, count) {\n    var _loop = function _loop(i) {\n        var shape = shapes[shapes.length - 1];\n        var newShape = [];\n\n        shape.forEach(function (curve) {\n            newShape.push(curve.slice(0));\n        });\n        shapes.push(newShape);\n    };\n\n    for (var i = 0; i < count; i++) {\n        _loop(i);\n    }\n}\n\npasition.lerp = function (pathA, pathB, t) {\n    return pasition._lerp(pasition.path2shapes(pathA), pasition.path2shapes(pathB), t);\n};\n\npasition.MIM_CURVES_COUNT = 100;\n\npasition._preprocessing = function (pathA, pathB) {\n\n    var lenA = pathA.length,\n        lenB = pathB.length,\n        clonePathA = JSON.parse(JSON.stringify(pathA)),\n        clonePathB = JSON.parse(JSON.stringify(pathB));\n\n    if (lenA > lenB) {\n        sync(clonePathB, lenA - lenB);\n    } else if (lenA < lenB) {\n        sync(clonePathA, lenB - lenA);\n    }\n\n    clonePathA = sort(clonePathA, clonePathB);\n\n    clonePathA.forEach(function (curves, index) {\n\n        var lenA = curves.length,\n            lenB = clonePathB[index].length;\n\n        if (lenA > lenB) {\n            if (lenA < pasition.MIM_CURVES_COUNT) {\n                pasition._splitCurves(curves, pasition.MIM_CURVES_COUNT - lenA);\n                pasition._splitCurves(clonePathB[index], pasition.MIM_CURVES_COUNT - lenB);\n            } else {\n                pasition._splitCurves(clonePathB[index], lenA - lenB);\n            }\n        } else if (lenA < lenB) {\n            if (lenB < pasition.MIM_CURVES_COUNT) {\n                pasition._splitCurves(curves, pasition.MIM_CURVES_COUNT - lenA);\n                pasition._splitCurves(clonePathB[index], pasition.MIM_CURVES_COUNT - lenB);\n            } else {\n                pasition._splitCurves(curves, lenB - lenA);\n            }\n        }\n    });\n\n    clonePathA.forEach(function (curves, index) {\n        clonePathA[index] = sortCurves(curves, clonePathB[index]);\n    });\n\n    return [clonePathA, clonePathB];\n};\n\npasition._lerp = function (pathA, pathB, t) {\n\n    var shapes = [];\n    pathA.forEach(function (curves, index) {\n        var newCurves = [];\n        curves.forEach(function (curve, curveIndex) {\n            newCurves.push(pasition.lerpCurve(curve, pathB[index][curveIndex], t));\n        });\n        shapes.push(newCurves);\n    });\n    return shapes;\n};\n\npasition.animate = function (option) {\n    var pathA = pasition.path2shapes(option.from);\n    var pathB = pasition.path2shapes(option.to);\n    var pathArr = pasition._preprocessing(pathA, pathB);\n\n    var beginTime = new Date(),\n        end = option.end || function () {},\n        progress = option.progress || function () {},\n        begin = option.begin || function () {},\n        easing = option.easing || function (v) {\n        return v;\n    },\n        tickId = null,\n        outShape = null,\n        time = option.time;\n\n    begin(pathA);\n\n    var tick = function tick() {\n        var dt = new Date() - beginTime;\n        if (dt >= time) {\n            outShape = pathB;\n            progress(outShape, 1);\n            end(outShape);\n            cancelAnimationFrame(tickId);\n            return;\n        }\n        var percent = easing(dt / time);\n        outShape = pasition._lerp(pathArr[0], pathArr[1], percent);\n        progress(outShape, percent);\n        tickId = requestAnimationFrame(tick);\n    };\n    tick();\n};\n\nreturn pasition;\n\n})));\n","import pasition from 'pasition'\nimport Plugin from '../../plugin'\nimport StartIcon from '../assets/start.svg'\n\n\nconst { Util, Events } = Plugin\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'startplugin'\n  }\n\n  afterCreate () {\n    const {player, root, playerConfig} = this\n    this.once(Events.READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(root, 'lang-is-jp')\n        }\n      }\n    })\n\n    if (!player.config.autoplay) {\n      this.show();\n    }\n\n    this.bind('click', (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      if (!player.isReady) {\n        return;\n      }\n      const paused = this.player.paused\n      if (!this.player.hasStart) {\n        this.player.start()\n        this.player.once('complete', () => {\n          this.player.play()\n        })\n      } else {\n        if (!paused) {\n          this.player.pause()\n        } else {\n          this.player.play()\n        }\n      }\n    })\n    this.on([Events.PLAY, Events.PAUSE], () => {\n      // this.setInterval()\n      this.animate()\n    })\n    this.on(Events.AUTOPLAY_PREVENTED, () => {\n      this.show('inline-block');\n      // this.clearInterval()\n      this.animate(true)\n    })\n  }\n\n  registerIcons () {\n    return {\n      'start': StartIcon\n    }\n  }\n\n  animate (isShowEnded) {\n    const path = this.find('.path')\n    const pathPlay = this.find('.path_play').getAttribute('d')\n    const pathPause = this.find('.path_pause').getAttribute('d')\n    const paused = this.player.paused\n    pasition.animate({\n      from: path.getAttribute('d'),\n      to: paused ? pathPause : pathPlay,\n      time: 400,\n      begin: (shapes) => {\n        this.show()\n        Util.addClass(this.el, 'interact')\n      },\n      end: (shapes) => {\n        Util.removeClass(this.el, 'interact')\n        if (!this.player.paused) {\n          this.hide()\n          path.setAttribute('d', pathPause)\n        } else {\n          (!this.config.isShowPause && !isShowEnded) && this.hide()\n          path.setAttribute('d', pathPlay)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\" >\n      ${this.icons.start}\n    </xg-start>`\n  }\n}\n\nexport default Start\n","import Plugin from '../../plugin';\n\nclass EnterPlugin extends Plugin {\n  static get pluginName () {\n    return 'index.scss';\n  }\n\n  render () {\n    let barStr = '';\n    for (let i = 1; i <= 12; i++) {\n      barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n    }\n\n    return `<xg-enter class=\"xgplayer-enter\"><div class=\"xgplayer-enter-spinner\">\n      ${barStr}\n    </div></xg-enter>`;\n  }\n}\n\nexport default EnterPlugin;\n","import Plugin from '../../plugin'\nimport './index.scss'\n\nconst {Util} = Plugin\n\nclass MiniScreen extends Plugin {\n  static get pluginName () {\n    return 'miniscreen'\n  }\n\n  afterCreate () {\n    this.getMini = this.getMini.bind(this)\n    this.exitMini = this.exitMini.bind(this)\n    this.bind(['click', 'touchend'], this.getMini)\n  }\n\n  getMini () {\n    const _player = this.player;\n    // let ro = this.root.getBoundingClientRect()\n    // let Top = ro.top\n    // let Left = ro.left\n    let dragLay = Util.createDom('xg-pip-lay', '<div></div>', {}, 'xgplayer-pip-lay')\n    _player.root.appendChild(dragLay)\n    let dragHandle = Util.createDom('xg-pip-drag', '<div class=\"drag-handle\"><span>点击按住可拖动视频</span></div>', {tabindex: 9}, 'xgplayer-pip-drag')\n    _player.root.appendChild(dragHandle)\n    Util.addClass(this.root, 'xgplayer-pip-active')\n    _player.root.style.right = 0\n    _player.root.style.bottom = '200px'\n    _player.root.style.top = ''\n    _player.root.style.left = ''\n    _player.root.style.width = '320px'\n    _player.root.style.height = '180px'\n    if (_player.config.pipConfig) {\n      if (_player.config.pipConfig.top !== undefined) {\n        _player.root.style.top = _player.config.pipConfig.top + 'px'\n        _player.root.style.bottom = ''\n      }\n      if (_player.config.pipConfig.bottom !== undefined) {\n        _player.root.style.bottom = _player.config.pipConfig.bottom + 'px'\n      }\n      if (_player.config.pipConfig.left !== undefined) {\n        _player.root.style.left = _player.config.pipConfig.left + 'px'\n        _player.root.style.right = ''\n      }\n      if (_player.config.pipConfig.right !== undefined) {\n        _player.root.style.right = _player.config.pipConfig.right + 'px'\n      }\n      if (_player.config.pipConfig.width !== undefined) {\n        _player.root.style.width = _player.config.pipConfig.width + 'px'\n      }\n      if (_player.config.pipConfig.height !== undefined) {\n        _player.root.style.height = _player.config.pipConfig.height + 'px'\n      }\n    }\n    if (_player.config.fluid) {\n      _player.root.style['padding-top'] = ''\n    }\n    ['click', 'touchend'].forEach(item => {\n      dragLay.addEventListener(item, (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n        this.exitMini()\n        // player.root.style.top = `${Top}px`\n        // player.root.style.left = `${Left}px`\n      })\n    })\n  }\n\n  exitMini () {\n    const player = this.player;\n    Util.removeClass(this.root, 'xgplayer-pip-active')\n    player.root.style.right = ''\n    player.root.style.bottom = ''\n    player.root.style.top = ''\n    player.root.style.left = ''\n    if (player.config.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    } else {\n      if (player.config.width) {\n        if (typeof this.config.width !== 'number') {\n          player.root.style.width = player.config.width\n        } else {\n          player.root.style.width = `${player.config.width}px`\n        }\n      }\n      if (player.config.height) {\n        if (typeof player.config.height !== 'number') {\n          player.root.style.height = player.config.height\n        } else {\n          player.root.style.height = `${player.config.height}px`\n        }\n      }\n    }\n\n    let dragLay = Util.findDom(player.root, '.xgplayer-pip-lay')\n    if (dragLay && dragLay.parentNode) {\n      dragLay.parentNode.removeChild(dragLay)\n    }\n    let dragHandle = Util.findDom(player.root, '.xgplayer-pip-drag')\n    if (dragHandle && dragHandle.parentNode) {\n      dragHandle.parentNode.removeChild(dragHandle)\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.getMini)\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'miniscreen': {\n        jp: '日文text',\n        en: 'miniscreen',\n        zh: '小屏幕'\n      }\n    }\n  }\n\n  render () {\n    let text = this.text.miniscreen\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n       <p class=\"name\"><span>${text}</span></p>\n      </xg-icon>`\n  }\n}\n\nexport default MiniScreen\n","import BasePlugin from '../../plugin/basePlugin';\nconst {Events, Util} = BasePlugin\nexport default class PCPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'pc'\n  }\n\n  afterCreate () {\n    this.onVideoClick = this.onVideoClick.bind(this)\n    this.onVideoDblClick = this.onVideoDblClick.bind(this)\n    this.onMouseEnter = this.onMouseEnter.bind(this)\n    this.onMouseLeave = this.onMouseLeave.bind(this)\n    this.onControlMouseEnter = this.onControlMouseEnter.bind(this)\n    this.onControlMouseLeave = this.onControlMouseLeave.bind(this)\n    this.onReady = this.onReady.bind(this)\n    this.initEvents();\n    const {playerConfig} = this\n    if (playerConfig.autoplay) {\n      this.onEnter()\n    }\n  }\n\n  initEvents () {\n    const { player } = this;\n\n    player.video.addEventListener('click', this.onVideoClick, false)\n\n    player.video.addEventListener('dblclick', this.onVideoDblClick, false)\n\n    this.once(Events.CANPLAY, this.onEntered.bind(this));\n    this.once(Events.AUTOPLAY_PREVENTED, () => {\n      this.onAutoPlayPrevented()\n    })\n\n    player.root.addEventListener('mouseenter', this.onMouseEnter)\n\n    player.root.addEventListener('mouseleave', this.onMouseLeave)\n\n    player.controls.addEventListener('mouseenter', this.onControlMouseEnter, false)\n\n    player.controls.addEventListener('mouseleave', this.onControlMouseLeave, false)\n  }\n\n  onEnter () {\n    const { player } = this;\n    Util.addClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onEntered () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onAutoPlayPrevented () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n    this.once(Events.PLAY, () => {\n      Util.addClass(player.root, 'xgplayer-is-enter')\n      this.once(Events.TIME_UPDATE, () => {\n        Util.removeClass(player.root, 'xgplayer-is-enter')\n      })\n    })\n  }\n\n  onVideoClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    let clk = 0; let timer;\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (timer) {\n        clearTimeout(timer)\n      }\n      if (clk === 1) {\n        timer = setTimeout(function () {\n          if (Util.hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              let playPromise = player.play()\n              if (playPromise !== undefined && playPromise) {\n                playPromise.catch(err => {})\n              }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n\n  onVideoDblClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    if (!player.config.closeVideoDblclick) {\n      let fullscreen = player.controls.querySelector('.xgplayer-fullscreen')\n      if (fullscreen) {\n        let clk\n        if (document.createEvent) {\n          clk = document.createEvent('Event')\n          clk.initEvent('click', true, true)\n        } else {\n          // eslint-disable-next-line no-undef\n          clk = new Event('click')\n        }\n        fullscreen.dispatchEvent(clk)\n      }\n    }\n  }\n\n  onMouseEnter () {\n    const { player } = this\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n\n  onMouseLeave () {\n    const { player } = this;\n    if (!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 1500)\n    }\n  }\n\n  onControlMouseEnter () {\n    const { player } = this;\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n\n  onControlMouseLeave () {\n    const { player } = this;\n    if (!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n\n  onReady () {\n    const { player } = this;\n    if (player.config.autoplay) {\n      player.start()\n    }\n  }\n\n  destroy () {\n    const { player } = this;\n    player.root.removeEventListener('mouseenter', this.onMouseEnter)\n    player.root.removeEventListener('mouseleave', this.onMouseLeave)\n    player.off('ready', this.onReady)\n  }\n}\n","import {BasePlugin} from '../../plugin';\n\nclass MobilePlugin extends BasePlugin {\n  static get pluginName () {\n    return 'mobile';\n  }\n\n  constructor (options) {\n    super(options);\n    this.isTouchMove = false;\n  }\n\n  afterCreate () {\n    const {player} = this;\n    player.video.addEventListener('touchend', (e) => {\n      this.onTouchEnd(e);\n    }, false);\n\n    player.video.addEventListener('touchstart', () => {\n      this.isTouchMove = false;\n    });\n\n    player.video.addEventListener('touchmove', () => {\n      this.isTouchMove = true;\n    });\n  }\n\n  onTouchEnd (e) {\n    e.preventDefault();\n    const util = BasePlugin.Util;\n    e.stopPropagation();\n    const {player, playerConfig} = this;\n    if (util.hasClass(player.root, 'xgplayer-inactive')) {\n      player.emit('focus');\n    } else {\n      player.emit('blur');\n    }\n    if (!playerConfig.closeVideoTouch && !player.isTouchMove) {\n      if (util.hasClass(player.root, 'xgplayer-nostart')) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          let playPromise = player.play();\n          if (playPromise !== undefined && playPromise) {\n            playPromise.catch(err => {\n            });\n          }\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }\n\n}\n\nexport default MobilePlugin;\n","import BasePlugin from '../../plugin/basePlugin';\n\nclass Keyboard extends BasePlugin {\n  static get pluginName () {\n    return 'Keyboard'\n  }\n  afterCreate () {\n    this.onKeydown = this.onKeydown.bind(this);\n    this.player.root.addEventListener('keydown', this.onKeydown)\n  }\n  onKeydown (event) {\n    const player = this.player\n\n    const util = BasePlugin.Util\n    // let player = this\n    let e = event || window.event\n    if (e && (e.keyCode === 37 || e.keyCode === 38 || e.keyCode === 39 || e.keyCode === 40 || e.keyCode === 32)) {\n      player.emit('focus')\n    }\n    if (e && (e.keyCode === 40 || e.keyCode === 38)) {\n      if (player.controls) {\n        let volumeSlider = player.controls.querySelector('.xgplayer-slider')\n        if (volumeSlider) {\n          if (util.hasClass(volumeSlider, 'xgplayer-none')) {\n            util.removeClass(volumeSlider, 'xgplayer-none')\n          }\n          if (player.sliderTimer) {\n            clearTimeout(player.sliderTimer)\n          }\n          player.sliderTimer = setTimeout(function () {\n            util.addClass(volumeSlider, 'xgplayer-none')\n          }, player.config.inactive)\n        }\n      }\n      if (e && e.keyCode === 40) { // 按 down\n        if (player.volume - 0.1 >= 0) {\n          player.volume = parseFloat((player.volume - 0.1).toFixed(1))\n        } else {\n          player.volume = 0\n        }\n      } else if (e && e.keyCode === 38) { // 按 up\n        if (player.volume + 0.1 <= 1) {\n          player.volume = parseFloat((player.volume + 0.1).toFixed(1))\n        } else {\n          player.volume = 1\n        }\n      }\n    } else if (e && e.keyCode === 39) { // 按 right\n      if (player.currentTime + 10 <= player.duration) {\n        player.currentTime += 10\n      } else {\n        player.currentTime = player.duration - 1\n      }\n    } else if (e && e.keyCode === 37) { // 按 left\n      if (player.currentTime - 10 >= 0) {\n        player.currentTime -= 10\n      } else {\n        player.currentTime = 0\n      }\n    } else if (e && e.keyCode === 32) { // 按 spacebar\n      if (player.paused) {\n        // eslint-disable-next-line handle-callback-err\n        player.play().catch(err => {})\n      } else {\n        player.pause()\n      }\n    }\n  }\n\n  _destroy () {\n    super._destroy();\n    this.player.root.removeEventListener('keydown', this.onKeydown)\n  }\n}\n\nexport default Keyboard\n","import loadingIcon from '../../skin/assets/loading.svg';\n\nimport Plugin from '../../plugin/plugin';\n\nclass Loading extends Plugin {\n  static get pluginName () {\n    return 'loading'\n  }\n\n  registerIcons () {\n    return {\n      'loadingIcon': loadingIcon\n    }\n  }\n\n  render () {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      ${this.icons.loadingIcon}\n    </xg-loading>`\n  }\n}\n\nexport default Loading;\n","import Replay from '../replay';\nimport Poster from '../poster';\nimport Start from '../start';\nimport Enter from '../enter';\nimport Miniscreen from '../miniScreen';\n// import Rotate from '../Controls/rotate';\nimport PC from '../pc'\nimport Mobile from '../mobile'\nimport Keyboard from '../keyboard'\nimport Loading from '../loading'\nimport sniffer from '../../utils/sniffer';\nexport default class DefaultPreset {\n  constructor () {\n    this.plugins = [Replay, Poster, Start, Loading, Enter]\n\n    switch (sniffer.device) {\n      case 'pc':\n        this.plugins.push(...[Keyboard, PC]);\n        break;\n      case 'mobile':\n        this.plugins.push(Mobile);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PC])\n    }\n    this.ignores = []\n  }\n}\n","export const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    // eslint-disable-next-line new-cap\n    presetInst = new (Preset.preset)(Preset.options);\n  } else {\n    presetInst = new Preset()\n  }\n  const { plugins, ignores } = presetInst;\n\n  if (!player.config.plugins) {\n    player.config.plugins = []\n  }\n\n  if (!player.config.ignores) {\n    player.config.ignores = []\n  }\n\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n}\n","import Plugin from '../../../plugin'\nconst defaultDot = {\n  time: 10, // 出现的时间点\n  text: '', // hover显示的文案\n  duration: 1, // 显示时长\n  style: {}, // 指定样式\n  color: '#fff' // 颜色\n}\n\nconst {Util, Events} = Plugin\nexport default class ProgressDot extends Plugin {\n  static get pluginName () {\n    return 'ProgressDots'\n  }\n\n  static get defaultConfig () {\n    return {\n      dots: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.dotsList = {}\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      const {dots} = this.config\n      if (!dots || !Array.isArray(dots)) {\n        return\n      }\n      dots.map(dot => {\n        this.createDotDom(dot)\n      })\n      this.initEvents()\n    })\n  }\n\n  initEvents () {\n    // this.bind('.xgplayer-progress-dot', 'mouseenter', (e) => {\n    //   console.log('mouseenter', e.target)\n    // })\n    // this.bind('.xgplayer-progress-dot', 'mouseleave', (e) => {\n    //   console.log('mouseleave', e.target)\n    // })\n  }\n\n  addDot (time, text, duration) {\n    let newDots = null\n    if (arguments.length === 1 && typeof time === 'object') {\n      newDots = arguments[0]\n    } else {\n      newDots = {\n        time: time,\n        text: text,\n        duration: duration\n      }\n    }\n    newDots = Util.deepCopy(arguments[0], defaultDot)\n    this.createDotDom(newDots)\n  }\n\n  removeDot (time) {\n    const {player} = this\n    if (time >= 0 && time <= player.duration && this.dotsList[time]) {\n      let dot = this.dotsList[time]\n      dot.parentNode.removeChild(dot)\n      dot = null\n      this.dotsList[time] = null\n    }\n  }\n\n  removeAllProgressDots () {\n    Object.keys(this.dotsList).forEach((key) => {\n      if (this.dotsList[key]) {\n        let dot = this.dotsList[key]\n        dot.parentNode.removeChild(dot)\n        dot = null\n        this.dotsList[key] = null\n      }\n    })\n  }\n\n  createDotDom (dot) {\n    const {player} = this\n    const dom = Util.createDom('xg-progress-dot', `${dot.text ? `<span class=\"xgplayer-progress-tip\">${dot.text}</span>` : ''}`, {}, 'xgplayer-progress-dot')\n    const style = dot.style || {}\n    style.left = (dot.time / player.duration) * 100 + '%'\n    style.width = (Math.min(dot.duration, player.duration - dot.time) / player.duration) * 100 + '%'\n    Object.keys(style).map(item => {\n      dom.style[item] = style[item]\n    })\n    this.dotsList[dot.time] = dom\n    this.el.appendChild(dom)\n  }\n\n  render () {\n    return '<xg-dots></xg-dots>'\n  }\n\n  destroy () {\n\n  }\n}\n","import Plugin from '../../../plugin'\nimport ProgressDots from './progressdots'\n\nconst {Events, Util} = Plugin\nconst defaultThumbnailConfig = {\n  isShow: false,\n  urls: [],\n  pic_num: 0,\n  row: 0,\n  col: 0,\n  height: 160,\n  width: 90,\n  scale: 1\n}\n\n/**\n * 进度条组件\n */\nclass Progress extends Plugin {\n  static get pluginName () {\n    return 'Progress'\n  }\n\n  static get defaultConfig () {\n    return {\n      progressDot: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.useable = false\n    this.isProgressMoving = false\n  }\n\n  changeState (useable = true) {\n    this.useable = useable\n  }\n\n  afterCreate () {\n    this.playedBar = this.find('.xgplayer-progress-played')\n    this.cachedBar = this.find('.xgplayer-progress-cache')\n    this.pointTip = this.find('.xgplayer-progress-point')\n    this.progressBtn = this.find('.xgplayer-progress-btn')\n    this.thumbnailDom = this.find('xg-thumbnail')\n    this.initThumbnail()\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on([Events.BUFFER_CHANGE, Events.ENDED], () => {\n      this.onCacheUpdate()\n    })\n    this.bindDomEvents()\n  }\n\n  children () {\n    return {\n      ProgressDots: {\n        plugin: ProgressDots,\n        options: {\n          root: this.find('xg-outer'),\n          dots: this.playerConfig.progressDot\n        }\n      }\n    }\n  }\n\n  initThumbnail () {\n    if (this.playerConfig.thumbnail) {\n      const {thumbnail} = this.playerConfig\n      this.thumbnailConfig = {}\n      Object.keys(defaultThumbnailConfig).map(key => {\n        if (typeof thumbnail[key] === 'undefined') {\n          this.thumbnailConfig[key] = defaultThumbnailConfig[key]\n        } else {\n          this.thumbnailConfig[key] = thumbnail[key]\n        }\n      })\n      const {width, height, scale} = this.thumbnailConfig\n      this.thumbnailDom.style.width = `${width * scale}px`\n      this.thumbnailDom.style.height = `${height * scale}px`\n    }\n  }\n\n  bindDomEvents () {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseMove = this.mouseMove.bind(this)\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this);\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.el.addEventListener(event, this.mouseDown);\n    })\n    this.el.addEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  mouseDown (e) {\n    const {player} = this\n    const self = this\n    e.stopPropagation()\n    Util.event(e)\n    // this.pointTip为tip信息 不做seek操作\n    if (e.target === this.pointTip || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return true\n    }\n    this.el.focus()\n    const containerWidth = this.el.getBoundingClientRect().width\n    let {left} = this.playedBar.getBoundingClientRect()\n    let move = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      self.isProgressMoving = true\n      let w = e.clientX - left\n      if (w > containerWidth) {\n        w = containerWidth\n      }\n      let now = w / containerWidth * player.duration\n      self.playedBar.style.width = `${w * 100 / containerWidth}%`\n\n      if (player.videoConfig.mediaType === 'video' && !player.dash && !player.config.closeMoveSeek) {\n        player.currentTime = Number(now).toFixed(1)\n      } else {\n        self.updateTime(now)\n      }\n      player.emit('focus')\n    }\n    let up = function (e) {\n      // e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', move)\n      window.removeEventListener('touchmove', move, { passive: false })\n      window.removeEventListener('mouseup', up)\n      window.removeEventListener('touchend', up)\n      self.el.blur()\n      if (!self.isProgressMoving || player.videoConfig.mediaType === 'audio' || player.dash || player.config.closeMoveSeek) {\n        let w = e.clientX - left\n        if (w > containerWidth) {\n          w = containerWidth\n        }\n        let now = w / containerWidth * player.duration\n        self.playedBar.style.width = `${w * 100 / containerWidth}%`\n        player.currentTime = Number(now).toFixed(1)\n      }\n      player.emit('focus')\n      self.isProgressMoving = false\n    }\n    window.addEventListener('mousemove', move)\n    window.addEventListener('touchmove', move, { passive: false })\n    window.addEventListener('mouseup', up)\n    window.addEventListener('touchend', up)\n    return true\n  }\n\n  mouseEnter (e) {\n    const {player} = this\n    if (!player.config.allowSeekAfterEnded && player.ended) {\n      return true\n    }\n    this.el.addEventListener('mousemove', this.mouseMove, false)\n    this.el.addEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseLeave (e) {\n    this.pointTip.style.display = 'none'\n    this.thumbnailDom.style.display = 'none'\n    this.el.removeEventListener('mousemove', this.mouseMove, false)\n    this.el.removeEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseMove (e) {\n    const {player} = this\n    let left = this.el.getBoundingClientRect().left\n    let width = this.el.getBoundingClientRect().width\n    let now = (e.clientX - left) / width * player.duration\n    now = now < 0 ? 0 : now\n    this.pointTip.textContent = Util.format(now)\n    let pointWidth = this.pointTip.getBoundingClientRect().width\n    let pleft = e.clientX - left - pointWidth / 2\n    pleft = pleft > 0 ? pleft : 0\n    pleft = pleft > width - pointWidth ? width - pointWidth : pleft\n    this.pointTip.style.left = `${pleft}px`\n    if (e.target && e.target.className === 'xgplayer-progress-dot') {\n      this.pointTip.style.display = 'none'\n    } else {\n      this.pointTip.style.display = 'block'\n    }\n    this.updateThumbnailPosition(e, now, width)\n  }\n\n  updateThumbnailPosition (e, now, containerWidth) {\n    const thumbnail = this.thumbnailConfig\n    if (!thumbnail.pic_num === 0 || thumbnail.urls.length === 0) {\n      return\n    }\n    this.interval = this.player.duration / thumbnail.pic_num\n    let index = Math.floor(now / this.interval)\n    const {urls, row, col, height, width, scale} = thumbnail\n    const indexInPage = index + 1 - (col * row) * (Math.ceil((index + 1) / (col * row)) - 1)\n    const rowIndex = Math.ceil(indexInPage / row) - 1\n    const colIndex = indexInPage - rowIndex * row - 1\n    let left = e.clientX - width * scale / 2\n    left = left > 0 ? left : 0\n    left = left < containerWidth - width * scale ? left : containerWidth - width * scale\n    const style = {\n      backgroundImage: `url(${urls[Math.ceil((index + 1) / (col * row)) - 1]})`,\n      'background-position': `-${colIndex * width}px -${rowIndex * height}px`,\n      left: `${left}px`,\n      top: `${-10 - height * scale}px`,\n      display: 'block'\n    }\n    Object.keys(style).map((key) => {\n      this.thumbnailDom.style[key] = style[key]\n    })\n  }\n\n  updateTime (time) {\n    const {player} = this\n    let timeIcon = player.plugins.timeicon\n    if (timeIcon) {\n      timeIcon.updateTime(time)\n    }\n  }\n\n  compute (e) {\n    const containerLeft = this.el.getBoundingClientRect().left\n    const containerWidth = this.el.getBoundingClientRect().width\n    const pointWidth = this.pointTip.getBoundingClientRect().width\n    let left = e.clientX - containerLeft - pointWidth / 2\n    left = left > 0 ? left : 0\n    left = left > containerWidth - pointWidth ? containerWidth - pointWidth : left\n    this.pointTip.style.left = `${left}px`\n  }\n\n  onTimeupdate () {\n    const {player} = this\n    if (player.isSeeking) {\n      return;\n    }\n    if (player.videoConfig.mediaType !== 'audio' || !this.isProgressMoving || !player.dash) {\n      this.playedBar.style.width = `${player.currentTime * 100 / player.duration}%`\n    }\n  }\n\n  onCacheUpdate () {\n    const {player} = this\n    let buffered = player.buffered\n    if (buffered && buffered.length > 0) {\n      let end = buffered.end(buffered.length - 1)\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        if (player.currentTime >= buffered.start(i) && player.currentTime <= buffered.end(i)) {\n          end = buffered.end(i)\n          for (let j = i + 1; j < buffered.length; j++) {\n            if (buffered.start(j) - buffered.end(j - 1) >= 2) {\n              end = buffered.end(j - 1)\n              break\n            }\n          }\n          break\n        }\n      }\n      this.cachedBar.style.width = `${end / player.duration * 100}%`\n    }\n  }\n\n  destroy () {\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.el.removeEventListener(event, this.mouseDown);\n    })\n    this.el.removeEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  render () {\n    return `\n      <xg-progress class=\"xgplayer-progress\">\n        <xg-outer class=\"xgplayer-progress-outer\">\n          <xg-cache class=\"xgplayer-progress-cache\" style=\"width:0\">\n          </xg-cache>\n          <xg-played class=\"xgplayer-progress-played\" style=\"width:0\">\n            <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n            <xg-point class=\"xgplayer-progress-point xg-tips\">00:00</xg-point>\n            <xg-thumbnail class=\"xgplayer-progress-thumbnail xg-tips\"></xg-thumbnail>\n          </xg-played>\n        </xg-outer>\n      </xg-progress>\n    `\n  }\n}\n\nexport default Progress\n","import Plugin from '../../../plugin'\nimport PlayPauseSvg from '../../assets/playPause.svg'\n\n\nconst { Events } = Plugin\nclass PlayIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayIcon'\n  }\n\n  afterCreate () {\n    const { player } = this;\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['touchend', 'click'], this.btnClick)\n\n    this.on(Events.PAUSE, () => {\n      this.find('.xg-tips').innerHTML = this.text.play\n      this.animate(player.paused)\n    })\n    this.on(Events.PLAY, () => {\n      this.find('.xg-tips').innerHTML = this.text.pause\n      this.animate(player.paused)\n    })\n  }\n\n  btnClick (e) {\n    const {player} = this\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      playIcon: PlayPauseSvg\n    }\n  }\n\n  animate (paused) {\n    const path = this.find('.path')\n    const pathPlay = this.find('.path_play').getAttribute('d')\n    const pathPause = this.find('.path_pause').getAttribute('d')\n    !paused ? path.setAttribute('d', pathPause) : path.setAttribute('d', pathPlay)\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.btnClick)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.playIcon}\n    </div>\n    <div class=\"xg-tips\">${this.player.paused ? this.text.play : this.text.pause}</div>\n    </xg-icon>`\n  }\n}\nexport default PlayIcon\n","import Plugin from '../../../plugin'\nimport FullScreenChangeSvg from '../../assets/fullscreenChange.svg'\n\n\nconst { Events } = Plugin\n\nclass Fullscreen extends Plugin {\n  static get pluginName () {\n    return 'fullscreen'\n  }\n\n  afterCreate () {\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['click', 'touchend'], this.btnClick)\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      this.find('.xg-tips').innerHTML = isFullScreen ? this.text.exitFullscreen : this.text.fullscreen\n      this.animate(isFullScreen)\n    })\n  }\n\n  btnClick (e) {\n    const {player} = this;\n    if (player.fullscreen) {\n      player.exitFullscreen()\n    } else {\n      player.getFullscreen()\n    }\n  }\n\n  animate (isFullScreen) {\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  registerLangauageTexts () {\n    return {\n      fullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Fullscreen',\n        zh: '进入全屏'\n      },\n      exitFullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Exit fullscreen',\n        zh: '退出全屏'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      fullscreenChange: FullScreenChangeSvg\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.fullscreenChange}\n    </div>\n    <div class=\"xg-tips\">${this.player.isFullScreen ? this.text.exitFullscreen : this.text.fullscreen}</div>\n    </xg-icon>`\n  }\n}\nexport default Fullscreen\n","import Plugin from '../../../plugin'\n\nconst { Util, Events } = Plugin\n\nclass TimeIcon extends Plugin {\n  static get pluginName () {\n    return 'TimeIcon'\n  }\n\n  onTimeUpdate () {\n    const { player } = this\n    const current = player.currentTime\n    this.timeDom.innerHTML = Util.format(current)\n    if (player.duration !== Infinity) {\n      this.durationDom.innerHTML = Util.format(player.duration)\n    }\n  }\n\n  afterCreate () {\n    const { player } = this\n    this.durationDom = this.find('.time-duration')\n    this.timeDom = this.find('.time-current')\n    this.once(Events.READY, () => {\n      if (player.duration === Infinity || this.playerConfig.isLive) {\n        Util.hide(this.durationDom)\n        Util.hide(this.timeDom)\n        Util.hide(this.find('.time-separator'))\n        Util.show(this.find('.time-live-tag'))\n      } else {\n        Util.hide(this.find('.time-live-tag'))\n      }\n      this.show();\n    })\n    this.on(Events.DURATION_CHANGE, () => {\n      this.onTimeUpdate()\n    })\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeUpdate()\n    })\n  }\n\n  changeLiveState (isLive) {\n    if (isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n      Util.show(this.find('.time-separator'))\n      Util.show(this.durationDom)\n      Util.show(this.timeDom)\n    }\n  }\n\n  updateTime (time) {\n    const { player } = this\n    if ((!time && time !== 0) || time > player.duration) {\n      return\n    }\n    this.timeDom.innerHTML = Util.format(time)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-time\" style=\"display:none\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">直播</span>\n    </xg-icon>`\n  }\n}\nexport default TimeIcon\n","import Plugin from '../../../plugin'\nimport volumeChange from '../../assets/volumeChange.svg'\n\n\nconst { Util, Events } = Plugin\nclass VolumeIcon extends Plugin {\n  static get pluginName () {\n    return 'VolumeIcon'\n  }\n\n  registerIcons () {\n    return {\n      volumeChange: volumeChange\n    }\n  }\n\n  afterCreate () {\n    this.bar = this.find('.xgplayer-bar')\n    this.drag = this.find('.xgplayer-drag')\n    this.changeMuted = this.changeMuted.bind(this)\n\n    this.onBarMousedown = this.onBarMousedown.bind(this)\n\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onMouseleave = this.onMouseleave.bind(this)\n    this.bind('mouseenter', this.onMouseenter)\n\n    this.bind(['blur', 'mouseleave'], this.onMouseleave)\n\n    this.bind('.xgplayer-bar', 'mousedown', this.onBarMousedown)\n    this.bind('.xgplayer-icon', ['click', 'touched'], this.changeMuted)\n\n    this.on(Events.VOLUME_CHANGE, this.onVolumeChange.bind(this))\n  }\n\n  onBarMousedown (e) {\n    const {player} = this\n    player.video.muted = false\n    const drag = this.drag\n    const slider = this.find('.xgplayer-slider')\n    slider.focus()\n    Util.event(e)\n\n    let barRect = this.bar.getBoundingClientRect()\n    let pos = {x: e.clientX, y: e.clientY}\n    let height = drag.getBoundingClientRect().height\n    let isMove = false\n    let onMove = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      isMove = true\n      let w = height - e.clientY + pos.y\n      let now = w / barRect.height\n      drag.style.height = `${w}px`\n      player.volume = Math.max(Math.min(now, 1), 0)\n    }\n\n    let onUp = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', onMove)\n      window.removeEventListener('touchmove', onMove)\n      window.removeEventListener('mouseup', onUp)\n      window.removeEventListener('touchend', onUp)\n\n      if (!isMove) {\n        let w = barRect.height - (e.clientY - barRect.top)\n        let now = w / barRect.height\n        drag.style.height = `${w}px`\n        if (now <= 0) {\n          if (player.volume > 0) {\n            drag.volume = player.video.volume\n          } else {\n            now = drag.volume\n          }\n        }\n        player.volume = Math.max(Math.min(now, 1), 0)\n      }\n      slider.volume = player.volume\n      isMove = false\n    }\n    window.addEventListener('mousemove', onMove)\n    window.addEventListener('touchmove', onMove)\n    window.addEventListener('mouseup', onUp)\n    window.addEventListener('touchend', onUp)\n    return false\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.addClass(this.el, 'slide-show')\n  }\n  onMouseleave (e) {\n    console.log('mouseleave')\n    e.preventDefault()\n    e.stopPropagation()\n    Util.removeClass(this.el, 'slide-show')\n  }\n\n  changeMuted () {\n    const {player} = this\n    player.muted = !player.muted\n  }\n\n  onVolumeChange () {\n    const {muted, volume} = this.player\n    this.find('.xgplayer-drag').style.height = muted || volume === 0 ? `0px` : `${volume * 100}%`\n    this.animate(muted, volume)\n  }\n\n  animate (muted, volume) {\n    const path = this.find('.path')\n    const pathLarge = this.find('.path_large').getAttribute('d')\n    const pathSmall = this.find('.path_small').getAttribute('d')\n    const pathMuted = this.find('.path_muted').getAttribute('d')\n    if (muted || volume === 0) {\n      path.setAttribute('d', pathMuted)\n    } else {\n      volume >= 0.5 ? path.setAttribute('d', pathLarge) : path.setAttribute('d', pathSmall)\n    }\n  }\n\n  render () {\n    const {volume} = this.player\n    return `\n    <xg-icon class=\"xgplayer-volume\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.volumeChange}\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        <xg-bar class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </xg-bar>\n      </xg-slider>\n    </xg-icon>`\n  }\n}\nexport default VolumeIcon\n","import Plugin from '../../../plugin'\nimport RotateIcon from '../../assets/rotate.svg'\n\n\nclass Rotate extends Plugin {\n  static get pluginName () {\n    return 'rotate'\n  }\n\n  afterCreate () {\n    this.updateRotateDeg = this.updateRotateDeg.bind(this)\n    this.rotate = this.rotate.bind(this);\n    this.bind('.xgplayer-icon', ['click', 'touchend'], this.rotate)\n  }\n\n  destroy () {\n    this.unbind('.xgplayer-icon', ['click', 'touchend'], this.rotate)\n  }\n\n  updateRotateDeg () {\n    let player = this.player;\n    if (!player.rotateDeg) {\n      player.rotateDeg = 0\n    }\n\n    let width = player.root.offsetWidth\n    let height = player.root.offsetHeight\n    let targetWidth = player.video.videoWidth\n    let targetHeight = player.video.videoHeight\n\n    if (!this.config.innerRotate) {\n      // player.root.style.width = height + 'px'\n      // player.root.style.height = width + 'px'\n    }\n\n    let scale\n    if (player.rotateDeg === 0.25 || player.rotateDeg === 0.75) {\n      if (this.config.innerRotate) {\n        if ((targetWidth / targetHeight) > (height / width)) { // 旋转后纵向撑满\n          let videoWidth = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoWidth = height * targetWidth / targetHeight\n          } else {\n            // 旋转前是横向撑满\n            videoWidth = width\n          }\n          scale = height / videoWidth\n        } else { // 旋转后横向撑满\n          let videoHeight = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoHeight = height\n          } else { // 旋转前是横向撑满\n            videoHeight = width * targetHeight / targetWidth\n          }\n          scale = width / videoHeight\n        }\n      } else {\n        if (width >= height) {\n          scale = width / height\n        } else {\n          scale = height / width\n        }\n      }\n      scale = parseFloat(scale.toFixed(5))\n    } else {\n      scale = 1\n    }\n\n    if (this.config.innerRotate) {\n      player.video.style.transformOrigin = 'center center'\n      player.video.style.transform = `rotate(${player.rotateDeg}turn) scale(${scale})`\n      player.video.style.webKitTransform = `rotate(${player.rotateDeg}turn) scale(${scale})`\n    } else {\n      player.root.style.transformOrigin = 'center center'\n      player.root.style.transform = `rotate(${player.rotateDeg}turn) scale(${1})`\n      player.root.style.webKitTransform = `rotate(${player.rotateDeg}turn) scale(${1})`\n    }\n  }\n\n  rotate (clockwise = false, innerRotate = true, times = 1) {\n    let player = this.player;\n    if (!player.rotateDeg) {\n      player.rotateDeg = 0\n    }\n    let factor = clockwise ? 1 : -1\n\n    player.rotateDeg = (player.rotateDeg + 1 + factor * 0.25 * times) % 1\n    this.updateRotateDeg()\n\n    player.emit('rotate', player.rotateDeg * 360)\n  }\n\n  registerIcons () {\n    return {\n      'rotate': RotateIcon\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'rotate': {\n        jp: '日文text',\n        en: 'rotate',\n        zh: '旋转屏幕'\n      }\n    }\n  }\n\n  render () {\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n        ${RotateIcon}\n      </div>\n      <div class=\"xg-tips\">\n      ${this.text.rotate}\n      </div>\n    </xg-icon>`\n  }\n}\n\nexport default Rotate\n","import Plugin from '../../../plugin'\n\nconst { Events } = Plugin\n\nclass PIPIcon extends Plugin {\n  static get pluginName () {\n    return 'PipIcon'\n  }\n\n  afterCreate () {\n    // video初始化之后再做判断是否显示\n    this.once(Events.COMPLETE, () => {\n      if (this.isPIPAvailable()) {\n        this.show()\n        this.switchPIP = this.switchPIP.bind(this)\n        this.bind('click', this.switchPIP)\n      }\n      this.initPipEvents()\n    })\n  }\n\n  initPipEvents () {\n    const {player} = this\n    this.leavePIPCallback = () => {\n      // 处理点击x关闭画中画的时候暂停问题\n      const paused = player.paused\n      setTimeout(() => {\n        !paused && player.play()\n      }, 0)\n      player.emit('pip_change', false)\n    }\n\n    this.enterPIPCallback = () => {\n      player.emit('pip_change', true)\n    }\n\n    if (player.video) {\n      player.video.addEventListener('enterpictureinpicture', this.enterPIPCallback)\n      // Video left Picture-in-Picture mode.\n      player.video.addEventListener('leavepictureinpicture', this.leavePIPCallback)\n    }\n  }\n\n  switchPIP () {\n    const {player} = this\n    try {\n      if (!document.pictureInPictureElement) {\n        player.video && player.video.requestPictureInPicture()\n      } else {\n        document.exitPictureInPicture();\n      }\n    } catch (reason) {\n      console.error('switchPIP', reason);\n    }\n  }\n\n  isPIPAvailable () {\n    const {player} = this\n    return document.pictureInPictureEnabled || !(player.video && player.video.disablePictureInPicture);\n  }\n\n  registerLangauageTexts () {\n    return {\n      'pipicon': {\n        jp: 'picture-in-picture',\n        en: 'picture-in-picture',\n        zh: '画中画'\n      }\n    }\n  }\n\n  destroy () {\n    const {player} = this\n    player.video.removeEventListener('enterpictureinpicture', this.enterPIPCallback)\n    player.video.removeEventListener('leavepictureinpicture', this.leavePIPCallback)\n    this.unbind('click', this.switchPIP)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon btn-definition\">\n      ${this.icons.pipicon ? this.icons.pipicon : `<span>${this.text.pipicon}</span>`}\n      </div>\n      ${this.icons.pipicon ? `<div class=\"xg-tips\">${this.text.pipicon}</div>` : ''}\n    </xg-icon>`\n  }\n}\nexport default PIPIcon\n","/**\n * 下一个按钮组件\n */\nimport Plugin from '../../../plugin'\nimport Next from '../../assets/playNext.svg'\n\n\n// const { Events } = Plugin\nexport default class PlayNextIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayNextIcon'\n  }\n\n  afterCreate () {\n    const { playerConfig } = this\n    console.log('playerConfig', playerConfig)\n    if (!this.config.url) {\n      this.initEvents()\n    }\n  }\n\n  initEvents () {\n    this.playNext = this.playNext.bind(this);\n    this.bind(['touchend', 'click'], this.playNext)\n    this.show()\n  }\n\n  playNext () {\n    // TODO 根据配置信息进行下一个视频的切换 或者 根据参数中的回调函数进行调用\n    this.emit('playNext')\n  }\n\n  registerIcons () {\n    return {\n      playNext: Next\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.playNext)\n  }\n\n  render () {\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.playNext}\n      </div>\n      <div class=\"xg-tips\"></div>\n     </xg-icon>\n    `\n  }\n}\n","import Plugin from '../../../plugin'\n\nconst { Events, Util, Sniffer } = Plugin\nexport default class DefinitionIcon extends Plugin {\n  static get pluginName () {\n    return 'DefinitionIcon'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: 'left',\n      index: 2,\n      itemList: null\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    // 记录切换的时候的播放器状态\n    this.curTime = 0\n    this.isPaused = true\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      if (this.config.itemList && this.config.itemList.length > 0) {\n        this.renderItemList()\n        this.show()\n      }\n    })\n    this.once('resourceReady', (list) => {\n      this.config.itemList = list\n      this.renderItemList()\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const {player} = this\n    const {itemList} = this.config\n    let src = player.config.url;\n    const a = document.createElement('a')\n    if (player.switchURL) {\n      this.switchUrl()\n    } else {\n      src = player.currentSrc || player.src\n    }\n    if (player['hls']) {\n      a.href = player['hls'].url\n      src = a.href\n    }\n\n    const liList = itemList.map(item => {\n      a.href = item.url\n      const className = player.dash ? (item.selected ? 'selected' : '') : (a.href === src ? 'selected' : '')\n      return `<li class=\"${className}\" cname=\"${item.name}\" url=\"${item.url}\">${item.name}</li>`\n    })\n    let cursrc = itemList.filter(item => {\n      a.href = item.url\n      if (player.dash) {\n        return item.selected === true\n      } else {\n        return a.href === src\n      }\n    })\n    this.find('.icon-text').innerHTML = (cursrc[0] || {name: ''}).name\n    this.find('.icon-list').innerHTML = liList.join('')\n  }\n\n  onCanplayChangeDefinition () {\n    const {player} = this\n    player.currentTime = this.curTime\n    if (!this.isPaused) {\n      let playPromise = player.play()\n      if (playPromise !== undefined && playPromise) {\n        // eslint-disable-next-line handle-callback-err\n        playPromise.catch(err => {})\n      }\n    }\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.el, 'list-show') ? Util.removeClass(this.el, 'list-show') : Util.addClass(this.el, 'list-show')\n  }\n\n  switchUrl (lastATag) {\n    const {player} = this\n    let curRUL = document.createElement('a');\n    ['mp4', 'hls', '__flv__', 'dash'].every(item => {\n      if (player[item]) {\n        if (player[item].url) {\n          curRUL.href = player[item].url\n        }\n        if (item === '__flv__') {\n          if (player[item]._options) {\n            curRUL.href = player[item]._options.url\n          } else {\n            curRUL.href = player[item]._mediaDataSource.url\n          }\n        }\n        return false\n      } else {\n        return true\n      }\n    })\n    if (lastATag && curRUL.href !== lastATag.href && !player.ended) {\n      player.switchURL(lastATag.href)\n    }\n  }\n\n  onItemClick (e) {\n    const {player} = this\n    const {itemList} = this.config\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.target && e.target.className === 'selected') {\n      return false\n    }\n    const a = document.createElement('a')\n    player.emit('beforeDefinitionChange', a.href)\n    if (player.dash) {\n      itemList.forEach(item => {\n        item.selected = false\n        if (item.name === e.target.innerHTML) {\n          item.selected = true\n        }\n      })\n    }\n    const curlSelected = this.find('.selected')\n    Util.addClass(e.target, 'selected')\n    curlSelected && Util.removeClass(curlSelected, 'selected')\n    const from = curlSelected ? curlSelected.getAttribute('cname') : ''\n    const to = e.target.getAttribute('cname')\n    a.href = e.target.getAttribute('url')\n    this.curTime = player.currentTime;\n    this.isPaused = player.paused\n    if (player.switchURL) {\n      this.switchUrl(a)\n    } else {\n      // if (player['hls']) {\n      //   let curRUL = document.createElement('a')\n      //   curRUL = player['hls'].url\n      // }\n      if (a.href !== player.currentSrc) {\n        if (!player.ended) {\n          player.src = a.href\n          this.once('canplay', () => {\n            this.onCanplayChangeDefinition()\n          })\n        }\n      }\n    }\n    this.find('.icon-text').innerHTML = to\n    player.emit('definitionChange', {from, to})\n    if (Sniffer.device === 'mobile') {\n      Util.removeClass(this.el, 'list-show')\n    }\n  }\n\n  render () {\n    const text = '清晰度'\n    return `<xg-icon class=\"xgplayer-playbackrate\" style=\"display: none;\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../../plugin'\n\nconst { Events, Util, Sniffer } = Plugin\nexport default class PlaybackRateIcon extends Plugin {\n  static get pluginName () {\n    return 'PlaybackRateIcon'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: 'left',\n      index: 2,\n      rateList: [0.5, 0.75, {rate: 1, iconText: '倍速'}, 1.5, 2]\n    }\n  }\n  constructor (args) {\n    super(args)\n    this.curRate = 1\n  }\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.el, 'list-show') ? Util.removeClass(this.el, 'list-show') : Util.addClass(this.el, 'list-show')\n  }\n\n  onItemClick (e) {\n    const target = e.target\n    const cname = target.getAttribute('cname')\n    if (Number(cname) === this.curRate) {\n      return false\n    }\n    Util.removeClass(this.find('.selected'), 'selected')\n    Util.addClass(target, 'selected')\n    this.curRate = Number(cname)\n    this.player.playbackRate = Number(cname)\n    this.find('.icon-text').innerHTML = target.getAttribute('ctext')\n  }\n\n  destroy () {\n    this.unbind(this.activeEvent, this.onMouseenter)\n    this.unbind('mouseleave', this.onMouseenter)\n    this.unbind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  render () {\n    const playbackRate = this.player.playbackRate || 1\n    this.curRate = playbackRate\n    let currentText = ''\n    const items = this.config.rateList.map((item) => {\n      let itemInfo = typeof item === 'object' ? item : {rate: item}\n      !itemInfo.text && (itemInfo.text = `${itemInfo.rate}x`)\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.isCurrent = true\n        currentText = item.iconText || itemInfo.text\n      }\n      return `<li cname=\"${itemInfo.rate}\" ctext=\"${item.iconText || itemInfo.text}\" class=\"${itemInfo.isCurrent ? 'selected' : ''}\">${itemInfo.text}</li>`\n    })\n\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${currentText}</span></div>\n    <ul class=\"icon-list\">\n      ${items.join('')}\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../../plugin'\nimport CssFullscreenChange from '../../assets/cssFullscreenChange.svg'\n\n\nconst { Events, Util } = Plugin\nexport default class CssFullScreen extends Plugin {\n  static get pluginName () {\n    return 'cssFullscreen'\n  }\n\n  constructor (args) {\n    super(args)\n    this.isCssfullScreen = false\n  }\n\n  afterCreate () {\n    this.on(Events.READY, () => {\n      this.btnClick = this.btnClick.bind(this);\n      this.bind(['click', 'touchend'], this.btnClick)\n    });\n  }\n\n  btnClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.isCssfullScreen) {\n      this.getCssFullscreen()\n    } else {\n      this.exitCssFullscreen()\n    }\n    this.animate(this.isCssfullScreen)\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, this.isCssfullScreen)\n  }\n\n  animate (isFullScreen) {\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  getCssFullscreen () {\n    const {player} = this\n    if (player.config.fluid) {\n      player.root.style['padding-top'] = ''\n    }\n    Util.addClass(player.root, 'xgplayer-is-cssfullscreen')\n    this.isCssfullScreen = true\n    player.emit('cssFullscreen_change', this.isCssfullScreen)\n  }\n\n  exitCssFullscreen () {\n    const {player} = this\n    if (player.config.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${player.config.height * 100 / player.config.width}%`\n    }\n    Util.removeClass(player.root, 'xgplayer-is-cssfullscreen')\n    this.isCssfullScreen = false\n    player.emit('cssFullscreen_change', this.isCssfullScreen)\n  }\n\n  registerIcons () {\n    return {\n      cssFullscreen: CssFullscreenChange\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'cssFullscreen': {\n        jp: 'Cssfullscreen',\n        en: 'Cssfullscreen',\n        zh: '进入样式全屏'\n      },\n      exitCssFullscreen: {\n        jp: 'Exit cssfullscreen',\n        en: 'Exit cssfullscreen',\n        zh: '退出样式全屏'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    ${this.icons.cssFullscreen}\n    </div>\n    <div class=\"xg-tips\">${this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\nimport Progress from '../icons/progress'\nimport PlayIcon from '../icons/playIcon'\nimport FullScreen from '../icons/fullscreen'\nimport TimeIcon from '../icons/timeIcon'\nimport VolumeIcon from '../icons/volumeIcon'\nimport RotateIcon from '../icons/rotate'\n// import MiniScreen from '../icons/miniScreen'\nimport PIPIcon from '../icons/pipIcon'\nimport PlayNextIcon from '../icons/playNextIcon'\n// import DownLoadIcon from '../icons/downloadIcon'\n// import ScreenShotIcon from '../icons/screenShotIcon'\nimport DefinitionIcon from '../icons/definitionIcon'\nimport PlaybackRateIcon from '../icons/playbackRateIcon'\nimport CssFullScreen from '../icons/cssFullScreen'\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  afterCreate () {\n  }\n\n  children () {\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    return {\n      TimeIcon: {\n        plugin: TimeIcon,\n        options: {\n          index: 3,\n          root: this.left\n        }\n      },\n      PlayIcon: {\n        plugin: PlayIcon,\n        options: {\n          index: 0,\n          root: this.left\n        }\n      },\n      playNextIcon: {\n        plugin: PlayNextIcon,\n        options: {\n          index: 1,\n          root: this.left\n        }\n      },\n      // DownLoadIcon: {\n      //   plugin: DownLoadIcon,\n      //   options: {\n      //     index: 3,\n      //     root: this.right\n      //   }\n      // },\n      // ScreenShotIcon: {\n      //   plugin: ScreenShotIcon,\n      //   options: {\n      //     index: 4,\n      //     root: this.right\n      //   }\n      // },\n      FullScreen: {\n        plugin: FullScreen,\n        options: {\n          index: 0,\n          root: this.right\n        }\n      },\n      VolumeIcon: {\n        plugin: VolumeIcon,\n        options: {\n          index: 1,\n          root: this.right\n        }\n      },\n      RotateIcon: {\n        plugin: DefinitionIcon,\n        options: {\n          index: 2,\n          root: this.right\n        }\n      },\n      DefinitionIcon: {\n        plugin: RotateIcon,\n        options: {\n          index: 3,\n          root: this.right\n        }\n      },\n      PlaybackRateIcon: {\n        plugin: PlaybackRateIcon,\n        options: {\n          index: 4,\n          root: this.right\n        }\n      },\n      // MiniScreen: {\n      //   plugin: MiniScreen,\n      //   options: {\n      //     index: 1,\n      //     root: this.right\n      //   }\n      // },\n      PIPIcon: {\n        plugin: PIPIcon,\n        options: {\n          index: 1,\n          root: this.right\n        }\n      },\n      CssFullScreen: {\n        plugin: CssFullScreen,\n        options: {\n          index: 1,\n          root: this.right\n        }\n      },\n      Progress: {\n        plugin: Progress,\n        options: {\n          root: this.center\n        }\n      }\n    }\n  }\n\n  render () {\n    return `<xg-controls class=\"xgplayer-controls\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport defaultPreset from './plugins/presets/default'\nimport getDefaultConfig from './defaultConfig'\nimport { usePreset } from './plugin/preset';\nimport Controls from './plugins/controls'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepCopy(getDefaultConfig(), options)\n    this.config.plugins = [Controls].concat(this.config.plugins)\n    console.log('this.config.plugins', this.config.plugins)\n    this.config.presets = [defaultPreset]\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isProgressMoving = false\n    this.isReady = false\n    this.isPlaying = false\n    this.isSeeking = false\n    this.isActive = true\n\n    this._initDOM()\n\n    this._bindEvents()\n\n    this._registerPresets()\n    this._registerPlugins()\n\n    setTimeout(() => {\n      this.emit(Events.READY)\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    this.controls = util.createDom('xg-controls', '', {\n      unselectable: 'on',\n      onselectstart: 'return false'\n    }, 'xgplayer-controls')\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit(Events.ERROR, new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    this.root.appendChild(this.controls)\n    if (this.config.fluid) {\n      this.root.style['max-width'] = '100%'\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n\n      this.video.style['position'] = 'absolute'\n      this.video.style['top'] = '0'\n      this.video.style['left'] = '0'\n    } else {\n      // this.root.style.width = `${this.config.width}px`\n      // this.root.style.height = `${this.config.height}px`\n      if (this.config.width) {\n        if (typeof this.config.width !== 'number') {\n          this.root.style.width = this.config.width\n        } else {\n          this.root.style.width = `${this.config.width}px`\n        }\n      }\n      if (this.config.height) {\n        if (typeof this.config.height !== 'number') {\n          this.root.style.height = this.config.height\n        } else {\n          this.root.style.height = `${this.config.height}px`\n        }\n      }\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    }\n\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n\n    this.playFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n    // if (!this.config.closeVideoClick) {\n    //   ['touched', 'click'].map((key) => {\n    //     this.video.addEventListener(key, () => {\n    //       console.log('this.video.addEventListener')\n    //       if (this.paused) {\n    //         this.play()\n    //       } else {\n    //         this.pause()\n    //       }\n    //     })\n    //   })\n    // }\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    let player = this\n    if (!url || url === '') {\n      this.emit(Events.URL_NULL)\n    }\n    this.canPlayFunc = function () {\n      this.volume = this.config.volume\n      this.play()\n      player.off(Events.CANPLAY, this.canPlayFunc)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.once(Events.CANPLAY, this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit(Events.COMPLETE)\n    }, 1)\n    this.hasStart = true\n    pluginsManager.afterInit(this)\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        if (plugin.options) {\n          return pluginsManager.register(this, plugin.plugin, plugin.options)\n        }\n        return pluginsManager.register(this, plugin)\n      } catch (err) {\n        return null\n      }\n    })\n  }\n\n  _registerPresets () {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset)\n    })\n  }\n\n  registerPlugin () {\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className)\n  }\n\n  start (url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      return this.play()\n    } else {\n      return pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url || this.config.url;\n        }\n        return this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start()\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.AUTOPLAY)\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n      }).catch((e) => {\n        // 避免AUTOPLAY_PREVENTED先于playing和play触发\n        setTimeout(() => {\n          this.emit(Events.AUTOPLAY_PREVENTED)\n          this.addClass(STATE_CLASS.AUTOPLAY)\n        }, 0)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.once(Events.CANPLAY, () => {\n      const playPromise = this.play()\n      if (playPromise && playPromise.catch) {\n        playPromise.catch(err => {\n          console.log(err)\n        })\n      }\n\n    })\n    this.emit(Events.REPLAY)\n    this.currentTime = 0\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    let player = this\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    player.emit('requestCssFullscreen')\n  }\n\n  exitCssFullscreen () {\n    let player = this\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    player.emit('exitCssFullscreen')\n  }\n\n  onFocus () {\n    this.isActive = true\n    let player = this\n    this.addClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    if (!this.paused && !this.ended) {\n      this.removeClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n    this.ended && this.removeClass(STATE_CLASS.ENDED)\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    const { NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING } = STATE_CLASS\n    const clsList = [NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING];\n    clsList.forEach((cls) => {\n      this.removeClass(cls)\n    })\n    this.addClass(STATE_CLASS.PLAYING)\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.util = util\nPlayer.sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Events = Events\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Player from './player'\n// import * as Controls from './controls/*.js'\n// import pc from './plugins/pc';\nimport Plugin, { BasePlugin, pluginsManager } from './plugin';\n\nPlayer.BasePlugin = BasePlugin;\nPlayer.Plugin = Plugin;\nPlayer.pluginsManager = pluginsManager;\nexport default Player\n"],"names":["match","el","selector","vendor","call","nodes","parentNode","querySelectorAll","i","length","detect","bind","window","addEventListener","unbind","removeEventListener","prefix","_createElement","tag","name","dom","document","createElement","registerIconsObj","iconsConfig","plugin","keys","map","iconKey","defineProperty","icons","_icons","config","playerConfig","registerTextObj","textConfig","key","text","lang","indexOf","split","styleInject","css","ref","insertAt","head","getElementsByTagName","style","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","getDefaultConfig","documentElement","getAttribute","navigator","language","toLocaleLowerCase","_undefined","value","possibleTypes","object","function","undefined","isValue","hasOwnProperty","isObject","constructor","prototype","error","apply","isPrototype","classRe","functionToString","Function","toString","isFunction","test","obj","assign","Object","foo","bar","trzy","e","require$$0","val","require$$1","TypeError","max","Math","dest","src","arguments","forEach","Array","create","process","opts1","result","options","str","contains","String","searchString","this","module","dscr","c","w","desc","configurable","enumerable","writable","normalizeOpts","gs","get","set","isPlainFunction","fn","on","once","off","emit","methods","descriptors","base","defineProperties","descriptor","listener","data","callable","__ee__","push","self","__eeOnceListener__","listeners","candidate","splice","l","args","slice","d","exports","o","emitter","util","createDom","tpl","attrs","cname","className","innerHTML","item","setAttribute","hasClass","classList","some","RegExp","addClass","replace","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","getElementById","padStart","pad","charstr","len","maxlen","ceil","chars","r","join","substring","format","time","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","deepCopy","dst","Node","concat","getBgImage","url","currentStyle","getComputedStyle","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","setInterval","context","eventName","intervalFunc","frequency","_interval","clearInterval","createImgBtn","imgUrl","width","height","btn","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","hide","display","show","ErrorTypes","Errors","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","msg","version","errorCode","mediaError","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","Proxy","_hasStart","_currentTime","_duration","videoConfig","autoplay","playsinline","mediaType","videoAttrbutes","loop","log","defaultPlaybackRate","video","autoplayMuted","muted","_initEvents","_emitEvent","funName","player","lastBuffer","ev","charAt","toUpperCase","evItem","errorHandler","_this2","curBuffer","buffered","start","end","code","pause","removeAttribute","load","k","evName","evFunc","_this3","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","err","status","en","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","os","isPc","ua","userAgent","toLowerCase","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","__args","__events","Util","beforeCreate","__init","afterCreate","Obj","defineGetterOrSetter","pluginName","_this","root","logger","callback","isArray","res","offAll","destroy","Sniffer","Events","pluginsManager","cgid","_pluginInfoId","Date","getTime","pluginGroup","init","_plugins","plugins","originalOptions","_originalOptions","_player","Error","defaultConfig","_instance","func","_destroy","cName","retPromise","then","Promise","resolve","pluginsRet","beforePlayerInit","ret","all","catch","afterPlayerInit","pluginsMap","_args","unRegister","register","proto","Element","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","element","checkYoSelf","parent","matches","capture","forceCaptureEvents","delegateTarget","closest","Plugin","html","index","children","insertIdx","parseInt","isDomElement","HTMLElement","insertAdjacentHTML","_parent","_el","registerIcons","registerLangauageTexts","renderStr","render","message","insert","attr","setAttr","setStyle","__registeChildren","_children","_plugin","registerPlugin","opts","findPlugin","qs","eventType","bindEL","unbindEL","htmlStr","innerHtml","eventHandle","isBubble","getPropertyValue","removeChild","Event","Replay","preventDefault","replay","path","transform","Poster","poster","global","factory","parse","segment","_","command","parseValues","unshift","numbers","number","Number","shapeBox","shape","minX","minY","maxX","maxY","curve","x1","x2","x3","x4","y1","y2","y3","y4","min","boxDistance","boxA","boxB","sqrt","pow","curveDistance","curveA","curveB","xb1","xb2","xb3","xb4","yb1","yb2","yb3","yb4","sortCurves","curvesA","curvesB","list","permuteCurveNum","arr","distance","sort","b","pathA","pathB","permuteNum","num","indexArr","j","permute","input","main","ch","usedChars","permArr","pop","t","left","_split","right","reverse","x12","y12","x23","y23","x123","y123","x1234","y1234","sync","shapes","count","newShape","slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","TAU","PI","mapToEllipse","_ref","rx","ry","cosphi","sinphi","centerx","centery","x","y","approxUnitArc","ang1","ang2","tan","cos","sin","vectorAngle","ux","uy","vx","vy","sign","div","acos","getArcCenter","px","py","cx","cy","largeArcFlag","sweepFlag","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","arcToBezier","_ref2","_ref2$xAxisRotation","xAxisRotation","_ref2$largeArcFlag","_ref2$sweepFlag","curves","abs","lambda","_getArcCenter","_getArcCenter2","segments","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","m","q","s","v","z","pasition","parser","lerpCurve","lerpPoints","q2b","path2shapes","cmds","preX","preY","current","closeX","closeY","preCX","preCY","sLen","lastCurve","action","preItem","_upCurves","_splitCurves","cs","lerp","_lerp","MIM_CURVES_COUNT","_preprocessing","lenA","lenB","clonePathA","JSON","stringify","clonePathB","newCurves","curveIndex","animate","option","from","to","pathArr","beginTime","progress","begin","easing","tickId","outShape","tick","dt","cancelAnimationFrame","percent","requestAnimationFrame","Start","stopPropagation","isReady","hasStart","isShowEnded","find","pathPlay","pathPause","isShowPause","EnterPlugin","barStr","MiniScreen","getMini","exitMini","dragLay","dragHandle","tabindex","bottom","top","pipConfig","fluid","miniscreen","PCPlugin","onVideoClick","onVideoDblClick","onMouseEnter","onMouseLeave","onControlMouseEnter","onControlMouseLeave","onReady","initEvents","onEnter","onEntered","onAutoPlayPrevented","controls","clk","timer","closeVideoClick","setTimeout","playPromise","closeVideoDblclick","fullscreen","createEvent","initEvent","dispatchEvent","leavePlayerTimer","closePlayerBlur","leavePlayerTime","userTimer","closeControlsBlur","MobilePlugin","isTouchMove","onTouchEnd","closeVideoTouch","Keyboard","onKeydown","keyCode","volumeSlider","sliderTimer","inactive","toFixed","Loading","loadingIcon","DefaultPreset","Enter","device","PC","Mobile","ignores","usePreset","Preset","presetInst","preset","defaultDot","ProgressDot","dotsList","dots","createDotDom","dot","newDots","defaultThumbnailConfig","Progress","useable","isProgressMoving","playedBar","cachedBar","pointTip","progressBtn","thumbnailDom","initThumbnail","onTimeupdate","onCacheUpdate","bindDomEvents","ProgressDots","progressDot","thumbnail","thumbnailConfig","scale","mouseDown","mouseMove","mouseEnter","mouseLeave","_this4","allowSeekAfterEnded","focus","containerWidth","getBoundingClientRect","move","now","dash","closeMoveSeek","updateTime","up","passive","blur","textContent","pointWidth","pleft","updateThumbnailPosition","pic_num","urls","interval","row","col","indexInPage","rowIndex","colIndex","timeIcon","timeicon","containerLeft","isSeeking","_this6","PlayIcon","btnClick","playIcon","Fullscreen","isFullScreen","exitFullscreen","getFullscreen","full","exit","fullscreenChange","TimeIcon","timeDom","Infinity","durationDom","isLive","onTimeUpdate","VolumeIcon","drag","changeMuted","onBarMousedown","onMouseenter","onMouseleave","onVolumeChange","slider","barRect","pos","isMove","onMove","onUp","pathLarge","pathSmall","pathMuted","volumeChange","Rotate","updateRotateDeg","rotate","rotateDeg","offsetWidth","offsetHeight","targetWidth","videoWidth","targetHeight","videoHeight","innerRotate","transformOrigin","webKitTransform","clockwise","times","factor","RotateIcon","PIPIcon","isPIPAvailable","switchPIP","initPipEvents","leavePIPCallback","enterPIPCallback","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","reason","pictureInPictureEnabled","disablePictureInPicture","pipicon","PlayNextIcon","playNext","DefinitionIcon","curTime","isPaused","itemList","renderItemList","activeEvent","onItemClick","switchURL","switchUrl","liList","selected","cursrc","lastATag","curRUL","_options","_mediaDataSource","curlSelected","onCanplayChangeDefinition","PlaybackRateIcon","curRate","iconText","currentText","items","rateList","itemInfo","isCurrent","CssFullScreen","isCssfullScreen","exitCssFullscreen","getCssFullscreen","cssFullscreen","Controls","center","FullScreen","FULLSCREEN_EVENTS","Player","presets","defaultPreset","waitTimer","isPlaying","isActive","_initDOM","_bindEvents","_registerPresets","_registerPlugins","videoInit","id","vid","STATE_CLASS","DEFAULT","NO_START","NO_CONTROLS","onDestroy","mousemoveFunc","onFullscreenChange","fullEl","_fullscreenEl","FULLSCREEN","getVideoSize","closeFocusVideoFocus","playFunc","closePlayVideoFocus","canPlayFunc","loadeddataFunc","afterInit","ignoresStr","_this5","beforeInit","_this7","_startInit","fileName","lineNumber","AUTOPLAY","reloadFunc","isDelDom","classNameList","_this9","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","CSS_FULLSCREEN","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","ACTIVE","PAUSED","LOADING","cls","containerSize","fitVideoSize","getPlugins","__url","posterUrl","_isFullScreen"],"mappings":"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"}