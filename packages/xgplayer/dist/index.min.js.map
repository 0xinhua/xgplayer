{"version":3,"file":"index.min.js","sources":["../node_modules/matches-selector/index.js","../node_modules/component-event/index.js","../src/plugin/plugin.js","../src/defaultConfig.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/plugins/start/index.js","../src/Plugin/plugin.js","../node_modules/type/value/is.js","../node_modules/type/object/is.js","../node_modules/type/prototype/is.js","../node_modules/type/function/is.js","../node_modules/type/plain-function/is.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/es5-ext/object/is-object.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../node_modules/closest/index.js","../node_modules/delegate-events/index.js","../src/stateClassMap.js","../src/plugin/preset.js","../src/plugins/controls/index.js","../src/player.js","../src/plugins/poster/index.js","../src/plugins/replay/index.js","../src/plugins/miniScreen/miniScreenIcon.js","../src/plugins/miniScreen/index.js","../src/plugins/Controls/index.js","../src/plugins/playNext/index.js","../src/plugins/pc/index.js","../src/plugins/mobile/index.js","../src/plugins/placeholder/index.js","../src/plugins/track/index.js","../src/Plugin/basePlugin.js","../src/Plugin/pluginsManager.js","../src/plugins/error/index.js","../src/plugins/enter/index.js","../src/plugins/keyboard/index.js","../src/plugins/loading/index.js","../src/plugins/progress/progressdots.js","../src/plugins/progress/index.js","../src/plugins/play/index.js","../src/plugins/fullscreen/index.js","../src/plugins/time/index.js","../src/plugins/volume/index.js","../src/plugins/rotate/index.js","../src/plugins/pip/index.js","../node_modules/downloadjs/download.js","../src/plugins/download/index.js","../src/plugins/screenShot/index.js","../src/plugins/definition/index.js","../src/plugins/playbackRate/index.js","../src/plugins/cssFullScreen/index.js","../src/presets/default.js","../src/index.js"],"sourcesContent":["\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","var bind, unbind, prefix;\n\nfunction detect () {\n  bind = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  if (!bind) detect();\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (!unbind) detect();\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin, {Util} from './basePlugin'\nimport * as delegate from 'delegate-events'\n\n// const {Util} = BasePlugin\nfunction _createElement (tag, name, attr = {}) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  attr && Object.keys(attr).map(key => {\n    dom.setAttribute(key, attr[key])\n  })\n  return dom\n}\n\nfunction isUrl (str) {\n  return str.indexOf('http') > 0\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons\n  Object.keys(iconsConfig).map(key => {\n    const orgIcon = iconsConfig[key] || {}\n    const classname = orgIcon.class || ''\n    const attr = orgIcon.attr || {}\n    let _icon = null\n    if (_icons && _icons[key]) {\n      _icon = _icons[key]\n      if (_icon instanceof window.Element) {\n        Util.addClass(_icon, classname)\n        Object.keys(attr).map(key => {\n          _icon.setAttribute(key, attr[key])\n        })\n      } else if (isUrl(_icon)) {\n        _icon = Util.createDom('img', '', {src: _icon}, attr, `xg-img ${classname}`)\n      } else if (typeof _icon === 'function') {\n        _icon = _icon(classname, attr)\n        if (_icon instanceof window.Element) {\n          Util.addClass(_icon, classname)\n          Object.keys(attr).map(key => {\n            _icon.setAttribute(key, attr[key])\n          })\n        }\n      } else {\n        _icon = Util.createDomFromHtml(_icon, attr, classname)\n      }\n    }\n    if (!_icon) {\n      _icon = orgIcon.icon ? orgIcon.icon : orgIcon\n      _icon = _icon instanceof window.Element ? _icon : Util.createDomFromHtml(_icon, attr, classname)\n    }\n    plugin.icons[key] = _icon\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const _orgicons = this.registerIcons() || {}\n    registerIconsObj(_orgicons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  appendChild (pdom, child) {\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0])\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null\n    }\n    try {\n      if (typeof pdom === 'string') {\n        return this.find(pdom).appendChild(child)\n      } else {\n        return pdom.appendChild(child)\n      }\n    } catch (err) {\n      console.warn(err)\n      return null\n    }\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter',\n  CONTROLS: 'controls'\n}\n","export default function getDefaultConfig () {\n  return {\n    id: '', // 播放器容器id\n    el: null, // 播放器容器dom\n    url: '', // 播放url\n    width: 600, // 播放器宽度,单位px\n    height: 337.5, // 播放器高度,单位px\n    fluid: false, // 是否启用流式布局\n    fitVideoSize: 'auto', // fixWidth/fixHeight/auto\n    volume: 0.6, // 默认音量\n    autoplay: false, // 是否自动播放\n    autoplayMuted: false, // 是否自动静音\n    loop: false, // 是否循环播放\n    videoInit: false, // 是否优先显示视频首帧， mobile模式下无效\n    poster: '', // 封面图地址\n    defaultPlaybackRate: 1, // 默认播放倍数\n    execBeforePluginsCall: null, // 默认插件组装前回调\n    closeVideoClick: false, // 是否通过video的click/touchend行为切换播放暂停\n    closeVideoDblclick: false, // 是否通过双击行为触发全屏切换\n    closePlayerBlur: false, // 是个否启用鼠标移动激活行为\n    leavePlayerTime: 0, // 延迟触发时间\n    closePlayVideoFocus: false, // 是否关闭play时触发focus\n    closeFocusVideoFocus: false, // 是否支持播放器移动鼠标时触发focus\n    closeControlsBlur: false, // 鼠标移出播放器控制条范围时触发focus事件\n    videoAttrbutes: {}, // video扩展属性\n    // 是否删除\n    ignores: [],\n    whitelist: [],\n    inactive: 3000,\n    lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n    controls: true,\n    controlsList: [],\n    // 内置插件相关配置\n    screenShot: false, // 截图插件\n    rotate: false, // 旋转插件\n    pip: false, // pip插件\n    mini: false, // 迷你小窗插件\n    cssFullscreen: true, // 页面全屏\n    keyShortcut: true, // 是否开启快捷键\n    presets: [],\n    playbackRate: []\n  }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst AnimateMap = {}\nfunction addAnimate (key, seconds, callback = {start: null, end: null}) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id)\n  }\n  AnimateMap[key] = {}\n  callback.start && callback.start()\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end()\n    window.clearTimeout(AnimateMap[key].id)\n    delete AnimateMap[key]\n  }, seconds);\n}\n\nconst { Util, Events, Sniffer } = Plugin\n\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'start'\n  }\n\n  static get defaultConfig () {\n    return {\n      isShowPause: false,\n      isShowEnd: false,\n      disableAmimate: false\n    }\n  }\n\n  afterCreate () {\n    const {player, playerConfig} = this\n    this.initIcons()\n    if (Sniffer.device === 'mobile') {\n      this.config.isShowPause = true\n    }\n    this.once(Events.READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(player.root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(player.root, 'lang-is-jp')\n        }\n      }\n    })\n\n    if (!playerConfig.autoplay) {\n      this.show();\n    }\n\n    this.onClick = this.onClick.bind(this)\n\n    this.bind('click', this.onClick)\n\n    this.on([Events.PLAY, Events.PAUSE], () => {\n      this.player.isPlaying ? this.animate() : this.hide()\n    })\n    this.on(Events.AUTOPLAY_PREVENTED, () => {\n      this.show();\n    })\n  }\n\n  registerIcons () {\n    return {\n      startPlay: {icon: PlaySvg, class: 'xg-icon-play'},\n      startPause: {icon: PauseSvg, class: 'xg-icon-pause'}\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.icon', icons.startPlay)\n    this.appendChild('.icon', icons.startPause)\n  }\n\n  animate (isEnded) {\n    if ((this.config.isShowPause && this.player.paused && !this.player.ended) || this.player.ended || isEnded) {\n      if (this.player.ended && !this.config.isShowEnd) {\n        return\n      }\n      this.show()\n      this.setAttr('data-state', this.player.paused ? 'pause' : 'play')\n      return;\n    }\n    if (this.player.disableAmimate) {\n      return;\n    }\n    addAnimate('pauseplay', 400, {\n      start: () => {\n        Util.addClass(this.root, 'interact')\n        this.show()\n        this.setAttr('data-state', this.player.paused ? 'pause' : 'play')\n      },\n      end: () => {\n        Util.removeClass(this.root, 'interact');\n        if (this.config.isShowPause && (this.player.paused || isEnded)) {\n          return;\n        }\n        this.hide()\n      }\n    })\n  }\n\n  onClick (e) {\n    const {player} = this\n    e.preventDefault()\n    e.stopPropagation()\n    if (!player.isReady) {\n      return;\n    }\n    const paused = this.player.paused\n    if (!player.hasStart) {\n      player.start()\n      player.once('complete', () => {\n        player.play()\n      })\n    } else {\n      if (!paused) {\n        player.pause()\n      } else {\n        player.play()\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind('click', this.onClick)\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\" >\n      <div class=\"icon\">\n      </div>\n    </xg-start>`\n  }\n}\n\nexport default Start\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin, {Util} from './basePlugin'\nimport * as delegate from 'delegate-events'\n\n// const {Util} = BasePlugin\nfunction _createElement (tag, name, attr = {}) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  attr && Object.keys(attr).map(key => {\n    dom.setAttribute(key, attr[key])\n  })\n  return dom\n}\n\nfunction isUrl (str) {\n  return str.indexOf('http') > 0\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  const _icons = plugin.config.icons || plugin.playerConfig.icons\n  Object.keys(iconsConfig).map(key => {\n    const orgIcon = iconsConfig[key] || {}\n    const classname = orgIcon.class || ''\n    const attr = orgIcon.attr || {}\n    let _icon = null\n    if (_icons && _icons[key]) {\n      _icon = _icons[key]\n      if (_icon instanceof window.Element) {\n        Util.addClass(_icon, classname)\n        Object.keys(attr).map(key => {\n          _icon.setAttribute(key, attr[key])\n        })\n      } else if (isUrl(_icon)) {\n        _icon = Util.createDom('img', '', {src: _icon}, attr, `xg-img ${classname}`)\n      } else if (typeof _icon === 'function') {\n        _icon = _icon(classname, attr)\n        if (_icon instanceof window.Element) {\n          Util.addClass(_icon, classname)\n          Object.keys(attr).map(key => {\n            _icon.setAttribute(key, attr[key])\n          })\n        }\n      } else {\n        _icon = Util.createDomFromHtml(_icon, attr, classname)\n      }\n    }\n    if (!_icon) {\n      _icon = orgIcon.icon ? orgIcon.icon : orgIcon\n      _icon = _icon instanceof window.Element ? _icon : Util.createDomFromHtml(_icon, attr, classname)\n    }\n    plugin.icons[key] = _icon\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const _orgicons = this.registerIcons() || {}\n    registerIconsObj(_orgicons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  appendChild (pdom, child) {\n    if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n      return this.root.appendChild(arguments[0])\n    }\n    if (!child || !(child instanceof window.Element)) {\n      return null\n    }\n    try {\n      if (typeof pdom === 'string') {\n        return this.find(pdom).appendChild(child)\n      } else {\n        return pdom.appendChild(child)\n      }\n    } catch (err) {\n      console.warn(err)\n      return null\n    }\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter',\n  CONTROLS: 'controls'\n}\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.createDomFromHtml = function (html, attrs = {}, classname = '') {\n  try {\n    let doc = document.createElement('div')\n    doc.innerHTML = html\n    let dom = doc.children\n    doc = null\n    if (dom.length > 0) {\n      dom = dom[0]\n      classname && util.addClass(dom, classname)\n      if (attrs) {\n        Object.keys(attrs).forEach(key => {\n          dom.setAttribute(key, attrs[key])\n        })\n      }\n      return dom\n    }\n    return null\n  } catch (err) {\n    return null\n  }\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.getCss = function (dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key]\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (dst[key] === undefined || dst[key] === undefined) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\n\nutil.deepMerge = function (dst, src) {\n  Object.keys(src).map(key => {\n    if (typeof dst[key] === typeof src[key] && dst[key] !== null && typeof dst[key] === 'object' && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key])\n    } else {\n      dst[key] = src[key]\n    }\n  })\n  return dst\n}\n\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nutil.hide = function (dom) {\n  dom.style.display = 'none'\n}\n\nutil.show = function (dom, display) {\n  dom.style.display = display || 'block'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\nexport const RATE_CHANGE = 'rateChange'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const REPLAY = 'replay'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n\n// screen change evnets\nexport const FULLSCREEN_CHANGE = 'fullscreen_change'\nexport const CSS_FULLSCREEN_CHANGE = 'cssFullscreen_change'\nexport const MINI_STATE_CHANGE = 'mini_state_change'\n\n// transmuxer events\nexport const SEI_PARSED = 'SEI_PARSED';\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }, options.videoConfig);\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    if (options.defaultPlaybackRate) {\n      this.videoConfig.defaultPlaybackRate = options.defaultPlaybackRate\n    }\n\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplayMuted) {\n      this.video.muted = true\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata', 'ratechange'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n\n      this.videoEventHandler = () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video && this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }\n      this.video.addEventListener(Object.keys(item)[0], this.videoEventHandler, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean') {\n      this._hasStart = bool\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n\n      this.video.removeEventListener(evName, this.videoEventHandler, false)\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE, url)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as Events from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = Events\nexport {\n  BasePlugin as default,\n  Util,\n  Sniffer,\n  Errors,\n  Events\n}\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","/**\n * Module dependencies.\n */\n\nvar closest = require('closest')\n  , event = require('component-event');\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nexports.bind = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return event.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  event.unbind(el, type, fn, capture);\n};\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  NOT_ALLOW_AUTOPLAY: 'not-allow-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile',\n  MINI: 'xgplayer-mini'\n};\n","export const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    // eslint-disable-next-line new-cap\n    presetInst = new (Preset.preset)(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config)\n  }\n  const {plugins = [], ignores = [], icons} = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = []\n  }\n\n  if (!player.config.ignores) {\n    player.config.ignores = []\n  }\n\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  player.config.icons = icons\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: ''\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n    if (!args.config.mode && Sniffer.device === 'mobile') {\n      args.config.mode = 'flex'\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.innerRoot = this.find('inner-controls')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini-controls') : Util.removeClass(this.root, 'mini-controls')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseleave', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    // console.log('controls mouseEnter')\n    clearTimeout(this.player.userTimer)\n  }\n\n  mouseOut () {\n    // console.log('controls mouseOut')\n    const {player} = this\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  show () {\n    this.root && (this.root.style.display = 'inline-block')\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {}\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    let className = this.config.mode === 'flex' ? 'flex-controls ' : ''\n    className += this.config.autoHide ? 'control_autohide' : ''\n    return `<xg-controls class=\"xgplayer-controls ${className}\" unselectable=\"on\" onselectstart=\"return false\">\n    <inner-controls class=\"inner-controls\">\n      <left-grid class=\"left-grid\">\n      </Left-grid>\n      <center class=\"center\"></center>\n      <right-grid class=\"right-grid\">\n      </right-grid>\n    </inner-controls>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport getDefaultConfig from './defaultConfig'\nimport { usePreset } from './plugin/preset';\nimport Controls from './plugins/controls'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepMerge(getDefaultConfig(), options)\n    this.config.presets = []\n\n    // resolve default preset\n    if (this.config.presets.length) {\n      const defaultIdx = this.config.presets.indexOf('default');\n      if (defaultIdx >= 0 && Player.defaultPreset) {\n        this.config.presets.push(Player.defaultPreset);\n        this.config.presets.splice(defaultIdx, 1);\n      }\n    } else if (Player.defaultPreset) {\n      this.config.presets.push(Player.defaultPreset)\n    }\n\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isReady = false\n    this.isPlaying = false\n    this.isSeeking = false\n    this.isActive = true\n    this.isCssfullScreen = false\n\n    this._initDOM()\n\n    this._bindEvents()\n    this._registerPresets()\n    this._registerPlugins()\n    pluginsManager.onPluginsReady(this)\n\n    setTimeout(() => {\n      this.emit(Events.READY)\n      this.onReady && this.onReady()\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit(Events.ERROR, new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    this.topBar = util.createDom('xg-bar', '', '', 'xg-top-bar')\n    this.leftBar = util.createDom('xg-bar', '', '', 'xg-left-bar')\n    this.rightBar = util.createDom('xg-bar', '', '', 'xg-right-bar')\n    this.root.appendChild(this.topBar)\n    this.root.appendChild(this.leftBar)\n    this.root.appendChild(this.rightBar)\n    // const baseBar = pluginsManager.register(this, BaseBar)\n    // this.baseBar = baseBar\n    const controls = pluginsManager.register(this, Controls)\n    this.controls = controls\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    if (this.config.autoplay) {\n      this.addClass(STATE_CLASS.ENTER)\n    }\n    if (this.config.fluid) {\n      const style = {\n        'max-width': '100%',\n        'width': '100%',\n        'height': '0',\n        'padding-top': `${this.config.height * 100 / this.config.width}%`,\n        'position': 'position',\n        'top': '0',\n        'left': '0'\n      };\n      Object.keys(style).map(key => {\n        this.root.style[key] = style[key]\n      })\n    } else {\n      ['width', 'height'].map(key => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== 'number') {\n            this.root.style[key] = this.config[key]\n          } else {\n            this.root.style[key] = `${this.config[key]}px`\n          }\n        }\n      })\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    }\n\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      // 加上判断减少触发次数\n      if (this.isActive) {\n        return\n      }\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    const eventkey = sniffer.service === 'mobile' ? 'touchstart' : 'mousemove'\n    this.root.addEventListener(eventkey, this.mousemoveFunc)\n\n    this.playFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n    // if (!this.config.closeVideoClick) {\n    //   ['touched', 'click'].map((key) => {\n    //     this.video.addEventListener(key, () => {\n    //       console.log('this.video.addEventListener')\n    //       if (this.paused) {\n    //         this.play()\n    //       } else {\n    //         this.pause()\n    //       }\n    //     })\n    //   })\n    // }\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      player.root.removeEventListener(eventkey, this.mousemoveFunc)\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    if (!url || url === '') {\n      this.emit(Events.URL_NULL)\n    }\n    this.canPlayFunc = function () {\n      this.volume = this.config.volume\n      this.play()\n      this.off(Events.CANPLAY, this.canPlayFunc)\n      this.removeClass(STATE_CLASS.ENTER)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.once(Events.CANPLAY, this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit(Events.COMPLETE)\n    }, 1)\n    if (!this.hasStart) {\n      pluginsManager.afterInit(this)\n    }\n    this.hasStart = true\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    this._loadingPlugins = []\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin)\n          if (plugin.forceBeforeInit) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            }).catch(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            })\n            this._loadingPlugins.push(loadingPlugin)\n          }\n\n          return;\n        }\n        return this.registerPlugin(plugin)\n      } catch (err) {\n        console.error(err)\n        return null\n      }\n    })\n  }\n\n  _registerPresets () {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset)\n    })\n  }\n\n  registerPlugin (plugin) {\n    let PLUFGIN = null\n    let options = null\n    if (plugin.plugin && typeof plugin.plugin === 'function') {\n      PLUFGIN = plugin.plugin\n      options = plugin.options\n    } else {\n      PLUFGIN = plugin\n      options = {}\n    }\n\n    const position = options.position ? options.position : (PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position)\n    const {POSITIONS} = Plugin\n    if (!options.root && typeof position === 'string' && position.indexOf('controls') > -1) {\n      return this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName)\n    }\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        options.root = this.rightBar\n        break;\n      case POSITIONS.ROOT_LEFT:\n        options.root = this.leftBar\n        break;\n      case POSITIONS.ROOT_TOP:\n        options.root = this.topBar\n        break;\n      default:\n        options.root = this.root\n        break;\n    }\n    return pluginsManager.register(this, PLUFGIN, options)\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className)\n  }\n\n  start (url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      return this.play()\n    } else {\n      return pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url || this.config.url;\n        }\n        return this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start().then(resolve => {\n        this.play()\n      })\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY)\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n        this.isPlaying = true\n      }).catch((e) => {\n        // 避免AUTOPLAY_PREVENTED先于playing和play触发\n        setTimeout(() => {\n          this.emit(Events.AUTOPLAY_PREVENTED)\n          this.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY)\n        }, 0)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.once(Events.CANPLAY, () => {\n      const playPromise = this.play()\n      if (playPromise && playPromise.catch) {\n        playPromise.catch(err => {\n          console.log(err)\n        })\n      }\n    })\n    this.currentTime = 0\n    this.play()\n    this.emit(Events.REPLAY)\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    if (this.config.fluid) {\n      this.root.style['padding-top'] = ''\n    }\n    this.isCssfullScreen = true\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, true)\n  }\n\n  exitCssFullscreen () {\n    if (this.config.fluid) {\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    this.isCssfullScreen = false\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, false)\n  }\n\n  onFocus (notAutoHide) {\n    this.isActive = true\n    let player = this\n    this.removeClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    if (notAutoHide) {\n      return;\n    }\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    this.isActive = false\n    if (!this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    // this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n    this.ended && this.removeClass(STATE_CLASS.ENDED)\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    const { NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING } = STATE_CLASS\n    const clsList = [NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING];\n    clsList.forEach((cls) => {\n      this.removeClass(cls)\n    })\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  seek (time) {\n    if (!this.video || isNaN(Number(time)) || time > this.duration) {\n      return\n    }\n    time = time < 0 ? 0 : time\n    this.currentTime = time\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.Util = util\nPlayer.Sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Events = Events\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Plugin from '../../plugin'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n}\n\nexport default Poster\n","import Plugin from '../../plugin'\nimport ReplaySvg from '../assets/replay.svg'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplaySvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.appendChild(this.icons.replay)\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Events.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.root.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","import Plugin from '../../plugin'\nimport './index.scss'\n\nconst {POSITIONS} = Plugin\n\nclass MiniScreenIcon extends Plugin {\n  static get pluginName () {\n    return 'miniscreenIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 10\n    }\n  }\n\n  afterCreate () {\n    this.getMini = this.getMini.bind(this)\n    this.exitMini = this.exitMini.bind(this)\n    this.bind(['click', 'touchend'], this.getMini)\n  }\n\n  getMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  exitMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.getMini)\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'miniscreen': {\n        jp: '日文text',\n        en: 'miniscreen',\n        zh: '小屏幕'\n      }\n    }\n  }\n\n  render () {\n    let text = this.text.miniscreen\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n      </xg-icon>`\n  }\n}\n\nexport default MiniScreenIcon\n","import Plugin from '../../plugin'\nimport PlayIcon from '../assets/play.svg'\nimport PauseIcon from '../assets/pause.svg'\nimport MiniScreenIcon from './miniScreenIcon'\nimport './index.scss'\n\nconst {Util, Events} = Plugin\n\nclass MiniScreen extends Plugin {\n  static get pluginName () {\n    return 'miniscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1, // 默认左下角\n      top: -1, // 默认左下角\n      isShowIcon: false, // 是否显示icon\n      isScrollSwitch: false, // 滚动自动切换自动切换\n      scrollTop: 0, // 触发滚动的高度\n      disableDrag: false // 禁用拖拽\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.isMini = false\n    const {config} = this\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width\n    }\n    this.coordinate = {\n      currentX: 0,\n      currentY: 0,\n      scrollY: window.scrollY || 0\n    }\n    this.lastStyle = null\n    this.isMoveing = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.mini === 'boolean') {\n      args.config.isShowIcon = args.player.config.mini\n    }\n  }\n\n  afterCreate () {\n    const bindFunKeys = ['onMousemove', 'onMousedown', 'onMouseup', 'onCancelClick', 'onCenterClick', 'onScroll']\n    bindFunKeys.map(key => {\n      this[key] = this[key].bind(this)\n    })\n    this.initIcons()\n    this.on(Events.PAUSE, () => {\n      this.setAttr('data-state', 'pause')\n    })\n    this.on(Events.PLAY, () => {\n      this.setAttr('data-state', 'play')\n    })\n  }\n\n  onPluginsReady () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini()\n          }\n        }\n      }\n      this.miniIcon = player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName)\n    }\n    this.bind('.mini-cancel-btn', 'click', this.onCancelClick)\n    this.bind('.play-icon', 'click', this.onCenterClick)\n    if (!this.config.disableDrag) {\n      this.bind('mousedown', this.onMousedown)\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener('scroll', this.onScroll)\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: {icon: PlayIcon, class: 'xg-icon-play'},\n      pause: {icon: PauseIcon, class: 'xg-icon-pause'}\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.play-icon', icons.play)\n    this.appendChild('.play-icon', icons.pause)\n  }\n\n  onCancelClick (e) {\n    this.exitMini()\n  }\n\n  onCenterClick (e) {\n    const {player} = this\n    player.paused ? player.play() : player.pause()\n  }\n\n  onScroll (e) {\n    if ((!window.scrollY && window.scrollY !== 0) || Math.abs(window.scrollY - this.coordinate.scrollY) < 50) {\n      return;\n    }\n    let scrollHeight = parseInt(Util.getCss(this.player.root, 'height'))\n    scrollHeight += this.config.scrollTop\n    this.coordinate.scrollY = window.scrollY\n    if (window.scrollY > scrollHeight + 5 && !this.isMini) {\n      this.getMini()\n    } else if (window.scrollY <= scrollHeight && this.isMini) {\n      this.exitMini()\n    }\n  }\n\n  onMousedown (e) {\n    if (e.target !== this.root || this.isMoveing) {\n      return;\n    }\n    this.isMoveing = true\n    this.coordinate.currentX = e.clientX\n    this.coordinate.currentY = e.clientY\n    this.bind('mouseup', this.onMouseup)\n    this.bind('mousemove', this.onMousemove)\n  }\n\n  onMouseup (e) {\n    if (e.target !== this.root || !this.isMoveing) {\n      return;\n    }\n    this.isMoveing = false\n    this.clientWidth = window.innerWidth\n    const target = this.config.target || this.player.root\n    this.pos.top = parseInt(Util.getCss(target, 'top'))\n    this.pos.left = parseInt(Util.getCss(target, 'left'))\n    this.unbind('mousemove', this.onMousemove)\n    this.unbind('mouseup', this.onMouseup)\n  }\n\n  onMousemove (e, callback) {\n    e = e || window.event\n    const target = this.config.target || this.player.root\n    const maxTop = window.innerHeight - parseInt(Util.getCss(target, 'height'))\n    const maxLeft = window.innerWidth - parseInt(Util.getCss(target, 'width'))\n    if (this.isMoveing) {\n      const nowX = e.clientX\n      const nowY = e.clientY\n      const disX = nowX - this.coordinate.currentX\n      const disY = nowY - this.coordinate.currentY\n      let top = parseInt(this.pos.top) + disY\n      let left = parseInt(this.pos.left) + disX\n      if (left < 0) {\n        left = 0;\n      } else if (left > maxLeft) {\n        left = maxLeft\n      }\n\n      if (top < 0) {\n        top = 0;\n      } else if (top > maxTop) {\n        top = maxTop\n      }\n      target.style.left = `${left}px`\n      target.style.top = `${top}px`\n      if (typeof callback === 'function') {\n        callback(left, top)\n      }\n\n      if (e.preventDefault) {\n        e.preventDefault()\n      }\n      return false\n    }\n  }\n\n  getMini () {\n    if (this.isMini) {\n      return\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    // this.draggie.enable()\n    this.lastStyle = {}\n    Util.addClass(player.root, 'xgplayer-mini')\n    Object.keys(this.pos).map(key => {\n      this.lastStyle[key] = target.style[key]\n      target.style[key] = `${this.pos[key]}px`\n    })\n    if (playerConfig.fluid) {\n      target.style['padding-top'] = ''\n    }\n    this.emit(Events.MINI_STATE_CHANGE, true)\n    player.isMini = this.isMini = true\n  }\n\n  exitMini () {\n    if (!this.isMini) {\n      return false\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    Util.removeClass(player.root, 'xgplayer-mini')\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map(key => {\n        target.style[key] = this.lastStyle[key]\n      })\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${playerConfig.height * 100 / playerConfig.width}%`\n    }\n    this.emit(Events.MINI_STATE_CHANGE, false)\n    this.isMini = player.isMini = false\n  }\n\n  destroy () {\n    this.unbind('mousedown', this.onMousedown)\n    window.removeEventListener('scroll', this.onScroll)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <div class=\"mask\"></div>\n      <xg-mini-header class=\"xgplayer-mini-header\">\n        <div>按住画面可移动小窗</div>\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">X</div>\n      <div class=\"play-icon\">\n      </div>\n      </xg-mini-layer>`\n  }\n}\n\nexport {\n  MiniScreen as default,\n  MiniScreenIcon\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      autoHide: true,\n      mode: ''\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n    if (!args.config.mode && Sniffer.device === 'mobile') {\n      args.config.mode = 'flex'\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.innerRoot = this.find('inner-controls')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini-controls') : Util.removeClass(this.root, 'mini-controls')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseleave', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    // console.log('controls mouseEnter')\n    clearTimeout(this.player.userTimer)\n  }\n\n  mouseOut () {\n    // console.log('controls mouseOut')\n    const {player} = this\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  show () {\n    this.root && (this.root.style.display = 'inline-block')\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    const defaultConfig = plugin.defaultConfig || {}\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        case POSITIONS.CONTROLS:\n          options.root = this.root;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    let className = this.config.mode === 'flex' ? 'flex-controls ' : ''\n    className += this.config.autoHide ? 'control_autohide' : ''\n    return `<xg-controls class=\"xgplayer-controls ${className}\" unselectable=\"on\" onselectstart=\"return false\">\n    <inner-controls class=\"inner-controls\">\n      <left-grid class=\"left-grid\">\n      </Left-grid>\n      <center class=\"center\"></center>\n      <right-grid class=\"right-grid\">\n      </right-grid>\n    </inner-controls>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","/**\n * 下一个按钮组件\n */\nimport Plugin from '../../plugin'\nimport Next from '../assets/playNext.svg'\n// import Next from '../assets/mPlayNext.svg';\n// console.log(MPlayNext)\nconst {POSITIONS, Sniffer} = Plugin\nexport default class PlayNextIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayNext'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.idx = -1;\n  }\n\n  afterCreate () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    this.appendChild('.xgplayer-icon', this.icons.playNext)\n    this.initEvents()\n  }\n\n  registerIcons () {\n    return {\n      playNext: Next\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'playNext': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      }\n    }\n  }\n\n  initEvents () {\n    this.playNext = this.playNext.bind(this);\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.playNext)\n    this.show()\n  }\n\n  playNext () {\n    const { player } = this;\n    if (this.idx + 1 < this.config.urlList.length) {\n      this.idx++;\n      player.video.pause();\n      player.currentTime = 0;\n      player.video.autoplay = true;\n      player.src = this.config.urlList[this.idx];\n      player.emit('playerNext', this.idx + 1);\n    } else {\n      player.emit('urlList last');\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.playNext)\n  }\n\n  render () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <div class=\"xg-tips\">${this.text.playNext}</div>\n     </xg-icon>\n    `\n  }\n}\n","import BasePlugin from '../../plugin/basePlugin';\nconst {Events, Util} = BasePlugin\nexport default class PCPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'pc'\n  }\n\n  afterCreate () {\n    const eventHandlers = ['onVideoClick', 'onVideoDblClick', 'onMouseEnter', 'onMouseLeave', 'onControlMouseEnter',\n      'onControlMouseLeave', 'onContextmenu']\n    eventHandlers.map(key => {\n      if (this[key]) {\n        this[key] = this[key].bind(this)\n      }\n    })\n    // this.onVideoClick = this.onVideoClick.bind(this)\n    // this.onVideoDblClick = this.onVideoDblClick.bind(this)\n    // this.onMouseEnter = this.onMouseEnter.bind(this)\n    // this.onMouseLeave = this.onMouseLeave.bind(this)\n    // this.onControlMouseEnter = this.onControlMouseEnter.bind(this)\n    // this.onControlMouseLeave = this.onControlMouseLeave.bind(this)\n    this.initEvents();\n    const {playerConfig} = this\n    if (playerConfig.autoplay) {\n      this.onEnter()\n    }\n  }\n\n  initEvents () {\n    const { player } = this;\n\n    player.video.addEventListener('click', this.onVideoClick, false)\n\n    player.video.addEventListener('dblclick', this.onVideoDblClick, false)\n    player.root.addEventListener('contextmenu', this.onContextmenu, false)\n    this.once(Events.CANPLAY, this.onEntered.bind(this));\n    this.once(Events.AUTOPLAY_PREVENTED, () => {\n      this.onAutoPlayPrevented()\n    })\n\n    player.root.addEventListener('mouseenter', this.onMouseEnter)\n\n    player.root.addEventListener('mouseleave', this.onMouseLeave)\n\n    // player.controls.addEventListener('mouseenter', this.onControlMouseEnter, false)\n\n    // player.controls.addEventListener('mouseleave', this.onControlMouseLeave, false)\n  }\n\n  onContextmenu (e) {\n    e = e || window.event\n    if (e.preventDefault) {\n      e.preventDefault()\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation()\n    } else {\n      e.returnValue = false // 解决IE8右键弹出\n      e.cancelBubble = true\n    }\n  }\n  onEnter () {\n    const { player } = this;\n    Util.addClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onEntered () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onAutoPlayPrevented () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n    this.once(Events.PLAY, () => {\n      Util.addClass(player.root, 'xgplayer-is-enter')\n      this.once(Events.TIME_UPDATE, () => {\n        Util.removeClass(player.root, 'xgplayer-is-enter')\n      })\n    })\n  }\n\n  onVideoClick (e) {\n    e.preventDefault()\n    // e.stopPropagation()\n    if (!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    const { player } = this\n    let clk = 0; let timer;\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (timer) {\n        clearTimeout(timer)\n      }\n      if (clk === 1) {\n        timer = setTimeout(function () {\n          if (Util.hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              player.play()\n              // let playPromise = player.play()\n              // if (playPromise !== undefined && playPromise) {\n              //   playPromise.catch(err => {})\n              // }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n\n  onVideoDblClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    if (!player.config.closeVideoDblclick) {\n      player.fullscreen ? player.exitFullscreen() : player.getFullscreen()\n    }\n  }\n\n  onMouseEnter () {\n    const { player } = this\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n\n  onMouseLeave () {\n    const { player } = this;\n    if (!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 1500)\n    }\n  }\n\n  onControlMouseEnter () {\n    const { player } = this;\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n\n  onControlMouseLeave () {\n    const { player } = this;\n    if (!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n\n  destroy () {\n    const { player } = this;\n    player.root.removeEventListener('mouseenter', this.onMouseEnter)\n    player.root.removeEventListener('mouseleave', this.onMouseLeave)\n    player.off('ready', this.onReady)\n  }\n}\n","import Plugin from '../../plugin';\n\nconst {Events, Util} = Plugin\n\nclass MobilePlugin extends Plugin {\n  static get pluginName () {\n    return 'mobile';\n  }\n\n  static get defaultConfig () {\n    return {\n      index: 0,\n      disableGesture: false, // 是否禁用手势\n      gestureX: true, // 是否启用水平手势\n      gestureY: true, // 是否启用垂直手势\n      updateGesture: () => {}, // 手势处理回调\n      gradient: true, // 是否启用阴影\n      isTouchingSeek: false, // 是否在touchMove的同时更新currentTime\n      miniMoveStep: 5, // 最小差异，用于move节流\n      scopeL: 0.4, // 左侧手势范围比例\n      scopeR: 0.4, // 右侧手势范围比例\n      darkness: true, // 是否启用右侧调暗功能\n      maxDarkness: 0.6 // 调暗最大暗度，即蒙层最大透明度\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.isTouchMove = false;\n    this.isMoving = false\n    this.pos = {\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      op: 0\n    }\n  }\n\n  afterCreate () {\n    this.config.disableGesture = !!this.playerConfig.disableGesture\n\n    this.xgMask = Util.createDom('xg-mask', '', {}, 'xgmask')\n    this.player.root.append(this.xgMask)\n\n    this.onTouchMove = this.onTouchMove.bind(this)\n    this.onTouchStart = this.onTouchStart.bind(this)\n    this.onTouchEnd = this.onTouchEnd.bind(this)\n    this.onClick = this.onClick.bind(this)\n    this.root.addEventListener('touchstart', this.onTouchStart)\n    this.root.addEventListener('click', this.onClick, false)\n  }\n\n  getTouche (touches) {\n    if (touches && touches.length > 0) {\n      return touches[touches.length - 1]\n    } else {\n      return null\n    }\n  }\n\n  onTouchStart (e) {\n    const {player, config} = this\n    // 直播或者duration没有获取到之前不做操作\n    if (!(this.player.duration !== Infinity && this.player.duration > 0) || this.isMoving || config.disableGesture) {\n      return;\n    }\n    this.isMoving = true\n    const touche = this.getTouche(e.touches)\n    if (touche) {\n      this.pos.time = player.currentTime\n      this.pos.volume = player.volume\n      this.pos.width = parseInt(Util.getCss(this.root, 'width'), 10)\n      this.pos.height = parseInt(Util.getCss(this.root, 'height'), 10) - 48\n      this.pos.scopeL = config.scopeL * this.pos.width\n      this.pos.scopeR = (1 - config.scopeR) * this.pos.width\n      this.root.addEventListener('touchmove', this.onTouchMove, false)\n      this.root.addEventListener('touchend', this.onTouchEnd, false)\n      this.player.emit(Events.PLAYER_FOCUS, true)\n    }\n  }\n\n  onTouchMove (e) {\n    const touche = this.getTouche(e.touches)\n    if (!touche) {\n      return\n    }\n    if (Math.abs(touche.pageX - this.pos.x) > this.config.miniMoveStep || Math.abs(touche.pageX - this.pos.x) > this.config.miniMoveStep) {\n      const {pos, config} = this\n      const x = parseInt(touche.pageX, 10)\n      const y = parseInt(touche.pageY, 10)\n      const diffx = x - this.pos.x\n      const diffy = y - this.pos.y\n      const tan = Math.abs(diffy) / Math.abs(diffx)\n      if (config.gestureY && tan > 1.73 && (x < pos.scopeL || x > pos.scopeR)) {\n        if (x < pos.scopeL && config.darkness) {\n          pos.op = 3\n          this.updateBrightness(diffy / this.pos.height)\n        } else {\n          pos.op = 2\n          this.updateVolume(diffy / this.pos.height)\n        }\n      } else if (config.gestureX && tan < 0.27) {\n        pos.op = 1\n        this.updateTime(diffx / pos.width)\n      }\n      pos.x = x\n      pos.y = y\n      if (config.updateGesture && typeof config.updateGesture === 'function') {\n        config.updateGesture({diffx: diffx, diffy: diffy, x: x, y: y}, pos)\n      }\n    }\n  }\n\n  onTouchEnd (e) {\n    const {root, player, pos} = this\n    root.removeEventListener('touchmove', this.onTouchMove, false)\n    root.removeEventListener('touchend', this.onTouchEnd, false)\n    player.emit(Events.PLAYER_FOCUS, false)\n    if (pos.op === 1) {\n      if (pos.time > player.duration) {\n        player.currentTime = player.duration\n      } else {\n        player.currentTime = pos.time < 0 ? 0 : pos.time\n      }\n      this.once(Events.CANPLAY, () => {\n        this.player.isSeeking = false\n      })\n    }\n    pos.op = 0\n    this.isMoving = false\n  }\n\n  updateTime (percent) {\n    const {player} = this\n    player.isSeeking = true\n    let time = percent * player.duration\n    time += this.pos.time\n    time = time < 0 ? 0 : (time > player.duration ? player.duration : time)\n    player.getPlugin('time') && player.getPlugin('time').updateTime(time)\n    player.getPlugin('progress') && player.getPlugin('progress').updatePercent(time / this.player.duration, true)\n    if (this.config.isTouchingSeek) {\n      player.currentTime = Number(time).toFixed(1)\n    }\n    this.pos.time = time\n  }\n\n  updateVolume (percent) {\n    let volume = this.pos.volume - percent\n    this.pos.volume = volume < 0.1 ? 0 : (volume > 1 ? 1 : volume)\n    this.player.volume = this.pos.volume\n    this.pos.volume > 0 && (this.player.muted = false)\n  }\n\n  updateBrightness (percent) {\n    let light = this.pos.light - (0.8 * percent)\n    light = light > this.config.maxDarkness ? this.config.maxDarkness : (light < 0 ? 0 : light)\n    if (this.xgMask) {\n      this.xgMask.style.backgroundColor = `rgba(0,0,0,${light})`\n    }\n    this.pos.light = light\n  }\n\n  onClick (e) {\n    e.preventDefault();\n    const util = Plugin.Util;\n    e.stopPropagation();\n    const {player, playerConfig} = this;\n\n    if (!playerConfig.closeVideoTouch && !player.isTouchMove) {\n      if (util.hasClass(player.root, 'xgplayer-nostart')) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          let playPromise = player.play();\n          if (playPromise !== undefined && playPromise) {\n            // playPromise.catch(err => {});\n          }\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }\n\n  render () {\n    const className = this.config.gradient ? 'gradient' : ''\n    return `\n     <xg-trigger class=\"trigger ${className}\">\n     <!--<div class=\"bar\">\n        <span class=\"\"></span>\n     </div>\n     <div class=\"timenote\">\n        <span class=\"cur\">00:00</span>\n        <span>/</span>\n        <span class=\"dur\">00:00</span>\n        <div class=\"bar timebar\">\n          <span class=\"\"></span>\n        </class>\n     </div>-->\n     </xg-trigger>\n    `\n  }\n}\n\nexport default MobilePlugin;\n","import { BasePlugin } from '../../plugin';\n\nclass PlaceHolderPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'placeholder'\n  }\n\n  render () {\n    return `<xg-placeholder class=\"xgplayer-placeholder\">\n    </xg-placeholder>`\n  }\n}\nexport default PlaceHolderPlugin\n","import BasePlugin from '../../plugin/basePlugin';\n\nexport default class TextTrackPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'textTrack'\n  }\n\n  afterCreate () {\n    const { config, player } = this;\n    const options = config;\n    let textTrackDom = ''\n    if (options.textTrack && Array.isArray(options.textTrack) && (navigator.userAgent.indexOf('Chrome') > -1 || navigator.userAgent.indexOf('Firefox') > -1)) {\n      options.textTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    if (player.video) {\n      player.video.insertAdjacentHTML('afterbegin', textTrackDom);\n    }\n  }\n}\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as Events from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = Events\nexport {\n  BasePlugin as default,\n  Util,\n  Sniffer,\n  Errors,\n  Events\n}\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n\n      let prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins)\n      } else {\n        prevTask = Promise.resolve()\n      }\n\n      return prevTask.then(() => {\n        const cgid = player._pluginInfoId\n        const plugins = this.pluginGroup[cgid]._plugins\n        const pluginsRet = []\n        for (const item of Object.keys(plugins)) {\n          if (plugins[item] && plugins[item].beforePlayerInit) {\n            try {\n              let ret = plugins[item].beforePlayerInit()\n              pluginsRet.push(retPromise(ret))\n            } catch (e) {\n              pluginsRet.push(retPromise(null))\n              throw e\n            }\n          }\n        }\n\n        Promise.all([...pluginsRet]).then(() => {\n          resolve()\n        }).catch((e) => {\n          console.error(e)\n          resolve()\n        })\n      })\n    })\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","import Player from '../../player'\nimport Plugin from '../../Plugin'\n\nexport default class ErrorPlugin extends Plugin {\n  static get pluginName () {\n    return 'error'\n  }\n\n  afterCreate () {\n    this.bind('.xgplayer-error-refresh', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n    this.on(Player.Events.CANPLAY, this.handleCanPlay.bind(this))\n    this.on(Player.Events.ERROR, this.handleError.bind(this))\n  }\n\n  handleCanPlay () {\n    Plugin.Util.removeClass(this.player.root, 'xgplayer-is-error')\n  }\n\n  handleError () {\n    const { player } = this;\n    const textDOM = this.find('.xgplayer-error-text');\n    if (player.error) {\n      textDOM.innerHTML = player.error\n    } else {\n      if (player.config.lang && player.config.lang === 'zh-cn') {\n        textDOM.innerHTML = player.lang.ERROR\n      } else {\n        this.root.innerHTML = `${player.lang.ERROR}，please try to <span class=\"xgplayer-error-refresh\">refresh</span>`\n      }\n    }\n  }\n  render () {\n    return `<xg-error class=\"xgplayer-error\">\n      <em class=\"xgplayer-error-text\"></em>请<span class=\"xgplayer-error-refresh\">刷新</span>试试\n    </xg-error>`\n  }\n}\n","import Plugin from '../../plugin';\n\nconst {Events, Util} = Plugin\nclass Enter extends Plugin {\n  static get pluginName () {\n    return 'enter';\n  }\n\n  static get defaultConfig () {\n    return {\n      innerHtml: '',\n      logo: ''\n    }\n  }\n\n  afterPlayerInit () {\n    const {player, playerConfig} = this\n    if (!playerConfig.autoplay || !playerConfig.videoInit) {\n      this.once(Events.CANPLAY, () => {\n        this.isCanPlay = true\n      })\n      this.on(Events.PLAY, () => {\n        if (!this.isCanPlay) {\n          player.addClass('xgplayer-is-enter')\n        }\n      })\n    }\n  }\n\n  render () {\n    const {innerHtml} = this.config\n    const root = Util.createDom('xg-enter', '', {}, 'xgplayer-enter')\n\n    if (innerHtml && innerHtml instanceof window.HTMLElement) {\n      root.appendChild(innerHtml)\n    } else if (innerHtml && typeof innerHtml === 'string') {\n      root.innerHTML = innerHtml\n    } else {\n      let barStr = '';\n      for (let i = 1; i <= 12; i++) {\n        barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n      }\n      root.innerHTML = `<div class=\"xgplayer-enter-spinner\">${barStr}</div>`\n    }\n    return root\n  }\n}\n\nexport default Enter;\n","import BasePlugin from '../../plugin/basePlugin'\n\nclass Keyboard extends BasePlugin {\n  static get pluginName () {\n    return 'Keyboard'\n  }\n\n  static get defaultConfig () {\n    return {\n      seekStep: 10,\n      keyCodeMap: {},\n      disable: false\n    }\n  }\n\n  mergekeyCodeMap () {\n    const extendkeyCodeMap = this.config.keyCodeMap\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map(key => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key]\n        } else {\n          ['keyCode', 'action', 'disable', 'isBodyTarget'].map(key1 => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1])\n          })\n        }\n      })\n    }\n  }\n\n  afterCreate () {\n    this.config.disable = !this.playerConfig.keyShortcut\n    this.seekStep = 10\n    this.keyCodeMap = {\n      'space': {\n        keyCode: 32,\n        action: 'playPause',\n        disable: false,\n        noBodyTarget: false // 默认在body上触发\n      },\n      'up': {\n        keyCode: 38,\n        action: 'upVolume',\n        disable: false,\n        noBodyTarget: true // 默认不在body上触发\n      },\n      'down': {\n        keyCode: 40,\n        action: 'downVolume',\n        disable: false,\n        noBodyTarget: true\n      },\n      'left': {\n        keyCode: 37,\n        action: 'seekBack',\n        disable: false\n      },\n      'right': {\n        keyCode: 39,\n        action: 'seek',\n        disable: false\n      },\n      'esc': {\n        keyCode: 27,\n        action: 'exitFullscreen',\n        disable: false\n      }\n    }\n    this.mergekeyCodeMap()\n    this.onKeydown = this.onKeydown.bind(this)\n    this.onBodyKeyDown = this.onBodyKeyDown.bind(this)\n    this.player.root.addEventListener('keydown', this.onKeydown)\n    document.addEventListener('keydown', this.onBodyKeyDown)\n  }\n\n  afterPlayerInit () {\n    const seekStep = typeof this.config.seekStep === 'function' ? this.config.seekStep(this.player) : this.config.seekStep\n    if (!seekStep || typeof seekStep !== 'number') {\n      this.seekStep = seekStep\n    }\n  }\n\n  checkCode (code, isBodyTarget) {\n    let flag = false\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode) {\n        flag = !isBodyTarget || (isBodyTarget && !this.keyCodeMap[key].noBodyTarget)\n      }\n    })\n    return flag\n  }\n\n  downVolume () {\n    const {player} = this\n    if (player.volume - 0.1 >= 0) {\n      player.volume = parseFloat((player.volume - 0.1).toFixed(1))\n    } else {\n      player.volume = 0\n    }\n  }\n\n  upVolume () {\n    const {player} = this\n    if (player.volume + 0.1 <= 1) {\n      player.volume = parseFloat((player.volume + 0.1).toFixed(1))\n    } else {\n      player.volume = 1\n    }\n  }\n\n  seek () {\n    const {player} = this\n    if (player.currentTime + this.seekStep <= player.duration) {\n      player.currentTime += this.seekStep\n    } else {\n      player.currentTime = player.duration - 1\n    }\n  }\n\n  seekBack () {\n    const {player} = this\n    if (player.currentTime - this.seekStep >= 0) {\n      player.currentTime -= this.seekStep\n    } else {\n      player.currentTime = 0\n    }\n  }\n\n  playPause () {\n    const {player} = this\n    if (player.paused) {\n      // eslint-disable-next-line handle-callback-err\n      player.play()\n    } else {\n      player.pause()\n    }\n  }\n\n  exitFullscreen () {\n    const {player} = this\n    if (player.fullscreen) {\n      player.exitFullscreen()\n    }\n    if (player.isCssfullScreen) {\n      player.exitCssFullscreen()\n    }\n  }\n\n  // TODO: 多播放器实例存在的情况下，body下的快捷键会触发所有实例的逻辑，需改进\n  onBodyKeyDown (event) {\n    if (this.config.disable) {\n      return\n    }\n    let e = event || window.event\n    const keyCode = e.keyCode\n    if (e.target === document.body && this.checkCode(keyCode, true)) {\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n      this.handleKeyCode(keyCode)\n      return false\n    }\n    return false\n  }\n\n  onKeydown (event) {\n    if (this.config.disable) {\n      return\n    }\n    const player = this.player\n    let e = event || window.event\n    if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n      player.emit('focus')\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n    } else {\n      return true\n    }\n    this.handleKeyCode(e.keyCode)\n  }\n\n  handleKeyCode (keyCode) {\n    const {player} = this\n    if (keyCode === 40 || keyCode === 38) {\n      if (player.controls) {\n        // let volumeSlider = player.controls.querySelector('.xgplayer-slider')\n        // if (volumeSlider) {\n        //   if (Util.hasClass(volumeSlider, 'xgplayer-none')) {\n        //     Util.removeClass(volumeSlider, 'xgplayer-none')\n        //   }\n        //   if (player.sliderTimer) {\n        //     clearTimeout(player.sliderTimer)\n        //   }\n        //   player.sliderTimer = setTimeout(function () {\n        //     Util.addClass(volumeSlider, 'xgplayer-none')\n        //   }, player.config.inactive)\n        // }\n      }\n    }\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key].keyCode === keyCode && !this.keyCodeMap[key].disable) {\n        if (typeof this.keyCodeMap[key].action === 'function') {\n          this.keyCodeMap[key].action()\n        } else if (typeof this.keyCodeMap[key].action === 'string') {\n          const funKey = this.keyCodeMap[key].action\n          if (typeof this[funKey] === 'function') {\n            this[funKey]()\n          }\n        }\n      }\n    })\n  }\n\n  destroy () {\n    this.player.root.removeEventListener('keydown', this.onKeydown)\n    document.removeEventListener('keydown', this.onBodyKeyDown)\n  }\n}\n\nexport default Keyboard\n","import loadingIcon from '../assets/loading.svg';\n\nimport Plugin from '../../plugin/plugin';\n\nclass Loading extends Plugin {\n  static get pluginName () {\n    return 'loading'\n  }\n\n  registerIcons () {\n    return {\n      'loadingIcon': loadingIcon\n    }\n  }\n\n  afterCreate () {\n    console.log('this.icons.loadingIcon', this.icons.loadingIcon)\n    this.appendChild(this.icons.loadingIcon)\n  }\n\n  render () {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n    </xg-loading>`\n  }\n}\n\nexport default Loading;\n","import Plugin from '../../plugin'\nconst defaultDot = {\n  time: 10, // 出现的时间点\n  text: '', // hover显示的文案\n  duration: 1, // 显示时长\n  style: {}, // 指定样式\n  color: '#fff' // 颜色\n}\n\nconst {Util, Events} = Plugin\nexport default class ProgressDot extends Plugin {\n  static get pluginName () {\n    return 'ProgressDots'\n  }\n\n  static get defaultConfig () {\n    return {\n      dots: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.dotsList = {}\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      const {dots} = this.config\n      if (!dots || !Array.isArray(dots)) {\n        return\n      }\n      dots.map(dot => {\n        this.createDotDom(dot)\n      })\n      this.initEvents()\n    })\n  }\n\n  initEvents () {\n    // this.bind('.xgplayer-progress-dot', 'mouseenter', (e) => {\n    //   console.log('mouseenter', e.target)\n    // })\n    // this.bind('.xgplayer-progress-dot', 'mouseleave', (e) => {\n    //   console.log('mouseleave', e.target)\n    // })\n  }\n\n  addDot (time, text, duration) {\n    let newDots = null\n    if (arguments.length === 1 && typeof time === 'object') {\n      newDots = arguments[0]\n    } else {\n      newDots = {\n        time: time,\n        text: text,\n        duration: duration\n      }\n    }\n    newDots = Util.deepCopy(arguments[0], defaultDot)\n    this.createDotDom(newDots)\n  }\n\n  removeDot (time) {\n    const {player} = this\n    if (time >= 0 && time <= player.duration && this.dotsList[time]) {\n      let dot = this.dotsList[time]\n      dot.parentNode.removeChild(dot)\n      dot = null\n      this.dotsList[time] = null\n    }\n  }\n\n  removeAllProgressDots () {\n    Object.keys(this.dotsList).forEach((key) => {\n      if (this.dotsList[key]) {\n        let dot = this.dotsList[key]\n        dot.parentNode.removeChild(dot)\n        dot = null\n        this.dotsList[key] = null\n      }\n    })\n  }\n\n  createDotDom (dot) {\n    const {player} = this\n    const dom = Util.createDom('xg-progress-dot', `${dot.text ? `<span class=\"xgplayer-progress-tip\">${dot.text}</span>` : ''}`, {}, 'xgplayer-progress-dot')\n    const style = dot.style || {}\n    style.left = (dot.time / player.duration) * 100 + '%'\n    style.width = (Math.min(dot.duration, player.duration - dot.time) / player.duration) * 100 + '%'\n    Object.keys(style).map(item => {\n      dom.style[item] = style[item]\n    })\n    this.dotsList[dot.time] = dom\n    this.root.appendChild(dom)\n  }\n\n  render () {\n    return '<xg-dots></xg-dots>'\n  }\n\n  destroy () {\n\n  }\n}\n","import Plugin from '../../plugin'\nimport ProgressDots from './progressdots'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nconst defaultThumbnailConfig = {\n  isShow: false,\n  urls: [],\n  pic_num: 0,\n  row: 0,\n  col: 0,\n  height: 160,\n  width: 90,\n  scale: 1\n}\n\n/**\n * 进度条组件\n */\nclass Progress extends Plugin {\n  static get pluginName () {\n    return 'Progress'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      progressDot: [],\n      thumbnail: null,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.useable = false\n    this.isProgressMoving = false\n\n    if (Sniffer.device !== 'mobile' && this.playerConfig.thumbnail) {\n      this.config.thumbnail = this.playerConfig.thumbnail\n    }\n  }\n\n  changeState (useable = true) {\n    this.useable = useable\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.progress === 'boolean') {\n      args.config.disable = !args.player.config.progress\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.playedBar = this.find('.xgplayer-progress-played')\n    this.cachedBar = this.find('.xgplayer-progress-cache')\n    this.pointTip = this.find('.xgplayer-progress-point')\n    this.progressBtn = this.find('.xgplayer-progress-btn')\n    this.thumbnailDom = this.find('xg-thumbnail')\n    this.initThumbnail()\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on(Events.SEEKING, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on([Events.BUFFER_CHANGE, Events.ENDED], () => {\n      this.onCacheUpdate()\n    })\n    this.bindDomEvents()\n  }\n\n  children () {\n    return {\n      ProgressDots: {\n        plugin: ProgressDots,\n        options: {\n          root: this.find('xg-outer'),\n          dots: this.playerConfig.progressDot || this.config.progressDot\n        }\n      }\n    }\n  }\n\n  initThumbnail () {\n    if (this.config.thumbnail) {\n      const {thumbnail} = this.config\n      this.thumbnailConfig = {}\n      Object.keys(defaultThumbnailConfig).map(key => {\n        if (typeof thumbnail[key] === 'undefined') {\n          this.thumbnailConfig[key] = defaultThumbnailConfig[key]\n        } else {\n          this.thumbnailConfig[key] = thumbnail[key]\n        }\n      })\n      const {width, height, scale} = this.thumbnailConfig\n      this.thumbnailDom.style.width = `${width * scale}px`\n      this.thumbnailDom.style.height = `${height * scale}px`\n    }\n  }\n\n  bindDomEvents () {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseMove = this.mouseMove.bind(this)\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this);\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.addEventListener(event, this.mouseDown);\n    })\n    this.root.addEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  mouseDown (e) {\n    const {player} = this\n    if (player.isMini || player.config.closeMoveSeek) {\n      return\n    }\n    const self = this\n    e.stopPropagation()\n    Util.event(e)\n    // this.pointTip为tip信息 不做seek操作\n    if (e.target === this.pointTip || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return true\n    }\n    this.isProgressMoving = true\n    Util.addClass(self.progressBtn, 'btn-move')\n    self.computeWidth(e)\n\n    let move = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      this.isProgressMoving = true\n      self.computeWidth(e)\n    }\n\n    let up = function (e) {\n      Util.removeClass(self.progressBtn, 'btn-move')\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      if (Sniffer.device === 'mobile') {\n        self.root.removeEventListener('touchmove', move)\n        self.root.removeEventListener('touchend', up)\n      } else {\n        self.root.removeEventListener('mousemove', move)\n        self.root.removeEventListener('mouseup', up)\n      }\n      self.isProgressMoving = false\n    }\n\n    if (Sniffer.device === 'mobile') {\n      self.root.addEventListener('touchmove', move, false)\n      self.root.addEventListener('touchend', up, false)\n    } else {\n      self.root.addEventListener('mousemove', move)\n      self.root.addEventListener('mouseup', up)\n    }\n    return true\n  }\n\n  mouseEnter (e) {\n    const {player} = this\n    if (player.isMini || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return\n    }\n    this.root.addEventListener('mousemove', this.mouseMove, false)\n    this.root.addEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseLeave (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    this.pointTip.style.display = 'none'\n    this.thumbnailDom.style.display = 'none'\n    this.root.removeEventListener('mousemove', this.mouseMove, false)\n    this.root.removeEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseMove (e) {\n    const {player} = this\n    let left = this.root.getBoundingClientRect().left\n    let width = this.root.getBoundingClientRect().width\n    let now = (e.clientX - left) / width * player.duration\n    now = now < 0 ? 0 : now\n    this.pointTip.textContent = Util.format(now)\n    let pointWidth = this.pointTip.getBoundingClientRect().width\n    let pleft = e.clientX - left - pointWidth / 2\n    pleft = pleft > 0 ? pleft : 0\n    pleft = pleft > width - pointWidth ? width - pointWidth : pleft\n    this.pointTip.style.left = `${pleft}px`\n    if (e.target && e.target.className === 'xgplayer-progress-dot') {\n      this.pointTip.style.display = 'none'\n    } else {\n      this.pointTip.style.display = 'block'\n    }\n    this.updateThumbnailPosition(e, now, width)\n  }\n\n  updateThumbnailPosition (e, now, containerWidth) {\n    if (!this.config.thumbnail) {\n      return;\n    }\n    const thumbnail = this.thumbnailConfig\n    if (!thumbnail || !thumbnail.pic_num === 0 || thumbnail.urls.length === 0) {\n      return\n    }\n    this.interval = this.player.duration / thumbnail.pic_num\n    let index = Math.floor(now / this.interval)\n    const {urls, row, col, height, width, scale} = thumbnail\n    const indexInPage = index + 1 - (col * row) * (Math.ceil((index + 1) / (col * row)) - 1)\n    const rowIndex = Math.ceil(indexInPage / row) - 1\n    const colIndex = indexInPage - rowIndex * row - 1\n    let left = e.clientX - width * scale / 2\n    left = left > 0 ? left : 0\n    left = left < containerWidth - width * scale ? left : containerWidth - width * scale\n    const style = {\n      backgroundImage: `url(${urls[Math.ceil((index + 1) / (col * row)) - 1]})`,\n      'background-position': `-${colIndex * width}px -${rowIndex * height}px`,\n      left: `${left}px`,\n      top: `${-10 - height * scale}px`,\n      display: 'block'\n    }\n    Object.keys(style).map((key) => {\n      this.thumbnailDom.style[key] = style[key]\n    })\n  }\n\n  computeWidth (e) {\n    const containerWidth = this.root.getBoundingClientRect().width\n    let {left} = this.playedBar.getBoundingClientRect()\n    let w = e.clientX - left\n    if (w > containerWidth) {\n      w = containerWidth\n    }\n    this.updatePercent(w / containerWidth)\n  }\n\n  updateTime (time) {\n    const {player} = this\n    let timeIcon = player.plugins.time\n    if (time) {\n      timeIcon.updateTime(time)\n    }\n  }\n\n  updatePercent (percent, notSeek) {\n    if (this.config.disable) {\n      return;\n    }\n    const {player} = this\n    let now = percent * player.duration\n    this.playedBar.style.width = `${percent * 100}%`\n    if (notSeek) {\n      return\n    }\n    if (player.videoConfig.mediaType === 'video' && !player.dash && !player.config.closeMoveSeek) {\n      player.seek(Number(now).toFixed(1))\n    } else {\n      this.updateTime(now)\n    }\n  }\n\n  compute (e) {\n    const containerLeft = this.root.getBoundingClientRect().left\n    const containerWidth = this.root.getBoundingClientRect().width\n    const pointWidth = this.pointTip.getBoundingClientRect().width\n    let left = e.clientX - containerLeft - pointWidth / 2\n    left = left > 0 ? left : 0\n    left = left > containerWidth - pointWidth ? containerWidth - pointWidth : left\n    this.pointTip.style.left = `${left}px`\n  }\n\n  onTimeupdate () {\n    const {player} = this\n    if (player.isSeeking || this.isProgressMoving) {\n      return;\n    }\n    if (player.videoConfig.mediaType !== 'audio' || !player.dash) {\n      this.playedBar.style.width = `${player.currentTime * 100 / player.duration}%`\n    }\n  }\n\n  onCacheUpdate () {\n    const {player} = this\n    let buffered = player.buffered\n    if (buffered && buffered.length > 0) {\n      let end = buffered.end(buffered.length - 1)\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        if (player.currentTime >= buffered.start(i) && player.currentTime <= buffered.end(i)) {\n          end = buffered.end(i)\n          for (let j = i + 1; j < buffered.length; j++) {\n            if (buffered.start(j) - buffered.end(j - 1) >= 2) {\n              end = buffered.end(j - 1)\n              break\n            }\n          }\n          break\n        }\n      }\n      this.cachedBar.style.width = `${end / player.duration * 100}%`\n    }\n  }\n\n  destroy () {\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.removeEventListener(event, this.mouseDown);\n    })\n    this.root.removeEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-progress class=\"xgplayer-progress\">\n        <xg-outer class=\"xgplayer-progress-outer\">\n          <xg-cache class=\"xgplayer-progress-cache\" style=\"width:0\">\n          </xg-cache>\n          <xg-played class=\"xgplayer-progress-played\" style=\"width:0\">\n            <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n            <xg-point class=\"xgplayer-progress-point xg-tips\">00:00</xg-point>\n            <xg-thumbnail class=\"xgplayer-progress-thumbnail xg-tips\"></xg-thumbnail>\n          </xg-played>\n        </xg-outer>\n      </xg-progress>\n    `\n  }\n}\n\nexport default Progress\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst {Events, POSITIONS, Sniffer} = Plugin\n\nclass Play extends Plugin {\n  static get pluginName () {\n    return 'Play'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    const { player, config } = this\n    if (config.disable) {\n      return\n    }\n    this.initIcons()\n    this.btnClick = this.btnClick.bind(this)\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.btnClick)\n\n    this.on(Events.PAUSE, () => {\n      this.animate(player.paused)\n    })\n    this.on(Events.PLAY, () => {\n      this.animate(player.paused)\n    })\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: {icon: PlaySvg, class: 'xg-icon-play'},\n      pause: {icon: PauseSvg, class: 'xg-icon-pause'}\n    }\n  }\n\n  btnClick (e) {\n    const {player} = this\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.xgplayer-icon', icons.play)\n    this.appendChild('.xgplayer-icon', icons.pause)\n  }\n\n  animate (paused) {\n    if (paused) {\n      this.setAttr('data-state', 'pause')\n      this.find('.xg-tips').innerHTML = this.text.play\n    } else {\n      this.setAttr('data-state', 'play')\n      this.find('.xg-tips').innerHTML = this.text.pause\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.btnClick)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    <div class=\"xg-tips\">${this.player.paused ? this.text.play : this.text.pause}</div>\n    </xg-icon>`\n  }\n}\nexport default Play\n","import Plugin from '../../plugin'\nimport FullScreenSvg from '../assets/requestFull.svg'\nimport ExitFullScreenSvg from '../assets/exitFull.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class Fullscreen extends Plugin {\n  static get pluginName () {\n    return 'fullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 0,\n      useCssFullscreen: false,\n      switchCallback: null,\n      target: null\n    }\n  }\n\n  afterCreate () {\n    this.isFullScreen = this.player.isFullScreen\n    this.initIcons()\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['click', 'touchend'], this.btnClick)\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      this.find('.xg-tips').innerHTML = isFullScreen ? this.text.exitFullscreen : this.text.fullscreen\n      this.animate(isFullScreen)\n    })\n  }\n\n  registerLangauageTexts () {\n    return {\n      fullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Fullscreen',\n        zh: '进入全屏'\n      },\n      exitFullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Exit fullscreen',\n        zh: '退出全屏'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      fullscreen: {icon: FullScreenSvg, class: 'xg-get-fullscreen'},\n      exitFullscreen: {icon: ExitFullScreenSvg, class: 'xg-exit-fullscreen'}\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.xgplayer-icon', icons.fullscreen)\n    this.appendChild('.xgplayer-icon', icons.exitFullscreen)\n  }\n\n  btnClick (e) {\n    const {player, config} = this;\n    let useCssFullscreen = false\n    if (config.useCssFullscreen === true || (typeof config.useCssFullscreen === 'function' && config.useCssFullscreen())) {\n      useCssFullscreen = true;\n    }\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.getCssFullscreen()\n        player.fullscreen = true\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        player.exitCssFullscreen()\n        player.fullscreen = false\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n      this.animate(player.fullscreen)\n    } else {\n      if (config.switchCallback && typeof config.switchCallback === 'function') {\n        config.switchFullScreen(this.isFullScreen)\n        this.isFullScreen = !this.isFullScreen\n        return\n      }\n      if (player.fullscreen) {\n        player.exitFullscreen(config.target)\n      } else {\n        player.getFullscreen(config.target)\n      }\n    }\n  }\n\n  animate (isFullScreen) {\n    isFullScreen ? this.setAttr('data-state', 'full') : this.setAttr('data-state', 'normal')\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    </div>\n    <div class=\"xg-tips\">${this.player.isFullScreen ? this.text.exitFullscreen : this.text.fullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Util, Events, POSITIONS, Sniffer } = Plugin\n\nclass Time extends Plugin {\n  static get pluginName () {\n    return 'time'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false,\n      mode: 'pc'\n    }\n  }\n\n  afterCreate () {\n    this.mode = Sniffer.device === 'mobile' ? 'mobile' : 'pc'\n    if (this.config.disable) {\n      return\n    }\n    if (this.mode === 'mobile') {\n      this.createCenterTime()\n      this.hide()\n    }\n    this.durationDom = this.find('.time-duration')\n    this.timeDom = this.find('.time-current')\n    this.on(Events.DURATION_CHANGE, () => {\n      this.onTimeUpdate()\n    })\n    this.on(Events.TIME_UPDATE, () => {\n      !this.player.isSeeking && this.onTimeUpdate()\n    })\n  }\n\n  show () {\n    if (this.mode === 'mobile') {\n      return\n    }\n    super.show()\n  }\n\n  onTimeUpdate () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    const current = player.currentTime\n    if (this.mode === 'mobile') {\n      this.centerCurDom.innerHTML = Util.format(current)\n      if (player.duration !== Infinity) {\n        this.centerDurDom.innerHTML = Util.format(player.duration)\n      }\n    } else {\n      this.timeDom.innerHTML = Util.format(current)\n      if (player.duration !== Infinity) {\n        this.durationDom.innerHTML = Util.format(player.duration)\n      }\n    }\n  }\n\n  createCenterTime () {\n    const {player} = this\n    if (!player.controls || !player.controls.center) {\n      return\n    }\n    const center = player.controls.center\n    this.centerCurDom = Util.createDom('xg-icon', '00:00', {style: 'margin-left:0px;margin-right:10px;'}, 'xgplayer-time')\n    this.centerDurDom = Util.createDom('xg-icon', '00:00', {}, 'xgplayer-time')\n    center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom)\n    center.appendChild(this.centerDurDom)\n  }\n\n  afterPlayerInit () {\n    const {player, config} = this\n    if (player.duration === Infinity || this.playerConfig.isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n    }\n    if (config.hide) {\n      this.hide()\n      return\n    }\n    this.show();\n  }\n\n  changeLiveState (isLive) {\n    if (isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n      Util.show(this.find('.time-separator'))\n      Util.show(this.durationDom)\n      Util.show(this.timeDom)\n    }\n  }\n\n  updateTime (time) {\n    const { player } = this\n    if ((!time && time !== 0) || time > player.duration) {\n      return\n    }\n    if (this.mode === 'mobile') {\n      this.centerCurDom.innerHTML = Util.format(time)\n      return\n    }\n    this.timeDom.innerHTML = Util.format(time)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-time\" style=\"display:none\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">直播</span>\n    </xg-icon>`\n  }\n}\nexport default Time\n","import Plugin from '../../plugin'\nimport volumeLargeSvg from '../assets/volumeLarge.svg'\nimport volumeSmallSvg from '../assets/volumeSmall.svg'\nimport volumeMutedSvg from '../assets/volumeMuted.svg'\n\nconst {Util, Events, POSITIONS} = Plugin\n\nclass Volume extends Plugin {\n  static get pluginName () {\n    return 'Volume'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  registerIcons () {\n    return {\n      volumeSmall: {icon: volumeSmallSvg, class: 'xg-volume-small'},\n      volumeLarge: {icon: volumeLargeSvg, class: 'xg-volume'},\n      volumeMuted: {icon: volumeMutedSvg, class: 'xg-volume-mute'}\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n\n    this.initIcons()\n\n    this.changeMuted = this.changeMuted.bind(this)\n    this.onBarMousedown = this.onBarMousedown.bind(this)\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onMouseleave = this.onMouseleave.bind(this)\n\n    this.bind('mouseenter', this.onMouseenter)\n\n    this.bind(['blur', 'mouseleave'], this.onMouseleave)\n\n    this.bind('.xgplayer-bar', 'mousedown', this.onBarMousedown)\n\n    this.bind('.xgplayer-icon', ['click', 'touched'], this.changeMuted)\n\n    this.on(Events.VOLUME_CHANGE, this.onVolumeChange.bind(this))\n  }\n\n  onBarMousedown (e) {\n    const {player} = this\n    const drag = this.find('.xgplayer-drag')\n    const slider = this.find('.xgplayer-slider')\n    const bar = this.find('.xgplayer-bar')\n    slider.focus()\n    Util.event(e)\n\n    let barRect = bar.getBoundingClientRect()\n    let pos = {x: e.clientX, y: e.clientY}\n    let height = drag.getBoundingClientRect().height\n    this.isMoveing = false\n    let onMove = (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      this.isMoveing = true\n      let w = height - e.clientY + pos.y\n      if (w > barRect.height) {\n        return\n      }\n      let now = w / barRect.height\n      drag.style.height = `${w}px`\n      player.volume = Math.max(Math.min(now, 1), 0)\n      player.muted = false\n    }\n\n    let onUp = (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', onMove)\n      window.removeEventListener('touchmove', onMove)\n      window.removeEventListener('mouseup', onUp)\n      window.removeEventListener('touchend', onUp)\n\n      if (!this.isMoveing) {\n        let w = barRect.height - (e.clientY - barRect.top)\n        let now = w / barRect.height\n        drag.style.height = `${w}px`\n        player.volume = Math.max(Math.min(now, 1), 0)\n        player.muted = false\n      }\n      this.isMoveing = false\n    }\n    window.addEventListener('mousemove', onMove)\n    window.addEventListener('touchmove', onMove)\n    window.addEventListener('mouseup', onUp)\n    window.addEventListener('touchend', onUp)\n    return false\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.addClass(this.root, 'slide-show')\n  }\n\n  onMouseleave (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.removeClass(this.root, 'slide-show')\n  }\n\n  changeMuted () {\n    const {player} = this\n    player.muted = !player.muted\n  }\n\n  onVolumeChange () {\n    const {muted, volume} = this.player\n    if (!this.isMoveing) {\n      this.find('.xgplayer-drag').style.height = muted || volume === 0 ? `0px` : `${volume * 100}%`\n    }\n    this.animate(muted, volume)\n  }\n\n  animate (muted, volume) {\n    if (muted || volume === 0) {\n      this.setAttr('data-state', 'mute')\n    } else if (volume < 0.5 && this.icons.volumeSmall) {\n      this.setAttr('data-state', 'small')\n    } else {\n      this.setAttr('data-state', 'normal')\n    }\n  }\n\n  initIcons () {\n    const {icons} = this\n    this.appendChild('.xgplayer-icon', icons.volumeSmall)\n    this.appendChild('.xgplayer-icon', icons.volumeLarge)\n    this.appendChild('.xgplayer-icon', icons.volumeMuted)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    const {volume} = this.player\n    return `\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        <div class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>`\n  }\n}\nexport default Volume\n","import Plugin from '../../plugin'\nimport RotateSvg from '../assets/rotate.svg'\n\nconst {POSITIONS} = Plugin\n\nexport default class Rotate extends Plugin {\n  static get pluginName () {\n    return 'rotate'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      innerRotate: false, // true为只有画面旋转，false为整个播放器旋转\n      clockwise: false,\n      rotateDeg: 0, // 初始旋转角度\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.rotateDeg = this.config.rotateDeg || 0\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.rotate === 'boolean') {\n      args.config.disable = !args.player.config.rotate\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild('.xgplayer-icon', this.icons.rotate)\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  destroy () {\n    this.unbind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  onBtnClick (e) {\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1)\n  }\n\n  updateRotateDeg () {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n\n    let width = player.root.offsetWidth\n    let height = player.root.offsetHeight\n    let targetWidth = player.video.videoWidth\n    let targetHeight = player.video.videoHeight\n\n    if (!this.config.innerRotate) {\n      // player.root.style.width = height + 'px'\n      // player.root.style.height = width + 'px'\n    }\n\n    let scale\n    if (this.rotateDeg === 0.25 || this.rotateDeg === 0.75) {\n      if (this.config.innerRotate) {\n        if ((targetWidth / targetHeight) > (height / width)) { // 旋转后纵向撑满\n          let videoWidth = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoWidth = height * targetWidth / targetHeight\n          } else {\n            // 旋转前是横向撑满\n            videoWidth = width\n          }\n          scale = height / videoWidth\n        } else { // 旋转后横向撑满\n          let videoHeight = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoHeight = height\n          } else { // 旋转前是横向撑满\n            videoHeight = width * targetHeight / targetWidth\n          }\n          scale = width / videoHeight\n        }\n      } else {\n        if (width >= height) {\n          scale = width / height\n        } else {\n          scale = height / width\n        }\n      }\n      scale = parseFloat(scale.toFixed(5))\n    } else {\n      scale = 1\n    }\n\n    if (this.config.innerRotate) {\n      player.video.style.transformOrigin = 'center center'\n      player.video.style.transform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n      player.video.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n    } else {\n      player.root.style.transformOrigin = 'center center'\n      player.root.style.transform = `rotate(${this.rotateDeg}turn) scale(${1})`\n      player.root.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${1})`\n    }\n  }\n\n  rotate (clockwise = false, innerRotate = true, times = 1) {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n    let factor = clockwise ? 1 : -1\n\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1\n    this.updateRotateDeg()\n    player.emit('rotate', this.rotateDeg * 360)\n  }\n\n  registerIcons () {\n    return {\n      'rotate': RotateSvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'rotate': {\n        jp: '日文text',\n        en: 'rotate',\n        zh: '旋转屏幕'\n      }\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <div class=\"xg-tips\">\n      ${this.text.rotate}\n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, POSITIONS} = Plugin\n\nclass PIP extends Plugin {\n  static get pluginName () {\n    return 'Pip'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      showIcon: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.pip === 'boolean') {\n      args.config.showIcon = args.player.config.pip\n    }\n  }\n\n  afterCreate () {\n    this.btnClick = (e) => {\n      this.switchPIP(e)\n    }\n    // video初始化之后再做判断是否显示\n    this.once(Events.COMPLETE, () => {\n      console.log(this.config.showIcon && this.isPIPAvailable())\n      if (this.config.showIcon && this.isPIPAvailable()) {\n        this.show()\n        this.bind('click', this.btnClick)\n      }\n      this.initPipEvents()\n    })\n  }\n\n  registerLangauageTexts () {\n    return {\n      'pipicon': {\n        jp: 'picture-in-picture',\n        en: 'picture-in-picture',\n        zh: '画中画'\n      }\n    }\n  }\n\n  initPipEvents () {\n    const {player} = this\n    this.leavePIPCallback = () => {\n      // 处理点击x关闭画中画的时候暂停问题\n      const paused = player.paused\n      setTimeout(() => {\n        !paused && player.play()\n      }, 0)\n      player.emit('pip_change', false)\n    }\n\n    this.enterPIPCallback = () => {\n      player.emit('pip_change', true)\n    }\n\n    if (player.video) {\n      player.video.addEventListener('enterpictureinpicture', this.enterPIPCallback)\n      // Video left Picture-in-Picture mode.\n      player.video.addEventListener('leavepictureinpicture', this.leavePIPCallback)\n    }\n  }\n\n  switchPIP () {\n    const {player, playerConfig} = this\n    if (!this.isPIPAvailable()) {\n      return false\n    }\n    try {\n      if (document.pictureInPictureElement && document.pictureInPictureElement === player.video) {\n        document.exitPictureInPicture();\n      } else {\n        if (!player.video) {\n          return\n        }\n        if (playerConfig.poster) {\n          player.video.poster = playerConfig.poster\n        }\n        player.video.requestPictureInPicture()\n      }\n      return true\n    } catch (reason) {\n      console.error('switchPIP', reason);\n      return false\n    }\n  }\n\n  get isPip () {\n    const {player} = this\n    return document.pictureInPictureElement === player.video\n  }\n\n  isPIPAvailable () {\n    const {player} = this\n    return document.pictureInPictureEnabled || !(player.video && player.video.disablePictureInPicture);\n  }\n\n  destroy () {\n    const {player} = this\n    player.video.removeEventListener('enterpictureinpicture', this.enterPIPCallback)\n    player.video.removeEventListener('leavepictureinpicture', this.leavePIPCallback)\n    this.unbind('click', this.btnClick)\n  }\n\n  render () {\n    if (!this.config.showIcon && this.isPIPAvailable()) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon btn-definition\">\n      ${`<span>${this.text.pipicon}</span>`}\n      </div>\n      ${`<div class=\"xg-tips\">${this.text.pipicon}</div>`}\n    </xg-icon>`\n  }\n}\nexport default PIP\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","import downloadUtil from 'downloadjs'\nimport Plugin from '../../plugin'\nimport DownloadSvg from '../assets/download.svg'\nconst {POSITIONS} = Plugin\n\nexport default class Download extends Plugin {\n  static get pluginName () {\n    return 'DownloadIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      disable: true\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.timer = null\n    this.isLock = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.download === 'boolean') {\n      args.config.disable = !args.player.config.download\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.appendChild('.xgplayer-icon', this.icons.download)\n    this.download = this.download.bind(this)\n    this.bind(['click', 'touchend'], this.download)\n  }\n\n  registerLangauageTexts () {\n    return {\n      download: {\n        jp: 'フルスクリーン',\n        en: 'download',\n        zh: '下载'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      download: DownloadSvg\n    }\n  }\n\n  download () {\n    if (!this.isLock) {\n      return\n    }\n    const url = this.getAbsoluteURL(this.player.src)\n    downloadUtil(url)\n    this.isLock = true\n    this.timer = window.setTimeout(() => {\n      this.isLock = false\n      window.clearTimeout(this.timer)\n      this.timer = null\n    }, 300)\n  }\n\n  getAbsoluteURL (url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement('div')\n      div.innerHTML = `<a href=\"${url}\">x</a>`\n      url = div.firstChild.href\n    }\n    return url\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.download)\n    window.clearTimeout(this.timer)\n    this.timer = null\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n      <div class=\"xgplayer-icon\">\n      </div>\n      <div class=\"xg-tips\">${this.text.download}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { POSITIONS } = Plugin\nexport default class ScreenShot extends Plugin {\n  static get pluginName () {\n    return 'screenShot'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 5,\n      quality: 0.92,\n      type: 'image/png',\n      format: '.png',\n      width: 600,\n      height: 337,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.screenShot === 'boolean') {\n      args.config.disable = !args.player.config.screenShot\n    }\n  }\n\n  afterCreate () {\n    this.appendChild('xgplayer-icon', this.icons.screenshotIcon)\n  }\n\n  onPluginsReady () {\n    this.show()\n    this.onClickBtn = this.onClickBtn.bind(this)\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  saveScreenShot (data, filename) {\n    const saveLink = document.createElement('a')\n    saveLink.href = data\n    saveLink.download = filename\n    let event = document.createEvent('MouseEvents')\n    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    saveLink.dispatchEvent(event)\n  }\n\n  createCanvans () {\n    const canvas = document.createElement('canvas')\n    this.canvasCtx = canvas.getContext('2d')\n    this.canvas = canvas\n    canvas.width = this.config.width || 600\n    canvas.height = this.config.height || 337.5\n  }\n\n  onClickBtn (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.canvas) {\n      this.createCanvans();\n    }\n    let img = new window.Image();\n    this.canvasCtx.drawImage(this.player.video, 0, 0, this.canvas.width, this.canvas.height)\n    const encoderOptions = this.config.quality\n    const type = this.config.type\n    const format = this.config.format\n    img.setAttribute('crossOrigin', 'anonymous')\n    img.src = this.canvas.toDataURL(type, encoderOptions).replace(type, 'image/octet-stream')\n    const screenShotImg = img.src.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream')\n    this.emit('screenShot', screenShotImg)\n    this.saveScreenShot(screenShotImg, '截图' + format)\n    img.onload = () => {\n      console.log('img.onload')\n      img = null;\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'screenshot': {\n        jp: 'play',\n        en: 'play',\n        zh: '截图'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      'screenshotIcon': null\n    }\n  }\n\n  destroy () {\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? 'xgplayer-icon' : 'xgplayer-icon btn-definition'\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? `` : `<span>${this.text.screenshot}</span>`} \n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Events, Util, Sniffer, POSITIONS } = Plugin\nexport default class DefinitionIcon extends Plugin {\n  static get pluginName () {\n    return 'Definition'\n  }\n\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      list: null,\n      disable: false,\n      hideMobile: true // 是否在移动端竖屏状态下隐藏\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    // 记录切换的时候的播放器状态\n    this.curTime = 0\n    this.isPaused = true\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      if (this.config.list && this.config.list.length > 0) {\n        this.renderItemList()\n        this.show()\n      }\n    })\n    this.once('resourceReady', (list) => {\n      this.changeDefinitionList(list)\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onToggle = this.onToggle.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onToggle)\n    this.bind('mouseleave', this.onToggle)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const {player} = this\n    const {list} = this.config\n    let src = player.config.url;\n    const a = document.createElement('a')\n    if (player.switchURL) {\n      this.switchUrl()\n    } else {\n      src = player.currentSrc || player.src\n    }\n    if (player['hls']) {\n      a.href = player['hls'].url\n      src = a.href\n    }\n\n    const liList = list.map(item => {\n      a.href = item.url\n      const className = player.dash ? (item.selected ? 'selected' : '') : (a.href === src ? 'selected' : '')\n      return `<li class=\"${className}\" cname=\"${item.name}\" url=\"${item.url}\">${item.name}</li>`\n    })\n    let cursrc = list.filter(item => {\n      a.href = item.url\n      if (player.dash) {\n        return item.selected === true\n      } else {\n        return a.href === src\n      }\n    })\n    this.find('.icon-text').innerHTML = (cursrc[0] || {name: '清晰度'}).name\n    this.find('.icon-list').innerHTML = liList.join('')\n  }\n\n  onCanplayChangeDefinition () {\n    const {player} = this\n    player.currentTime = this.curTime\n    if (!this.isPaused) {\n      let playPromise = player.play()\n      if (playPromise !== undefined && playPromise) {\n        // eslint-disable-next-line handle-callback-err\n        playPromise.catch(err => {})\n      }\n    }\n    player.emit('afterdefinitionChange')\n  }\n\n  onToggle (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  switchUrl (lastATag) {\n    const {player} = this\n    let curRUL = document.createElement('a');\n    ['mp4', 'hls', '__flv__', 'dash'].every(item => {\n      if (player[item]) {\n        if (player[item].url) {\n          curRUL.href = player[item].url\n        }\n        if (item === '__flv__') {\n          if (player[item]._options) {\n            curRUL.href = player[item]._options.url\n          } else {\n            curRUL.href = player[item]._mediaDataSource.url\n          }\n        }\n        return false\n      } else {\n        return true\n      }\n    })\n    if (lastATag && curRUL.href !== lastATag.href && !player.ended) {\n      player.switchURL(lastATag.href)\n    }\n  }\n\n  // 对外暴露 切换清晰度\n  changeDefinitionList (list) {\n    this.config.list = list\n    this.renderItemList()\n    this.show()\n  }\n\n  onItemClick (e) {\n    const {player} = this\n    const {list} = this.config\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.target && e.target.className === 'selected') {\n      return false\n    }\n    const a = document.createElement('a')\n    player.emit('beforeDefinitionChange', a.href)\n    if (player.dash) {\n      list.forEach(item => {\n        item.selected = false\n        if (item.name === e.target.innerHTML) {\n          item.selected = true\n        }\n      })\n    }\n    const curlSelected = this.find('.selected')\n    Util.addClass(e.target, 'selected')\n    curlSelected && Util.removeClass(curlSelected, 'selected')\n    const from = curlSelected ? curlSelected.getAttribute('cname') : ''\n    const to = e.target.getAttribute('cname')\n    a.href = e.target.getAttribute('url')\n    this.curTime = player.currentTime;\n    this.isPaused = player.paused\n    if (player.switchURL) {\n      this.switchUrl(a)\n    } else {\n      // if (player['hls']) {\n      //   let curRUL = document.createElement('a')\n      //   curRUL = player['hls'].url\n      // }\n      if (a.href !== player.currentSrc) {\n        if (!player.ended) {\n          player.src = a.href\n          this.once('canplay', () => {\n            this.onCanplayChangeDefinition()\n          })\n        }\n      }\n    }\n    this.find('.icon-text').innerHTML = to\n    player.emit('definitionChange', {from, to})\n    if (Sniffer.device === 'mobile') {\n      Util.removeClass(this.root, 'list-show')\n    }\n  }\n\n  render () {\n    const text = '清晰度'\n    return `<xg-icon class=\"xgplayer-definition\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, Sniffer, POSITIONS} = Plugin\n\nexport default class PlaybackRate extends Plugin {\n  static get pluginName () {\n    return 'PlaybackRate'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 4,\n      list: [0.5, 0.75, {rate: 1, iconText: '倍速'}, 1.5, 2]\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.curRate = 1\n  }\n\n  afterCreate () {\n    const {playerConfig, config} = this\n    if (Array.isArray(playerConfig.playbackRate)) {\n      config.list = playerConfig.playbackRate\n    }\n    this.once(Events.CANPLAY, () => {\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.renderItemList();\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  show () {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show()\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  onItemClick (e) {\n    const target = e.target\n    const cname = target.getAttribute('cname')\n    if (Number(cname) === this.curRate) {\n      return false\n    }\n    Util.removeClass(this.find('.selected'), 'selected')\n    Util.addClass(target, 'selected')\n    this.curRate = Number(cname)\n    this.player.playbackRate = Number(cname)\n    this.find('.icon-text').innerHTML = target.getAttribute('ctext')\n  }\n\n  destroy () {\n    this.unbind(this.activeEvent, this.onMouseenter)\n    this.unbind('mouseleave', this.onMouseenter)\n    this.unbind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const playbackRate = this.player.playbackRate || 1\n    this.curRate = playbackRate\n    let currentText = ''\n    const items = this.config.list.map((item) => {\n      let itemInfo = typeof item === 'object' ? item : {rate: item}\n      !itemInfo.text && (itemInfo.text = `${itemInfo.rate}x`)\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.isCurrent = true\n        currentText = item.iconText || itemInfo.text\n      }\n      return `<li cname=\"${itemInfo.rate}\" ctext=\"${item.iconText || itemInfo.text}\" class=\"${itemInfo.isCurrent ? 'selected' : ''}\">${itemInfo.text}</li>`\n    })\n    this.find('.icon-list').innerHTML = items.join('')\n    this.find('.icon-text').innerHTML = currentText\n    this.show()\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\">\n    <span class=\"icon-text\"></span>\n    </div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\nimport CssFullSceenSvg from '../assets/requestCssFull.svg'\nimport ExitCssFullSceenSvg from '../assets/exitCssFull.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class CssFullScreen extends Plugin {\n  static get pluginName () {\n    return 'cssFullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.cssFullscreen === 'boolean') {\n      args.config.disable = !args.player.config.cssFullscreen\n    }\n  }\n\n  afterCreate () {\n    this.initIcons()\n    this.on(Events.CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen)\n    })\n    // 退出全屏的时候会同时退出网页全屏\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      !isFullScreen && this.animate(isFullScreen)\n    })\n  }\n\n  initIcons () {\n    const {icons} = this\n    const contentIcon = this.find('.xgplayer-icon')\n    contentIcon.appendChild(icons.cssFullscreen)\n    contentIcon.appendChild(icons.exitCssFullscreen)\n  }\n\n  afterPlayerInit () {\n    this.btnClick = this.btnClick.bind(this);\n    this.bind(['click', 'touchend'], this.btnClick)\n  }\n\n  btnClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.player.isCssfullScreen) {\n      this.player.getCssFullscreen()\n    } else {\n      this.player.exitCssFullscreen()\n    }\n  }\n\n  animate (isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    // const path = this.find('.path')\n    // const full = this.find('.path_full').getAttribute('d')\n    // const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? this.setAttr('data-state', 'full') : this.setAttr('data-state', 'normal')\n  }\n\n  switchTips () {\n    this.find('.xg-tips').innerHTML = this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen\n  }\n\n  registerIcons () {\n    return {\n      cssFullscreen: { icon: CssFullSceenSvg, class: 'xg-get-cssfull' },\n      exitCssFullscreen: { icon: ExitCssFullSceenSvg, class: 'xg-exit-cssfull' }\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'cssFullscreen': {\n        jp: 'Cssfullscreen',\n        en: 'Cssfullscreen',\n        zh: '进入样式全屏'\n      },\n      exitCssFullscreen: {\n        jp: 'Exit cssfullscreen',\n        en: 'Exit cssfullscreen',\n        zh: '退出样式全屏'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    if (!this.playerConfig.cssFullscreen) {\n      return\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    <div class=\"xg-tips\">${this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import sniffer from '../utils/sniffer';\n// import Danmu from '../plugins/danmu'\nimport Replay from '../plugins/replay';\nimport Poster from '../plugins/poster';\nimport Start from '../plugins/start';\nimport Enter from '../plugins/enter';\nimport Miniscreen from '../plugins/miniScreen';\nimport PC from '../plugins/pc'\nimport Mobile from '../plugins/mobile'\nimport Keyboard from '../plugins/keyboard'\nimport Loading from '../plugins/loading'\nimport Progress from '../plugins/progress'\nimport PlayIcon from '../plugins/play'\nimport FullScreen from '../plugins/fullscreen'\nimport TimeIcon from '../plugins/time'\nimport Volume from '../plugins/volume'\nimport RotateIcon from '../plugins/rotate'\nimport PIPIcon from '../plugins/pip'\nimport PlayNextIcon from '../plugins/playNext'\nimport DownLoadIcon from '../plugins/download'\nimport ScreenShotIcon from '../plugins/screenShot'\nimport DefinitionIcon from '../plugins/definition'\nimport PlaybackRateIcon from '../plugins/playbackRate'\nimport CssFullScreen from '../plugins/cssFullScreen'\n\nexport default class DefaultPreset {\n  constructor () {\n    const contolsIcons = [Progress, PlayIcon, FullScreen, TimeIcon,\n      RotateIcon, PlayNextIcon, DefinitionIcon, PlaybackRateIcon, DownLoadIcon, ScreenShotIcon]\n\n    const barIcons = [{\n      plugin: PIPIcon,\n      options: {\n        index: 0,\n        position: PIPIcon.POSITIONS.ROOT_TOP\n      }}]\n\n    const layers = [Replay, Poster, Start, Loading, Enter]\n\n    this.plugins = [...contolsIcons, ...layers]\n    switch (sniffer.device) {\n      case 'pc':\n        this.plugins.push(...[Keyboard, PC, CssFullScreen, Volume], ...barIcons, Miniscreen);\n        break;\n      case 'mobile':\n        this.plugins.push(Mobile);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PC])\n    }\n    this.ignores = []\n  }\n}\n","import Player from './player'\nimport * as Plugins from './plugins'\nimport defaultPreset from './presets/default';\n\nPlayer.defaultPreset = defaultPreset;\nPlayer.defaultPlugins = Plugins;\n\nexport default Player\n"],"names":["match","el","selector","vendor","call","nodes","parentNode","querySelectorAll","i","length","detect","bind","window","addEventListener","unbind","removeEventListener","prefix","_createElement","tag","name","attr","dom","document","createElement","className","Object","keys","map","setAttribute","key","isUrl","str","indexOf","registerIconsObj","iconsConfig","plugin","_icons","config","icons","playerConfig","orgIcon","classname","class","_icon","Element","addClass","Util","createDom","src","createDomFromHtml","icon","registerTextObj","textConfig","defineProperty","text","lang","split","getDefaultConfig","documentElement","getAttribute","navigator","language","toLocaleLowerCase","styleInject","css","ref","insertAt","head","getElementsByTagName","style","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","addAnimate","seconds","callback","start","end","AnimateMap","clearTimeout","id","setTimeout","_undefined","value","possibleTypes","object","function","undefined","isValue","hasOwnProperty","isObject","constructor","prototype","error","apply","isPrototype","classRe","functionToString","Function","toString","isFunction","test","obj","assign","foo","bar","trzy","e","require$$0","val","require$$1","TypeError","max","Math","dest","arguments","forEach","Array","create","process","opts1","result","options","contains","String","searchString","this","module","dscr","c","w","desc","configurable","enumerable","writable","normalizeOpts","gs","get","set","isPlainFunction","fn","on","once","off","emit","methods","descriptors","base","defineProperties","descriptor","listener","data","callable","__ee__","push","self","__eeOnceListener__","listeners","candidate","splice","l","args","slice","d","exports","o","emitter","util","tpl","attrs","cname","innerHTML","item","html","doc","children","err","hasClass","classList","some","RegExp","replace","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","pad","charstr","len","maxlen","ceil","chars","r","join","substring","format","time","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","deepCopy","dst","Node","concat","deepMerge","babelHelpers.typeof","getBgImage","url","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","setInterval","context","eventName","intervalFunc","frequency","_interval","clearInterval","createImgBtn","imgUrl","width","height","btn","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","hide","display","show","ErrorTypes","Errors","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","msg","version","errorCode","mediaError","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","SEI_PARSED","Proxy","_hasStart","_currentTime","_duration","videoConfig","autoplay","playsinline","mediaType","videoAttrbutes","loop","defaultPlaybackRate","video","autoplayMuted","muted","_initEvents","_emitEvent","funName","player","lastBuffer","ev","charAt","toUpperCase","evItem","videoEventHandler","errorHandler","_this2","curBuffer","buffered","code","pause","removeAttribute","load","k","evName","evFunc","_this3","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","status","en","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","os","isPc","ua","userAgent","toLowerCase","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","beforeCreate","__args","__events","__init","Obj","defineGetterOrSetter","pluginName","_this","logger","isArray","res","offAll","destroy","Sniffer","Events","pluginsManager","cgid","_pluginInfoId","Date","getTime","pluginGroup","lazyPlugin","timeout","Promise","race","loader","then","__esModule","default","register","resolve","reject","Error","init","_plugins","plugins","originalOptions","_originalOptions","_player","isSupported","warn","defaultConfig","root","index","_instance","func","afterCreate","_destroy","cName","retPromise","log","_loadingPlugins","all","pluginsRet","beforePlayerInit","ret","catch","afterPlayerInit","pluginsMap","_args","unRegister","onPluginsReady","proto","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","element","checkYoSelf","parent","matches","capture","forceCaptureEvents","delegateTarget","closest","Plugin","insertIdx","parseInt","isDomElement","HTMLElement","insertAdjacentHTML","_parent","_el","registerIcons","registerLangauageTexts","renderStr","render","message","insert","setAttr","setStyle","__registeChildren","_children","_plugin","registerPlugin","_c","findPlugin","qs","eventType","bindEL","unbindEL","htmlStr","innerHtml","eventHandle","isBubble","getPropertyValue","pdom","child","find","removeChild","ROOT_TYPES","POSITIONS","usePreset","Preset","presetInst","preset","ignores","Controls","controls","disable","mode","device","left","center","right","innerRoot","isMini","mouseEnter","mouseOut","userTimer","isActive","inactive","position","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_CENTER","CONTROLS","autoHide","FULLSCREEN_EVENTS","Player","presets","defaultIdx","defaultPreset","waitTimer","isReady","isPlaying","isSeeking","isCssfullScreen","_initDOM","_bindEvents","_registerPresets","_registerPlugins","onReady","videoInit","hasStart","vid","topBar","leftBar","rightBar","STATE_CLASS","DEFAULT","NO_START","NO_CONTROLS","ENTER","fluid","onDestroy","mousemoveFunc","eventkey","_this4","onFullscreenChange","fullEl","_fullscreenEl","fullscreen","FULLSCREEN","getVideoSize","closeFocusVideoFocus","focus","service","playFunc","closePlayVideoFocus","canPlayFunc","loadeddataFunc","afterInit","ignoresStr","lazy","loadingPlugin","lazyRegister","_this6","forceBeforeInit","_this7","PLUFGIN","ROOT_RIGHT","ROOT_LEFT","ROOT_TOP","beforeInit","_this8","_startInit","fileName","lineNumber","playPromise","NOT_ALLOW_AUTOPLAY","reloadFunc","isDelDom","classNameList","_this10","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","CSS_FULLSCREEN","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","notAutoHide","ACTIVE","PAUSED","LOADING","cls","videoWidth","videoHeight","containerSize","getBoundingClientRect","fitVideoSize","Number","getPlugins","__url","posterUrl","poster","_isFullScreen","Poster","Replay","replay","preventDefault","path","transform","MiniScreenIcon","getMini","exitMini","onClick","miniscreen","MiniScreen","pos","innerWidth","top","innerHeight","coordinate","scrollY","lastStyle","isMoveing","mini","isShowIcon","initIcons","miniIcon","onCancelClick","onCenterClick","disableDrag","onMousedown","isScrollSwitch","onScroll","PlayIcon","PauseIcon","abs","scrollHeight","scrollTop","currentX","currentY","onMouseup","onMousemove","clientWidth","maxTop","maxLeft","nowX","nowY","disX","disY","_this5","PlayNextIcon","idx","urlList","playNext","initEvents","PCPlugin","onEnter","onVideoClick","onVideoDblClick","onContextmenu","onEntered","onAutoPlayPrevented","onMouseEnter","onMouseLeave","stopPropagation","returnValue","cancelBubble","closeVideoStopPropagation","clk","timer","closeVideoClick","closeVideoDblclick","getFullscreen","leavePlayerTimer","closePlayerBlur","leavePlayerTime","closeControlsBlur","MobilePlugin","isTouchMove","isMoving","disableGesture","xgMask","append","onTouchMove","onTouchStart","onTouchEnd","Infinity","getTouche","scopeL","scopeR","touche","x","miniMoveStep","y","diffx","diffy","tan","gestureY","darkness","op","updateBrightness","updateVolume","gestureX","updateTime","updateGesture","percent","getPlugin","updatePercent","isTouchingSeek","toFixed","light","maxDarkness","backgroundColor","closeVideoTouch","gradient","PlaceHolderPlugin","Start","isShowPause","animate","PlaySvg","PauseSvg","startPlay","startPause","isEnded","isShowEnd","disableAmimate","TextTrackPlugin","textTrackDom","textTrack","track","label","kind","srclang","crossorigin","textTrackStyle","styleStr","wrap","sheet","insertRule","addRule","ErrorPlugin","handleCanPlay","handleError","textDOM","Enter","isCanPlay","barStr","Keyboard","extendkeyCodeMap","keyCodeMap","key1","keyShortcut","seekStep","mergekeyCodeMap","onKeydown","onBodyKeyDown","isBodyTarget","flag","keyCode","noBodyTarget","exitCssFullscreen","body","checkCode","handleKeyCode","action","funKey","Loading","loadingIcon","defaultDot","ProgressDot","dotsList","dots","createDotDom","dot","newDots","min","defaultThumbnailConfig","Progress","useable","isProgressMoving","thumbnail","progress","playedBar","cachedBar","pointTip","progressBtn","thumbnailDom","initThumbnail","onTimeupdate","onCacheUpdate","bindDomEvents","ProgressDots","progressDot","thumbnailConfig","scale","mouseDown","mouseMove","mouseLeave","closeMoveSeek","allowSeekAfterEnded","computeWidth","move","up","now","textContent","pointWidth","pleft","updateThumbnailPosition","containerWidth","pic_num","urls","interval","row","col","indexInPage","rowIndex","colIndex","timeIcon","notSeek","dash","seek","containerLeft","j","Play","btnClick","Fullscreen","isFullScreen","useCssFullscreen","getCssFullscreen","switchCallback","switchFullScreen","Time","createCenterTime","durationDom","timeDom","onTimeUpdate","current","centerCurDom","centerDurDom","isLive","Volume","changeMuted","onBarMousedown","onMouseenter","onMouseleave","onVolumeChange","drag","slider","barRect","onMove","onUp","volumeSmall","volumeLarge","volumeMuted","Rotate","rotateDeg","rotate","onBtnClick","clockwise","innerRotate","offsetWidth","offsetHeight","targetWidth","targetHeight","transformOrigin","webKitTransform","times","factor","updateRotateDeg","PIP","pip","showIcon","switchPIP","isPIPAvailable","initPipEvents","leavePIPCallback","enterPIPCallback","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","reason","pictureInPictureEnabled","disablePictureInPicture","pipicon","factory","download","strFileName","strMimeType","dataUrlToBlob","strUrl","parts","binData","atob","decodeURIComponent","pop","mx","uiArr","Uint8Array","charCodeAt","myBlob","saver","winMode","anchor","click","URL","revokeObjectURL","defaultMime","open","confirm","location","f","blob","reader","mimeType","payload","Blob","MozBlob","WebKitBlob","ajax","XMLHttpRequest","responseType","onload","response","send","msSaveBlob","tempUiArr","createObjectURL","btoa","encodeURIComponent","FileReader","readAsDataURL","Download","isLock","getAbsoluteURL","div","ScreenShot","screenShot","screenshotIcon","onClickBtn","filename","saveLink","createEvent","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","createCanvans","img","Image","drawImage","encoderOptions","quality","toDataURL","screenShotImg","saveScreenShot","screenshot","DefinitionIcon","curTime","isPaused","list","renderItemList","changeDefinitionList","activeEvent","onToggle","onItemClick","switchURL","switchUrl","liList","selected","cursrc","lastATag","curRUL","_options","_mediaDataSource","curlSelected","from","to","onCanplayChangeDefinition","PlaybackRate","curRate","iconText","currentText","items","itemInfo","isCurrent","CssFullScreen","cssFullscreen","contentIcon","DefaultPreset","contolsIcons","FullScreen","TimeIcon","RotateIcon","PlaybackRateIcon","DownLoadIcon","ScreenShotIcon","barIcons","PIPIcon","layers","PC","Miniscreen","Mobile","defaultPlugins","Plugins"],"mappings":"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"}