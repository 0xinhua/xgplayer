{"version":3,"file":"index.min.js","sources":["../node_modules/matches-selector/index.js","../node_modules/component-event/index.js","../src/plugin/plugin.js","../src/defaultConfig.js","../../../node_modules/style-inject/dist/style-inject.es.js","../src/plugins/start/index.js","../src/Plugin/plugin.js","../node_modules/type/value/is.js","../node_modules/type/object/is.js","../node_modules/type/prototype/is.js","../node_modules/type/function/is.js","../node_modules/type/plain-function/is.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/function/noop.js","../node_modules/es5-ext/object/is-value.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es5-ext/object/valid-callable.js","../node_modules/event-emitter/index.js","../node_modules/es5-ext/object/is-object.js","../node_modules/es5-ext/object/valid-object.js","../node_modules/event-emitter/all-off.js","../src/utils/util.js","../src/error.js","../src/events.js","../src/proxy.js","../src/utils/sniffer.js","../src/plugin/basePlugin.js","../src/plugin/pluginsManager.js","../node_modules/closest/index.js","../node_modules/delegate-events/index.js","../src/stateClassMap.js","../src/plugin/preset.js","../src/plugins/controls/index.js","../src/player.js","../src/plugins/poster/index.js","../src/plugins/replay/index.js","../src/plugins/miniScreen/miniScreenIcon.js","../src/plugins/miniScreen/index.js","../src/plugins/Controls/index.js","../src/plugins/playNext/index.js","../src/plugins/pc/index.js","../src/plugins/mobile/index.js","../src/plugins/placeholder/index.js","../src/plugins/track/index.js","../src/Plugin/basePlugin.js","../src/Plugin/pluginsManager.js","../src/plugins/error/index.js","../src/plugins/enter/index.js","../src/plugins/keyboard/index.js","../src/plugins/loading/index.js","../src/plugins/progress/progressdots.js","../src/plugins/progress/index.js","../src/plugins/play/index.js","../src/plugins/fullscreen/index.js","../src/plugins/time/index.js","../src/plugins/volume/index.js","../src/plugins/rotate/index.js","../src/plugins/pip/index.js","../node_modules/downloadjs/download.js","../src/plugins/download/index.js","../src/plugins/screenShot/index.js","../src/plugins/definition/index.js","../src/plugins/playbackRate/index.js","../src/plugins/cssFullScreen/index.js","../src/presets/default.js","../src/index.js"],"sourcesContent":["\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","var bind, unbind, prefix;\n\nfunction detect () {\n  bind = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.bind = function(el, type, fn, capture){\n  if (!bind) detect();\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (!unbind) detect();\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter'\n}\n","export default function getDefaultConfig () {\n  return {\n    id: '', // 播放器容器id\n    el: null, // 播放器容器dom\n    url: '', // 播放url\n    width: 600, // 播放器宽度,单位px\n    height: 337.5, // 播放器高度,单位px\n    fluid: false, // 是否启用流式布局\n    fitVideoSize: 'auto', // fixWidth/fixHeight/auto\n    volume: 0.6, // 默认音量\n    autoplay: false, // 是否自动播放\n    autoplayMuted: false, // 是否自动静音\n    loop: false, // 是否循环播放\n    videoInit: false, // 是否优先显示视频首帧， mobile模式下无效\n    poster: '', // 封面图地址\n    defaultPlaybackRate: 1, // 默认播放倍数\n    execBeforePluginsCall: null, // 默认插件组装前回调\n    closeVideoClick: false, // 是否通过video的click/touchend行为切换播放暂停\n    closeVideoDblclick: false, // 是否通过双击行为触发全屏切换\n    closePlayerBlur: false, // 是个否启用鼠标移动激活行为\n    leavePlayerTime: 0, // 延迟触发时间\n    closePlayVideoFocus: false, // 是否关闭play时触发focus\n    closeFocusVideoFocus: false, // 是否支持播放器移动鼠标时触发focus\n    closeControlsBlur: false, // 鼠标移出播放器控制条范围时触发focus事件\n    videoAttrbutes: {}, // video扩展属性\n    // 是否删除\n    ignores: [],\n    whitelist: [],\n    inactive: 3000,\n    lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n    controls: true,\n    controlsList: [],\n    // 内置插件相关配置\n    screenShot: false, // 截图插件\n    rotate: false, // 旋转插件\n    pip: false, // pip插件\n    mini: false, // 迷你小窗插件\n    cssFullscreen: true, // 页面全屏\n    keyShortcut: true // 是否开启快捷键\n  }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst AnimateMap = {}\nfunction addAnimate (key, seconds, callback = {start: null, end: null}) {\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id)\n  }\n  AnimateMap[key] = {}\n  callback.start && callback.start()\n  AnimateMap[key].id = window.setTimeout(() => {\n    callback.end && callback.end()\n    window.clearTimeout(AnimateMap[key].id)\n    delete AnimateMap[key]\n  }, seconds);\n}\n\nconst { Util, Events } = Plugin\nclass Start extends Plugin {\n  static get pluginName () {\n    return 'start'\n  }\n\n  static get defaultConfig () {\n    return {\n      isShowPause: false\n    }\n  }\n\n  afterCreate () {\n    const {player, root, playerConfig} = this\n    this.once(Events.READY, () => {\n      if (playerConfig) {\n        if (playerConfig.lang && playerConfig.lang === 'en') {\n          Util.addClass(root, 'lang-is-en')\n        } else if (playerConfig.lang === 'jp') {\n          Util.addClass(root, 'lang-is-jp')\n        }\n      }\n    })\n\n    if (!player.config.autoplay) {\n      this.show();\n    }\n\n    this.bind('click', (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      if (!player.isReady) {\n        return;\n      }\n      const paused = this.player.paused\n      if (!this.player.hasStart) {\n        this.player.start()\n        this.player.once('complete', () => {\n          this.player.play()\n        })\n      } else {\n        if (!paused) {\n          this.player.pause()\n        } else {\n          this.player.play()\n        }\n      }\n    })\n    this.on([Events.PLAY, Events.PAUSE], () => {\n      this.animate()\n    })\n    this.on(Events.AUTOPLAY_PREVENTED, () => {\n      this.show('inline-block');\n      this.animate(true)\n    })\n  }\n\n  registerIcons () {\n    return {\n      play: PlaySvg,\n      pause: PauseSvg\n    }\n  }\n\n  animate (isShowEnded) {\n    if (this.config.isShowPause && (isShowEnded || this.player.paused)) {\n      this.show()\n      this.root.innerHTML = this.icons.play\n      return;\n    }\n    addAnimate('pauseplay', 400, {\n      start: () => {\n        Util.addClass(this.root, 'interact')\n        this.show()\n        this.root.innerHTML = this.player.paused ? this.icons.pause : this.icons.play\n      },\n      end: () => {\n        Util.removeClass(this.root, 'interact');\n        if (this.config.isShowPause && (this.player.paused || isShowEnded)) {\n          return;\n        }\n        this.hide()\n      }\n    })\n  }\n\n  render () {\n    return `\n    <xg-start class=\"xgplayer-start\" >\n      <div class=\"play\">\n      ${this.icons.play}\n      </div>\n    </xg-start>`\n  }\n}\n\nexport default Start\n","/**\n* an ui Plugin class\n*\n**/\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\nimport * as delegate from 'delegate-events'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.className = name\n  return dom\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        let lang = plugin.playerConfig.lang || 'zh'\n        if (lang.indexOf('-') > 0) {\n          lang = lang.split('-')[0]\n        }\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  /**\n    * 插入dom结构\n    * @param {String} html html字符串或者dom\n    * @param {DocumentElemebt } parent\n    * @param {*} index\n    */\n  static insert (html, parent, index) {\n    const len = parent.children.length\n    const insertIdx = parseInt(index)\n    const isDomElement = html instanceof window.HTMLElement\n    if (typeof index === 'undefined' || len <= insertIdx) {\n      isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML('beforeend', html)\n      return parent.children[parent.children.length - 1]\n    } else if (insertIdx === 0) {\n      isDomElement ? parent.insertBefore(html, parent.children.length > 0 ? parent.children[0] : null) : parent.insertAdjacentHTML('afterbegin', html)\n      return parent.children[0]\n    }\n    const el = parent.children[insertIdx]\n    if (el && el.insertAdjacentHTML) {\n      isDomElement ? parent.insertBefore(html, el) : el.insertAdjacentHTML('beforebegin', html)\n      return parent.children[insertIdx]\n    }\n  }\n\n  static get defaultConfig () {\n    return {}\n  }\n\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n    if (renderStr) {\n      _el = Plugin.insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    } else {\n      return\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'root': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    if (this.config.index) {\n      this.root.setAttribute('data-index', this.config.index)\n    }\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    if (!this.root) {\n      return\n    }\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          let _plugin = children[name]\n          const options = {\n            root: this.root\n          }\n          // eslint-disable-next-line no-unused-vars\n          let config, Plugin\n          if (typeof _plugin === 'function') {\n            config = this.config[name] || {}\n            Plugin = _plugin\n          } else if (typeof _plugin === 'object' && typeof _plugin.plugin === 'function') {\n            config = _plugin.options ? BasePlugin.Util.deepCopy((this.config[name] || {}), _plugin.options) : (this.config[name] || {})\n            Plugin = _plugin.plugin\n          }\n          options.config = config\n          config.index !== undefined && (options.index = config.index)\n          config.root && (options.root = config.root)\n          const c = this.registerPlugin(Plugin, options, name)\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  registerPlugin (plugin, options = {}, name = '') {\n    options.root = options.root || this.root\n    name && (options.pluginName = name)\n    const _c = pluginsManager.register(this.player, plugin, options)\n    this._children.push(_c)\n    return _c\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    if (!this.root) {\n      return\n    }\n    return this.root.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.bindEL(item, eventType)\n        })\n      } else {\n        this.bindEL(querySelector, eventType)\n      }\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      if (!this.root) {\n        return\n      }\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.bind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.bind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      if (Array.isArray(querySelector)) {\n        querySelector.forEach((item) => {\n          this.unbindEL(item, eventType)\n        })\n      } else {\n        this.unbindEL(querySelector, eventType)\n      }\n    } else if (typeof callback === 'function') {\n      if (Array.isArray(eventType)) {\n        eventType.forEach((item) => {\n          delegate.unbind(this.root, querySelector, item, callback, false)\n        })\n      } else {\n        delegate.unbind(this.root, querySelector, eventType, callback, false)\n      }\n    }\n  }\n\n  setStyle (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return (this.root.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (!this.root) {\n      return\n    }\n    if (typeof name === 'string') {\n      return this.root.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.root.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    if (!this.root) {\n      return\n    }\n    this.root.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (!this.root) {\n      return\n    }\n    if (`on${event}` in this.root && typeof eventHandle === 'function') {\n      this.root.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show (value) {\n    if (!this.root) {\n      return;\n    }\n    this.root.style.display = value !== undefined ? value : 'block'\n    const cs = window.getComputedStyle(this.root, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.root.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.root && (this.root.style.display = 'none')\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.root) {\n      if (this.root.hasOwnProperty('remove')) {\n        this.root.remove()\n      } else if (this.root.parentNode) {\n        this.root.parentNode.removeChild(this.root)\n      }\n    }\n  }\n}\n\nPlugin.ROOT_TYPES = {\n  CONTROLS: 'controls',\n  ROOT: 'root'\n}\n\nPlugin.POSITIONS = {\n  ROOT: 'root',\n  ROOT_LEFT: 'rootLeft',\n  ROOT_RIGHT: 'rootRight',\n  ROOT_TOP: 'rootTop',\n  CONTROLS_LEFT: 'controlsLeft',\n  CONTROLS_RIGTH: 'controlsRight',\n  CONTROLS_CENTER: 'controlsCenter'\n}\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      // eslint-disable-next-line no-undef\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (dst[key] === undefined) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  // eslint-disable-next-line no-useless-escape\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      // eslint-disable-next-line no-eval\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nutil.getFullScreenEl = function () {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement\n}\n\nutil.checkIsFunction = function (fun) {\n  return typeof fun === 'function'\n}\n\nutil.checkIsObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nutil.hide = function (dom) {\n  dom.style.display = 'none'\n}\n\nutil.show = function (dom, display) {\n  dom.style.display = display || 'block'\n}\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\n\nexport default Errors\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\nexport const RATE_CHANGE = 'rateChange'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const REPLAY = 'replay'\nexport const DESTROY = 'destroy'\nexport const URL_CHANGE = 'urlchange'\n\n// screen change evnets\nexport const FULLSCREEN_CHANGE = 'fullscreen_change'\nexport const CSS_FULLSCREEN_CHANGE = 'cssFullscreen_change'\nexport const MINI_STATE_CHANGE = 'mini_state_change'\n\n// transmuxer events\nexport const SEI_PARSED = 'SEI_PARSED';\n","import EventEmitter from 'event-emitter'\nimport allOff from 'event-emitter/all-off'\nimport util from './utils/util'\nimport Errors from './error'\nimport {URL_CHANGE, BUFFER_CHANGE, DESTROY} from './events'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this._currentTime = 0\n    this._duration = 0\n    this.videoConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video',\n    }, options.videoConfig);\n    if (options.videoAttrbutes) {\n      Object.keys(options.videoAttrbutes).map((key) => {\n        this.videoConfig[key] = options.videoAttrbutes[key]\n      })\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    if (options.defaultPlaybackRate) {\n      this.videoConfig.defaultPlaybackRate = options.defaultPlaybackRate\n    }\n\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplayMuted) {\n      this.video.muted = true\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n    }\n\n    EventEmitter(this)\n    this._interval = {}\n    this._initEvents()\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata','ratechange'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    /**\n     * 和video事件对应的on[EventKey]接口的触发\n     * @param {String} funName\n     */\n    function _emitEvent (funName, player) {\n      player[funName] && typeof player[funName] === 'function' && player[funName](player)\n    }\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      const funName = item[name]\n\n      this.videoEventHandler = () => {\n        if (name === 'error') {\n          this.errorHandler(name)\n          _emitEvent(funName, this)\n        } else {\n          this.emit(name, this)\n          _emitEvent(funName, this)\n        }\n\n        if (name === 'timeupdate') {\n          this._currentTime = this.video.currentTime\n        }\n\n        if (name === 'durationchange') {\n          this._duration = this.video.duration\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit(BUFFER_CHANGE, curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }\n      this.video.addEventListener(Object.keys(item)[0], this.videoEventHandler, false)\n    })\n  }\n\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  errorHandler (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n\n  set hasStart (bool) {\n    if (typeof bool === 'boolean') {\n      this._hasStart = bool\n      this.emit('hasstart')\n    }\n  }\n\n  destroy () {\n    this.pause()\n    this.video.removeAttribute('src') // empty source\n    this.video.load()\n    this._currentTime = 0;\n    this._duration = 0;\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.emit(DESTROY)\n    this.ev.forEach((item) => {\n      const evName = Object.keys(item)[0]\n      const evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n\n      this.video.removeEventListener(evName, this.videoEventHandler, false)\n    });\n    allOff(this)\n  }\n\n  play () {\n    return this.video.play()\n  }\n\n  pause () {\n    this.video.pause()\n  }\n\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n\n  get currentTime () {\n    return this._currentTime\n  }\n\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n\n  get duration () {\n    return this._duration\n  }\n\n  get ended () {\n    return this.video.ended\n  }\n\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n\n  get paused () {\n    return this.video.paused\n  }\n\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get played () {\n    return this.video.played\n  }\n\n  get preload () {\n    return this.video.preload\n  }\n\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n\n  get seekable () {\n    return this.video.seekable\n  }\n\n  get seeking () {\n    return this.video.seeking\n  }\n\n  get src () {\n    return this.video.src\n  }\n\n  set src (url) {\n    if (!this.ended) {\n      this.emit(URL_CHANGE, url)\n    }\n    this.video.pause()\n    this._currentTime = 0;\n    this._duration = 0;\n    this.video.src = url\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      const cgid = player._pluginInfoId\n      const plugins = this.pluginGroup[cgid]._plugins\n      const pluginsRet = []\n      for (const item of Object.keys(plugins)) {\n        if (plugins[item] && plugins[item].beforePlayerInit) {\n          try {\n            let ret = plugins[item].beforePlayerInit()\n            pluginsRet.push(retPromise(ret))\n          } catch (e) {\n            pluginsRet.push(retPromise(null))\n            throw e\n          }\n        }\n      }\n      Promise.all(pluginsRet).then(() => {\n        resolve()\n      }).catch((e) => {\n        console.error(e)\n        resolve()\n      })\n    })\n  },\n\n  afterInit (player) {\n    console.log('afterInit')\n    let prevTask;\n    if (player._loadingPlugins && player._loadingPlugins.length) {\n      prevTask = Promise.all(player._loadingPlugins)\n    } else {\n      prevTask = Promise.resolve()\n    }\n    if (!this.pluginGroup) {\n      return;\n    }\n    prevTask.then(() => {\n      const cgid = player._pluginInfoId\n      const plugins = this.pluginGroup[cgid]._plugins\n      for (const item of Object.keys(plugins)) {\n        if (plugins[item] && plugins[item].afterPlayerInit) {\n          plugins[item].afterPlayerInit()\n        }\n      }\n    })\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","/**\n * Module dependencies.\n */\n\nvar closest = require('closest')\n  , event = require('component-event');\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nexports.bind = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return event.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nexports.unbind = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  event.unbind(el, type, fn, capture);\n};\n","export default {\n  DEFAULT: 'xgplayer',\n  DEFAULT_SKIN: 'xgplayer-skin-default',\n  ENTER: 'xgplayer-is-enter',\n  PAUSED: 'xgplayer-pause',\n  PLAYING: 'xgplayer-playing',\n  ENDED: 'xgplayer-ended',\n  CANPLAY: 'xgplayer-canplay',\n  LOADING: 'xgplayer-isloading',\n  ERROR: 'xgplayer-error',\n  REPLAY: 'xgplayer-replay',\n  NO_START: 'xgplayer-nostart',\n  ACTIVE: 'xgplayer-inactive',\n  FULLSCREEN: 'xgplayer-is-fullscreen',\n  CSS_FULLSCREEN: 'xgplayer-is-cssfullscreen',\n  NO_CONTROLS: 'no-controls',\n  AUTOPLAY: 'xgplayer-is-autoplay',\n  PC: 'xgplayer-pc',\n  MOBILE: 'xgplayer-mobile',\n  MINI: 'xgplayer-mini'\n};\n","export const usePreset = (player, Preset) => {\n  let presetInst;\n  if (Preset.preset && Preset.options) {\n    // eslint-disable-next-line new-cap\n    presetInst = new (Preset.preset)(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config)\n  }\n  const { plugins, ignores, icons} = presetInst;\n  if (!player.config.plugins) {\n    player.config.plugins = []\n  }\n\n  if (!player.config.ignores) {\n    player.config.ignores = []\n  }\n\n  player.config.plugins.push(...plugins);\n  player.config.ignores.push(...ignores);\n  player.config.icons = icons\n}\n","import Plugin from '../../plugin'\nconst {Events, Util, POSITIONS} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n  }\n\n  afterCreate () {\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini') : Util.removeClass(this.root, 'mini')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseou', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    console.log('mouseenter')\n  }\n\n  mouseOut () {\n    console.log('mouseout')\n  }\n\n  showTips () {\n\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : plugin.defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-controls class=\"xgplayer-controls\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport * as Events from './events'\nimport Plugin, {pluginsManager, BasePlugin} from './plugin'\nimport STATE_CLASS from './stateClassMap'\nimport getDefaultConfig from './defaultConfig'\nimport { usePreset } from './plugin/preset';\nimport Controls from './plugins/controls'\nimport {\n  version\n} from '../package.json'\n\nconst FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange']\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepCopy(getDefaultConfig(), options)\n    this.config.presets = []\n\n    // resolve default preset\n    if (this.config.presets.length) {\n      if (this.config.presets.indexOf('default') >= 0 && Player.defaultPreset) {\n        this.config.presets.push(Player.defaultPreset);\n      }\n    } else if (Player.defaultPreset) {\n      this.config.presets.push(Player.defaultPreset)\n    }\n\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isProgressMoving = false\n    this.isReady = false\n    this.isPlaying = false\n    this.isSeeking = false\n    this.isActive = true\n    this.isCssfullScreen = false\n\n    this._initDOM()\n\n    this._bindEvents()\n    this._registerPresets()\n    this._registerPlugins()\n    pluginsManager.onPluginsReady(this)\n\n    setTimeout(() => {\n      this.emit(Events.READY)\n      this.onReady && this.onReady()\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit || this.config.autoplay) {\n      if (!this.hasStart) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit(Events.ERROR, new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    this.topBar = util.createDom('xg-bar', '', '', 'xg-top-bar')\n    this.leftBar = util.createDom('xg-bar', '', '', 'xg-left-bar')\n    this.rightBar = util.createDom('xg-bar', '', '', 'xg-right-bar')\n    this.root.appendChild(this.topBar)\n    this.root.appendChild(this.leftBar)\n    this.root.appendChild(this.rightBar)\n    // const baseBar = pluginsManager.register(this, BaseBar)\n    // this.baseBar = baseBar\n    const controls = pluginsManager.register(this, Controls)\n    this.controls = controls\n    this.addClass(`${STATE_CLASS.DEFAULT} xgplayer-${sniffer.device} ${STATE_CLASS.NO_START} ${this.config.controls ? '' : STATE_CLASS.NO_CONTROLS}`)\n    if (this.config.fluid) {\n      const style = {\n        'max-width': '100%',\n        'width': '100%',\n        'height': '0',\n        'padding-top': `${this.config.height * 100 / this.config.width}%`,\n        'position': 'position',\n        'top': '0',\n        'left': '0'\n      };\n      Object.keys(style).map(key => {\n        this.root.style[key] = style[key]\n      })\n    } else {\n      ['width', 'height'].map(key => {\n        if (this.config[key]) {\n          if (typeof this.config[key] !== 'number') {\n            this.root.style[key] = this.config[key]\n          } else {\n            this.root.style[key] = `${this.config[key]}px`\n          }\n        }\n      })\n    }\n  }\n\n  _bindEvents () {\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    });\n\n    // deal with the fullscreen state change callback\n    this.onFullscreenChange = () => {\n      const fullEl = util.getFullScreenEl()\n      if (fullEl && (fullEl === this._fullscreenEl || fullEl.tagName === 'VIDEO')) {\n        this.fullscreen = true\n        this.addClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        this.fullscreen = false\n        this._fullscreenEl = null\n        this.removeClass(STATE_CLASS.FULLSCREEN)\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    }\n\n    FULLSCREEN_EVENTS.forEach(item => {\n      document.addEventListener(item, this.onFullscreenChange)\n    })\n\n    this.once('loadeddata', this.getVideoSize)\n\n    this.mousemoveFunc = () => {\n      // 加上判断减少触发次数\n      if (this.isActive) {\n        return\n      }\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closeFocusVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n\n    this.playFunc = () => {\n      this.emit(Events.PLAYER_FOCUS)\n      if (!this.config.closePlayVideoFocus) {\n        this.video.focus()\n      }\n    }\n    this.once('play', this.playFunc)\n    // if (!this.config.closeVideoClick) {\n    //   ['touched', 'click'].map((key) => {\n    //     this.video.addEventListener(key, () => {\n    //       console.log('this.video.addEventListener')\n    //       if (this.paused) {\n    //         this.play()\n    //       } else {\n    //         this.pause()\n    //       }\n    //     })\n    //   })\n    // }\n    const player = this\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(item => {\n        document.removeEventListener(item, this.onFullscreenChange)\n      });\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  _startInit (url) {\n    let root = this.root\n    let player = this\n    if (!url || url === '') {\n      this.emit(Events.URL_NULL)\n    }\n    this.canPlayFunc = function () {\n      this.volume = this.config.volume\n      this.play()\n      player.off(Events.CANPLAY, this.canPlayFunc)\n    }\n\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n\n    this.loadeddataFunc && this.once('loadeddata', this.loadeddataFunc)\n\n    if (this.config.autoplay) {\n      this.once(Events.CANPLAY, this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit(Events.COMPLETE)\n    }, 1)\n    if (!this.hasStart) {\n      pluginsManager.afterInit(this)\n    }\n    this.hasStart = true\n  }\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    this._loadingPlugins = []\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        if (plugin.lazy && plugin.loader) {\n          const loadingPlugin = pluginsManager.lazyRegister(this, plugin)\n          if (plugin.forceBeforeInited) {\n            loadingPlugin.then(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            }).catch(() => {\n              this._loadingPlugins.splice(this._loadingPlugins.indexOf(loadingPlugin), 1);\n            })\n            this._loadingPlugins.push(loadingPlugin)\n          }\n\n          return;\n        }\n        return this.registerPlugin(plugin)\n      } catch (err) {\n        console.error(err)\n        return null\n      }\n    })\n  }\n\n  _registerPresets () {\n    this.config.presets.forEach((preset) => {\n      usePreset(this, preset)\n    })\n  }\n\n  registerPlugin (plugin) {\n    let PLUFGIN = null\n    let options = null\n    if (plugin.plugin && typeof plugin.plugin === 'function') {\n      PLUFGIN = plugin.plugin\n      options = plugin.options\n    } else {\n      PLUFGIN = plugin\n      options = {}\n    }\n\n    const position = options.position ? options.position : (PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position)\n    const {POSITIONS} = Plugin\n    if (!options.root && typeof position === 'string' && position.indexOf('controls') > -1) {\n      return this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName)\n    }\n    switch (position) {\n      case POSITIONS.ROOT_RIGHT:\n        options.root = this.rightBar\n        break;\n      case POSITIONS.ROOT_LEFT:\n        options.root = this.leftBar\n        break;\n      case POSITIONS.ROOT_TOP:\n        options.root = this.topBar\n        break;\n      default:\n        options.root = this.root\n        break;\n    }\n    return pluginsManager.register(this, PLUFGIN, options)\n  }\n\n  unRegistePlugin () {}\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  addClass (className) {\n    if (!this.root) {\n      return;\n    }\n    if (!util.hasClass(this.root, className)) {\n      util.addClass(this.root, className)\n    }\n  }\n\n  removeClass (className) {\n    if (!this.root) {\n      return;\n    }\n    util.removeClass(this.root, className)\n  }\n\n  start (url) {\n    // 已经开始初始化播放了 则直接调用play\n    if (this.hasStart) {\n      return this.play()\n    } else {\n      return pluginsManager.beforeInit(this).then(() => {\n        if (!url) {\n          url = this.url || this.config.url;\n        }\n        return this._startInit(url)\n      }).catch((e) => {\n        e.fileName = 'player'\n        e.lineNumber = '236'\n        throw e\n      })\n    }\n  }\n\n  play () {\n    if (!this.hasStart) {\n      this.start()\n      return;\n    }\n    const playPromise = super.play()\n    if (playPromise !== undefined && playPromise && playPromise.then) {\n      playPromise.then(() => {\n        this.removeClass(STATE_CLASS.AUTOPLAY)\n        this.removeClass(STATE_CLASS.NO_START)\n        this.addClass(STATE_CLASS.PLAYING)\n      }).catch((e) => {\n        // 避免AUTOPLAY_PREVENTED先于playing和play触发\n        setTimeout(() => {\n          this.emit(Events.AUTOPLAY_PREVENTED)\n          this.addClass(STATE_CLASS.AUTOPLAY)\n        }, 0)\n        throw e\n      })\n    }\n    return playPromise\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    pluginsManager.destroy(this)\n    super.destroy()\n    if (isDelDom) {\n      // parentNode.removeChild(this.root)\n      this.root.innerHTML = ''\n      let classNameList = this.root.className.split(' ')\n      if (classNameList.length > 0) {\n        this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n      } else {\n        this.root.className = ''\n      }\n    }\n    for (let k in this) {\n      // if (k !== 'config') {\n      delete this[k]\n      // }\n    }\n  }\n\n  replay () {\n    this.removeClass(STATE_CLASS.ENDED)\n    this.once(Events.CANPLAY, () => {\n      const playPromise = this.play()\n      if (playPromise && playPromise.catch) {\n        playPromise.catch(err => {\n          console.log(err)\n        })\n      }\n    })\n    this.emit(Events.REPLAY)\n    this.currentTime = 0\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (!el) {\n      el = this.root\n    }\n    this._fullscreenEl = el\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    }\n  }\n\n  exitFullscreen (el) {\n    if (el) {\n      el = this.root\n    }\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n  }\n\n  getCssFullscreen () {\n    this.addClass(STATE_CLASS.CSS_FULLSCREEN)\n    if (this.config.fluid) {\n      this.root.style['padding-top'] = ''\n    }\n    this.isCssfullScreen = true\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, true)\n  }\n\n  exitCssFullscreen () {\n    if (this.config.fluid) {\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n    }\n    this.removeClass(STATE_CLASS.CSS_FULLSCREEN)\n    this.isCssfullScreen = false\n    this.emit(Events.CSS_FULLSCREEN_CHANGE, false)\n  }\n\n  onFocus () {\n    this.isActive = true\n    let player = this\n    this.removeClass(STATE_CLASS.ACTIVE)\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      this.isActive = false\n      player.emit(Events.PLAYER_BLUR)\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    this.isActive = false\n    if (!this.paused && !this.ended) {\n      this.addClass(STATE_CLASS.ACTIVE)\n    }\n  }\n\n  onPlay () {\n    this.addClass(STATE_CLASS.PLAYING)\n    this.removeClass(STATE_CLASS.PAUSED)\n    this.ended && this.removeClass(STATE_CLASS.ENDED)\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onPause () {\n    this.addClass(STATE_CLASS.PAUSED)\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit(Events.PLAYER_FOCUS)\n  }\n\n  onEnded () {\n    this.addClass(STATE_CLASS.ENDED)\n    this.removeClass(STATE_CLASS.PLAYING)\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    this.isSeeking = false\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.removeClass(STATE_CLASS.LOADING)\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(() => {\n      this.addClass(STATE_CLASS.LOADING)\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    const { NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING } = STATE_CLASS\n    const clsList = [NO_START, PAUSED, ENDED, ERROR, REPLAY, LOADING];\n    clsList.forEach((cls) => {\n      this.removeClass(cls)\n    })\n    this.addClass(STATE_CLASS.PLAYING)\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  get version () {\n    return version\n  }\n\n  set url (url) {\n    this.__url = url\n  }\n\n  get url () {\n    return this.__url || this.config.url\n  }\n\n  set poster (posterUrl) {\n    let poster = util.findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n\n  get fullscreen () {\n    return this._isFullScreen;\n  }\n\n  set fullscreen (val) {\n    this._isFullScreen = val\n  }\n\n  get bullet () {\n    return util.findDom(this.root, 'xg-bullet') ? util.hasClass(util.findDom(this.root, 'xg-bullet'), 'xgplayer-has-bullet') : false\n  }\n\n  get textTrack () {\n    return util.hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n\n  get pip () {\n    return util.hasClass(this.root, 'xgplayer-pip-active')\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static install (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  /***\n   * TODO\n   * 插件全部迁移完成再做删除\n   */\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n}\n\nPlayer.Util = util\nPlayer.Sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Events = Events\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Plugin from '../../plugin'\n\nclass Poster extends Plugin {\n  static get pluginName () {\n    return 'Poster'\n  }\n\n  render () {\n    const poster = this.config.poster || this.playerConfig.poster\n    if (!poster) {\n      return ''\n    }\n    return `<xg-poster class=\"xgplayer-poster\" style=\"background-image:url(${poster})\">\n    </xg-poster>`\n  }\n}\n\nexport default Poster\n","import Plugin from '../../plugin'\nimport ReplaySvg from '../assets/replay.svg'\n\nclass Replay extends Plugin {\n  static get pluginName () {\n    return 'Replay'\n  }\n\n  registerIcons () {\n    return {\n      'replay': ReplaySvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'replay': {\n        jp: '日文text',\n        en: 'rePlay',\n        zh: '重播'\n      }\n    }\n  }\n\n  afterCreate () {\n    this.bind('svg', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n\n    this.on(Plugin.Events.ENDED, () => {\n      if (!this.playerConfig.loop) {\n        Plugin.Util.addClass(this.player.root, 'replay')\n      }\n      let path = this.root.querySelector('path')\n      if (path) {\n        let transform = window.getComputedStyle(path).getPropertyValue('transform')\n        if (typeof transform === 'string' && transform.indexOf('none') > -1) {\n          return null\n        } else {\n          path.setAttribute('transform', transform)\n        }\n      }\n    })\n  }\n\n  render () {\n    return `<xg-replay class=\"xgplayer-replay\">\n      ${this.icons.replay}\n      <xg-replay-txt class=\"xgplayer-replay-txt\">${this.text.replay}</xg-replay-txt>\n    </xg-replay>`\n  }\n}\nexport default Replay\n","import Plugin from '../../plugin'\nimport './index.scss'\n\nconst {POSITIONS} = Plugin\n\nclass MiniScreenIcon extends Plugin {\n  static get pluginName () {\n    return 'miniscreenIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 10\n    }\n  }\n\n  afterCreate () {\n    this.getMini = this.getMini.bind(this)\n    this.exitMini = this.exitMini.bind(this)\n    this.bind(['click', 'touchend'], this.getMini)\n  }\n\n  getMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  exitMini () {\n    this.config.onClick && this.config.onClick()\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.getMini)\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'miniscreen': {\n        jp: '日文text',\n        en: 'miniscreen',\n        zh: '小屏幕'\n      }\n    }\n  }\n\n  render () {\n    let text = this.text.miniscreen\n    return `\n      <xg-icon class=\"xgplayer-miniicon\">\n      <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n      </xg-icon>`\n  }\n}\n\nexport default MiniScreenIcon\n","import Plugin from '../../plugin'\nimport PlayIcon from '../assets/play.svg'\nimport PauseIcon from '../assets/pause.svg'\nimport MiniScreenIcon from './miniScreenIcon'\nimport './index.scss'\n\nconst {Util, Events} = Plugin\n\nclass MiniScreen extends Plugin {\n  static get pluginName () {\n    return 'miniscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false,\n      width: 320,\n      height: 180,\n      left: -1, // 默认左下角\n      top: -1, // 默认左下角\n      isShowIcon: false, // 是否显示icon\n      isScrollSwitch: false, // 滚动自动切换自动切换\n      scrollTop: 0, // 触发滚动的高度\n      disableDrag: false // 禁用拖拽\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.isMini = false\n    const {config} = this\n    this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: this.config.height,\n      width: this.config.width\n    }\n    this.coordinate = {\n      currentX: 0,\n      currentY: 0,\n      scrollY: window.scrollY || 0\n    }\n    this.lastStyle = null\n    this.isMoveing = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.mini === 'boolean') {\n      args.config.isShowIcon = args.player.config.mini\n    }\n  }\n\n  afterCreate () {\n    const bindFunKeys = ['onMousemove', 'onMousedown', 'onMouseup', 'onCancelClick', 'onCenterClick', 'onScroll']\n    bindFunKeys.map(key => {\n      this[key] = this[key].bind(this)\n    })\n    this.on(Events.PAUSE, () => {\n      const btn = this.find('.play-icon')\n      Util.addClass(btn, 'pause')\n      Util.removeClass(btn, 'play')\n    })\n    this.on(Events.PLAY, () => {\n      const btn = this.find('.play-icon')\n      Util.addClass(btn, 'play')\n      Util.removeClass(btn, 'pause')\n    })\n  }\n\n  onPluginsReady () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    if (this.config.isShowIcon) {\n      const options = {\n        config: {\n          onClick: () => {\n            this.getMini()\n          }\n        }\n      }\n      this.miniIcon = player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName)\n    }\n    this.bind('.mini-cancel-btn', 'click', this.onCancelClick)\n    this.bind('.play-icon', 'click', this.onCenterClick)\n    if (!this.config.disableDrag) {\n      this.bind('mousedown', this.onMousedown)\n    }\n    if (this.config.isScrollSwitch) {\n      window.addEventListener('scroll', this.onScroll)\n    }\n  }\n\n  onCancelClick (e) {\n    this.exitMini()\n  }\n\n  onCenterClick (e) {\n    const {player} = this\n    player.paused ? player.play() : player.pause()\n  }\n\n  getCss (o, key) {\n    return o.currentStyle ? o.currentStyle[key] : document.defaultView.getComputedStyle(o, false)[key]\n  }\n\n  onScroll (e) {\n    if ((!window.scrollY && window.scrollY !== 0) || Math.abs(window.scrollY - this.coordinate.scrollY) < 50) {\n      return;\n    }\n    let scrollHeight = parseInt(this.getCss(this.player.root, 'height'))\n    scrollHeight += this.config.scrollTop\n    this.coordinate.scrollY = window.scrollY\n    if (window.scrollY > scrollHeight + 5 && !this.isMini) {\n      this.getMini()\n    } else if (window.scrollY <= scrollHeight && this.isMini) {\n      this.exitMini()\n    }\n  }\n\n  onMousedown (e) {\n    if (e.target !== this.root || this.isMoveing) {\n      return;\n    }\n    this.isMoveing = true\n    this.coordinate.currentX = e.clientX\n    this.coordinate.currentY = e.clientY\n    this.bind('mouseup', this.onMouseup)\n    this.bind('mousemove', this.onMousemove)\n  }\n\n  onMouseup (e) {\n    if (e.target !== this.root || !this.isMoveing) {\n      return;\n    }\n    this.isMoveing = false\n    const target = this.config.target || this.player.root\n    this.pos.top = parseInt(this.getCss(target, 'top'))\n    this.pos.left = parseInt(this.getCss(target, 'left'))\n    this.unbind('mousemove', this.onMousemove)\n    this.unbind('mouseup', this.onMouseup)\n  }\n\n  onMousemove (e, callback) {\n    e = e || window.event\n    const target = this.config.target || this.player.root\n    const maxTop = window.innerHeight - parseInt(this.getCss(target, 'height'))\n    const maxLeft = window.innerWidth - parseInt(this.getCss(target, 'width'))\n    if (this.isMoveing) {\n      const nowX = e.clientX\n      const nowY = e.clientY\n      const disX = nowX - this.coordinate.currentX\n      const disY = nowY - this.coordinate.currentY\n      let top = parseInt(this.pos.top) + disY\n      let left = parseInt(this.pos.left) + disX\n      if (left < 0) {\n        left = 0;\n      } else if (left > maxLeft) {\n        left = maxLeft\n      }\n\n      if (top < 0) {\n        top = 0;\n      } else if (top > maxTop) {\n        top = maxTop\n      }\n      target.style.left = `${left}px`\n      target.style.top = `${top}px`\n      if (typeof callback === 'function') {\n        callback(left, top)\n      }\n\n      if (e.preventDefault) {\n        e.preventDefault()\n      }\n      return false\n    }\n  }\n\n  getMini () {\n    if (this.isMini) {\n      return\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    // this.draggie.enable()\n    this.lastStyle = {}\n    Util.addClass(player.root, 'xgplayer-mini')\n    Object.keys(this.pos).map(key => {\n      this.lastStyle[key] = target.style[key]\n      target.style[key] = `${this.pos[key]}px`\n    })\n    if (playerConfig.fluid) {\n      target.style['padding-top'] = ''\n    }\n    this.emit(Events.MINI_STATE_CHANGE, true)\n    player.isMini = this.isMini = true\n  }\n\n  exitMini () {\n    if (!this.isMini) {\n      return false\n    }\n    const {player, playerConfig} = this;\n    const target = this.config.target || this.player.root\n    Util.removeClass(player.root, 'xgplayer-mini')\n    if (this.lastStyle) {\n      Object.keys(this.lastStyle).map(key => {\n        target.style[key] = this.lastStyle[key]\n      })\n    }\n    this.lastStyle = null;\n    if (playerConfig.fluid) {\n      player.root.style['width'] = '100%'\n      player.root.style['height'] = '0'\n      player.root.style['padding-top'] = `${playerConfig.height * 100 / playerConfig.width}%`\n    }\n    this.emit(Events.MINI_STATE_CHANGE, false)\n    this.isMini = player.isMini = false\n  }\n\n  destroy () {\n    this.unbind('mousedown', this.onMousedown)\n    window.removeEventListener('scroll', this.onScroll)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `\n      <xg-mini-layer class=\"xg-mini-layer\">\n      <div class=\"mask\"></div>\n      <xg-mini-header class=\"xgplayer-mini-header\">\n        <div>按住画面可移动小窗</div>\n      </xg-mini-header>\n      <div class=\"mini-cancel-btn\">X</div>\n      <div class=\"play-icon play\">\n        ${PauseIcon}\n        ${PlayIcon}\n      </div>\n      </xg-mini-layer>`\n  }\n}\n\nexport {\n  MiniScreen as default,\n  MiniScreenIcon\n}\n","import Plugin from '../../plugin'\nconst {Events, Util, POSITIONS} = Plugin\n\nclass Controls extends Plugin {\n  static get pluginName () {\n    return 'Controls'\n  }\n\n  static get defaultConfig () {\n    return {\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.controls === 'boolean') {\n      args.config.disable = !args.player.config.controls\n    }\n  }\n\n  afterCreate () {\n    const {height} = this.config\n    const style = {\n      height: `${height}px`\n    }\n    Object.keys(style).map(key => {\n      this.root.style[key] = style[key]\n    })\n    this.left = this.find('left-grid')\n    this.center = this.find('center')\n    this.right = this.find('right-grid')\n    this.on(Events.MINI_STATE_CHANGE, (isMini) => {\n      isMini ? Util.addClass(this.root, 'mini') : Util.removeClass(this.root, 'mini')\n    })\n    this.bind('mouseenter', (e) => {\n      this.mouseEnter(e)\n    })\n    this.bind('mouseou', (e) => {\n      this.mouseOut(e)\n    })\n  }\n\n  mouseEnter () {\n    console.log('mouseenter')\n  }\n\n  mouseOut () {\n    console.log('mouseout')\n  }\n\n  showTips () {\n\n  }\n\n  registerPlugin (plugin, options = {}, name) {\n    if (!this.root) {\n      return;\n    }\n    if (!options.root) {\n      const position = options.config && options.config.position ? options.config.position : plugin.defaultConfig.position\n      switch (position) {\n        case POSITIONS.CONTROLS_LEFT:\n          options.root = this.left\n          break\n        case POSITIONS.CONTROLS_RIGTH:\n          options.root = this.right;\n          break;\n        case POSITIONS.CONTROLS_CENTER:\n          options.root = this.center;\n          break;\n        default:\n          options.root = this.left\n      }\n      return super.registerPlugin(plugin, options, name)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `<xg-controls class=\"xgplayer-controls\" unselectable=\"on\" onselectstart=\"return false\">\n    <left-grid class=\"left-grid\">\n    </Left-grid>\n    <center class=\"center\"></center>\n    <right-grid class=\"right-grid\">\n    </right-grid>\n    </xg-controls>`\n  }\n}\n\nexport default Controls\n","/**\n * 下一个按钮组件\n */\nimport Plugin from '../../plugin'\nimport Next from '../assets/playNext.svg'\n// import Next from '../assets/mPlayNext.svg';\n// console.log(MPlayNext)\nconst {POSITIONS, Sniffer} = Plugin\nexport default class PlayNextIcon extends Plugin {\n  static get pluginName () {\n    return 'PlayNext'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 1,\n      url: null,\n      urlList: []\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.idx = -1;\n  }\n\n  afterCreate () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    this.initEvents()\n  }\n\n  initEvents () {\n    this.playNext = this.playNext.bind(this);\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.playNext)\n    this.show()\n  }\n\n  playNext () {\n    const { player } = this;\n    if (this.idx + 1 < this.config.urlList.length) {\n      this.idx++;\n      player.video.pause();\n      player.currentTime = 0;\n      player.video.autoplay = true;\n      player.src = this.config.urlList[this.idx];\n      player.emit('playerNext', this.idx + 1);\n    } else {\n      player.emit('urlList last');\n    }\n  }\n\n  registerIcons () {\n    return {\n      playNext: Next\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'playNext': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.playNext)\n  }\n\n  render () {\n    if (!this.config.urlList || this.config.urlList.length === 0) {\n      return\n    }\n    return `\n     <xg-icon class=\"xgplayer-playnext\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.playNext}\n      </div>\n      <div class=\"xg-tips\">${this.text.playNext}</div>\n     </xg-icon>\n    `\n  }\n}\n","import BasePlugin from '../../plugin/basePlugin';\nconst {Events, Util} = BasePlugin\nexport default class PCPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'pc'\n  }\n\n  afterCreate () {\n    const eventHandlers = ['onVideoClick', 'onVideoDblClick', 'onMouseEnter', 'onMouseLeave', 'onControlMouseEnter',\n      'onControlMouseLeave', 'onContextmenu']\n    eventHandlers.map(key => {\n      if (this[key]) {\n        this[key] = this[key].bind(this)\n      }\n    })\n    // this.onVideoClick = this.onVideoClick.bind(this)\n    // this.onVideoDblClick = this.onVideoDblClick.bind(this)\n    // this.onMouseEnter = this.onMouseEnter.bind(this)\n    // this.onMouseLeave = this.onMouseLeave.bind(this)\n    // this.onControlMouseEnter = this.onControlMouseEnter.bind(this)\n    // this.onControlMouseLeave = this.onControlMouseLeave.bind(this)\n    this.initEvents();\n    const {playerConfig} = this\n    if (playerConfig.autoplay) {\n      this.onEnter()\n    }\n  }\n\n  initEvents () {\n    const { player } = this;\n\n    player.video.addEventListener('click', this.onVideoClick, false)\n\n    player.video.addEventListener('dblclick', this.onVideoDblClick, false)\n    player.root.addEventListener('contextmenu', this.onContextmenu, false)\n    this.once(Events.CANPLAY, this.onEntered.bind(this));\n    this.once(Events.AUTOPLAY_PREVENTED, () => {\n      this.onAutoPlayPrevented()\n    })\n\n    player.root.addEventListener('mouseenter', this.onMouseEnter)\n\n    player.root.addEventListener('mouseleave', this.onMouseLeave)\n\n    // player.controls.addEventListener('mouseenter', this.onControlMouseEnter, false)\n\n    // player.controls.addEventListener('mouseleave', this.onControlMouseLeave, false)\n  }\n\n  onContextmenu (e) {\n    e = e || window.event\n    if (e.preventDefault) {\n      e.preventDefault()\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation()\n    } else {\n      e.returnValue = false // 解决IE8右键弹出\n      e.cancelBubble = true\n    }\n  }\n  onEnter () {\n    const { player } = this;\n    Util.addClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onEntered () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n  }\n\n  onAutoPlayPrevented () {\n    const { player } = this;\n    Util.removeClass(player.root, 'xgplayer-is-enter')\n    this.once(Events.PLAY, () => {\n      Util.addClass(player.root, 'xgplayer-is-enter')\n      this.once(Events.TIME_UPDATE, () => {\n        Util.removeClass(player.root, 'xgplayer-is-enter')\n      })\n    })\n  }\n\n  onVideoClick (e) {\n    e.preventDefault()\n    // e.stopPropagation()\n    if (!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    const { player } = this\n    let clk = 0; let timer;\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (timer) {\n        clearTimeout(timer)\n      }\n      if (clk === 1) {\n        timer = setTimeout(function () {\n          if (Util.hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              player.play()\n              // let playPromise = player.play()\n              // if (playPromise !== undefined && playPromise) {\n              //   playPromise.catch(err => {})\n              // }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n\n  onVideoDblClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const { player } = this\n    if (!player.config.closeVideoDblclick) {\n      player.fullscreen ? player.exitFullscreen() : player.getFullscreen()\n    }\n  }\n\n  onMouseEnter () {\n    const { player } = this\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n\n  onMouseLeave () {\n    const { player } = this;\n    if (!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 1500)\n    }\n  }\n\n  onControlMouseEnter () {\n    const { player } = this;\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n\n  onControlMouseLeave () {\n    const { player } = this;\n    if (!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n\n  destroy () {\n    const { player } = this;\n    player.root.removeEventListener('mouseenter', this.onMouseEnter)\n    player.root.removeEventListener('mouseleave', this.onMouseLeave)\n    player.off('ready', this.onReady)\n  }\n}\n","import Plugin from '../../plugin';\n\nclass MobilePlugin extends Plugin {\n  static get pluginName () {\n    return 'mobile';\n  }\n\n  static get defaultConfig () {\n    return {\n      index: 0\n    }\n  }\n\n  constructor (options) {\n    super(options);\n    this.isTouchMove = false;\n  }\n\n  afterCreate () {\n    const {player} = this;\n    player.video.addEventListener('touchend', (e) => {\n      this.onTouchEnd(e);\n    }, false);\n\n    player.video.addEventListener('touchstart', () => {\n      this.isTouchMove = false;\n    });\n\n    player.video.addEventListener('touchmove', () => {\n      this.isTouchMove = true;\n    });\n  }\n\n  onTouchEnd (e) {\n    e.preventDefault();\n    const util = Plugin.Util;\n    e.stopPropagation();\n    const {player, playerConfig} = this;\n    if (util.hasClass(player.root, 'xgplayer-inactive')) {\n      player.emit('focus');\n    } else {\n      player.emit('blur');\n    }\n    if (!playerConfig.closeVideoTouch && !player.isTouchMove) {\n      if (util.hasClass(player.root, 'xgplayer-nostart')) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          let playPromise = player.play();\n          if (playPromise !== undefined && playPromise) {\n            playPromise.catch(err => {});\n          }\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }\n  render () {\n    return `\n     <xg-trigger></xg-trigger>\n    `\n  }\n}\n\nexport default MobilePlugin;\n","import { BasePlugin } from '../../plugin';\n\nclass PlaceHolderPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'placeholder'\n  }\n\n  render () {\n    return `<xg-placeholder class=\"xgplayer-placeholder\">\n    </xg-placeholder>`\n  }\n}\nexport default PlaceHolderPlugin\n","import BasePlugin from '../../plugin/basePlugin';\n\nexport default class TextTrackPlugin extends BasePlugin {\n  static get pluginName () {\n    return 'textTrack'\n  }\n\n  afterCreate () {\n    const { config, player } = this;\n    const options = config;\n    let textTrackDom = ''\n    if (options.textTrack && Array.isArray(options.textTrack) && (navigator.userAgent.indexOf('Chrome') > -1 || navigator.userAgent.indexOf('Firefox') > -1)) {\n      options.textTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    if (player.video) {\n      player.video.insertAdjacentHTML('afterbegin', textTrackDom);\n    }\n  }\n}\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args)\n    }\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    this.__init(args)\n  }\n\n  onPluginsReady () {}\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'logger': {\n        get: () => {\n          return args.player.logger\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Events = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n   * register a lazy plugin\n   * @param { object } player instance\n   * @param { object } lazyPlugin config\n   *\n   */\n  lazyRegister (player, lazyPlugin) {\n    const timeout = lazyPlugin.timeout || 1500\n    return Promise.race([\n      lazyPlugin.loader().then((plugin) => {\n        let result;\n        if (plugin && plugin.__esModule) {\n          result = plugin.default\n        } else {\n          result = plugin\n        }\n        this.register(player, result, plugin.options)\n      }),\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('timeout'))\n        }, timeout)\n      })\n    ])\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n\n    if (plugin.isSupported && !plugin.isSupported()) {\n      console.warn(`not supported plugin [${pluginName}]`)\n      return;\n    }\n\n    if (!options.config) {\n      options.config = {}\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = Object.assign({}, options.config, originalOptions[item])\n        break;\n      }\n    }\n\n    // 复制插件的默认配置项\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).map(key => {\n        if (typeof options.config[key] === 'undefined') {\n          options.config[key] = plugin.defaultConfig[key]\n        }\n      })\n    }\n\n    // 获取插件添加的父节点\n    if (!options.root) {\n      options.root = player.root\n    } else if (typeof options.root === 'string') {\n      options.root = player[options.root]\n    }\n\n    options.index = options.config.index || 0\n    try {\n      // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      if (_instance && typeof _instance.afterCreate === 'function') {\n        _instance.afterCreate()\n      }\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    console.log('beforeInit')\n    function retPromise (fun) {\n      if (!fun || !fun.then) {\n        return new Promise((resolve) => {\n          resolve()\n        })\n      } else {\n        return fun\n      }\n    }\n    return new Promise((resolve) => {\n      if (!this.pluginGroup) {\n        return;\n      }\n      const cgid = player._pluginInfoId\n      const plugins = this.pluginGroup[cgid]._plugins\n      const pluginsRet = []\n      for (const item of Object.keys(plugins)) {\n        if (plugins[item] && plugins[item].beforePlayerInit) {\n          try {\n            let ret = plugins[item].beforePlayerInit()\n            pluginsRet.push(retPromise(ret))\n          } catch (e) {\n            pluginsRet.push(retPromise(null))\n            throw e\n          }\n        }\n      }\n      Promise.all(pluginsRet).then(() => {\n        resolve()\n      }).catch((e) => {\n        console.error(e)\n        resolve()\n      })\n    })\n  },\n\n  afterInit (player) {\n    console.log('afterInit')\n    let prevTask;\n    if (player._loadingPlugins && player._loadingPlugins.length) {\n      prevTask = Promise.all(player._loadingPlugins)\n    } else {\n      prevTask = Promise.resolve()\n    }\n    if (!this.pluginGroup) {\n      return;\n    }\n    prevTask.then(() => {\n      const cgid = player._pluginInfoId\n      const plugins = this.pluginGroup[cgid]._plugins\n      for (const item of Object.keys(plugins)) {\n        if (plugins[item] && plugins[item].afterPlayerInit) {\n          plugins[item].afterPlayerInit()\n        }\n      }\n    })\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  onPluginsReady (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    if (!cgid || !plugins) {\n      return;\n    }\n    Object.keys(plugins).map(key => {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === 'function') {\n        plugins[key].onPluginsReady()\n      }\n    })\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nexport default pluginsManager\n","import Player from '../../player'\nimport Plugin from '../../Plugin'\n\nexport default class ErrorPlugin extends Plugin {\n  static get pluginName () {\n    return 'error'\n  }\n\n  afterCreate () {\n    this.bind('.xgplayer-error-refresh', 'click', (e) => {\n      e.preventDefault()\n      this.player.replay()\n      Plugin.Util.removeClass(this.player.root, 'replay')\n    })\n    this.on(Player.Events.CANPLAY, this.handleCanPlay.bind(this))\n    this.on(Player.Events.ERROR, this.handleError.bind(this))\n  }\n\n  handleCanPlay () {\n    Plugin.Util.removeClass(this.player.root, 'xgplayer-is-error')\n  }\n\n  handleError () {\n    const { player } = this;\n    const textDOM = this.find('.xgplayer-error-text');\n    if (player.error) {\n      textDOM.innerHTML = player.error\n    } else {\n      if (player.config.lang && player.config.lang === 'zh-cn') {\n        textDOM.innerHTML = player.lang.ERROR\n      } else {\n        this.root.innerHTML = `${player.lang.ERROR}，please try to <span class=\"xgplayer-error-refresh\">refresh</span>`\n      }\n    }\n  }\n  render () {\n    return `<xg-error class=\"xgplayer-error\">\n      <em class=\"xgplayer-error-text\"></em>请<span class=\"xgplayer-error-refresh\">刷新</span>试试\n    </xg-error>`\n  }\n}\n","import Plugin from '../../plugin';\n\nclass EnterPlugin extends Plugin {\n  static get pluginName () {\n    return 'index.scss';\n  }\n\n  render () {\n    let barStr = '';\n    for (let i = 1; i <= 12; i++) {\n      barStr += `<div class=\"xgplayer-enter-bar${i}\"></div>`;\n    }\n\n    return `<xg-enter class=\"xgplayer-enter\"><div class=\"xgplayer-enter-spinner\">\n      ${barStr}\n    </div></xg-enter>`;\n  }\n}\n\nexport default EnterPlugin;\n","import BasePlugin from '../../plugin/basePlugin'\n\nclass Keyboard extends BasePlugin {\n  static get pluginName () {\n    return 'Keyboard'\n  }\n\n  static get defaultConfig () {\n    return {\n      seekStep: 10,\n      keyCodeMap: {},\n      disable: false\n    }\n  }\n\n  mergekeyCodeMap () {\n    const extendkeyCodeMap = this.config.keyCodeMap\n    if (extendkeyCodeMap) {\n      Object.keys(extendkeyCodeMap).map(key => {\n        if (!this.keyCodeMap[key]) {\n          this.keyCodeMap[key] = extendkeyCodeMap[key]\n        } else {\n          ['keyCode', 'action', 'disable', 'isBodyTarget'].map(key1 => {\n            extendkeyCodeMap[key][key1] && (this.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1])\n          })\n        }\n      })\n    }\n  }\n\n  afterCreate () {\n    this.config.disable = !this.playerConfig.keyShortcut\n    this.seekStep = 10\n    this.keyCodeMap = {\n      'space': {\n        keyCode: 32,\n        action: 'playPause',\n        disable: false,\n        noBodyTarget: false // 默认在body上触发\n      },\n      'up': {\n        keyCode: 38,\n        action: 'upVolume',\n        disable: false\n      },\n      'down': {\n        keyCode: 40,\n        action: 'downVolume',\n        disable: false\n      },\n      'left': {\n        keyCode: 37,\n        action: 'seekBack',\n        disable: false\n      },\n      'right': {\n        keyCode: 39,\n        action: 'seek',\n        disable: false\n      },\n      'esc': {\n        keyCode: 27,\n        action: 'exitFullscreen',\n        disable: false\n      }\n    }\n    this.mergekeyCodeMap()\n    this.onKeydown = this.onKeydown.bind(this)\n    this.onBodyKeyDown = this.onBodyKeyDown.bind(this)\n    this.player.root.addEventListener('keydown', this.onKeydown)\n    document.addEventListener('keydown', this.onBodyKeyDown)\n  }\n\n  afterPlayerInit () {\n    const seekStep = typeof this.config.seekStep === 'function' ? this.config.seekStep(this.player) : this.config.seekStep\n    if (!seekStep || typeof seekStep !== 'number') {\n      this.seekStep = seekStep\n    }\n  }\n\n  checkCode (code, isBodyTarget) {\n    let flag = false\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key] && code === this.keyCodeMap[key].keyCode) {\n        flag = !isBodyTarget || (isBodyTarget && !this.keyCodeMap[key].noBodyTarget)\n      }\n    })\n    return flag\n  }\n\n  downVolume () {\n    const {player} = this\n    if (player.volume - 0.1 >= 0) {\n      player.volume = parseFloat((player.volume - 0.1).toFixed(1))\n    } else {\n      player.volume = 0\n    }\n  }\n\n  upVolume () {\n    const {player} = this\n    if (player.volume + 0.1 <= 1) {\n      player.volume = parseFloat((player.volume + 0.1).toFixed(1))\n    } else {\n      player.volume = 1\n    }\n  }\n\n  seek () {\n    const {player} = this\n    if (player.currentTime + this.seekStep <= player.duration) {\n      player.currentTime += this.seekStep\n    } else {\n      player.currentTime = player.duration - 1\n    }\n  }\n\n  seekBack () {\n    const {player} = this\n    if (player.currentTime - this.seekStep >= 0) {\n      player.currentTime -= this.seekStep\n    } else {\n      player.currentTime = 0\n    }\n  }\n\n  playPause () {\n    const {player} = this\n    if (player.paused) {\n      // eslint-disable-next-line handle-callback-err\n      player.play().catch(err => {\n      })\n    } else {\n      player.pause()\n    }\n  }\n\n  exitFullscreen () {\n    const {player} = this\n    if (player.fullscreen) {\n      player.exitFullscreen()\n    }\n    if (player.isCssfullScreen) {\n      player.exitCssFullscreen()\n    }\n  }\n\n  // TODO: 多播放器实例存在的情况下，body下的快捷键会触发所有实例的逻辑，需改进\n  onBodyKeyDown (event) {\n    if (this.config.disable) {\n      return\n    }\n    let e = event || window.event\n    const keyCode = e.keyCode\n    if (e.target === document.body && this.checkCode(keyCode, true)) {\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n      this.handleKeyCode(keyCode)\n      return false\n    }\n    return false\n  }\n\n  onKeydown (event) {\n    if (this.config.disable) {\n      return\n    }\n    const player = this.player\n    let e = event || window.event\n    if (e && (e.keyCode === 37 || this.checkCode(e.keyCode)) && (e.target === this.player.root || e.target === this.player.video || e.target === this.player.controls.el)) {\n      player.emit('focus')\n      e.preventDefault()\n      e.cancelBubble = true\n      e.returnValue = false\n    } else {\n      return true\n    }\n    this.handleKeyCode(e.keyCode)\n  }\n\n  handleKeyCode (keyCode) {\n    const {player} = this\n    if (keyCode === 40 || keyCode === 38) {\n      if (player.controls) {\n        // let volumeSlider = player.controls.querySelector('.xgplayer-slider')\n        // if (volumeSlider) {\n        //   if (Util.hasClass(volumeSlider, 'xgplayer-none')) {\n        //     Util.removeClass(volumeSlider, 'xgplayer-none')\n        //   }\n        //   if (player.sliderTimer) {\n        //     clearTimeout(player.sliderTimer)\n        //   }\n        //   player.sliderTimer = setTimeout(function () {\n        //     Util.addClass(volumeSlider, 'xgplayer-none')\n        //   }, player.config.inactive)\n        // }\n      }\n    }\n    Object.keys(this.keyCodeMap).map(key => {\n      if (this.keyCodeMap[key].keyCode === keyCode && !this.keyCodeMap[key].disable) {\n        if (typeof this.keyCodeMap[key].action === 'function') {\n          this.keyCodeMap[key].action()\n        } else if (typeof this.keyCodeMap[key].action === 'string') {\n          const funKey = this.keyCodeMap[key].action\n          if (typeof this[funKey] === 'function') {\n            this[funKey]()\n          }\n        }\n      }\n    })\n  }\n\n  destroy () {\n    this.player.root.removeEventListener('keydown', this.onKeydown)\n    document.removeEventListener('keydown', this.onBodyKeyDown)\n  }\n}\n\nexport default Keyboard\n","import loadingIcon from '../assets/loading.svg';\n\nimport Plugin from '../../plugin/plugin';\n\nclass Loading extends Plugin {\n  static get pluginName () {\n    return 'loading'\n  }\n\n  registerIcons () {\n    return {\n      'loadingIcon': loadingIcon\n    }\n  }\n\n  render () {\n    return `\n    <xg-loading class=\"xgplayer-loading\">\n      ${this.icons.loadingIcon}\n    </xg-loading>`\n  }\n}\n\nexport default Loading;\n","import Plugin from '../../plugin'\nconst defaultDot = {\n  time: 10, // 出现的时间点\n  text: '', // hover显示的文案\n  duration: 1, // 显示时长\n  style: {}, // 指定样式\n  color: '#fff' // 颜色\n}\n\nconst {Util, Events} = Plugin\nexport default class ProgressDot extends Plugin {\n  static get pluginName () {\n    return 'ProgressDots'\n  }\n\n  static get defaultConfig () {\n    return {\n      dots: []\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.dotsList = {}\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      const {dots} = this.config\n      if (!dots || !Array.isArray(dots)) {\n        return\n      }\n      dots.map(dot => {\n        this.createDotDom(dot)\n      })\n      this.initEvents()\n    })\n  }\n\n  initEvents () {\n    // this.bind('.xgplayer-progress-dot', 'mouseenter', (e) => {\n    //   console.log('mouseenter', e.target)\n    // })\n    // this.bind('.xgplayer-progress-dot', 'mouseleave', (e) => {\n    //   console.log('mouseleave', e.target)\n    // })\n  }\n\n  addDot (time, text, duration) {\n    let newDots = null\n    if (arguments.length === 1 && typeof time === 'object') {\n      newDots = arguments[0]\n    } else {\n      newDots = {\n        time: time,\n        text: text,\n        duration: duration\n      }\n    }\n    newDots = Util.deepCopy(arguments[0], defaultDot)\n    this.createDotDom(newDots)\n  }\n\n  removeDot (time) {\n    const {player} = this\n    if (time >= 0 && time <= player.duration && this.dotsList[time]) {\n      let dot = this.dotsList[time]\n      dot.parentNode.removeChild(dot)\n      dot = null\n      this.dotsList[time] = null\n    }\n  }\n\n  removeAllProgressDots () {\n    Object.keys(this.dotsList).forEach((key) => {\n      if (this.dotsList[key]) {\n        let dot = this.dotsList[key]\n        dot.parentNode.removeChild(dot)\n        dot = null\n        this.dotsList[key] = null\n      }\n    })\n  }\n\n  createDotDom (dot) {\n    const {player} = this\n    const dom = Util.createDom('xg-progress-dot', `${dot.text ? `<span class=\"xgplayer-progress-tip\">${dot.text}</span>` : ''}`, {}, 'xgplayer-progress-dot')\n    const style = dot.style || {}\n    style.left = (dot.time / player.duration) * 100 + '%'\n    style.width = (Math.min(dot.duration, player.duration - dot.time) / player.duration) * 100 + '%'\n    Object.keys(style).map(item => {\n      dom.style[item] = style[item]\n    })\n    this.dotsList[dot.time] = dom\n    this.root.appendChild(dom)\n  }\n\n  render () {\n    return '<xg-dots></xg-dots>'\n  }\n\n  destroy () {\n\n  }\n}\n","import Plugin from '../../plugin'\nimport ProgressDots from './progressdots'\n\nconst {Events, Util, POSITIONS, Sniffer} = Plugin\n\nconst defaultThumbnailConfig = {\n  isShow: false,\n  urls: [],\n  pic_num: 0,\n  row: 0,\n  col: 0,\n  height: 160,\n  width: 90,\n  scale: 1\n}\n\n/**\n * 进度条组件\n */\nclass Progress extends Plugin {\n  static get pluginName () {\n    return 'Progress'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_CENTER,\n      index: 0,\n      progressDot: [],\n      thumbnail: null\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.useable = false\n    this.isProgressMoving = false\n\n    if (this.playerConfig.thumbnail && Sniffer.device !== 'mobile') {\n      this.config.thumbnail = this.playerConfig.thumbnail\n    }\n  }\n\n  changeState (useable = true) {\n    this.useable = useable\n  }\n\n  afterCreate () {\n    this.playedBar = this.find('.xgplayer-progress-played')\n    this.cachedBar = this.find('.xgplayer-progress-cache')\n    this.pointTip = this.find('.xgplayer-progress-point')\n    this.progressBtn = this.find('.xgplayer-progress-btn')\n    this.thumbnailDom = this.find('xg-thumbnail')\n    this.initThumbnail()\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on(Events.SEEKING, () => {\n      this.onTimeupdate()\n      this.onCacheUpdate()\n    });\n    this.on([Events.BUFFER_CHANGE, Events.ENDED], () => {\n      this.onCacheUpdate()\n    })\n    this.bindDomEvents()\n  }\n\n  children () {\n    return {\n      ProgressDots: {\n        plugin: ProgressDots,\n        options: {\n          root: this.find('xg-outer'),\n          dots: this.playerConfig.progressDot\n        }\n      }\n    }\n  }\n\n  initThumbnail () {\n    if (this.config.thumbnail) {\n      const {thumbnail} = this.config\n      this.thumbnailConfig = {}\n      Object.keys(defaultThumbnailConfig).map(key => {\n        if (typeof thumbnail[key] === 'undefined') {\n          this.thumbnailConfig[key] = defaultThumbnailConfig[key]\n        } else {\n          this.thumbnailConfig[key] = thumbnail[key]\n        }\n      })\n      const {width, height, scale} = this.thumbnailConfig\n      this.thumbnailDom.style.width = `${width * scale}px`\n      this.thumbnailDom.style.height = `${height * scale}px`\n    }\n  }\n\n  bindDomEvents () {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseMove = this.mouseMove.bind(this)\n    this.mouseEnter = this.mouseEnter.bind(this)\n    this.mouseLeave = this.mouseLeave.bind(this);\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.addEventListener(event, this.mouseDown);\n    })\n    this.root.addEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  mouseDown (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    const self = this\n    e.stopPropagation()\n    Util.event(e)\n    // this.pointTip为tip信息 不做seek操作\n    if (e.target === this.pointTip || (!player.config.allowSeekAfterEnded && player.ended)) {\n      return true\n    }\n    this.root.focus()\n    const containerWidth = this.root.getBoundingClientRect().width\n    let {left} = this.playedBar.getBoundingClientRect()\n    let move = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      self.isProgressMoving = true\n      let w = e.clientX - left\n      if (w > containerWidth) {\n        w = containerWidth\n      }\n      let now = w / containerWidth * player.duration\n      self.playedBar.style.width = `${w * 100 / containerWidth}%`\n\n      if (player.videoConfig.mediaType === 'video' && !player.dash && !player.config.closeMoveSeek) {\n        player.currentTime = Number(now).toFixed(1)\n      } else {\n        self.updateTime(now)\n      }\n      player.emit('focus')\n    }\n    let up = function (e) {\n      // e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', move)\n      window.removeEventListener('touchmove', move, { passive: false })\n      window.removeEventListener('mouseup', up)\n      window.removeEventListener('touchend', up)\n      self.root.blur()\n      if (!self.isProgressMoving || player.videoConfig.mediaType === 'audio' || player.dash || player.config.closeMoveSeek) {\n        let w = e.clientX - left\n        if (w > containerWidth) {\n          w = containerWidth\n        }\n        let now = w / containerWidth * player.duration\n        self.playedBar.style.width = `${w * 100 / containerWidth}%`\n        player.currentTime = Number(now).toFixed(1)\n      }\n      player.emit('focus')\n      self.isProgressMoving = false\n    }\n    window.addEventListener('mousemove', move)\n    window.addEventListener('touchmove', move, { passive: false })\n    window.addEventListener('mouseup', up)\n    window.addEventListener('touchend', up)\n    return true\n  }\n\n  mouseEnter (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    if (!player.config.allowSeekAfterEnded && player.ended) {\n      return true\n    }\n    this.root.addEventListener('mousemove', this.mouseMove, false)\n    this.root.addEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseLeave (e) {\n    const {player} = this\n    if (player.isMini) {\n      return\n    }\n    this.pointTip.style.display = 'none'\n    this.thumbnailDom.style.display = 'none'\n    this.root.removeEventListener('mousemove', this.mouseMove, false)\n    this.root.removeEventListener('mouseleave', this.mouseLeave, false)\n  }\n\n  mouseMove (e) {\n    const {player} = this\n    let left = this.root.getBoundingClientRect().left\n    let width = this.root.getBoundingClientRect().width\n    let now = (e.clientX - left) / width * player.duration\n    now = now < 0 ? 0 : now\n    this.pointTip.textContent = Util.format(now)\n    let pointWidth = this.pointTip.getBoundingClientRect().width\n    let pleft = e.clientX - left - pointWidth / 2\n    pleft = pleft > 0 ? pleft : 0\n    pleft = pleft > width - pointWidth ? width - pointWidth : pleft\n    this.pointTip.style.left = `${pleft}px`\n    if (e.target && e.target.className === 'xgplayer-progress-dot') {\n      this.pointTip.style.display = 'none'\n    } else {\n      this.pointTip.style.display = 'block'\n    }\n    this.updateThumbnailPosition(e, now, width)\n  }\n\n  updateThumbnailPosition (e, now, containerWidth) {\n    if (!this.config.thumbnail) {\n      return;\n    }\n    const thumbnail = this.thumbnailConfig\n    if (!thumbnail || !thumbnail.pic_num === 0 || thumbnail.urls.length === 0) {\n      return\n    }\n    this.interval = this.player.duration / thumbnail.pic_num\n    let index = Math.floor(now / this.interval)\n    const {urls, row, col, height, width, scale} = thumbnail\n    const indexInPage = index + 1 - (col * row) * (Math.ceil((index + 1) / (col * row)) - 1)\n    const rowIndex = Math.ceil(indexInPage / row) - 1\n    const colIndex = indexInPage - rowIndex * row - 1\n    let left = e.clientX - width * scale / 2\n    left = left > 0 ? left : 0\n    left = left < containerWidth - width * scale ? left : containerWidth - width * scale\n    const style = {\n      backgroundImage: `url(${urls[Math.ceil((index + 1) / (col * row)) - 1]})`,\n      'background-position': `-${colIndex * width}px -${rowIndex * height}px`,\n      left: `${left}px`,\n      top: `${-10 - height * scale}px`,\n      display: 'block'\n    }\n    Object.keys(style).map((key) => {\n      this.thumbnailDom.style[key] = style[key]\n    })\n  }\n\n  updateTime (time) {\n    const {player} = this\n    let timeIcon = player.plugins.time\n    if (time) {\n      timeIcon.updateTime(time)\n    }\n  }\n\n  compute (e) {\n    const containerLeft = this.root.getBoundingClientRect().left\n    const containerWidth = this.root.getBoundingClientRect().width\n    const pointWidth = this.pointTip.getBoundingClientRect().width\n    let left = e.clientX - containerLeft - pointWidth / 2\n    left = left > 0 ? left : 0\n    left = left > containerWidth - pointWidth ? containerWidth - pointWidth : left\n    this.pointTip.style.left = `${left}px`\n  }\n\n  onTimeupdate () {\n    const {player} = this\n    if (player.isSeeking) {\n      return;\n    }\n    if (player.videoConfig.mediaType !== 'audio' || !this.isProgressMoving || !player.dash) {\n      this.playedBar.style.width = `${player.currentTime * 100 / player.duration}%`\n    }\n  }\n\n  onCacheUpdate () {\n    const {player} = this\n    let buffered = player.buffered\n    if (buffered && buffered.length > 0) {\n      let end = buffered.end(buffered.length - 1)\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        if (player.currentTime >= buffered.start(i) && player.currentTime <= buffered.end(i)) {\n          end = buffered.end(i)\n          for (let j = i + 1; j < buffered.length; j++) {\n            if (buffered.start(j) - buffered.end(j - 1) >= 2) {\n              end = buffered.end(j - 1)\n              break\n            }\n          }\n          break\n        }\n      }\n      this.cachedBar.style.width = `${end / player.duration * 100}%`\n    }\n  }\n\n  destroy () {\n    ['touchstart', 'mousedown'].forEach(event => {\n      this.root.removeEventListener(event, this.mouseDown);\n    })\n    this.root.removeEventListener('mouseenter', this.mouseEnter, false)\n  }\n\n  render () {\n    return `\n      <xg-progress class=\"xgplayer-progress\">\n        <xg-outer class=\"xgplayer-progress-outer\">\n          <xg-cache class=\"xgplayer-progress-cache\" style=\"width:0\">\n          </xg-cache>\n          <xg-played class=\"xgplayer-progress-played\" style=\"width:0\">\n            <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\n            <xg-point class=\"xgplayer-progress-point xg-tips\">00:00</xg-point>\n            <xg-thumbnail class=\"xgplayer-progress-thumbnail xg-tips\"></xg-thumbnail>\n          </xg-played>\n        </xg-outer>\n      </xg-progress>\n    `\n  }\n}\n\nexport default Progress\n","import Plugin from '../../plugin'\nimport PlaySvg from '../assets/play.svg'\nimport PauseSvg from '../assets/pause.svg'\n\nconst {Events, POSITIONS, Sniffer} = Plugin\n\nclass Play extends Plugin {\n  static get pluginName () {\n    return 'Play'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 0,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    const { player, config } = this\n    if (config.disable) {\n      return\n    }\n    this.btnClick = this.btnClick.bind(this)\n    const event = Sniffer.device === 'mobile' ? 'touchend' : 'click'\n    this.bind(event, this.btnClick)\n\n    this.on(Events.PAUSE, () => {\n      this.animate(player.paused)\n    })\n    this.on(Events.PLAY, () => {\n      this.animate(player.paused)\n    })\n  }\n\n  btnClick (e) {\n    const {player} = this\n    if (player.paused) {\n      player.play();\n    } else {\n      player.pause();\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'play': {\n        jp: 'play',\n        en: 'play',\n        zh: '播放'\n      },\n      'pause': {\n        jp: 'pause',\n        en: 'pause',\n        zh: '暂停'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      play: PlaySvg,\n      pause: PauseSvg\n    }\n  }\n\n  animate (paused) {\n    if (paused) {\n      this.find('.xgplayer-icon').innerHTML = this.icons.play\n      this.find('.xg-tips').innerHTML = this.text.play\n    } else {\n      this.find('.xgplayer-icon').innerHTML = this.icons.pause\n      this.find('.xg-tips').innerHTML = this.text.pause\n    }\n    // const path = this.find('.path')\n    // const pathPlay = this.find('.path_play').getAttribute('d')\n    // const pathPause = this.find('.path_pause').getAttribute('d')\n    // !paused ? path.setAttribute('d', pathPause) : path.setAttribute('d', pathPlay)\n  }\n\n  destroy () {\n    this.unbind(['touchend', 'click'], this.btnClick)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-play\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.play}\n    </div>\n    <div class=\"xg-tips\">${this.player.paused ? this.text.play : this.text.pause}</div>\n    </xg-icon>`\n  }\n}\nexport default Play\n","import Plugin from '../../plugin'\nimport FullScreenChangeSvg from '../assets/fullscreenChange.svg'\n\nconst {Events, POSITIONS} = Plugin\n\nexport default class Fullscreen extends Plugin {\n  static get pluginName () {\n    return 'fullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 0,\n      useCssFullscreen: false,\n      switchCallback: null,\n      target: null\n    }\n  }\n\n  afterCreate () {\n    this.isFullScreen = this.player.isFullScreen\n    this.btnClick = this.btnClick.bind(this)\n    this.bind(['click', 'touchend'], this.btnClick)\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      this.find('.xg-tips').innerHTML = isFullScreen ? this.text.exitFullscreen : this.text.fullscreen\n      this.animate(isFullScreen)\n    })\n  }\n\n  btnClick (e) {\n    const {player, config} = this;\n    let useCssFullscreen = false\n    if (config.useCssFullscreen === true || (typeof config.useCssFullscreen === 'function' && config.useCssFullscreen())) {\n      useCssFullscreen = true;\n    }\n    if (useCssFullscreen) {\n      if (player.fullscreen) {\n        player.getCssFullscreen()\n        player.fullscreen = true\n        this.emit(Events.FULLSCREEN_CHANGE, true)\n      } else {\n        player.exitCssFullscreen()\n        player.fullscreen = false\n        this.emit(Events.FULLSCREEN_CHANGE, false)\n      }\n    } else {\n      if (config.switchCallback && typeof config.switchCallback === 'function') {\n        config.switchFullScreen(this.isFullScreen)\n        this.isFullScreen = !this.isFullScreen\n        return\n      }\n      if (player.fullscreen) {\n        player.exitFullscreen(config.target)\n      } else {\n        player.getFullscreen(config.target)\n      }\n    }\n  }\n\n  animate (isFullScreen) {\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  registerLangauageTexts () {\n    return {\n      fullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Fullscreen',\n        zh: '进入全屏'\n      },\n      exitFullscreen: {\n        jp: 'フルスクリーン',\n        en: 'Exit fullscreen',\n        zh: '退出全屏'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      fullscreenChange: FullScreenChangeSvg\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-fullscreen\">\n    <div class=\"xgplayer-icon\">\n    ${this.icons.fullscreenChange}\n    </div>\n    <div class=\"xg-tips\">${this.player.isFullScreen ? this.text.exitFullscreen : this.text.fullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Util, Events, POSITIONS } = Plugin\n\nclass Time extends Plugin {\n  static get pluginName () {\n    return 'time'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_LEFT,\n      index: 2,\n      disable: false\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    this.durationDom = this.find('.time-duration')\n    this.timeDom = this.find('.time-current')\n    this.on(Events.DURATION_CHANGE, () => {\n      this.onTimeUpdate()\n    })\n    this.on(Events.TIME_UPDATE, () => {\n      this.onTimeUpdate()\n    })\n  }\n\n  onTimeUpdate () {\n    const {player, config} = this\n    if (config.disable) {\n      return\n    }\n    const current = player.currentTime\n    this.timeDom.innerHTML = Util.format(current)\n    if (player.duration !== Infinity) {\n      this.durationDom.innerHTML = Util.format(player.duration)\n    }\n  }\n\n  afterPlayerInit () {\n    const {player, config} = this\n    if (player.duration === Infinity || this.playerConfig.isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n    }\n    if (config.hide) {\n      this.hide()\n      return\n    }\n    this.show();\n  }\n\n  changeLiveState (isLive) {\n    if (isLive) {\n      Util.hide(this.durationDom)\n      Util.hide(this.timeDom)\n      Util.hide(this.find('.time-separator'))\n      Util.show(this.find('.time-live-tag'))\n    } else {\n      Util.hide(this.find('.time-live-tag'))\n      Util.show(this.find('.time-separator'))\n      Util.show(this.durationDom)\n      Util.show(this.timeDom)\n    }\n  }\n\n  updateTime (time) {\n    const { player } = this\n    if ((!time && time !== 0) || time > player.duration) {\n      return\n    }\n    this.timeDom.innerHTML = Util.format(time)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    return `<xg-icon class=\"xgplayer-time\" style=\"display:none\">\n    <span class=\"time-current\">00:00</span>\n    <span class=\"time-separator\">/</span>\n    <span class=\"time-duration\">00:00</span>\n    <span class=\"time-live-tag\">直播</span>\n    </xg-icon>`\n  }\n}\nexport default Time\n","import Plugin from '../../plugin'\nimport volumeChange from '../assets/volumeChange.svg'\n\nconst {Util, Events, POSITIONS} = Plugin\n\nclass Volume extends Plugin {\n  static get pluginName () {\n    return 'Volume'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  registerIcons () {\n    return {\n      volumeChange: volumeChange\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return\n    }\n    this.bar = this.find('.xgplayer-bar')\n    this.drag = this.find('.xgplayer-drag')\n    this.changeMuted = this.changeMuted.bind(this)\n\n    this.onBarMousedown = this.onBarMousedown.bind(this)\n\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onMouseleave = this.onMouseleave.bind(this)\n    this.bind('mouseenter', this.onMouseenter)\n\n    this.bind(['blur', 'mouseleave'], this.onMouseleave)\n\n    this.bind('.xgplayer-bar', 'mousedown', this.onBarMousedown)\n    this.bind('.xgplayer-icon', ['click', 'touched'], this.changeMuted)\n\n    this.on(Events.VOLUME_CHANGE, this.onVolumeChange.bind(this))\n  }\n\n  onBarMousedown (e) {\n    const {player} = this\n    player.video.muted = false\n    const drag = this.drag\n    const slider = this.find('.xgplayer-slider')\n    slider.focus()\n    Util.event(e)\n\n    let barRect = this.bar.getBoundingClientRect()\n    let pos = {x: e.clientX, y: e.clientY}\n    let height = drag.getBoundingClientRect().height\n    let isMove = false\n    let onMove = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      isMove = true\n      let w = height - e.clientY + pos.y\n      let now = w / barRect.height\n      drag.style.height = `${w}px`\n      player.volume = Math.max(Math.min(now, 1), 0)\n    }\n\n    let onUp = function (e) {\n      e.preventDefault()\n      e.stopPropagation()\n      Util.event(e)\n      window.removeEventListener('mousemove', onMove)\n      window.removeEventListener('touchmove', onMove)\n      window.removeEventListener('mouseup', onUp)\n      window.removeEventListener('touchend', onUp)\n\n      if (!isMove) {\n        let w = barRect.height - (e.clientY - barRect.top)\n        let now = w / barRect.height\n        drag.style.height = `${w}px`\n        if (now <= 0) {\n          if (player.volume > 0) {\n            drag.volume = player.video.volume\n          } else {\n            now = drag.volume\n          }\n        }\n        player.volume = Math.max(Math.min(now, 1), 0)\n      }\n      slider.volume = player.volume\n      isMove = false\n    }\n    window.addEventListener('mousemove', onMove)\n    window.addEventListener('touchmove', onMove)\n    window.addEventListener('mouseup', onUp)\n    window.addEventListener('touchend', onUp)\n    return false\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.addClass(this.root, 'slide-show')\n  }\n  onMouseleave (e) {\n    console.log('mouseleave')\n    e.preventDefault()\n    e.stopPropagation()\n    Util.removeClass(this.root, 'slide-show')\n  }\n\n  changeMuted () {\n    const {player} = this\n    player.muted = !player.muted\n  }\n\n  onVolumeChange () {\n    const {muted, volume} = this.player\n    this.find('.xgplayer-drag').style.height = muted || volume === 0 ? `0px` : `${volume * 100}%`\n    this.animate(muted, volume)\n  }\n\n  animate (muted, volume) {\n    const path = this.find('.path')\n    const pathLarge = this.find('.path_large').getAttribute('d')\n    const pathSmall = this.find('.path_small').getAttribute('d')\n    const pathMuted = this.find('.path_muted').getAttribute('d')\n    if (muted || volume === 0) {\n      path.setAttribute('d', pathMuted)\n    } else {\n      volume >= 0.5 ? path.setAttribute('d', pathLarge) : path.setAttribute('d', pathSmall)\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return\n    }\n    const {volume} = this.player\n    return `\n    <xg-icon class=\"xgplayer-volume\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.volumeChange}\n      </div>\n      <xg-slider class=\"xgplayer-slider\">\n        <xg-bar class=\"xgplayer-bar\">\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ${volume * 100}%\"></xg-drag>\n        </xg-bar>\n      </xg-slider>\n    </xg-icon>`\n  }\n}\nexport default Volume\n","import Plugin from '../../plugin'\nimport RotateSvg from '../assets/rotate.svg'\n\nconst {POSITIONS} = Plugin\n\nexport default class Rotate extends Plugin {\n  static get pluginName () {\n    return 'rotate'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      innerRotate: false, // true为只有画面旋转，false为整个播放器旋转\n      clockwise: false,\n      rotateDeg: 0, // 初始旋转角度\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.rotateDeg = this.config.rotateDeg || 0\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.rotate === 'boolean') {\n      args.config.disable = !args.player.config.rotate\n    }\n  }\n\n  afterCreate () {\n    if (this.config.disable) {\n      return;\n    }\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.bind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  destroy () {\n    this.unbind('.xgplayer-icon', ['click', 'touchend'], this.onBtnClick)\n  }\n\n  onBtnClick (e) {\n    this.rotate(this.config.clockwise, this.config.innerRotate, 1)\n  }\n\n  updateRotateDeg () {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n\n    let width = player.root.offsetWidth\n    let height = player.root.offsetHeight\n    let targetWidth = player.video.videoWidth\n    let targetHeight = player.video.videoHeight\n\n    if (!this.config.innerRotate) {\n      // player.root.style.width = height + 'px'\n      // player.root.style.height = width + 'px'\n    }\n\n    let scale\n    if (this.rotateDeg === 0.25 || this.rotateDeg === 0.75) {\n      if (this.config.innerRotate) {\n        if ((targetWidth / targetHeight) > (height / width)) { // 旋转后纵向撑满\n          let videoWidth = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoWidth = height * targetWidth / targetHeight\n          } else {\n            // 旋转前是横向撑满\n            videoWidth = width\n          }\n          scale = height / videoWidth\n        } else { // 旋转后横向撑满\n          let videoHeight = 0\n          if ((targetHeight / targetWidth) > (height / width)) { // 旋转前是纵向撑满\n            videoHeight = height\n          } else { // 旋转前是横向撑满\n            videoHeight = width * targetHeight / targetWidth\n          }\n          scale = width / videoHeight\n        }\n      } else {\n        if (width >= height) {\n          scale = width / height\n        } else {\n          scale = height / width\n        }\n      }\n      scale = parseFloat(scale.toFixed(5))\n    } else {\n      scale = 1\n    }\n\n    if (this.config.innerRotate) {\n      player.video.style.transformOrigin = 'center center'\n      player.video.style.transform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n      player.video.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${scale})`\n    } else {\n      player.root.style.transformOrigin = 'center center'\n      player.root.style.transform = `rotate(${this.rotateDeg}turn) scale(${1})`\n      player.root.style.webKitTransform = `rotate(${this.rotateDeg}turn) scale(${1})`\n    }\n  }\n\n  rotate (clockwise = false, innerRotate = true, times = 1) {\n    let player = this.player;\n    if (!this.rotateDeg) {\n      this.rotateDeg = 0\n    }\n    let factor = clockwise ? 1 : -1\n\n    this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1\n    this.updateRotateDeg()\n    player.emit('rotate', this.rotateDeg * 360)\n  }\n\n  registerIcons () {\n    return {\n      'rotate': RotateSvg\n    }\n  }\n\n  // 扩展语言\n  registerLangauageTexts () {\n    return {\n      'rotate': {\n        jp: '日文text',\n        en: 'rotate',\n        zh: '旋转屏幕'\n      }\n    }\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    return `\n    <xg-icon class=\"xgplayer-rotate\">\n      <div class=\"xgplayer-icon\">\n        ${this.icons.rotate}\n      </div>\n      <div class=\"xg-tips\">\n      ${this.text.rotate}\n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, POSITIONS} = Plugin\n\nclass PIP extends Plugin {\n  static get pluginName () {\n    return 'Pip'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 6,\n      showIcon: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.pip === 'boolean') {\n      args.config.showIcon = args.player.config.pip\n    }\n  }\n\n  afterCreate () {\n    // video初始化之后再做判断是否显示\n    this.once(Events.COMPLETE, () => {\n      if (this.config.showIcon && this.isPIPAvailable()) {\n        this.show()\n        this.switchPIP = this.switchPIP.bind(this)\n        this.bind('click', this.switchPIP)\n      }\n      this.initPipEvents()\n    })\n  }\n\n  initPipEvents () {\n    const {player} = this\n    this.leavePIPCallback = () => {\n      // 处理点击x关闭画中画的时候暂停问题\n      const paused = player.paused\n      setTimeout(() => {\n        !paused && player.play()\n      }, 0)\n      player.emit('pip_change', false)\n    }\n\n    this.enterPIPCallback = () => {\n      player.emit('pip_change', true)\n    }\n\n    if (player.video) {\n      player.video.addEventListener('enterpictureinpicture', this.enterPIPCallback)\n      // Video left Picture-in-Picture mode.\n      player.video.addEventListener('leavepictureinpicture', this.leavePIPCallback)\n    }\n  }\n\n  switchPIP () {\n    const {player, playerConfig} = this\n    if (this.isPIPAvailable()) {\n      return false\n    }\n    try {\n      if (document.pictureInPictureElement && document.pictureInPictureElement === player.video) {\n        document.exitPictureInPicture();\n      } else {\n        if (playerConfig.poster) {\n          player.video.poster = playerConfig.poster\n        }\n        player.video && player.video.requestPictureInPicture()\n      }\n      return true\n    } catch (reason) {\n      console.error('switchPIP', reason);\n      return false\n    }\n  }\n\n  get isPip () {\n    const {player} = this\n    return document.pictureInPictureElement === player.video\n  }\n\n  isPIPAvailable () {\n    const {player} = this\n    return document.pictureInPictureEnabled || !(player.video && player.video.disablePictureInPicture);\n  }\n\n  registerLangauageTexts () {\n    return {\n      'pipicon': {\n        jp: 'picture-in-picture',\n        en: 'picture-in-picture',\n        zh: '画中画'\n      }\n    }\n  }\n\n  destroy () {\n    const {player} = this\n    player.video.removeEventListener('enterpictureinpicture', this.enterPIPCallback)\n    player.video.removeEventListener('leavepictureinpicture', this.leavePIPCallback)\n    this.unbind('click', this.switchPIP)\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-pip\">\n      <div class=\"xgplayer-icon btn-definition\">\n      ${this.icons.pipicon ? this.icons.pipicon : `<span>${this.text.pipicon}</span>`}\n      </div>\n      ${this.icons.pipicon ? `<div class=\"xg-tips\">${this.text.pipicon}</div>` : ''}\n    </xg-icon>`\n  }\n}\nexport default PIP\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","import downloadUtil from 'downloadjs'\nimport Plugin from '../../plugin'\nimport DownloadSvg from '../assets/download.svg'\nconst {POSITIONS} = Plugin\n\nexport default class Download extends Plugin {\n  static get pluginName () {\n    return 'DownloadIcon'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.timer = null\n    this.isLock = false\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.download === 'boolean') {\n      args.config.disable = !args.player.config.download\n    }\n  }\n\n  afterCreate () {\n    if (!this.config.download) {\n      return;\n    }\n    this.download = this.download.bind(this)\n    this.bind(['click', 'touchend'], this.download)\n  }\n\n  registerLangauageTexts () {\n    return {\n      download: {\n        jp: 'フルスクリーン',\n        en: 'download',\n        zh: '下载'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      download: DownloadSvg\n    }\n  }\n\n  download () {\n    if (!this.isLock) {\n      return\n    }\n    const url = this.getAbsoluteURL(this.player.src)\n    downloadUtil(url)\n    this.isLock = true\n    this.timer = window.setTimeout(() => {\n      this.isLock = false\n      window.clearTimeout(this.timer)\n      this.timer = null\n    }, 300)\n  }\n\n  getAbsoluteURL (url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      const div = document.createElement('div')\n      div.innerHTML = `<a href=\"${url}\">x</a>`\n      url = div.firstChild.href\n    }\n    return url\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.download)\n    window.clearTimeout(this.timer)\n    this.timer = null\n  }\n\n  render () {\n    if (!this.config.download) {\n      return;\n    }\n    return `<xg-icon class=\"xgplayer-download\">\n      <div class=\"xgplayer-icon\">\n      ${this.icons.download}\n      </div>\n      <div class=\"xg-tips\">${this.text.download}</div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { POSITIONS } = Plugin\nexport default class ScreenShot extends Plugin {\n  static get pluginName () {\n    return 'screenShot'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 5,\n      quality: 0.92,\n      type: 'image/png',\n      format: '.png',\n      width: 600,\n      height: 337,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.screenShot === 'boolean') {\n      args.config.disable = !args.player.config.screenShot\n    }\n  }\n\n  onPluginsReady () {\n    this.show()\n    this.onClickBtn = this.onClickBtn.bind(this)\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  saveScreenShot (data, filename) {\n    const saveLink = document.createElement('a')\n    saveLink.href = data\n    saveLink.download = filename\n    let event = document.createEvent('MouseEvents')\n    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    saveLink.dispatchEvent(event)\n  }\n\n  createCanvans () {\n    const canvas = document.createElement('canvas')\n    this.canvasCtx = canvas.getContext('2d')\n    this.canvas = canvas\n    canvas.width = this.config.width || 600\n    canvas.height = this.config.height || 337.5\n  }\n\n  onClickBtn (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.canvas) {\n      this.createCanvans();\n    }\n    let img = new window.Image();\n    this.canvasCtx.drawImage(this.player.video, 0, 0, this.canvas.width, this.canvas.height)\n    const encoderOptions = this.config.quality\n    const type = this.config.type\n    const format = this.config.format\n    img.setAttribute('crossOrigin', 'anonymous')\n    img.src = this.canvas.toDataURL(type, encoderOptions).replace(type, 'image/octet-stream')\n    const screenShotImg = img.src.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream')\n    this.emit('screenShot', screenShotImg)\n    this.saveScreenShot(screenShotImg, '截图' + format)\n    img.onload = () => {\n      console.log('img.onload')\n      img = null;\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'screenshot': {\n        jp: 'play',\n        en: 'play',\n        zh: '截图'\n      }\n    }\n  }\n\n  registerIcons () {\n    return {\n      'screenshotIcon': null\n    }\n  }\n\n  destroy () {\n    this.bind(['click', 'touchend'], this.onClickBtn)\n  }\n\n  render () {\n    if (this.config.disable) {\n      return;\n    }\n    const className = this.icons.screenshotIcon ? 'xgplayer-icon' : 'xgplayer-icon btn-definition'\n    return `\n      <xg-icon class=\"xgplayer-shot\">\n      <div class=\"${className}\">\n      ${this.icons.screenshotIcon ? `${this.icons.screenshotIcon}` : `<span>${this.text.screenshot}</span>`} \n      </div>\n    </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst { Events, Util, Sniffer, POSITIONS } = Plugin\nexport default class DefinitionIcon extends Plugin {\n  static get pluginName () {\n    return 'Definition'\n  }\n\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 3,\n      list: null,\n      disable: false\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    // 记录切换的时候的播放器状态\n    this.curTime = 0\n    this.isPaused = true\n  }\n\n  afterCreate () {\n    this.once(Events.CANPLAY, () => {\n      if (this.config.list && this.config.list.length > 0) {\n        this.renderItemList()\n        this.show()\n      }\n    })\n    this.once('resourceReady', (list) => {\n      this.changeDefinitionList(list)\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.onToggle = this.onToggle.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onToggle)\n    this.bind('mouseleave', this.onToggle)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const {player} = this\n    const {list} = this.config\n    let src = player.config.url;\n    const a = document.createElement('a')\n    if (player.switchURL) {\n      this.switchUrl()\n    } else {\n      src = player.currentSrc || player.src\n    }\n    if (player['hls']) {\n      a.href = player['hls'].url\n      src = a.href\n    }\n\n    const liList = list.map(item => {\n      a.href = item.url\n      const className = player.dash ? (item.selected ? 'selected' : '') : (a.href === src ? 'selected' : '')\n      return `<li class=\"${className}\" cname=\"${item.name}\" url=\"${item.url}\">${item.name}</li>`\n    })\n    let cursrc = list.filter(item => {\n      a.href = item.url\n      if (player.dash) {\n        return item.selected === true\n      } else {\n        return a.href === src\n      }\n    })\n    this.find('.icon-text').innerHTML = (cursrc[0] || {name: '清晰度'}).name\n    this.find('.icon-list').innerHTML = liList.join('')\n  }\n\n  onCanplayChangeDefinition () {\n    const {player} = this\n    player.currentTime = this.curTime\n    if (!this.isPaused) {\n      let playPromise = player.play()\n      if (playPromise !== undefined && playPromise) {\n        // eslint-disable-next-line handle-callback-err\n        playPromise.catch(err => {})\n      }\n    }\n    player.emit('afterdefinitionChange')\n  }\n\n  onToggle (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  switchUrl (lastATag) {\n    const {player} = this\n    let curRUL = document.createElement('a');\n    ['mp4', 'hls', '__flv__', 'dash'].every(item => {\n      if (player[item]) {\n        if (player[item].url) {\n          curRUL.href = player[item].url\n        }\n        if (item === '__flv__') {\n          if (player[item]._options) {\n            curRUL.href = player[item]._options.url\n          } else {\n            curRUL.href = player[item]._mediaDataSource.url\n          }\n        }\n        return false\n      } else {\n        return true\n      }\n    })\n    if (lastATag && curRUL.href !== lastATag.href && !player.ended) {\n      player.switchURL(lastATag.href)\n    }\n  }\n\n  // 对外暴露 切换清晰度\n  changeDefinitionList (list) {\n    this.config.list = list\n    this.renderItemList()\n    this.show()\n  }\n\n  onItemClick (e) {\n    const {player} = this\n    const {list} = this.config\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.target && e.target.className === 'selected') {\n      return false\n    }\n    const a = document.createElement('a')\n    player.emit('beforeDefinitionChange', a.href)\n    if (player.dash) {\n      list.forEach(item => {\n        item.selected = false\n        if (item.name === e.target.innerHTML) {\n          item.selected = true\n        }\n      })\n    }\n    const curlSelected = this.find('.selected')\n    Util.addClass(e.target, 'selected')\n    curlSelected && Util.removeClass(curlSelected, 'selected')\n    const from = curlSelected ? curlSelected.getAttribute('cname') : ''\n    const to = e.target.getAttribute('cname')\n    a.href = e.target.getAttribute('url')\n    this.curTime = player.currentTime;\n    this.isPaused = player.paused\n    if (player.switchURL) {\n      this.switchUrl(a)\n    } else {\n      // if (player['hls']) {\n      //   let curRUL = document.createElement('a')\n      //   curRUL = player['hls'].url\n      // }\n      if (a.href !== player.currentSrc) {\n        if (!player.ended) {\n          player.src = a.href\n          this.once('canplay', () => {\n            this.onCanplayChangeDefinition()\n          })\n        }\n      }\n    }\n    this.find('.icon-text').innerHTML = to\n    player.emit('definitionChange', {from, to})\n    if (Sniffer.device === 'mobile') {\n      Util.removeClass(this.root, 'list-show')\n    }\n  }\n\n  render () {\n    const text = '清晰度'\n    return `<xg-icon class=\"xgplayer-playbackrate\" style=\"display: none;\">\n    <div class=\"xgplayer-icon btn-definition\"><span class=\"icon-text\">${text}</span></div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\n\nconst {Events, Util, Sniffer, POSITIONS} = Plugin\n\nexport default class PlaybackRate extends Plugin {\n  static get pluginName () {\n    return 'PlaybackRate'\n  }\n  // 默认配置信息\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 4,\n      list: [0.5, 0.75, {rate: 1, iconText: '倍速'}, 1.5, 2]\n    }\n  }\n\n  constructor (args) {\n    super(args)\n    this.curRate = 1\n  }\n\n  afterCreate () {\n    const {playerConfig, config} = this\n    if (Array.isArray(playerConfig.playbackRate)) {\n      config.list = playerConfig.playbackRate\n    }\n    this.once(Events.CANPLAY, () => {\n      this.show()\n    })\n    if (Sniffer.device === 'mobile') {\n      this.activeEvent = 'click'\n    } else {\n      this.activeEvent = 'mouseenter'\n    }\n    this.renderItemList();\n    this.onMouseenter = this.onMouseenter.bind(this)\n    this.onItemClick = this.onItemClick.bind(this)\n    this.bind(this.activeEvent, this.onMouseenter)\n    this.bind('mouseleave', this.onMouseenter)\n    this.bind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  show () {\n    if (!this.config.list || this.config.list.length === 0) {\n      return;\n    }\n    super.show()\n  }\n\n  onMouseenter (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    Util.hasClass(this.root, 'list-show') ? Util.removeClass(this.root, 'list-show') : Util.addClass(this.root, 'list-show')\n  }\n\n  onItemClick (e) {\n    const target = e.target\n    const cname = target.getAttribute('cname')\n    if (Number(cname) === this.curRate) {\n      return false\n    }\n    Util.removeClass(this.find('.selected'), 'selected')\n    Util.addClass(target, 'selected')\n    this.curRate = Number(cname)\n    this.player.playbackRate = Number(cname)\n    this.find('.icon-text').innerHTML = target.getAttribute('ctext')\n  }\n\n  destroy () {\n    this.unbind(this.activeEvent, this.onMouseenter)\n    this.unbind('mouseleave', this.onMouseenter)\n    this.unbind('.icon-list li', ['touched', 'click'], this.onItemClick)\n  }\n\n  renderItemList () {\n    const playbackRate = this.player.playbackRate || 1\n    this.curRate = playbackRate\n    let currentText = ''\n    const items = this.config.list.map((item) => {\n      let itemInfo = typeof item === 'object' ? item : {rate: item}\n      !itemInfo.text && (itemInfo.text = `${itemInfo.rate}x`)\n      if (itemInfo.rate === playbackRate) {\n        itemInfo.isCurrent = true\n        currentText = item.iconText || itemInfo.text\n      }\n      return `<li cname=\"${itemInfo.rate}\" ctext=\"${item.iconText || itemInfo.text}\" class=\"${itemInfo.isCurrent ? 'selected' : ''}\">${itemInfo.text}</li>`\n    })\n    this.find('.icon-list').innerHTML = items.join('')\n    this.find('.icon-text').innerHTML = currentText\n    this.show()\n  }\n\n  render () {\n    return `<xg-icon class=\"xgplayer-playbackrate\">\n    <div class=\"xgplayer-icon btn-definition\">\n    <span class=\"icon-text\"></span>\n    </div>\n    <ul class=\"icon-list\">\n    </ul>\n   </xg-icon>`\n  }\n}\n","import Plugin from '../../plugin'\nimport CssFullscreenChange from '../assets/cssFullscreenChange.svg'\n\nconst {Events, POSITIONS} = Plugin\nexport default class CssFullScreen extends Plugin {\n  static get pluginName () {\n    return 'cssFullscreen'\n  }\n\n  static get defaultConfig () {\n    return {\n      position: POSITIONS.CONTROLS_RIGTH,\n      index: 1,\n      disable: false\n    }\n  }\n\n  beforeCreate (args) {\n    if (typeof args.player.config.cssFullscreen === 'boolean') {\n      args.config.disable = !args.player.config.cssFullscreen\n    }\n  }\n\n  afterCreate () {\n    this.on(Events.CSS_FULLSCREEN_CHANGE, (isCssfullScreen) => {\n      this.animate(isCssfullScreen)\n    })\n    // 退出全屏的时候会同时退出网页全屏\n    this.on(Events.FULLSCREEN_CHANGE, (isFullScreen) => {\n      !isFullScreen && this.animate(isFullScreen)\n    })\n  }\n\n  afterPlayerInit () {\n    this.btnClick = this.btnClick.bind(this);\n    this.bind(['click', 'touchend'], this.btnClick)\n  }\n\n  btnClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.player.isCssfullScreen) {\n      this.player.getCssFullscreen()\n    } else {\n      this.player.exitCssFullscreen()\n    }\n  }\n\n  animate (isFullScreen) {\n    if (!this.root) {\n      return;\n    }\n    const path = this.find('.path')\n    const full = this.find('.path_full').getAttribute('d')\n    const exit = this.find('.path_exitfull').getAttribute('d')\n    isFullScreen ? path.setAttribute('d', exit) : path.setAttribute('d', full)\n  }\n\n  switchTips () {\n    this.find('.xg-tips').innerHTML = this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen\n  }\n\n  registerIcons () {\n    return {\n      cssFullscreen: CssFullscreenChange\n    }\n  }\n\n  registerLangauageTexts () {\n    return {\n      'cssFullscreen': {\n        jp: 'Cssfullscreen',\n        en: 'Cssfullscreen',\n        zh: '进入样式全屏'\n      },\n      exitCssFullscreen: {\n        jp: 'Exit cssfullscreen',\n        en: 'Exit cssfullscreen',\n        zh: '退出样式全屏'\n      }\n    }\n  }\n\n  destroy () {\n    this.unbind(['click', 'touchend'], this.btnClick)\n  }\n\n  render () {\n    if (!this.playerConfig.cssFullscreen) {\n      return\n    }\n    return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    ${this.icons.cssFullscreen}\n    </div>\n    <div class=\"xg-tips\">${this.isCssfullScreen ? this.text.exitCssFullscreen : this.text.cssFullscreen}</div>\n    </xg-icon>`\n  }\n}\n","import Replay from '../plugins/replay';\nimport Poster from '../plugins/poster';\nimport Start from '../plugins/start';\nimport Enter from '../plugins/enter';\nimport Miniscreen from '../plugins/miniScreen';\nimport PC from '../plugins/pc'\nimport Mobile from '../plugins/mobile'\nimport Keyboard from '../plugins/keyboard'\nimport Loading from '../plugins/loading'\nimport sniffer from '../utils/sniffer';\n// import Danmu from '../plugins/danmu'\nimport Progress from '../plugins/progress'\nimport PlayIcon from '../plugins/play'\nimport FullScreen from '../plugins/fullscreen'\nimport TimeIcon from '../plugins/time'\nimport Volume from '../plugins/volume'\nimport RotateIcon from '../plugins/rotate'\nimport PIPIcon from '../plugins/pip'\nimport PlayNextIcon from '../plugins/playNext'\nimport DownLoadIcon from '../plugins/download'\nimport ScreenShotIcon from '../plugins/screenShot'\nimport DefinitionIcon from '../plugins/definition'\nimport PlaybackRateIcon from '../plugins/playbackRate'\nimport CssFullScreen from '../plugins/cssFullScreen'\n\nexport default class DefaultPreset {\n  constructor () {\n    const contolsIcons = [Progress, PlayIcon, FullScreen, TimeIcon, Volume,\n      RotateIcon, PlayNextIcon, DefinitionIcon, PlaybackRateIcon, CssFullScreen, DownLoadIcon, ScreenShotIcon]\n\n    const barIcons = [{\n      plugin: PIPIcon,\n      options: {\n        index: 0,\n        position: PIPIcon.POSITIONS.ROOT_RIGHT\n      }}]\n\n    const layers = [Replay, Poster, Start, Loading, Enter, Miniscreen]\n\n    this.plugins = [...contolsIcons, ...layers, ...barIcons]\n    switch (sniffer.device) {\n      case 'pc':\n        this.plugins.push(...[Keyboard, PC]);\n        break;\n      case 'mobile':\n        this.plugins.push(Mobile);\n        break;\n      default:\n        this.plugins.push(...[Keyboard, PC])\n    }\n    this.ignores = []\n  }\n}\n","import Player from './player'\nimport * as Plugins from './plugins'\nimport defaultPreset from './presets/default';\n\nPlayer.defaultPreset = defaultPreset;\nPlayer.defaultPlugins = Plugins;\n\nexport default Player\n"],"names":["match","el","selector","vendor","call","nodes","parentNode","querySelectorAll","i","length","detect","bind","window","addEventListener","unbind","removeEventListener","prefix","_createElement","tag","name","dom","document","createElement","className","registerIconsObj","iconsConfig","plugin","keys","map","iconKey","defineProperty","icons","_icons","config","playerConfig","registerTextObj","textConfig","key","text","lang","indexOf","split","getDefaultConfig","documentElement","getAttribute","navigator","language","toLocaleLowerCase","styleInject","css","ref","insertAt","head","getElementsByTagName","style","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","addAnimate","seconds","callback","start","end","AnimateMap","clearTimeout","id","setTimeout","_undefined","value","possibleTypes","object","function","undefined","isValue","hasOwnProperty","isObject","constructor","prototype","error","apply","isPrototype","classRe","functionToString","Function","toString","isFunction","test","obj","assign","Object","foo","bar","trzy","e","require$$0","val","require$$1","TypeError","max","Math","dest","src","arguments","forEach","Array","create","process","opts1","result","options","str","contains","String","searchString","this","module","dscr","c","w","desc","configurable","enumerable","writable","normalizeOpts","gs","get","set","isPlainFunction","fn","on","once","off","emit","methods","descriptors","base","defineProperties","descriptor","listener","data","callable","__ee__","push","self","__eeOnceListener__","listeners","candidate","splice","l","args","slice","d","exports","o","emitter","util","createDom","tpl","attrs","cname","innerHTML","item","setAttribute","hasClass","classList","some","RegExp","addClass","replace","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","getElementById","padStart","pad","charstr","len","maxlen","ceil","chars","r","join","substring","format","time","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","deepCopy","dst","Node","concat","getBgImage","url","currentStyle","getComputedStyle","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","setInterval","context","eventName","intervalFunc","frequency","_interval","clearInterval","createImgBtn","imgUrl","width","height","btn","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","eval","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","fun","checkIsObject","hide","display","show","ErrorTypes","Errors","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","msg","version","errorCode","mediaError","playerVersion","errorType","domain","ex","arg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","RATE_CHANGE","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","SEI_PARSED","Proxy","_hasStart","_currentTime","_duration","videoConfig","autoplay","playsinline","mediaType","videoAttrbutes","loop","defaultPlaybackRate","video","autoplayMuted","muted","_initEvents","_emitEvent","funName","player","lastBuffer","ev","charAt","toUpperCase","evItem","videoEventHandler","errorHandler","_this2","curBuffer","buffered","code","pause","removeAttribute","load","k","evName","evFunc","_this3","play","canPlayType","range","bool","isTrue","crossOrigin","defaultMuted","err","status","en","paused","playbackRate","rate","played","preload","seekable","seeking","volume","vol","sniffer","os","isPc","ua","userAgent","toLowerCase","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","BasePlugin","Util","beforeCreate","__args","__events","__init","Obj","defineGetterOrSetter","pluginName","_this","logger","isArray","res","offAll","destroy","Sniffer","Events","pluginsManager","cgid","_pluginInfoId","Date","getTime","pluginGroup","lazyPlugin","timeout","Promise","race","loader","then","__esModule","default","register","resolve","reject","Error","init","_plugins","plugins","originalOptions","_originalOptions","_player","isSupported","warn","defaultConfig","root","index","_instance","func","afterCreate","_destroy","cName","retPromise","log","pluginsRet","beforePlayerInit","ret","all","catch","prevTask","_loadingPlugins","afterPlayerInit","pluginsMap","_args","unRegister","onPluginsReady","proto","Element","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","element","checkYoSelf","parent","matches","capture","forceCaptureEvents","delegateTarget","closest","Plugin","html","children","insertIdx","parseInt","isDomElement","HTMLElement","insertAdjacentHTML","_parent","_el","registerIcons","registerLangauageTexts","renderStr","render","message","insert","attr","setAttr","setStyle","__registeChildren","_children","_plugin","registerPlugin","_c","findPlugin","qs","eventType","bindEL","unbindEL","htmlStr","innerHtml","eventHandle","isBubble","getPropertyValue","removeChild","ROOT_TYPES","POSITIONS","usePreset","Preset","presetInst","preset","ignores","Controls","controls","disable","left","find","center","right","isMini","mouseEnter","mouseOut","position","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_CENTER","FULLSCREEN_EVENTS","Player","presets","defaultPreset","userTimer","waitTimer","isProgressMoving","isReady","isPlaying","isSeeking","isActive","isCssfullScreen","_initDOM","_bindEvents","_registerPresets","_registerPlugins","onReady","videoInit","hasStart","vid","topBar","leftBar","rightBar","STATE_CLASS","DEFAULT","device","NO_START","NO_CONTROLS","fluid","onDestroy","mousemoveFunc","_this4","onFullscreenChange","fullEl","_fullscreenEl","fullscreen","FULLSCREEN","getVideoSize","closeFocusVideoFocus","focus","playFunc","closePlayVideoFocus","canPlayFunc","loadeddataFunc","afterInit","ignoresStr","lazy","loadingPlugin","lazyRegister","_this6","forceBeforeInited","_this7","PLUFGIN","ROOT_RIGHT","ROOT_LEFT","ROOT_TOP","beforeInit","_this8","_startInit","fileName","lineNumber","playPromise","AUTOPLAY","reloadFunc","isDelDom","classNameList","_this10","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","CSS_FULLSCREEN","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","ACTIVE","inactive","PAUSED","LOADING","cls","videoWidth","videoHeight","containerSize","getBoundingClientRect","fitVideoSize","getPlugins","__url","posterUrl","poster","_isFullScreen","Poster","Replay","preventDefault","replay","path","transform","MiniScreenIcon","getMini","exitMini","onClick","miniscreen","MiniScreen","pos","innerWidth","top","innerHeight","coordinate","scrollY","lastStyle","isMoveing","mini","isShowIcon","miniIcon","onCancelClick","onCenterClick","disableDrag","onMousedown","isScrollSwitch","onScroll","defaultView","abs","scrollHeight","getCss","scrollTop","currentX","currentY","onMouseup","onMousemove","maxTop","maxLeft","nowX","nowY","disX","disY","_this5","PauseIcon","PlayIcon","PlayNextIcon","idx","urlList","initEvents","playNext","PCPlugin","onEnter","onVideoClick","onVideoDblClick","onContextmenu","onEntered","onAutoPlayPrevented","onMouseEnter","onMouseLeave","stopPropagation","returnValue","cancelBubble","closeVideoStopPropagation","clk","timer","closeVideoClick","closeVideoDblclick","getFullscreen","leavePlayerTimer","closePlayerBlur","leavePlayerTime","closeControlsBlur","MobilePlugin","isTouchMove","onTouchEnd","closeVideoTouch","PlaceHolderPlugin","Start","animate","PlaySvg","PauseSvg","isShowEnded","isShowPause","TextTrackPlugin","textTrackDom","textTrack","track","label","kind","srclang","crossorigin","textTrackStyle","styleStr","wrap","sheet","insertRule","addRule","ErrorPlugin","handleCanPlay","handleError","textDOM","EnterPlugin","barStr","Keyboard","extendkeyCodeMap","keyCodeMap","key1","keyShortcut","seekStep","mergekeyCodeMap","onKeydown","onBodyKeyDown","isBodyTarget","flag","keyCode","noBodyTarget","toFixed","exitCssFullscreen","body","checkCode","handleKeyCode","action","funKey","Loading","loadingIcon","defaultDot","ProgressDot","dotsList","dots","createDotDom","dot","newDots","min","defaultThumbnailConfig","Progress","useable","thumbnail","playedBar","cachedBar","pointTip","progressBtn","thumbnailDom","initThumbnail","onTimeupdate","onCacheUpdate","bindDomEvents","ProgressDots","progressDot","thumbnailConfig","scale","mouseDown","mouseMove","mouseLeave","allowSeekAfterEnded","containerWidth","move","now","dash","closeMoveSeek","updateTime","Number","up","passive","blur","textContent","pointWidth","pleft","updateThumbnailPosition","pic_num","urls","interval","row","col","indexInPage","rowIndex","colIndex","timeIcon","containerLeft","j","Play","btnClick","Fullscreen","isFullScreen","useCssFullscreen","getCssFullscreen","switchCallback","switchFullScreen","full","exit","fullscreenChange","Time","durationDom","timeDom","onTimeUpdate","current","Infinity","isLive","Volume","drag","changeMuted","onBarMousedown","onMouseenter","onMouseleave","onVolumeChange","slider","barRect","x","y","isMove","onMove","onUp","pathLarge","pathSmall","pathMuted","volumeChange","Rotate","rotateDeg","rotate","onBtnClick","clockwise","innerRotate","offsetWidth","offsetHeight","targetWidth","targetHeight","transformOrigin","webKitTransform","times","factor","updateRotateDeg","PIP","pip","showIcon","isPIPAvailable","switchPIP","initPipEvents","leavePIPCallback","enterPIPCallback","pictureInPictureElement","exitPictureInPicture","requestPictureInPicture","reason","pictureInPictureEnabled","disablePictureInPicture","pipicon","factory","download","strFileName","strMimeType","dataUrlToBlob","strUrl","parts","binData","atob","decodeURIComponent","pop","mx","uiArr","Uint8Array","charCodeAt","myBlob","saver","winMode","anchor","click","URL","revokeObjectURL","defaultMime","open","confirm","location","f","blob","reader","mimeType","payload","Blob","MozBlob","WebKitBlob","ajax","XMLHttpRequest","responseType","onload","response","send","msSaveBlob","tempUiArr","createObjectURL","btoa","encodeURIComponent","FileReader","readAsDataURL","Download","isLock","getAbsoluteURL","div","ScreenShot","screenShot","onClickBtn","filename","saveLink","createEvent","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","createCanvans","img","Image","drawImage","encoderOptions","quality","toDataURL","screenShotImg","saveScreenShot","screenshotIcon","screenshot","DefinitionIcon","curTime","isPaused","list","renderItemList","changeDefinitionList","activeEvent","onToggle","onItemClick","switchURL","switchUrl","liList","selected","cursrc","lastATag","curRUL","_options","_mediaDataSource","curlSelected","from","to","onCanplayChangeDefinition","PlaybackRate","curRate","iconText","currentText","items","itemInfo","isCurrent","CssFullScreen","cssFullscreen","DefaultPreset","contolsIcons","FullScreen","TimeIcon","RotateIcon","PlaybackRateIcon","DownLoadIcon","ScreenShotIcon","barIcons","PIPIcon","layers","Enter","Miniscreen","PC","Mobile","defaultPlugins","Plugins"],"mappings":"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"}