{"version":3,"sources":["webpack://xgplayer/webpack/universalModuleDefinition","webpack://xgplayer/webpack/bootstrap","webpack://xgplayer/./src/utils/util.js","webpack://xgplayer/./node_modules/css-loader/lib/css-base.js","webpack://xgplayer/./node_modules/isomorphic-style-loader/insertCss.js","webpack://xgplayer/./node_modules/es5-ext/object/is-value.js","webpack://xgplayer/./src/utils/sniffer.js","webpack://xgplayer/./src/error.js","webpack://xgplayer/./node_modules/type/value/is.js","webpack://xgplayer/./src/utils/xgplayerTimeRange.js","webpack://xgplayer/./src/player.js","webpack://xgplayer/./src/skin/controls/i18n.js","webpack://xgplayer/./src/proxy.js","webpack://xgplayer/./node_modules/event-emitter/index.js","webpack://xgplayer/./node_modules/d/index.js","webpack://xgplayer/./node_modules/type/plain-function/is.js","webpack://xgplayer/./node_modules/type/function/is.js","webpack://xgplayer/./node_modules/type/prototype/is.js","webpack://xgplayer/./node_modules/type/object/is.js","webpack://xgplayer/./node_modules/es5-ext/object/assign/index.js","webpack://xgplayer/./node_modules/es5-ext/object/assign/is-implemented.js","webpack://xgplayer/./node_modules/es5-ext/object/assign/shim.js","webpack://xgplayer/./node_modules/es5-ext/object/keys/index.js","webpack://xgplayer/./node_modules/es5-ext/object/keys/is-implemented.js","webpack://xgplayer/./node_modules/es5-ext/object/keys/shim.js","webpack://xgplayer/./node_modules/es5-ext/function/noop.js","webpack://xgplayer/./node_modules/es5-ext/object/valid-value.js","webpack://xgplayer/./node_modules/es5-ext/object/normalize-options.js","webpack://xgplayer/./node_modules/es5-ext/string/#/contains/index.js","webpack://xgplayer/./node_modules/es5-ext/string/#/contains/is-implemented.js","webpack://xgplayer/./node_modules/es5-ext/string/#/contains/shim.js","webpack://xgplayer/./node_modules/es5-ext/object/valid-callable.js","webpack://xgplayer/./node_modules/event-emitter/all-off.js","webpack://xgplayer/./node_modules/es5-ext/object/valid-object.js","webpack://xgplayer/./node_modules/es5-ext/object/is-object.js","webpack://xgplayer/./src/skin/style/index.scss?f376","webpack://xgplayer/./src/skin/style/index.scss","webpack://xgplayer/./src/controls/mobile.js","webpack://xgplayer/./src/controls/pc.js","webpack://xgplayer/./src/controls/start.js","webpack://xgplayer/./src/skin/controls/start.js","webpack://xgplayer/./src/skin/assets/startPlay.svg","webpack://xgplayer/./src/skin/assets/startPause.svg","webpack://xgplayer/./src/skin/style/controls/start.scss?6084","webpack://xgplayer/./src/skin/style/controls/start.scss","webpack://xgplayer/./src/core_player.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","createDom","hasClass","addClass","removeClass","toggleClass","findDom","padStart","format","event","typeOf","deepCopy","getBgImage","copyDom","_setInterval","_clearInterval","createImgBtn","isWeiXin","isUc","computeWatchDur","offInDestroy","on","once","getBuffered2","checkIsBrowser","el","tpl","attrs","cname","dom","document","item","className","Array","some","RegExp","reg","sel","e","str","length","pad","charstr","String","len","maxlen","Math","chars","time","window","hour","minute","second","touch","obj","dst","src","url","a","back","node","context","eventName","intervalFunc","frequency","setInterval","clearInterval","imgUrl","width","height","btn","w","h","unit","Number","ua","played","arr","begin","end","j","b","watch_dur","fn","offEvent","_fn","data","vbuffered","maxHoleDuration","buffered","start","diff","buffered_2","buf2len","buf2end","XgplayerTimeRange","util","useSourceMap","list","toString","map","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","push","inserted","removeCss","ids","forEach","elem","getElementById","parentNode","removeChild","styles","_temp","_ref","_ref$replace","replace","_ref$prepend","prepend","_ref$prefix","prefix","_styles$i","css","media","createElement","setAttribute","cssText","match","p1","fromCharCode","file","textContent","styleSheet","head","insertBefore","childNodes","appendChild","_undefined","require","val","sniffer","navigator","ie","firfox","chrome","opera","safari","keys","filter","isWindowsPhone","test","isSymbian","isAndroid","isFireFox","isTablet","isPhone","isPc","ErrorTypes","network","code","msg","remark","mse","parse","decoder","runtime","timeout","other","errd","line","handle","version","errorCode","mediaError","arguments","arg","index","bufferedList","Player","ignores","whitelist","lang","inactive","volume","controls","controlsList","unselectable","onselectstart","Errors","type","vid","console","s_i18n","self","fetch","method","headers","Accept","res","err","evName","evFunc","player","video","videoWidth","containerSize","videoHeight","setTimeout","config","playPromise","isDelDom","_interval","classNameList","split","clearTimeout","keyShortcut","destroyFunc","_replay","param","defaultUserGestureEventHandler","userGestureEventMiddleware","descriptor","enablePausedInactive","k","controlLst","control","Proxy","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","REPLAY","ERROR","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","MINIPLAYER","SCREENSHOT","LIVE","OFF","MINIPLAYER_DRAG","AIRPLAY_TIPS","set","options","autoplay","playsinline","airplay","tabindex","mediaType","textTrackDom","nativeTextTrack","track","style","styleStr","wrap","videoConfig","getElementsByTagName","trackDoms","lastBuffer","defaultVideoEventHandler","Date","indexOf","curBuffer","videoEventHandler","error","canPlayType","range","currentTime","bool","isTrue","isFinite","ended","status","en","cn","rate","posterUrl","poster","vol","off","emit","methods","descriptors","base","callable","apply","Function","defineProperties","configurable","writable","listener","__eeOnceListener__","__ee__","listeners","candidate","splice","args","slice","isValue","isPlainFunction","assign","normalizeOpts","contains","dscr","desc","gs","undefined","isFunction","classRe","functionToString","isPrototype","isObject","constructor","possibleTypes","foo","bar","trzy","max","dest","TypeError","process","opts1","result","searchString","emitter","function","insertCss","locals","_getContent","_getCss","_insertCss","clk","_click_","clickedTime","first","element","onTouch","fullscreen","Event","onCanPlay","StartPlayIcon","StartPauseIcon","onPlayerReady","Mobile","Pc","Start","S_start"],"mappings":"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","file":"core_player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xgplayer\"] = factory();\n\telse\n\t\troot[\"xgplayer\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 172);\n","import XgplayerTimeRange from './xgplayerTimeRange'\n\nexport function createDom(el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nexport function hasClass(el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else if (el.className) {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  } else {\n    return false;\n  }\n}\n\nexport function addClass(el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nexport function removeClass(el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nexport function toggleClass(el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (hasClass(el, item)) {\n      removeClass(el, item)\n    } else {\n      addClass(el, item)\n    }\n  })\n}\n\nexport function findDom(el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nexport function padStart(str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nexport function format(time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = padStart(Math.floor(time / 3600), 2, 0)\n  let minute = padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nexport function event(e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nexport function typeOf(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nexport function deepCopy(dst, src) {\n  if (typeOf(src) === 'Object' && typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      if (typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (!dst[key]) {\n          dst[key] = src[key]\n        } else {\n          deepCopy(dst[key], src[key])\n        }\n      } else if (typeOf(src[key]) === 'Array') {\n        dst[key] = typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\nexport function getBgImage(el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nexport function copyDom(dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nexport function _setInterval(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nexport function _clearInterval(context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nexport function createImgBtn(name, imgUrl, width, height) {\n  let btn = createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = Number(width.slice(0, width.indexOf(item)).trim())\n        h = Number(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nexport function isWeiXin() {\n    let ua = window.navigator.userAgent.toLowerCase()\n    return ua.indexOf('micromessenger') > -1\n}\n\nexport function isUc() {\n  let ua = window.navigator.userAgent.toLowerCase()\n  return ua.indexOf('ucbrowser') > -1\n}\n\nexport function computeWatchDur(played = []) {\n  let arr = []\n  for (let i = 0; i < played.length; i++) {\n    if(!played[i].end || played[i].begin < 0 || played[i].end < 0 || played[i].end < played[i].begin) {\n      continue\n    }\n    if(arr.length < 1) {\n      arr.push({begin: played[i].begin, end: played[i].end})\n    } else {\n      for (let j = 0; j < arr.length; j++) {\n        let begin = played[i].begin\n        let end = played[i].end\n        if(end < arr[j].begin) {\n          arr.splice(j, 0, {begin, end})\n          break\n        } else if(begin > arr[j].end) {\n          if(j > arr.length - 2) {\n            arr.push({begin, end})\n            break\n          }\n        } else {\n          let b = arr[j].begin\n          let e = arr[j].end\n          arr[j].begin = Math.min(begin, b)\n          arr[j].end = Math.max(end, e)\n          break\n        }\n      }\n    }\n  }\n  let watch_dur = 0\n  for (let i = 0; i < arr.length; i++) {\n    watch_dur += arr[i].end - arr[i].begin\n  }\n  return watch_dur\n}\n\nexport function offInDestroy(object, event, fn, offEvent) {\n  function onDestroy () {\n    object.off(event, fn)\n    object.off(offEvent, onDestroy)\n  }\n  object.once(offEvent, onDestroy)\n}\n\nexport function on(object, event, fn, offEvent) {\n  if (offEvent) {\n    object.on(event, fn)\n    offInDestroy(object, event, fn, offEvent)\n  } else {\n    let _fn = data => {\n      fn(data)\n      object.off(event, _fn)\n    }\n    object.on(event, _fn)\n  }\n}\n\nexport function once(object, event, fn, offEvent) {\n  if (offEvent) {\n    object.once(event, fn)\n    offInDestroy(object, event, fn, offEvent)\n  } else {\n    let _fn = data => {\n      fn(data)\n      object.off(event, _fn)\n    }\n    object.once(event, _fn)\n  }\n}\n\nexport function getBuffered2(vbuffered, maxHoleDuration = 0.5) { //ref: hls.js\n  let buffered = []\n  for (let i = 0; i < vbuffered.length; i++) {\n    buffered.push({ start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i), end: vbuffered.end(i) });\n  }\n  buffered.sort(function (a, b) {\n    let diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  let buffered_2 = []\n  if (maxHoleDuration) {\n    for (let i = 0; i < buffered.length; i++) {\n      let buf2len = buffered_2.length\n      if (buf2len) {\n        let buf2end = buffered_2[buf2len - 1].end\n        if ((buffered[i].start - buf2end) < maxHoleDuration) {\n          if (buffered[i].end > buf2end) {\n            buffered_2[buf2len - 1].end = buffered[i].end\n          }\n        } else {\n          buffered_2.push(buffered[i])\n        }\n      } else {\n        buffered_2.push(buffered[i])\n      }\n    }\n  } else {\n    buffered_2 = buffered\n  }\n  return new XgplayerTimeRange(buffered_2)\n}\n\nexport function checkIsBrowser() {\n  return !(typeof(window) === 'undefined' || typeof(window.document) === 'undefined' || typeof(window.document.createElement) === 'undefined')\n}\n\nexport const util = {\n  createDom, hasClass, addClass, removeClass, toggleClass, findDom, padStart, format, event, typeOf, \n  deepCopy, getBgImage, copyDom, setInterval: _setInterval, clearInterval: _clearInterval, createImgBtn, isWeiXin, isUc, computeWatchDur,\n  offInDestroy, on, once, getBuffered2, checkIsBrowser\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n'use strict';\n\nvar inserted = {};\n\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(\"0x\" + p1);\n  }));\n}\n\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(id);\n\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\nfunction insertCss(styles, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === void 0 ? false : _ref$prepend,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? 's' : _ref$prefix;\n\n  var ids = [];\n\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = styles[i],\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n    var id = \"\" + prefix + moduleId + \"-\" + i;\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n    var elem = document.getElementById(id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n\n    if (sourceMap && typeof btoa === 'function') {\n      cssText += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + b64EncodeUnicode(JSON.stringify(sourceMap)) + \"*/\";\n      cssText += \"\\n/*# sourceURL=\" + sourceMap.file + \"?\" + id + \"*/\";\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n//# sourceMappingURL=insertCss.js.map\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","let sniffer = {}\n\nObject.defineProperty(sniffer, 'device', {\n  get: function () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  }\n})\n\nObject.defineProperty(sniffer, 'browser', {\n  get: function () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0] || ''\n  }\n})\n\nObject.defineProperty(sniffer, 'os', {\n  get: function () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n})\n\nexport default sniffer\n","import {version} from '../version.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\n    ended, errd = {line: '', handle: '', msg: '', version: ''}, errorCode, mediaError) {\n    let r = {}\n    if (arguments.length > 1) {\n      r.playerVersion = version // 播放器版本\n      r.errorType = type\n      r.domain = document.domain // domain\n      r.duration = duration // 视频时长\n      r.currentTime = currentTime\n      r.networkState = networkState\n      r.readyState = readyState\n      r.currentSrc = currentSrc\n      r.src = src\n      r.ended = ended\n      r.errd = errd // 错误详情\n      r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n      r.errorCode = errorCode\n      r.mediaError = mediaError\n    } else {\n      const arg = arguments[0]\n      Object.keys(arg).map(key => {\n        r[key] = arg[key]\n      })\n      r.ex = ((arg.type && ErrorTypes[arg.type]) || {}).msg\n    }\n    return r\n  }\n}\nexport default Errors\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","export default class XgplayerTimeRange {\n    constructor(bufferedList) {\n        this.bufferedList = bufferedList\n    }\n\n    start (index) {\n      return this.bufferedList[index].start\n    }\n\n    end (index) {\n        return this.bufferedList[index].end\n    }\n\n    get length () {\n        return this.bufferedList.length\n    }\n}\n","import Proxy from './proxy'\nimport { util, deepCopy, findDom, createDom, addClass, typeOf, hasClass, removeClass, checkIsBrowser } from './utils/util'\nimport sniffer from './utils/sniffer'\nimport XgplayerTimeRange from './utils/xgplayerTimeRange'\nimport Errors from './error'\nimport allOff from 'event-emitter/all-off'\nimport s_i18n from './skin/controls/i18n.js'\nimport './skin/style/index.scss'\n\nimport {\n  version\n} from '../version.json'\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = deepCopy({\n      width: 600,\n      height: 337.5,\n      ignores: [],\n      whitelist: [],\n      lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n      inactive: 3000,\n      volume: 0.6,\n      controls: true,\n      controlsList: ['nodownload']\n    }, options)\n    this.version = version\n    this.userTimer = null\n    this.waitTimer = null\n    this.history = []\n    this.isProgressMoving = false\n    this.root = findDom(document, `#${this.config.id}`)\n    this.controls = createDom('xg-controls', '', {\n      unselectable: 'on',\n      onselectstart: 'return false'\n    }, 'xgplayer-controls')\n    if (this.config.isShowControl) {\n      this.controls.style.display = 'none'\n    }\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit('error', new Errors({\n          type: 'use',\n          errd: {\n            line: 45,\n            handle: 'Constructor',\n            msg: 'container id can\\'t be empty'\n          },\n          vid: this.config.vid\n        }))\n        console.error('container id can\\'t be empty')\n        return false\n      }\n    }\n    // this.rootBackup = copyDom(this.root)\n    addClass(this.root, `xgplayer xgplayer-${sniffer.device} xgplayer-nostart ${this.config.controls ? '' : 'xgplayer-no-controls'}`)\n    this.root.appendChild(this.controls)\n    if (this.config.fluid) {\n      this.root.style['max-width'] = '100%'\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n\n      this.video.style['position'] = 'absolute'\n      this.video.style['top'] = '0'\n      this.video.style['left'] = '0'\n    } else {\n      // this.root.style.width = `${this.config.width}px`\n      // this.root.style.height = `${this.config.height}px`\n      if (this.config.width) {\n        if (typeof this.config.width !== 'number') {\n          this.root.style.width = this.config.width\n        } else {\n          this.root.style.width = `${this.config.width}px`\n        }\n      }\n      if (this.config.height) {\n        if (typeof this.config.height !== 'number') {\n          this.root.style.height = this.config.height\n        } else {\n          this.root.style.height = `${this.config.height}px`\n        }\n      }\n    }\n    if (this.config.execBeforePluginsCall) {\n      this.config.execBeforePluginsCall.forEach(item => {\n        item.call(this, this)\n      })\n    }\n    if(!this.config.closeI18n) {\n      Player.install(s_i18n.name, s_i18n.method)\n    }\n    if (this.config.controlStyle && typeOf(this.config.controlStyle) === 'String') {\n      let self = this\n      fetch(self.config.controlStyle, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json'\n        }\n      }).then(function (res) {\n        if (res.ok) {\n          res.json().then(function (obj) {\n            for (var prop in obj) {\n              if (obj.hasOwnProperty(prop)) {\n                self.config[prop] = obj[prop]\n              }\n            }\n            self.pluginsCall()\n          })\n        }\n      }).catch(function (err) {\n        console.log('Fetch错误:' + err)\n      })\n    } else {\n      this.pluginsCall()\n    }\n    if(this.config.controlPlugins) {\n      Player.controlsRun(this.config.controlPlugins, this)\n    }\n    this.ev.forEach((item) => {\n      let evName = Object.keys(item)[0]\n      let evFunc = this[item[evName]]\n      if (evFunc) {\n        this.on(evName, evFunc)\n      }\n    });\n\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    })\n    let player = this\n    this.mousemoveFunc = function () {\n      player.emit('focus')\n      if (!player.config.closeFocusVideoFocus) {\n        player.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n    this.playFunc = function () {\n      player.emit('focus')\n      if (!player.config.closePlayVideoFocus) {\n        player.video.focus()\n      }\n    }\n    player.once('play', this.playFunc)\n\n    this.getVideoSize = function () {\n      if (this.video.videoWidth && this.video.videoHeight) {\n        let containerSize = player.root.getBoundingClientRect()\n        if (player.config.fitVideoSize === 'auto') {\n          if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n            player.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n          } else {\n            player.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n          }\n        } else if (player.config.fitVideoSize === 'fixWidth') {\n          player.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else if (player.config.fitVideoSize === 'fixHeight') {\n          player.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      }\n    }\n    player.once('loadeddata', this.getVideoSize)\n\n    setTimeout(() => {\n      this.emit('ready')\n      this.isReady = true\n    }, 0)\n\n    if (this.config.videoInit) {\n      if (hasClass(this.root, 'xgplayer-nostart')) {\n        this.start()\n      }\n    }\n    if (player.config.rotate) {\n      player.on('requestFullscreen', this.updateRotateDeg)\n      player.on('exitFullscreen', this.updateRotateDeg)\n    }\n\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc)\n      player.off('destroy', onDestroy)\n    }\n    player.once('destroy', onDestroy)\n  }\n\n  attachVideo () {\n    if(!window.XgVideoProxy) {\n      this.root.insertBefore(this.video, this.root.firstChild)\n    }\n    setTimeout(() => {\n      this.emit('complete')\n      if(this.danmu && typeof this.danmu.resize === 'function') {\n        this.danmu.resize()\n      }\n    }, 1)\n  }\n\n  start (url = this.config.url) {\n    let player = this\n    if (!url || url === '') {\n      this.emit('urlNull')\n    }\n    this.canPlayFunc = function () {\n      player.off('canplay', player.canPlayFunc)\n      let playPromise = player.video.play()\n      if (playPromise !== undefined && playPromise) {\n        playPromise.then(function () {\n          player.emit('autoplay started')\n        }).catch(function () {\n          player.emit('autoplay was prevented')\n          addClass(player.root, 'xgplayer-is-autoplay')\n        })\n      }\n    }\n    if (typeOf(url) !== 'Array') {\n      if (typeOf(url) === 'String' && url.indexOf('blob:') > -1 && url === this.video.src) {\n        // 在Chromium环境下用mse url给video二次赋值会导致错误\n      } else {\n        this.video.src = url\n      }\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n    if (this.config.autoplay) {\n      if (sniffer.os.isPhone) {\n        this.canPlayFunc()\n      } else {\n        this.on('canplay', this.canPlayFunc)\n      }\n    }\n    if(!this.config.disableStartLoad) {\n      this.video.load()\n    }\n    this.attachVideo()\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      // eslint-disable-next-line handle-callback-err\n      let playPromise = this.play()\n      if (playPromise !== undefined && playPromise) {\n        playPromise.catch(err => {})\n      }\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    let player = this\n    clearInterval(this.bulletResizeTimer)\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    if (this.checkTimer) {\n      clearInterval(this.checkTimer)\n    }\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    this.ev.forEach((item) => {\n      let evName = Object.keys(item)[0]\n      let evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n    });\n    if (this.loadeddataFunc) {\n      this.off('loadeddata', this.loadeddataFunc)\n    }\n    if (this.reloadFunc) {\n      this.off('loadeddata', this.reloadFunc)\n    }\n    if (this.replayFunc) {\n      this.off('play', this.replayFunc)\n    }\n    if (this.playFunc) {\n      this.off('play', this.playFunc)\n    }\n    if (this.getVideoSize) {\n      this.off('loadeddata', this.getVideoSize)\n    };\n    ['focus', 'blur'].forEach(item => {\n      this.off(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    })\n    if (!this.config.keyShortcut || this.config.keyShortcut === 'on') {\n      ['video', 'controls'].forEach(item => {\n        if (this[item]) {\n          this[item].removeEventListener('keydown', function (e) { player.onKeydown(e, player) })\n        }\n      })\n    }\n\n    function destroyFunc () {\n      this.emit('destroy')\n      // this.root.id = this.root.id + '_del'\n      // parentNode.insertBefore(this.rootBackup, this.root)\n\n      // fix video destroy https://stackoverflow.com/questions/3258587/how-to-properly-unload-destroy-a-video-element\n      this.video.removeAttribute('src') // empty source\n      this.video.load()\n      if (isDelDom) {\n        // parentNode.removeChild(this.root)\n        this.root.innerHTML = ''\n        let classNameList = this.root.className.split(' ')\n        if (classNameList.length > 0) {\n          this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n        } else {\n          this.root.className = ''\n        }\n      }\n\n      for (let k in this) {\n        // if (k !== 'config') {\n        delete this[k]\n        // }\n      }\n      allOff(this)\n    }\n\n    if (!this.paused) {\n      this.pause()\n      this.once('pause', destroyFunc)\n    } else {\n      destroyFunc.call(this)\n    }\n    super.destroy()\n  }\n\n  replay () {\n    let self = this\n    let _replay = this._replay\n    // ie9 bugfix\n    removeClass(this.root, 'xgplayer-ended')\n    if(sniffer.browser.indexOf('ie') > -1) {\n      this.emit('play')\n      this.emit('playing')\n    }\n    \n    if (_replay && _replay instanceof Function) {\n      _replay()\n    } else {\n      this.currentTime = 0\n      // eslint-disable-next-line handle-callback-err\n      let playPromise = this.play()\n      if (playPromise !== undefined && playPromise) {\n        playPromise.catch(err => {})\n      }\n    }\n  }\n\n  userGestureTrigEvent (name, param) {\n    const defaultUserGestureEventHandler = (name, param) => {\n      this.emit(name, param)\n    }\n    if(this.config.userGestureEventMiddleware && typeof this.config.userGestureEventMiddleware[name] === 'function') {\n      this.config.userGestureEventMiddleware[name].call(this, this, name, param, defaultUserGestureEventHandler)\n    } else {\n      defaultUserGestureEventHandler.call(this, name, param);\n    }\n  }\n\n  pluginsCall () {\n    if(Player.plugins['s_i18n']) {\n      Player.plugins['s_i18n'].call(this, this)\n    }\n    let self = this\n    if (Player.plugins) {\n      let ignores = this.config.ignores\n      Object.keys(Player.plugins).forEach(name => {\n        let descriptor = Player.plugins[name]\n        if(!descriptor || typeof descriptor !== 'function'){\n          console.warn('plugin name', name , 'is invalid')\n        } else {\n          if (!ignores.some(item => name === item || name === 's_' + item) && name !== 's_i18n') {\n            if (['pc', 'tablet', 'mobile'].some(type => type === name)) {\n              if (name === sniffer.device) {\n                setTimeout(() => {\n                  // if destroyed, skip\n                  if (!self.video) return;\n                  descriptor.call(self, self)\n                }, 0)\n              }\n            } else {\n              descriptor.call(this, this)\n            }\n          }\n        }\n      })\n    }\n  }\n\n  onFocus () {\n    let player = this\n    if(hasClass(this.root, 'xgplayer-inactive')) {\n      player.emit('controlShow')\n    }\n    removeClass(this.root, 'xgplayer-inactive')\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      player.emit('blur')\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    // this.video.blur()\n    if ((this.config.enablePausedInactive || !this.paused) && !this.ended && !this.config.closeInactive) {\n      if(!hasClass(this.root, 'xgplayer-inactive')) {\n        this.emit('controlHide')\n      }\n      addClass(this.root, 'xgplayer-inactive')\n    }\n  }\n\n  onPlay () {\n    addClass(this.root, 'xgplayer-isloading')\n    addClass(this.root, 'xgplayer-playing')\n    removeClass(this.root, 'xgplayer-pause')\n  }\n\n  onPause () {\n    addClass(this.root, 'xgplayer-pause')\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit('focus')\n  }\n\n  onEnded () {\n    addClass(this.root, 'xgplayer-ended')\n    removeClass(this.root, 'xgplayer-playing')\n  }\n\n  onSeeking () {\n    this.isSeeking = true\n    // 兼容IE下无法触发waiting事件的问题 seeking的时候直接出发waiting\n    this.onWaiting()\n    // addClass(this.root, 'seeking');\n  }\n\n  // onTimeupdate () {\n  //   // for ie,playing fired before waiting\n  //   if (this.waitTimer) {\n  //     clearTimeout(this.waitTimer)\n  //   }\n  //   removeClass(this.root, 'xgplayer-isloading')\n\n  // }\n\n  onSeeked () {\n    // for ie,playing fired before waiting\n    this.isSeeking = false\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    removeClass(this.root, 'xgplayer-isloading')\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    if (self.checkTimer) {\n      clearInterval(self.checkTimer)\n      self.checkTimer = null\n    }\n    let time = self.currentTime\n    self.waitTimer = setTimeout(function () {\n      addClass(self.root, 'xgplayer-isloading')\n      self.checkTimer = setInterval(function () {\n        if (self.currentTime !== time) {\n          removeClass(self.root, 'xgplayer-isloading')\n          clearInterval(self.checkTimer)\n          self.checkTimer = null\n        }\n      }, 1000)\n    }, 500)\n  }\n\n  onPlaying () {\n    // 兼容safari下无法自动播放会触发该事件的场景\n    if (this.paused) {\n      return\n    }\n    this.isSeeking = false\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    removeClass(this.root, 'xgplayer-isloading xgplayer-nostart xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay')\n    addClass(this.root, 'xgplayer-playing')\n  }\n\n  static install (name, descriptor) {\n    if (!checkIsBrowser()) {\n      return\n    }\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    if (!Player.plugins[name]) {\n      Player.plugins[name] = descriptor\n    }\n  }\n\n  static installAll (list) {\n    for(let k = 0; k < list.length; k++){\n      Player.install(list[k].name, list[k].method)\n    }\n  }\n\n  static use (name, descriptor) {\n    if (!Player.plugins) {\n      Player.plugins = {}\n    }\n    Player.plugins[name] = descriptor\n  }\n\n  static useAll (list) {\n    for (let k in list) {\n      Player.use(list[k].name, list[k].method)\n    }\n  }\n\n  static controlsRun (controlLst, context) {\n    controlLst.forEach(function(control) {\n      control.method.call(context)\n    })\n  }\n}\n\nPlayer.util = util\nPlayer.sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.XgplayerTimeRange = XgplayerTimeRange\n\nexport default Player\n","import { typeOf } from '../../utils/util'\n\nlet s_i18n = function () {\n  let player = this; let lang = {};\n  lang.en = {\n    HAVE_NOTHING: 'There is no information on whether audio/video is ready',\n    HAVE_METADATA: 'Audio/video metadata is ready ',\n    HAVE_CURRENT_DATA: 'Data about the current play location is available, but there is not enough data to play the next frame/millisecond',\n    HAVE_FUTURE_DATA: 'Current and at least one frame of data is available',\n    HAVE_ENOUGH_DATA: 'The available data is sufficient to start playing',\n    NETWORK_EMPTY: 'Audio/video has not been initialized',\n    NETWORK_IDLE: 'Audio/video is active and has been selected for resources, but no network is used',\n    NETWORK_LOADING: 'The browser is downloading the data',\n    NETWORK_NO_SOURCE: 'No audio/video source was found',\n    MEDIA_ERR_ABORTED: 'The fetch process is aborted by the user',\n    MEDIA_ERR_NETWORK: 'An error occurred while downloading',\n    MEDIA_ERR_DECODE: 'An error occurred while decoding',\n    MEDIA_ERR_SRC_NOT_SUPPORTED: 'Audio/video is not supported',\n    REPLAY: 'Replay',\n    ERROR: 'Network is offline',\n    PLAY_TIPS: 'Play',\n    PAUSE_TIPS: 'Pause',\n    PLAYNEXT_TIPS: 'Play next',\n    DOWNLOAD_TIPS: 'Download',\n    ROTATE_TIPS: 'Rotate',\n    RELOAD_TIPS: 'Reload',\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: 'Exit fullscreen',\n    CSSFULLSCREEN_TIPS: 'Cssfullscreen',\n    EXITCSSFULLSCREEN_TIPS: 'Exit cssfullscreen',\n    TEXTTRACK: 'Caption',\n    PIP: 'Pip',\n    MINIPLAYER: 'Miniplayer',\n    SCREENSHOT: 'Screenshot',\n    LIVE: 'LIVE',\n    OFF: 'Off',\n    MINIPLAYER_DRAG: 'Click and hold to drag',\n    AIRPLAY_TIPS: 'Airplay',\n  }\n  lang['zh-cn'] = {\n    HAVE_NOTHING: '没有关于音频/视频是否就绪的信息',\n    HAVE_METADATA: '音频/视频的元数据已就绪',\n    HAVE_CURRENT_DATA: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒',\n    HAVE_FUTURE_DATA: '当前及至少下一帧的数据是可用的',\n    HAVE_ENOUGH_DATA: '可用数据足以开始播放',\n    NETWORK_EMPTY: '音频/视频尚未初始化',\n    NETWORK_IDLE: '音频/视频是活动的且已选取资源，但并未使用网络',\n    NETWORK_LOADING: '浏览器正在下载数据',\n    NETWORK_NO_SOURCE: '未找到音频/视频来源',\n    MEDIA_ERR_ABORTED: '取回过程被用户中止',\n    MEDIA_ERR_NETWORK: '当下载时发生错误',\n    MEDIA_ERR_DECODE: '当解码时发生错误',\n    MEDIA_ERR_SRC_NOT_SUPPORTED: '不支持的音频/视频格式',\n    REPLAY: '重播',\n    ERROR: '网络连接似乎出现了问题',\n    PLAY_TIPS: '播放',\n    PAUSE_TIPS: '暂停',\n    PLAYNEXT_TIPS: '下一集',\n    DOWNLOAD_TIPS: '下载',\n    ROTATE_TIPS: '旋转',\n    RELOAD_TIPS: '重新载入',\n    FULLSCREEN_TIPS: \"进入全屏\",\n    EXITFULLSCREEN_TIPS: '退出全屏',\n    CSSFULLSCREEN_TIPS: '进入样式全屏',\n    EXITCSSFULLSCREEN_TIPS: '退出样式全屏',\n    TEXTTRACK: '字幕',\n    PIP: '画中画',\n    MINIPLAYER: '迷你播放器',\n    SCREENSHOT: '截图',\n    LIVE: '正在直播',\n    OFF: '关闭',\n    MINIPLAYER_DRAG: '点击按住可拖动视频',\n    AIRPLAY_TIPS: '隔空播放',\n  }\n  lang['zh-hk'] = {\n    HAVE_NOTHING: '沒有關於音頻/視頻是否就緒的信息',\n    HAVE_METADATA: '音頻/視頻的元數據已就緒',\n    HAVE_CURRENT_DATA: '關於當前播放位置的數據是可用的，但沒有足夠的數據來播放下壹幀/毫秒',\n    HAVE_FUTURE_DATA: '當前及至少下壹幀的數據是可用的',\n    HAVE_ENOUGH_DATA: '可用數據足以開始播放',\n    NETWORK_EMPTY: '音頻/視頻尚未初始化',\n    NETWORK_IDLE: '音頻/視頻是活動的且已選取資源，但並未使用網絡',\n    NETWORK_LOADING: '瀏覽器正在下載數據',\n    NETWORK_NO_SOURCE: '未找到音頻/視頻來源',\n    MEDIA_ERR_ABORTED: '取回過程被用戶中止',\n    MEDIA_ERR_NETWORK: '當下載時發生錯誤',\n    MEDIA_ERR_DECODE: '當解碼時發生錯誤',\n    MEDIA_ERR_SRC_NOT_SUPPORTED: '不支持的音頻/視頻格式',\n    REPLAY: '重播',\n    ERROR: '網絡連接似乎出現了問題',\n    PLAY_TIPS: '播放',\n    PAUSE_TIPS: '暫停',\n    PLAYNEXT_TIPS: '下壹集',\n    DOWNLOAD_TIPS: '下載',\n    ROTATE_TIPS: '旋轉',\n    RELOAD_TIPS: '重新載入',\n    FULLSCREEN_TIPS: \"進入全屏\",\n    EXITFULLSCREEN_TIPS: '退出全屏',\n    CSSFULLSCREEN_TIPS: '進入樣式全屏',\n    EXITCSSFULLSCREEN_TIPS: '退出樣式全屏',\n    TEXTTRACK: '字幕',\n    PIP: '畫中畫',\n    MINIPLAYER: '迷妳播放器',\n    SCREENSHOT: '截圖',\n    LIVE: '正在直播',\n    OFF: '關閉',\n    MINIPLAYER_DRAG: '點擊按住可拖動視頻',\n    AIRPLAY_TIPS: '隔空播放',\n  }\n  lang['jp'] = {\n    HAVE_NOTHING: 'オーディオ/ビデオが準備できているか情報がありません',\n    HAVE_METADATA: 'オーディオ/ビデオのメタデータは準備できています',\n    HAVE_CURRENT_DATA: '現在の再生位置に関するデータは利用可能ですが、次のフレーム/ミリ秒を再生するのに十分なデータがありません',\n    HAVE_FUTURE_DATA: '現在、少なくとも次のフレームのデータが利用可能です',\n    HAVE_ENOUGH_DATA: '利用可能なデータは再生を開始するのに十分です',\n    NETWORK_EMPTY: 'オーディオ/ビデオが初期化されていません',\n    NETWORK_IDLE: 'オーディオ/ビデオはアクティブでリソースが選択されていますが、ネットワークが使用されていません',\n    NETWORK_LOADING: 'ブラウザーはデータをダウンロードしています',\n    NETWORK_NO_SOURCE: 'オーディオ/ビデオ のソースが見つかりません',\n    MEDIA_ERR_ABORTED: 'ユーザーによってフェッチプロセスが中止されました',\n    MEDIA_ERR_NETWORK: 'ダウンロード中にエラーが発生しました',\n    MEDIA_ERR_DECODE: 'デコード中にエラーが発生しました',\n    MEDIA_ERR_SRC_NOT_SUPPORTED: 'オーディオ/ビデオ の形式がサポートされていません',\n    REPLAY: 'リプレイ',\n    ERROR: 'ネットワークの接続に問題が発生しました',\n    PLAY_TIPS: 'プレイ',\n    PAUSE_TIPS: '一時停止',\n    PLAYNEXT_TIPS: '次をプレイ',\n    DOWNLOAD_TIPS: 'ダウンロード',\n    ROTATE_TIPS: '回転',\n    RELOAD_TIPS: '再読み込み',\n    FULLSCREEN_TIPS: \"フルスクリーン\",\n    EXITFULLSCREEN_TIPS: 'フルスクリーンを終了',\n    CSSFULLSCREEN_TIPS: 'シアターモード',\n    EXITCSSFULLSCREEN_TIPS: 'シアターモードを終了',\n    TEXTTRACK: '字幕',\n    PIP: 'ミニプレーヤー',\n    MINIPLAYER: 'ミニプレーヤー',\n    SCREENSHOT: 'スクリーンショット',\n    LIVE: '生放送',\n    OFF: 'オフ',\n    MINIPLAYER_DRAG: 'ボタンを押して働画をドラッグする',\n    AIRPLAY_TIPS: '隔空放送',\n  }\n\n  Object.defineProperty(player, 'lang', {\n    get: function () {\n      if (player.config) {\n        return lang[player.config.lang] || lang['en']\n      } else {\n        return lang['en']\n      }\n    },\n    set: function (value) {\n      if (typeOf(value) === 'Object') {\n        Object.keys(value).forEach(key => {\n          lang[key] = value[key]\n        })\n      }\n    }\n  })\n\n}\n\nexport default {\n  name: 's_i18n',\n  method: s_i18n\n}","import EventEmitter from 'event-emitter'\nimport { findDom, createDom, hasClass, removeClass, _clearInterval, _setInterval, on, once, getBuffered2 } from './utils/util'\nimport Errors from './error'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this.videoConfig = {\n      controls: !!options.isShowControl,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'] || options['x5VideoPlayerType'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'] || options['x5VideoPlayerFullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'] || options['x5VideoOrientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }\n    if (options.muted) {\n      this.videoConfig.muted = 'muted'\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    let textTrackDom = ''\n    this.textTrackShowDefault = true\n    if (options.nativeTextTrack && Array.isArray(options.nativeTextTrack)) {\n      if (options.nativeTextTrack.length > 0 && !options.nativeTextTrack.some(track => { return track.default })) {\n        options.nativeTextTrack[0].default = true\n        this.textTrackShowDefault = false\n      }\n      options.nativeTextTrack.some(track => {\n        if (track.src && track.label && track.default) {\n          textTrackDom += `<track src=\"${track.src}\" `\n          if (track.kind) {\n            textTrackDom += `kind=\"${track.kind}\" `\n          }\n          textTrackDom += `label=\"${track.label}\" `\n          if (track.srclang) {\n            textTrackDom += `srclang=\"${track.srclang}\" `\n          }\n          textTrackDom += `${track.default ? 'default' : ''}>`\n          return true\n        }\n      })\n      this.videoConfig.crossorigin = 'anonymous'\n    }\n    if (options.textTrackStyle) {\n      let style = document.createElement('style')\n      this.textTrackStyle = style\n      document.head.appendChild(style)\n      let styleStr = ''\n      for (let index in options.textTrackStyle) {\n        styleStr += `${index}: ${options.textTrackStyle[index]};`\n      }\n      let wrap = options.id ? `#${options.id}` : (options.el.id ? `#${options.el.id}` : `.${options.el.className}`)\n      if (style.sheet.insertRule) {\n        style.sheet.insertRule(`${wrap} video::cue { ${styleStr} }`, 0)\n      } else if (style.sheet.addRule) {\n        style.sheet.addRule(`${wrap} video::cue`, styleStr)\n      }\n    }\n    let el = options.el ? options.el : findDom(document, `#${options.id}`)\n    if(window.XgVideoProxy && el.hasAttribute('data-xgmse')) {\n      this.video = new window.XgVideoProxy(el, options)\n    } else {\n      this.video = createDom(this.videoConfig.mediaType, textTrackDom, this.videoConfig, '')\n    }\n    if (!this.textTrackShowDefault && textTrackDom) {\n      let trackDoms = this.video.getElementsByTagName('Track')\n      trackDoms[0].track.mode = 'hidden'\n    }\n    if (options.autoplay) {\n      this.video.autoplay = true\n      if (options.autoplayMuted) {\n        this.video.muted = true\n      }\n    }\n\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked', 'progress', \n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadedmetadata', 'loadeddata', 'loadstart'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    EventEmitter(this)\n\n    this._interval = {}\n    let lastBuffer = '0,0'\n    let self = this\n\n    const defaultVideoEventHandler = name => {\n      // fix when video destroy called and video reload\n      if (!this) {\n        return\n      }\n      if (name === 'play') {\n        this.hasStart = true\n      } else if (name === 'canplay') {\n        removeClass(this.root, 'xgplayer-is-enter')\n      } else if (name === 'waiting') {\n        this.inWaitingStart = new Date().getTime()\n      } else if (name === 'playing') {\n        removeClass(this.root, 'xgplayer-is-enter')\n        if (this.inWaitingStart) {\n          this.inWaitingStart = undefined\n        }\n      }\n      if (name === 'error') {\n        // process the error\n        this._onError(name)\n      } else {\n        this.emit(name, this)\n      }\n\n      if (this.hasOwnProperty('_interval')) {\n        if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n          _clearInterval(this, 'bufferedChange')\n          _setInterval(this, 'bufferedChange', function () {\n            if (this.video && this.video.buffered) {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit('bufferedChange', curBuffer)\n              }\n            }\n          }, 200)\n        } else {\n          if (name !== 'timeupdate') {\n            _clearInterval(this, 'bufferedChange')\n          }\n        }\n      }\n    }\n\n    const videoEventHandler = name => {\n      if(options.videoEventMiddleware && typeof options.videoEventMiddleware[name] === 'function') {\n        options.videoEventMiddleware[name].call(this, this, name, defaultVideoEventHandler)\n      } else {\n        defaultVideoEventHandler.call(this, name);\n      }\n    }\n\n    this.ev.forEach(item => {\n      self.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      self.video.addEventListener(Object.keys(item)[0], videoEventHandler.bind(self, name))\n    })\n  }\n  /**\n   * 错误监听处理逻辑抽离\n   */\n  _onError (name) {\n    if (this.video && this.video.error) {\n      this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n        this.ended, {\n          line: 162,\n          msg: this.error,\n          handle: 'Constructor'\n        }, this.video.error.code, this.video.error))\n    }\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n  set hasStart (bool) {\n    if (typeof bool === 'boolean' && bool === true && !this._hasStart) {\n      this._hasStart = true\n      this.emit('hasstart')\n    }\n  }\n  destroy () {\n    if (this.textTrackStyle) {\n      this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)\n    }\n  }\n  play () {\n    return this.video.play()\n  }\n  pause () {\n    this.video.pause()\n  }\n  canPlayType (type) {\n    return this.video.canPlayType(type)\n  }\n  getBufferedRange (buffered) {\n    let range = [0, 0]\n    let video = this.video\n    if(!buffered) buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n  proxyOn (event, fn) {\n    on(this, event, fn, 'destroy')\n  }\n  proxyOnce (event, fn) {\n    once(this, event, fn, 'destroy')\n  }\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n  get buffered2 () {\n    return getBuffered2(this.video.buffered)\n  }\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n  get currentTime () {\n    if(this.video) {\n      return this.video.currentTime || 0\n    } else {\n      return 0\n    }\n  }\n  set currentTime (time) {\n    if (typeof isFinite === 'function' && !isFinite(time)) return\n    if (hasClass(this.root, 'xgplayer-ended')) {\n      this.once('playing', () => { this.video.currentTime = time })\n      this.replay()\n    } else {\n      this.video.currentTime = time\n    }\n    this.emit('currentTimeChange')\n  }\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n  get duration () {\n    if(this.config.duration) {\n      if(this.video) return Math.min(this.config.duration, this.video.duration)\n      else return this.config.duration\n    }\n    if (!this.video) return null\n    return this.video.duration\n  }\n  get ended () {\n    if(this.video) {\n      return this.video.ended || false\n    } else {\n      return true\n    }\n  }\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n  get paused () {\n    return this.video.paused\n  }\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n  get played () {\n    return this.video.played\n  }\n  get preload () {\n    return this.video.preload\n  }\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n  get seekable () {\n    return this.video.seekable\n  }\n  get seeking () {\n    return this.video.seeking\n  }\n  get src () {\n    return this.video.src\n  }\n  set src (url) {\n    if (!hasClass(this.root, 'xgplayer-ended')) {\n      this.emit('urlchange', this.video.src)\n    }\n    this.autoplay = true\n    this.video.pause()\n    this.video.src = url\n    this.emit('srcChange')\n  }\n  set poster (posterUrl) {\n    let poster = findDom(this.root, '.xgplayer-poster')\n    if (poster) {\n      poster.style.backgroundImage = `url(${posterUrl})`\n    }\n  }\n  get volume () {\n    return this.video.volume\n  }\n  set volume (vol) {\n    this.video.volume = vol\n  }\n  get fullscreen () {\n    return hasClass(this.root, 'xgplayer-is-fullscreen') || hasClass(this.root, 'xgplayer-fullscreen-active')\n  }\n  get bullet () {\n    return findDom(this.root, 'xg-danmu') ? hasClass(findDom(this.root, 'xg-danmu'), 'xgplayer-has-danmu') : false\n  }\n  get textTrack () {\n    return hasClass(this.root, 'xgplayer-is-textTrack')\n  }\n  get pip () {\n    return hasClass(this.root, 'xgplayer-pip-active')\n  }\n}\n\nexport default Proxy\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar value = require('es5-ext/object/valid-object')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (emitter/*, type*/) {\n\tvar type = arguments[1], data;\n\n\tvalue(emitter);\n\n\tif (type !== undefined) {\n\t\tdata = hasOwnProperty.call(emitter, '__ee__') && emitter.__ee__;\n\t\tif (!data) return;\n\t\tif (data[type]) delete data[type];\n\t\treturn;\n\t}\n\tif (hasOwnProperty.call(emitter, '__ee__')) delete emitter.__ee__;\n};\n","\"use strict\";\n\nvar isObject = require(\"./is-object\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) throw new TypeError(value + \" is not an Object\");\n\treturn value;\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar map = { function: true, object: true };\n\nmodule.exports = function (value) { return (isValue(value) && map[typeof value]) || false; };\n","\n    var refs = 0;\n    var css = require(\"!!../../../node_modules/css-loader/index.js??ref--5-1!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--5-1!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n        css = require(\"!!../../../node_modules/css-loader/index.js??ref--5-1!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".xgplayer-skin-default{background:#000;width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.xgplayer-skin-default *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.xgplayer-skin-default.xgplayer-rotate-fullscreen{position:absolute;top:0;left:100%;bottom:0;right:0;height:100vw!important;width:100vh!important;-webkit-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.xgplayer-skin-default.xgplayer-is-fullscreen{width:100%!important;height:100%!important;padding-top:0!important;z-index:9999}.xgplayer-skin-default.xgplayer-is-fullscreen.xgplayer-inactive{cursor:none}.xgplayer-skin-default video{width:100%;height:100%;outline:none}.xgplayer-skin-default .xgplayer-none{display:none}@-webkit-keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}.xgplayer-skin-default .xgplayer-controls{display:-webkit-flex;display:-moz-box;display:flex;position:absolute;bottom:0;left:0;right:0;height:40px;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.37),rgba(0,0,0,.75),rgba(0,0,0,.75));z-index:10}.xgplayer-skin-default.xgplayer-inactive .xgplayer-controls,.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-progress,.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-time,.xgplayer-skin-default.xgplayer-no-controls .xgplayer-controls,.xgplayer-skin-default.xgplayer-nostart .xgplayer-controls{display:none}.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-live{display:block}.xgplayer-skin-default .xgplayer-live{display:block;font-size:12px;color:#fff;line-height:40px;-webkit-order:1;-moz-box-ordinal-group:2;order:1}.xgplayer-skin-default .xgplayer-icon{display:block;width:40px;height:40px;overflow:hidden;fill:#fff}.xgplayer-skin-default .xgplayer-icon svg{position:absolute}.xgplayer-skin-default .xgplayer-tips{background:rgba(0,0,0,.54);border-radius:1px;display:none;position:absolute;font-family:PingFangSC-Regular;font-size:11px;color:#fff;padding:2px 4px;text-align:center;top:-30px;left:50%;margin-left:-16px;width:auto;white-space:nowrap}.xgplayer-skin-default.xgplayer-mobile .xgplayer-tips{display:none!important}.xgplayer-skin-default .xgplayer-screen-container,.xgplayer-skin-default .xgplayer-screen-container .xgplayer-screen-canvas{width:100%;height:100%}\", \"\"]);\n\n// exports\n","import { hasClass } from '../utils/util'\n\nlet mobile = function () {\n  let player = this\n  let root = player.root\n  let clk = 0; let _click_\n  let clickedTime = {\n    first: '',\n    second: ''\n  }\n\n  player.onElementTouchend = function (e, element) {\n    if(!this.config.closeVideoPreventDefault) {\n      e.preventDefault()\n    }\n    if(!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    let player = this\n    if (hasClass(root, 'xgplayer-inactive')) {\n      player.emit('focus')\n    } else {\n      player.emit('blur')\n    }\n    if (!player.config.closeVideoTouch && !player.isTouchMove) {\n      function onTouch() {\n        _click_ = setTimeout(function () {\n          if (hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              let playPromise = player.play()\n              if (playPromise !== undefined && playPromise) {\n                playPromise.catch(err => {})\n              }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      }\n      if (!player.config.closeVideoClick) {\n        clk++\n        if (_click_) {\n          clearTimeout(_click_)\n        }\n        if (clk === 1) {\n          if(player.config.enableVideoDbltouch) {\n            clickedTime.first = new Date()\n          } else {\n            onTouch()\n          }\n        } else if (clk === 2) {\n          if(player.config.enableVideoDbltouch) {\n            clickedTime.second = new Date()\n            if (Math.abs(clickedTime.first - clickedTime.second) < 400) {\n              // 双击\n              onTouch()\n            } else {\n              clickedTime.first = new Date()\n              clk = 1\n            }\n          } else {\n            clk = 0\n          }\n        } else {\n          clk = 0\n        }\n      }\n    }\n  }\n\n  function onReady (e) {\n    player.video.addEventListener('touchend', function (e) {\n      player.onElementTouchend(e, player.video)\n    })\n    player.video.addEventListener('touchstart', () => {\n      player.isTouchMove = false\n    })\n    player.video.addEventListener('touchmove', () => {\n      player.isTouchMove = true\n    })\n    if (player.config.autoplay) {\n      player.start()\n    }\n  }\n  player.once('ready', onReady)\n\n  function onDestroy () {\n    player.off('ready', onReady)\n    player.off('destroy', onDestroy)\n  }\n  player.once('destroy', onDestroy)\n}\n\nexport default {\n  name: 'mobile',\n  method: mobile\n}","import { hasClass } from '../utils/util'\n\nlet pc = function () {\n  let player = this\n  if(!player.controls || !player.video) return\n  let controls = player.controls; let root = player.root\n  let clk = 0; let _click_\n\n  player.onElementClick = function (e, element) {\n    if(!this.config.closeVideoPreventDefault) {\n      e.preventDefault()\n    }\n    if(!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    let player = this\n    if (!player.config.closeVideoClick) {\n      clk++\n      if (_click_) {\n        clearTimeout(_click_)\n      }\n      if (clk === 1) {\n        _click_ = setTimeout(function () {\n          if (hasClass(player.root, 'xgplayer-nostart')) {\n            return false\n          } else if (!player.ended) {\n            if (player.paused) {\n              let playPromise = player.play()\n              if (playPromise !== undefined && playPromise) {\n                playPromise.catch(err => {})\n              }\n            } else {\n              player.pause()\n            }\n          }\n          clk = 0\n        }, 200)\n      } else {\n        clk = 0\n      }\n    }\n  }\n  player.video.addEventListener('click', function (e) { player.onElementClick(e, player.video) }, false)\n\n  player.onElementDblclick = function (e, element) {\n    if(!this.config.closeVideoPreventDefault) {\n      e.preventDefault()\n    }\n    if(!this.config.closeVideoStopPropagation) {\n      e.stopPropagation()\n    }\n    let player = this\n    if (!player.config.closeVideoDblclick) {\n      let fullscreen = controls.querySelector('.xgplayer-fullscreen')\n      if (fullscreen) {\n        let clk\n        if (document.createEvent) {\n          clk = document.createEvent('Event')\n          clk.initEvent('click', true, true)\n        } else {\n          clk = new Event('click')\n        }\n        fullscreen.dispatchEvent(clk)\n      }\n    }\n  }\n  player.video.addEventListener('dblclick', function (e) { player.onElementDblclick(e, player.video) }, false)\n\n  function onMouseEnter () {\n    clearTimeout(player.leavePlayerTimer)\n    player.emit('focus', player)\n  }\n  root.addEventListener('mouseenter', onMouseEnter)\n\n  function onMouseLeave () {\n    if(!player.config.closePlayerBlur) {\n      player.leavePlayerTimer = setTimeout(function () {\n        player.emit('blur', player)\n      }, player.config.leavePlayerTime || 0)\n    }\n  }\n  root.addEventListener('mouseleave', onMouseLeave)\n\n  function onControlMouseEnter (e) {\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n  }\n  controls.addEventListener('mouseenter', onControlMouseEnter)\n\n  function onControlMouseLeave (e) {\n    if(!player.config.closeControlsBlur) {\n      player.emit('focus', player)\n    }\n  }\n  controls.addEventListener('mouseleave', onControlMouseLeave)\n\n  function onControlClick (e) {\n    e.preventDefault()\n    e.stopPropagation()\n  }\n  controls.addEventListener('click', onControlClick)\n\n  function onReady (e) {\n    if (player.config.autoplay) {\n      player.start()\n    }\n  }\n  player.once('ready', onReady)\n\n  function onDestroy () {\n    root.removeEventListener('mouseenter', onMouseEnter)\n    root.removeEventListener('mouseleave', onMouseLeave)\n    player.off('ready', onReady)\n    player.off('destroy', onDestroy)\n  }\n  player.once('destroy', onDestroy)\n}\n\nexport default {\n  name: 'pc',\n  method: pc\n}","import { addClass, hasClass, removeClass } from '../utils/util'\n\nlet start = function () {\n  let player = this\n  let root = player.root\n\n  function onCanPlay () {\n    player.off('canplay', onCanPlay)\n    let playPromise = player.play()\n    if (playPromise !== undefined && playPromise) {\n      playPromise.catch(err => {})\n    }\n  }\n\n  function onStartBtnClick () {\n    if (hasClass(root, 'xgplayer-nostart')) {\n      removeClass(root, 'xgplayer-nostart') // for ie quick switch\n      addClass(root, 'xgplayer-is-enter')\n\n      if(typeof root.contains === 'function') {\n        if((player.video && player.video.nodeType === 1 && !root.contains(player.video)) || (player.video && player.video.nodeType !== 1 && player.video.audioPlayer.status !== 'ready')) {\n          player.once('canplay', onCanPlay)\n          player.start()\n        } else {\n          onCanPlay()\n        }\n      } else {\n        if((player.video && player.video.nodeType === 1 && !root.querySelector(this.videoConfig.mediaType)) || (player.video && player.video.nodeType !== 1 && (!root.querySelector('canvas') && player.video.audioPlayer.status !== 'ready'))) {\n          player.once('canplay', onCanPlay)\n          player.start()\n        } else {\n          onCanPlay()\n        }\n      }\n    } else {\n      if (player.paused) {\n        removeClass(root, 'xgplayer-nostart xgplayer-isloading')\n        setTimeout(() => {\n          let playPromise = player.play()\n          if (playPromise !== undefined && playPromise) {\n            playPromise.catch(err => {})\n          }\n        }, 10)\n      }\n    }\n  }\n  player.on('startBtnClick', onStartBtnClick)\n\n  function onDestroy () {\n    player.off('startBtnClick', onStartBtnClick)\n    player.off('canplay', onCanPlay)\n    player.off('destroy', onDestroy)\n  }\n  player.once('destroy', onDestroy)\n}\n\nexport default {\n  name: 'start',\n  method: start\n}","import { createDom, addClass, removeClass, isWeiXin, isUc } from '../../utils/util'\nimport StartPlayIcon from '../assets/startPlay.svg'\nimport StartPauseIcon from '../assets/startPause.svg'\nimport '../style/controls/start.scss'\n\nlet s_start = function () {\n  let player = this\n  let root = player.root\n  let btn = createDom('xg-start', `<div class=\"xgplayer-icon-play\">${StartPlayIcon}</div>\n                                      <div class=\"xgplayer-icon-pause\">${StartPauseIcon}</div>`, {}, 'xgplayer-start')\n  function onPlayerReady(player) {\n    addClass(player.root, 'xgplayer-skin-default')\n    if (player.config) {\n      player.config.autoplay && !isWeiXin() && !isUc() && addClass(player.root, 'xgplayer-is-enter')\n      if (player.config.lang && player.config.lang === 'en') {\n        addClass(player.root, 'xgplayer-lang-is-en')\n      } else if (player.config.lang === 'jp') {\n        addClass(player.root, 'xgplayer-lang-is-jp')\n      }\n      if(!player.config.enableContextmenu) {\n        player.video.addEventListener('contextmenu', e => {\n          e.preventDefault()\n          e.stopPropagation()\n        })\n      }\n    }\n  }\n\n  if(player.config && player.config.hideStartBtn) {\n    addClass(root, 'xgplayer-start-hide')\n  }\n\n  if (player.isReady) {\n    root.appendChild(btn)\n    onPlayerReady(player)\n  } else {\n    player.once('ready', () => {\n      root.appendChild(btn)\n      onPlayerReady(player)\n    });\n  }\n\n  player.once('autoplay was prevented', () => {\n    removeClass(player.root, 'xgplayer-is-enter')\n    addClass(player.root, 'xgplayer-nostart')\n  })\n\n  player.once('canplay', () => {\n    removeClass(player.root, 'xgplayer-is-enter')\n  })\n\n  btn.onclick = e => {\n    e.preventDefault()\n    e.stopPropagation()\n    player.userGestureTrigEvent('startBtnClick')\n  }\n}\n\nexport default {\n  name: 's_start',\n  method: s_start\n}","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"70\\\" height=\\\"70\\\" viewBox=\\\"0 0 70 70\\\">\\n  <path transform=\\\"translate(15,15) scale(0.04,0.04)\\\" d=\\\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\\\"></path>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"70\\\" height=\\\"70\\\" viewBox=\\\"0 0 70 70\\\">\\n  <path transform=\\\"translate(15,15) scale(0.04 0.04)\\\" d=\\\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\\\"></path>\\n</svg>\\n\"","\n    var refs = 0;\n    var css = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./start.scss\");\n    var insertCss = require(\"!../../../../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.id, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./start.scss\", function() {\n        css = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./start.scss\");\n        content = typeof css === 'string' ? [[module.id, css, '']] : css;\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".xgplayer-skin-default .xgplayer-start{border-radius:50%;display:inline-block;width:70px;height:70px;background:rgba(0,0,0,.38);overflow:hidden;text-align:center;line-height:70px;vertical-align:middle;position:absolute;left:50%;top:50%;z-index:115;margin:-35px auto auto -35px;cursor:pointer}.xgplayer-skin-default .xgplayer-start div{position:absolute}.xgplayer-skin-default .xgplayer-start div svg{fill:hsla(0,0%,100%,.7)}.xgplayer-skin-default .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default .xgplayer-start .xgplayer-icon-pause{display:none}.xgplayer-skin-default .xgplayer-start:hover{opacity:.85}.xgplayer-skin-default.xgplayer-pause.xgplayer-start-hide .xgplayer-start,.xgplayer-skin-default.xgplayer-playing .xgplayer-start,.xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-play,.xgplayer-skin-default.xgplayer-start-hide .xgplayer-start{display:none}.xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-pause{display:block}.xgplayer-skin-default.xgplayer-pause .xgplayer-start{display:inline-block}.xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start,.xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-pause{display:none}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start .xgplayer-icon-play{display:block}.xgplayer-skin-default.xgplayer-is-replay .xgplayer-start .xgplayer-icon-pause{display:none}\", \"\"]);\n\n// exports\n","import Player from './player'\n\nimport Mobile from './controls/mobile'\nimport Pc from './controls/pc'\nimport Start from './controls/start'\nimport S_start from './skin/controls/start'\n\nlet controlLst = [Mobile, Pc, Start, S_start]\ncontrolLst.forEach(function(control) {\n    Player.install(control.name, control.method)\n})\n\nexport default Player\n"],"sourceRoot":""}