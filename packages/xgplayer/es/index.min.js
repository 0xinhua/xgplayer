function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,n){return n={exports:{}},e(n,n.exports),n.exports}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function getVersion(e,n){var t=e.exec(n);return t&&t[1]?t[1]:""}function getAndroidVersion(e){var n=getVersion(/Android ([\.\_\d]+)/,e);return n||(n=getVersion(/Android\/([\.\_\d]+)/,e)),n}function _classCallCheck$1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$2(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":_typeof(n))&&"function"!=typeof n?e:n}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":_typeof(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function _classCallCheck$3(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function decrypto(e,n,t){if("string"==typeof e&&"number"==typeof n&&"number"==typeof t){var r=[],a=[];t=t<=25?t:t%25;var i=String.fromCharCode(t+97);r=e.split(i);for(var o=0;o<r.length;o++){var l=parseInt(r[o],t);l=1*l^n;var s=String.fromCharCode(l);a.push(s)}return a.join("")}}function b(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)}function _classCallCheck$4(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":_typeof(n))&&"function"!=typeof n?e:n}function _inherits$1(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":_typeof(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function _classCallCheck$5(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$6(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$7(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$8(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==(void 0===n?"undefined":_typeof(n))&&"function"!=typeof n?e:n}function _inherits$2(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":_typeof(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function _classCallCheck$9(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function styleInject(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_undefined=void 0,is=function(e){return e!==_undefined&&null!==e},possibleTypes={object:!0,function:!0,undefined:!0},is$1=function(e){return!!is(e)&&hasOwnProperty.call(possibleTypes,typeof e)},is$2=function(e){if(!is$1(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}},is$3=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!is$2(e)},classRe=/^\s*class[\s{\/}]/,functionToString=Function.prototype.toString,is$4=function(e){return!!is$3(e)&&!classRe.test(functionToString.call(e))},isImplemented=function(){var e,n=Object.assign;return"function"==typeof n&&(e={foo:"raz"},n(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},isImplemented$1=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}},noop=function(){},_undefined$1=noop(),isValue=function(e){return e!==_undefined$1&&null!==e},keys=Object.keys,shim=function(e){return keys(isValue(e)?Object(e):e)},keys$1=isImplemented$1()?Object.keys:shim,validValue=function(e){if(!isValue(e))throw new TypeError("Cannot use null or undefined");return e},max=Math.max,shim$1=function(e,n){var t,r,a,i=max(arguments.length,2);for(e=Object(validValue(e)),a=function(r){try{e[r]=n[r]}catch(e){t||(t=e)}},r=1;r<i;++r)n=arguments[r],keys$1(n).forEach(a);if(void 0!==t)throw t;return e},assign=isImplemented()?Object.assign:shim$1,forEach=Array.prototype.forEach,create=Object.create,process=function(e,n){var t;for(t in e)n[t]=e[t]},normalizeOptions=function(e){var n=create(null);return forEach.call(arguments,function(e){isValue(e)&&process(Object(e),n)}),n},str="razdwatrzy",isImplemented$2=function(){return"function"==typeof str.contains&&(!0===str.contains("dwa")&&!1===str.contains("foo"))},indexOf=String.prototype.indexOf,shim$2=function(e){return indexOf.call(this,e,arguments[1])>-1},contains=isImplemented$2()?String.prototype.contains:shim$2,d_1=createCommonjsModule(function(e){(e.exports=function(e,n){var t,r,a,i,o;return arguments.length<2||"string"!=typeof e?(i=n,n=e,e=null):i=arguments[2],is(e)?(t=contains.call(e,"c"),r=contains.call(e,"e"),a=contains.call(e,"w")):(t=a=!0,r=!1),o={value:n,configurable:t,enumerable:r,writable:a},i?assign(normalizeOptions(i),o):o}).gs=function(e,n,t){var r,a,i,o;return"string"!=typeof e?(i=t,t=n,n=e,e=null):i=arguments[3],is(n)?is$4(n)?is(t)?is$4(t)||(i=t,t=void 0):t=void 0:(i=n,n=t=void 0):n=void 0,is(e)?(r=contains.call(e,"c"),a=contains.call(e,"e")):(r=!0,a=!1),o={get:n,set:t,configurable:r,enumerable:a},i?assign(normalizeOptions(i),o):o}}),validCallable=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},eventEmitter=createCommonjsModule(function(e,n){var t,r,a,i,o,l,s,p=Function.prototype.apply,c=Function.prototype.call,d=Object.create,u=Object.defineProperty,g=Object.defineProperties,f=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};o={on:t=function(e,n){var t;return validCallable(n),f.call(this,"__ee__")?t=this.__ee__:(t=y.value=d(null),u(this,"__ee__",y),y.value=null),t[e]?"object"==typeof t[e]?t[e].push(n):t[e]=[t[e],n]:t[e]=n,this},once:r=function(e,n){var r,i;return validCallable(n),i=this,t.call(this,e,r=function(){a.call(i,e,r),p.call(n,this,arguments)}),r.__eeOnceListener__=n,this},off:a=function(e,n){var t,r,a,i;if(validCallable(n),!f.call(this,"__ee__"))return this;if(!(t=this.__ee__)[e])return this;if("object"==typeof(r=t[e]))for(i=0;a=r[i];++i)a!==n&&a.__eeOnceListener__!==n||(2===r.length?t[e]=r[i?0:1]:r.splice(i,1));else r!==n&&r.__eeOnceListener__!==n||delete t[e];return this},emit:i=function(e){var n,t,r,a,i;if(f.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(t=arguments.length,i=new Array(t-1),n=1;n<t;++n)i[n-1]=arguments[n];for(a=a.slice(),n=0;r=a[n];++n)p.call(r,this,i)}else switch(arguments.length){case 1:c.call(a,this);break;case 2:c.call(a,this,arguments[1]);break;case 3:c.call(a,this,arguments[1],arguments[2]);break;default:for(t=arguments.length,i=new Array(t-1),n=1;n<t;++n)i[n-1]=arguments[n];p.call(a,this,i)}}},l={on:d_1(t),once:d_1(r),off:d_1(a),emit:d_1(i)},s=g({},l),e.exports=n=function(e){return null==e?d(s):g(Object(e),l)},n.methods=o}),eventEmitter_1=eventEmitter.methods,util$1={};util$1.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=document.createElement(e);return a.className=r,a.innerHTML=n,Object.keys(t).forEach(function(n){var r=n,i=t[n];"video"===e||"audio"===e?i&&a.setAttribute(r,i):a.setAttribute(r,i)}),a},util$1.hasClass=function(e,n){return!!e&&(e.classList?Array.prototype.some.call(e.classList,function(e){return e===n}):!!e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")))},util$1.addClass=function(e,n){e&&(e.classList?n.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&e.classList.add(n)}):util$1.hasClass(e,n)||(e.className+=" "+n))},util$1.removeClass=function(e,n){e&&(e.classList?n.split(/\s+/g).forEach(function(n){e.classList.remove(n)}):util$1.hasClass(e,n)&&n.split(/\s+/g).forEach(function(n){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t," ")}))},util$1.toggleClass=function(e,n){e&&n.split(/\s+/g).forEach(function(n){util$1.hasClass(e,n)?util$1.removeClass(e,n):util$1.addClass(e,n)})},util$1.findDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments[1],t=void 0;try{t=e.querySelector(n)}catch(r){0===n.indexOf("#")&&(t=e.getElementById(n.slice(1)))}return t},util$1.padStart=function(e,n,t){for(var r=String(t),a=n>>0,i=Math.ceil(a/r.length),o=[],l=String(e);i--;)o.push(r);return o.join("").substring(0,a-l.length)+l},util$1.format=function(e){if(window.isNaN(e))return"";var n=util$1.padStart(Math.floor(e/3600),2,0),t=util$1.padStart(Math.floor((e-3600*n)/60),2,0),r=util$1.padStart(Math.floor(e-3600*n-60*t),2,0);return("00"===n?[t,r]:[n,t,r]).join(":")},util$1.event=function(e){if(e.touches){var n=e.touches[0]||e.changedTouches[0];e.clientX=n.clientX||0,e.clientY=n.clientY||0,e.offsetX=n.pageX-n.target.offsetLeft,e.offsetY=n.pageY-n.target.offsetTop}e._target=e.target||e.srcElement},util$1.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},util$1.deepCopy=function(e,n){if("Object"===util$1.typeOf(n)&&"Object"===util$1.typeOf(e))return Object.keys(n).forEach(function(t){"Object"!==util$1.typeOf(n[t])||n[t]instanceof Node?"Array"===util$1.typeOf(n[t])?e[t]="Array"===util$1.typeOf(e[t])?e[t].concat(n[t]):n[t]:e[t]=n[t]:e[t]?util$1.deepCopy(e[t],n[t]):e[t]=n[t]}),e},util$1.getBgImage=function(e){var n=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!n||"none"===n)return"";var t=document.createElement("a");return t.href=n.replace(/url\("|"\)/g,""),t.href},util$1.copyDom=function(e){if(e&&1===e.nodeType){var n=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){n.setAttribute(e.name,e.value)}),e.innerHTML&&(n.innerHTML=e.innerHTML),n}return""},util$1.setInterval=function(e,n,t,r){e._interval[n]||(e._interval[n]=setInterval(t.bind(e),r))},util$1.clearInterval=function(e,n){clearInterval(e._interval[n]),e._interval[n]=null},util$1.createImgBtn=function(e,n,t,r){var a=util$1.createDom("xg-"+e,"",{},"xgplayer-"+e+"-img");if(a.style.backgroundImage='url("'+n+'")',t&&r){var i=void 0,o=void 0,l=void 0;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(t.indexOf(e)>-1&&r.indexOf(e)>-1)||(i=parseFloat(t.slice(0,t.indexOf(e)).trim()),o=parseFloat(r.slice(0,r.indexOf(e)).trim()),l=e,!1)}),a.style.width=""+i+l,a.style.height=""+o+l,a.style.backgroundSize=""+i+l+" "+o+l,a.style.margin="start"===e?"-"+o/2+l+" auto auto -"+i/2+l:"auto 5px auto 5px"}return a},util$1.Hex2RGBA=function(hex,alpha){var rgb=[];if(/^\#[0-9A-F]{3}$/i.test(hex)){var sixHex="#";hex.replace(/[0-9A-F]/gi,function(e){sixHex+=e+e}),hex=sixHex}return/^#[0-9A-F]{6}$/i.test(hex)?(hex.replace(/[0-9A-F]{2}/gi,function(kw){rgb.push(eval("0x"+kw))}),"rgba("+rgb.join(",")+", "+alpha+")"):"rgba(255, 255, 255, 0.1)"};var version="2.3.5",_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),defineProperty=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},get=function e(n,t,r){null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,t);if(void 0===a){var i=Object.getPrototypeOf(n);return null===i?void 0:e(i,t,r)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(r)},inherits=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},possibleConstructorReturn=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},ErrorTypes={network:{code:1,msg:"视频下载错误",remark:"只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在"},mse:{code:2,msg:"流追加错误",remark:"追加流的时候如果类型不对、无法被正确解码则会触发此类错误"},parse:{code:3,msg:"解析错误",remark:"mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误"},format:{code:4,msg:"格式错误",remark:"如果浏览器不支持的格式导致播放错误"},decoder:{code:5,msg:"解码错误",remark:"浏览器解码异常会抛出此类型错误"},runtime:{code:6,msg:"语法错误",remark:"播放器语法错误"},timeout:{code:7,msg:"播放超时",remark:"播放过程中无法正常请求下一个分段导致播放中断"},other:{code:8,msg:"其他错误",remark:"不可知的错误或被忽略的错误类型"}},Errors=function e(n,t,r,a,i,o,l,s){var p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{line:"",handle:"",msg:"",version:""};classCallCheck(this,e);var c={};return c.playerVersion=version,c.errorType=n,c.domain=document.domain,c.duration=r,c.currentTime=t,c.networkState=a,c.readyState=i,c.currentSrc=l,c.src=o,c.ended=s,c.errd=p,c.ex=(ErrorTypes[n]||{}).msg,c},Proxy=function(){function e(n){classCallCheck(this,e),this.logParams={bc:0,bu_acu_t:0,played:[]},this._hasStart=!1,this.videoConfig={controls:!1,autoplay:n.autoplay,playsinline:n.playsinline,"webkit-playsinline":n.playsinline,"x5-playsinline":n.playsinline,"x5-video-player-type":n["x5-video-player-type"]||n.x5VideoPlayerType,"x5-video-player-fullscreen":n["x5-video-player-fullscreen"]||n.x5VideoPlayerFullscreen,"x5-video-orientation":n["x5-video-orientation"]||n.x5VideoOrientation,airplay:n.airplay,"webkit-airplay":n.airplay,tabindex:2,mediaType:n.mediaType||"video"},n.loop&&(this.videoConfig.loop="loop");var t="";if(n.textTrack&&Array.isArray(n.textTrack)&&(navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Firefox")>-1)&&(n.textTrack.some(function(e){if(e.src&&e.label&&e.default)return t+='<track src="'+e.src+'" ',e.kind&&(t+='kind="'+e.kind+'" '),t+='label="'+e.label+'" ',e.srclang&&(t+='srclang="'+e.srclang+'" '),t+=(e.default?"default":"")+">",!0}),this.videoConfig.crossorigin="anonymous"),n.textTrackStyle){var r=document.createElement("style");this.textTrackStyle=r,document.head.appendChild(r);var a="";for(var i in n.textTrackStyle)a+=i+": "+n.textTrackStyle[i]+";";var o=n.id?"#"+n.id:n.el.id?"#"+n.el.id:"."+n.el.className;r.sheet.insertRule?r.sheet.insertRule(o+" video::cue { "+a+" }",0):r.sheet.addRule&&r.sheet.addRule(o+" video::cue",a)}this.video=util$1.createDom(this.videoConfig.mediaType,t,this.videoConfig,""),n.autoplay&&(this.video.autoplay=!0,n.autoplayMuted&&(this.video.muted=!0)),this.ev=["play","playing","pause","ended","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata"].map(function(e){return defineProperty({},e,"on"+e.charAt(0).toUpperCase()+e.slice(1))}),eventEmitter(this),this._interval={};var l="0,0",s=this;this.ev.forEach(function(e){s.evItem=Object.keys(e)[0];var n=Object.keys(e)[0];s.video.addEventListener(Object.keys(e)[0],function(){s.logParams&&("play"===n?s.hasStart=!0:"waiting"===n?(s.logParams.bc++,s.inWaitingStart=(new Date).getTime()):"playing"===n?s.inWaitingStart&&(s.logParams.bu_acu_t+=(new Date).getTime()-s.inWaitingStart,s.inWaitingStart=void 0):"loadeddata"===n?s.logParams.played.push({begin:0,end:-1}):"seeking"===n?s.logParams.played.push({begin:s.video.currentTime,end:-1}):s&&s.logParams&&s.logParams.played&&"timeupdate"===n&&(s.logParams.played.length<1&&s.logParams.played.push({begin:s.video.currentTime,end:-1}),s.logParams.played[s.logParams.played.length-1].end=s.video.currentTime),"error"===n?s.video.error&&s.emit(n,new Errors("other",s.currentTime,s.duration,s.networkState,s.readyState,s.currentSrc,s.src,s.ended,{line:41,msg:s.error,handle:"Constructor"})):s.emit(n,s),s.hasOwnProperty("_interval")&&(["ended","error","timeupdate"].indexOf(n)<0?(clearInterval(s._interval.bufferedChange),util$1.setInterval(s,"bufferedChange",function(){for(var e=[],n=0,t=s.video.buffered.length;n<t;n++)e.push([s.video.buffered.start(n),s.video.buffered.end(n)]);e.toString()!==l&&(l=e.toString(),s.emit("bufferedChange",e))},200)):"timeupdate"!==n&&util$1.clearInterval(s,"bufferedChange")))},!1)})}return createClass(e,[{key:"destroy",value:function(){this.textTrackStyle&&this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"canPlayType",value:function(e){return this.video.canPlayType(e)}},{key:"getBufferedRange",value:function(){var e=[0,0],n=this.video,t=n.buffered,r=n.currentTime;if(t)for(var a=0,i=t.length;a<i&&(e[0]=t.start(a),e[1]=t.end(a),!(e[0]<=r&&r<=e[1]));a++);return e[0]-r<=0&&r-e[1]<=0?e:[0,0]}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"!=typeof e||!0!==e||this._hasStart||(this._hasStart=!0,this.emit("hasstart"))}},{key:"autoplay",set:function(e){this.video.autoplay=e},get:function(){return this.video.autoplay}},{key:"buffered",get:function(){return this.video.buffered}},{key:"crossOrigin",get:function(){return this.video.crossOrigin},set:function(e){this.video.crossOrigin=e}},{key:"currentSrc",get:function(){return this.video.currentSrc},set:function(e){this.video.currentSrc=e}},{key:"currentTime",get:function(){return this.video.currentTime},set:function(e){this.video.currentTime=e}},{key:"defaultMuted",get:function(){return this.video.defaultMuted},set:function(e){this.video.defaultMuted=e}},{key:"duration",get:function(){return this.video.duration}},{key:"ended",get:function(){return this.video.ended}},{key:"error",get:function(){var e=this.video.error;if(!e)return null;var n=[{en:"MEDIA_ERR_ABORTED",cn:"取回过程被用户中止"},{en:"MEDIA_ERR_NETWORK",cn:"当下载时发生错误"},{en:"MEDIA_ERR_DECODE",cn:"当解码时发生错误"},{en:"MEDIA_ERR_SRC_NOT_SUPPORTED",cn:"不支持音频/视频"}];return this.lang?this.lang[n[e.code-1].en]:n[e.code-1].en}},{key:"loop",get:function(){return this.video.loop},set:function(e){this.video.loop=e}},{key:"muted",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:"networkState",get:function(){var e=[{en:"NETWORK_EMPTY",cn:"音频/视频尚未初始化"},{en:"NETWORK_IDLE",cn:"音频/视频是活动的且已选取资源，但并未使用网络"},{en:"NETWORK_LOADING",cn:"浏览器正在下载数据"},{en:"NETWORK_NO_SOURCE",cn:"未找到音频/视频来源"}];return this.lang?this.lang[e[this.video.networkState].en]:e[this.video.networkState].en}},{key:"paused",get:function(){return this.video.paused}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:"played",get:function(){return this.video.played}},{key:"preload",get:function(){return this.video.preload},set:function(e){this.video.preload=e}},{key:"readyState",get:function(){var e=[{en:"HAVE_NOTHING",cn:"没有关于音频/视频是否就绪的信息"},{en:"HAVE_METADATA",cn:"关于音频/视频就绪的元数据"},{en:"HAVE_CURRENT_DATA",cn:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒"},{en:"HAVE_FUTURE_DATA",cn:"当前及至少下一帧的数据是可用的"},{en:"HAVE_ENOUGH_DATA",cn:"可用数据足以开始播放"}];return this.lang?this.lang[e[this.video.readyState].en]:e[this.video.readyState]}},{key:"seekable",get:function(){return this.video.seekable}},{key:"seeking",get:function(){return this.video.seeking}},{key:"src",get:function(){return this.video.src},set:function(e){function n(){t.logParams.vt=(new Date).getTime(),t.logParams.pt>t.logParams.vt&&(t.logParams.pt=t.logParams.vt),t.logParams.vd=t.video.duration,t.off("loadeddata",n)}var t=this;util$1.hasClass(this.root,"xgplayer-ended")||this.emit("urlchange",JSON.parse(JSON.stringify(t.logParams))),this.logParams={bc:0,bu_acu_t:0,played:[],pt:(new Date).getTime(),vt:(new Date).getTime(),vd:0},this.video.pause(),this.video.src=e,this.logParams.playSrc=e,this.logParams.pt=(new Date).getTime(),this.logParams.vt=this.logParams.pt,this.once("loadeddata",n)}},{key:"poster",set:function(e){var n=util$1.findDom(this.root,".xgplayer-poster");n&&(n.style.backgroundImage="url("+e+")")}},{key:"volume",get:function(){return this.video.volume},set:function(e){this.video.volume=e}},{key:"fullscreen",get:function(){return util$1.hasClass(this.root,"xgplayer-is-fullscreen")||util$1.hasClass(this.root,"xgplayer-fullscreen-active")}},{key:"bullet",get:function(){return!!util$1.findDom(this.root,"xg-bullet")&&util$1.hasClass(util$1.findDom(this.root,"xg-bullet"),"xgplayer-has-bullet")}},{key:"textTrack",get:function(){return util$1.hasClass(this.root,"xgplayer-is-textTrack")}},{key:"pip",get:function(){return util$1.hasClass(this.root,"xgplayer-pip-active")}}]),e}(),INDEXDB=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};classCallCheck(this,e),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=n}return createClass(e,[{key:"openDB",value:function(e){var n=this,t=this,r=this.myDB.version||1,a=t.indexedDB.open(t.myDB.name,r);a.onerror=function(e){},a.onsuccess=function(r){n.myDB.db=r.target.result,e.call(t)},a.onupgradeneeded=function(e){var n=e.target.result;e.target.transaction;n.objectStoreNames.contains(t.myDB.ojstore.name)||n.createObjectStore(t.myDB.ojstore.name,{keyPath:t.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,n){for(var t=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=void 0,a=0;a<n.length;a++)(r=t.add(n[a])).onerror=function(){},r.onsuccess=function(){}}},{key:"putData",value:function(e,n){for(var t=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=void 0,a=0;a<n.length;a++)(r=t.put(n[a])).onerror=function(){},r.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,n,t){var r=this,a=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(n);a.onerror=function(){t.call(r,null)},a.onsuccess=function(e){var n=e.target.result;t.call(r,n)}}},{key:"deleteData",value:function(e,n){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(n)}},{key:"clearData",value:function(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),e}(),sniffer={get device(){return sniffer.os.isPc?"pc":"mobile"},get browser(){var e=navigator.userAgent.toLowerCase(),n={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(n).filter(function(t){return n[t].test(e)}))[0]},get os(){var e=navigator.userAgent,n=/(?:Windows Phone)/.test(e),t=/(?:SymbianOS)/.test(e)||n,r=/(?:Android)/.test(e),a=/(?:Firefox)/.test(e),i=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||a&&/(?:Tablet)/.test(e),o=/(?:iPhone)/.test(e)&&!i;return{isTablet:i,isPhone:o,isAndroid:r,isPc:!(o||r||t||i),isSymbian:t,isWindowsPhone:n,isFireFox:a}}},getSize=createCommonjsModule(function(e){!function(n,t){e.exports?e.exports=t():n.getSize=t()}(window,function(){function e(e){var n=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(n)&&n}function n(){}function t(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<p;n++)e[s[n]]=0;return e}function r(e){var n=getComputedStyle(e);return n||l("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}function a(){if(!c){c=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(n);var a=r(n);o=200==Math.round(e(a.width)),i.isBoxSizeOuter=o,t.removeChild(n)}}function i(n){if(a(),"string"==typeof n&&(n=document.querySelector(n)),n&&"object"==typeof n&&n.nodeType){var i=r(n);if("none"==i.display)return t();var l={};l.width=n.offsetWidth,l.height=n.offsetHeight;for(var c=l.isBorderBox="border-box"==i.boxSizing,d=0;d<p;d++){var u=s[d],g=i[u],f=parseFloat(g);l[u]=isNaN(f)?0:f}var y=l.paddingLeft+l.paddingRight,h=l.paddingTop+l.paddingBottom,x=l.marginLeft+l.marginRight,m=l.marginTop+l.marginBottom,v=l.borderLeftWidth+l.borderRightWidth,b=l.borderTopWidth+l.borderBottomWidth,k=c&&o,w=e(i.width);!1!==w&&(l.width=w+(k?0:y+v));var _=e(i.height);return!1!==_&&(l.height=_+(k?0:h+b)),l.innerWidth=l.width-(y+v),l.innerHeight=l.height-(h+b),l.outerWidth=l.width+x,l.outerHeight=l.height+m,l}}var o,l="undefined"==typeof console?n:function(e){console.error(e)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],p=s.length,c=!1;return i})}),evEmitter=createCommonjsModule(function(e){!function(n,t){e.exports?e.exports=t():n.EvEmitter=t()}("undefined"!=typeof window?window:commonjsGlobal,function(){function e(){}var n=e.prototype;return n.on=function(e,n){if(e&&n){var t=this._events=this._events||{},r=t[e]=t[e]||[];return-1==r.indexOf(n)&&r.push(n),this}},n.once=function(e,n){if(e&&n){this.on(e,n);var t=this._onceEvents=this._onceEvents||{};return(t[e]=t[e]||{})[n]=!0,this}},n.off=function(e,n){var t=this._events&&this._events[e];if(t&&t.length){var r=t.indexOf(n);return-1!=r&&t.splice(r,1),this}},n.emitEvent=function(e,n){var t=this._events&&this._events[e];if(t&&t.length){t=t.slice(0),n=n||[];for(var r=this._onceEvents&&this._onceEvents[e],a=0;a<t.length;a++){var i=t[a];r&&r[i]&&(this.off(e,i),delete r[i]),i.apply(this,n)}return this}},n.allOff=function(){delete this._events,delete this._onceEvents},e})}),unipointer=createCommonjsModule(function(e){!function(n,t){e.exports?e.exports=t(n,evEmitter):n.Unipointer=t(n,n.EvEmitter)}(window,function(e,n){function t(){}function r(){}var a=r.prototype=Object.create(n.prototype);a.bindStartEvent=function(e){this._bindStartEvent(e,!0)},a.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},a._bindStartEvent=function(n,t){var r=(t=void 0===t||t)?"addEventListener":"removeEventListener",a="mousedown";e.PointerEvent?a="pointerdown":"ontouchstart"in e&&(a="touchstart"),n[r](a,this)},a.handleEvent=function(e){var n="on"+e.type;this[n]&&this[n](e)},a.getTouch=function(e){for(var n=0;n<e.length;n++){var t=e[n];if(t.identifier==this.pointerIdentifier)return t}},a.onmousedown=function(e){var n=e.button;n&&0!==n&&1!==n||this._pointerDown(e,e)},a.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},a.onpointerdown=function(e){this._pointerDown(e,e)},a._pointerDown=function(e,n){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==n.pointerId?n.pointerId:n.identifier,this.pointerDown(e,n))},a.pointerDown=function(e,n){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,n])};var i={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return a._bindPostStartEvents=function(n){if(n){var t=i[n.type];t.forEach(function(n){e.addEventListener(n,this)},this),this._boundPointerEvents=t}},a._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(n){e.removeEventListener(n,this)},this),delete this._boundPointerEvents)},a.onmousemove=function(e){this._pointerMove(e,e)},a.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},a.ontouchmove=function(e){var n=this.getTouch(e.changedTouches);n&&this._pointerMove(e,n)},a._pointerMove=function(e,n){this.pointerMove(e,n)},a.pointerMove=function(e,n){this.emitEvent("pointerMove",[e,n])},a.onmouseup=function(e){this._pointerUp(e,e)},a.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},a.ontouchend=function(e){var n=this.getTouch(e.changedTouches);n&&this._pointerUp(e,n)},a._pointerUp=function(e,n){this._pointerDone(),this.pointerUp(e,n)},a.pointerUp=function(e,n){this.emitEvent("pointerUp",[e,n])},a._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},a._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},a.pointerDone=t,a.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},a.ontouchcancel=function(e){var n=this.getTouch(e.changedTouches);n&&this._pointerCancel(e,n)},a._pointerCancel=function(e,n){this._pointerDone(),this.pointerCancel(e,n)},a.pointerCancel=function(e,n){this.emitEvent("pointerCancel",[e,n])},r.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},r})}),unidragger=createCommonjsModule(function(e){!function(n,t){e.exports?e.exports=t(n,unipointer):n.Unidragger=t(n,n.Unipointer)}(window,function(e,n){function t(){}var r=t.prototype=Object.create(n.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(n){for(var t=(n=void 0===n||n)?"addEventListener":"removeEventListener",r=n?this._touchActionValue:"",a=0;a<this.handles.length;a++){var i=this.handles[a];this._bindStartEvent(i,n),i[t]("click",this),e.PointerEvent&&(i.style.touchAction=r)}},r._touchActionValue="none",r.pointerDown=function(e,n){this.okayPointerDown(e)&&(this.pointerDownPointer=n,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,n]))};var a={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},i={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(e){var n=a[e.target.nodeName],t=i[e.target.type],r=!n||t;return r||this._pointerReset(),r},r.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},r.pointerMove=function(e,n){var t=this._dragPointerMove(e,n);this.emitEvent("pointerMove",[e,n,t]),this._dragMove(e,n,t)},r._dragPointerMove=function(e,n){var t={x:n.pageX-this.pointerDownPointer.pageX,y:n.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(t)&&this._dragStart(e,n),t},r.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},r.pointerUp=function(e,n){this.emitEvent("pointerUp",[e,n]),this._dragPointerUp(e,n)},r._dragPointerUp=function(e,n){this.isDragging?this._dragEnd(e,n):this._staticClick(e,n)},r._dragStart=function(e,n){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,n)},r.dragStart=function(e,n){this.emitEvent("dragStart",[e,n])},r._dragMove=function(e,n,t){this.isDragging&&this.dragMove(e,n,t)},r.dragMove=function(e,n,t){e.preventDefault(),this.emitEvent("dragMove",[e,n,t])},r._dragEnd=function(e,n){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,n)},r.dragEnd=function(e,n){this.emitEvent("dragEnd",[e,n])},r.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},r._staticClick=function(e,n){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,n),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},r.staticClick=function(e,n){this.emitEvent("staticClick",[e,n])},t.getPointerPoint=n.getPointerPoint,t})}),draggabilly=createCommonjsModule(function(e){!function(n,t){e.exports?e.exports=t(n,getSize,unidragger):n.Draggabilly=t(n,n.getSize,n.Unidragger)}(window,function(e,n,t){function r(e,n){for(var t in n)e[t]=n[t];return e}function a(){}function i(e,n){this.element="string"==typeof e?document.querySelector(e):e,l&&(this.$element=l(this.element)),this.options=r({},this.constructor.defaults),this.option(n),this._create()}function o(e,n,t){return t=t||"round",n?Math[t](e/n)*n:e}var l=e.jQuery,s=i.prototype=Object.create(t.prototype);i.defaults={},s.option=function(e){r(this.options,e)};var p={relative:!0,absolute:!0,fixed:!0};return s._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=r({},this.position);var e=getComputedStyle(this.element);p[e.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},s.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},s.dispatchEvent=function(e,n,t){var r=[n].concat(t);this.emitEvent(e,r),this.dispatchJQueryEvent(e,n,t)},s.dispatchJQueryEvent=function(n,t,r){var a=e.jQuery;if(a&&this.$element){var i=a.Event(t);i.type=n,this.$element.trigger(i,r)}},s._getPosition=function(){var e=getComputedStyle(this.element),n=this._getPositionCoord(e.left,"width"),t=this._getPositionCoord(e.top,"height");this.position.x=isNaN(n)?0:n,this.position.y=isNaN(t)?0:t,this._addTransformPosition(e)},s._getPositionCoord=function(e,t){if(-1!=e.indexOf("%")){var r=n(this.element.parentNode);return r?parseFloat(e)/100*r[t]:0}return parseInt(e,10)},s._addTransformPosition=function(e){var n=e.transform;if(0===n.indexOf("matrix")){var t=n.split(","),r=0===n.indexOf("matrix3d")?12:4,a=parseInt(t[r],10),i=parseInt(t[r+1],10);this.position.x+=a,this.position.y+=i}},s.onPointerDown=function(e,n){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",e,[n])},s.dragStart=function(e,n){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[n]),this.animate())},s.measureContainment=function(){var e=this.getContainer();if(e){var t=n(this.element),r=n(e),a=this.element.getBoundingClientRect(),i=e.getBoundingClientRect(),o=r.borderLeftWidth+r.borderRightWidth,l=r.borderTopWidth+r.borderBottomWidth,s=this.relativeStartPosition={x:a.left-(i.left+r.borderLeftWidth),y:a.top-(i.top+r.borderTopWidth)};this.containSize={width:r.width-o-s.x-t.width,height:r.height-l-s.y-t.height}}},s.getContainer=function(){var e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},s.onPointerMove=function(e,n,t){this.dispatchJQueryEvent("pointerMove",e,[n,t])},s.dragMove=function(e,n,t){if(this.isEnabled){var r=t.x,a=t.y,i=this.options.grid,l=i&&i[0],s=i&&i[1];r=o(r,l),a=o(a,s),r=this.containDrag("x",r,l),a=this.containDrag("y",a,s),r="y"==this.options.axis?0:r,a="x"==this.options.axis?0:a,this.position.x=this.startPosition.x+r,this.position.y=this.startPosition.y+a,this.dragPoint.x=r,this.dragPoint.y=a,this.dispatchEvent("dragMove",e,[n,t])}},s.containDrag=function(e,n,t){if(!this.options.containment)return n;var r="x"==e?"width":"height",a=o(-this.relativeStartPosition[e],t,"ceil"),i=this.containSize[r];return i=o(i,t,"floor"),Math.max(a,Math.min(i,n))},s.onPointerUp=function(e,n){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",e,[n])},s.dragEnd=function(e,n){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[n]))},s.animate=function(){if(this.isDragging){this.positionDrag();var e=this;requestAnimationFrame(function(){e.animate()})}},s.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},s.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},s.staticClick=function(e,n){this.dispatchEvent("staticClick",e,[n])},s.setPosition=function(e,n){this.position.x=e,this.position.y=n,this.setLeftTop()},s.enable=function(){this.isEnabled=!0},s.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},s.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},s._init=a,l&&l.bridget&&l.bridget("draggabilly",i),i})}),getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var n=document.createElement("div");n.innerHTML='<a href="'+e+'">x</a>',e=n.firstChild.href}return e},download=createCommonjsModule(function(e,n){!function(n,t){e.exports=function(){return function e(n,t,r){function a(e){var n=e.split(/[:;,]/),t=n[1],r=("base64"==n[2]?atob:decodeURIComponent)(n.pop()),a=r.length,i=0,o=new Uint8Array(a);for(i;i<a;++i)o[i]=r.charCodeAt(i);return new y([o],{type:t})}function i(e,n){if("download"in g)return g.href=e,g.setAttribute("download",h),g.className="download-js-link",g.innerHTML="downloading...",g.style.display="none",document.body.appendChild(g),setTimeout(function(){g.click(),document.body.removeChild(g),!0===n&&setTimeout(function(){s.URL.revokeObjectURL(g.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,p)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var t=document.createElement("iframe");document.body.appendChild(t),!n&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,p)),t.src=e,setTimeout(function(){document.body.removeChild(t)},333)}var o,l,s=window,p="application/octet-stream",c=r||p,d=n,u=!t&&!r&&d,g=document.createElement("a"),f=function(e){return String(e)},y=s.Blob||s.MozBlob||s.WebKitBlob||f,h=t||"download";if(y=y.call?y.bind(s):Blob,"true"===String(this)&&(c=(d=[d,c])[0],d=d[1]),u&&u.length<2048&&(h=u.split("/").pop().split("?")[0],g.href=u,-1!==g.href.indexOf(u))){var x=new XMLHttpRequest;return x.open("GET",u,!0),x.responseType="blob",x.onload=function(n){e(n.target.response,h,p)},setTimeout(function(){x.send()},0),x}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&y!==f))return navigator.msSaveBlob?navigator.msSaveBlob(a(d),h):i(d);c=(d=a(d)).type||p}else if(/([\x80-\xff])/.test(d)){var m=0,v=new Uint8Array(d.length),b=v.length;for(m;m<b;++m)v[m]=d.charCodeAt(m);d=new y([v],{type:c})}if(o=d instanceof y?d:new y([d],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,h);if(s.URL)i(s.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===f)try{return i("data:"+c+";base64,"+s.btoa(o))}catch(e){return i("data:"+c+","+encodeURIComponent(o))}(l=new FileReader).onload=function(e){i(this.result)},l.readAsDataURL(o)}return!0}}()}()}),Player=function(e){function n(e){function t(){o.root.removeEventListener("mousemove",o.mousemoveFunc),o.off("destroy",t)}classCallCheck(this,n);var r=possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(r.config=util$1.deepCopy({width:600,height:337.5,ignores:[],whitelist:[],lang:(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),inactive:3e3,volume:.6,controls:!0,controlsList:["nodownload"]},e),r.version=version,r.userTimer=null,r.waitTimer=null,r.database=new INDEXDB,r.history=[],r.isProgressMoving=!1,r.root=util$1.findDom(document,"#"+r.config.id),r.controls=util$1.createDom("xg-controls","",{unselectable:"on",onselectstart:"return false"},"xgplayer-controls"),!r.root){var a=r.config.el;if(!a||1!==a.nodeType){return r.emit("error",new Errors("use",r.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),!1,possibleConstructorReturn(r,!1)}r.root=a}if(util$1.addClass(r.root,"xgplayer xgplayer-"+sniffer.device+" xgplayer-nostart "+(r.config.controls?"":"no-controls")),r.root.appendChild(r.controls),r.config.fluid?(r.root.style["max-width"]="100%",r.root.style.width="100%",r.root.style.height="0",r.root.style["padding-top"]=100*r.config.height/r.config.width+"%",r.video.style.position="absolute",r.video.style.top="0",r.video.style.left="0"):(r.config.width&&("number"!=typeof r.config.width?r.root.style.width=r.config.width:r.root.style.width=r.config.width+"px"),r.config.height&&("number"!=typeof r.config.height?r.root.style.height=r.config.height:r.root.style.height=r.config.height+"px")),r.config.execBeforePluginsCall&&r.config.execBeforePluginsCall.forEach(function(e){e.call(r,r)}),r.config.controlStyle&&"String"===util$1.typeOf(r.config.controlStyle)){var i=r;fetch(i.config.controlStyle,{method:"GET",headers:{Accept:"application/json"}}).then(function(e){e.ok&&e.json().then(function(e){for(var n in e)e.hasOwnProperty(n)&&(i.config[n]=e[n]);i.pluginsCall()})}).catch(function(e){console.log("Fetch错误:"+e)})}else r.pluginsCall();r.ev.forEach(function(e){var n=Object.keys(e)[0],t=r[e[n]];t&&r.on(n,t)}),["focus","blur"].forEach(function(e){r.on(e,r["on"+e.charAt(0).toUpperCase()+e.slice(1)])});var o=r;return r.mousemoveFunc=function(){o.emit("focus"),o.config.closeFocusVideoFocus||o.video.focus()},r.root.addEventListener("mousemove",r.mousemoveFunc),r.playFunc=function(){o.emit("focus"),o.config.closePlayVideoFocus||o.video.focus()},o.once("play",r.playFunc),r.getVideoSize=function(){if(this.video.videoWidth&&this.video.videoHeight){var e=o.root.getBoundingClientRect();"auto"===o.config.fitVideoSize?e.width/e.height>this.video.videoWidth/this.video.videoHeight?o.root.style.height=this.video.videoHeight/this.video.videoWidth*e.width+"px":o.root.style.width=this.video.videoWidth/this.video.videoHeight*e.height+"px":"fixWidth"===o.config.fitVideoSize?o.root.style.height=this.video.videoHeight/this.video.videoWidth*e.width+"px":"fixHeight"===o.config.fitVideoSize&&(o.root.style.width=this.video.videoWidth/this.video.videoHeight*e.height+"px")}},o.once("loadeddata",r.getVideoSize),setTimeout(function(){r.emit("ready"),r.isReady=!0},0),r.config.keyShortcut&&"on"!==r.config.keyShortcut||["video","controls"].forEach(function(e){o[e].addEventListener("keydown",function(e){o.onKeydown(e,o)})}),r.config.videoInit&&util$1.hasClass(r.root,"xgplayer-nostart")&&r.start(),o.config.rotate&&(o.on("requestFullscreen",r.updateRotateDeg),o.on("exitFullscreen",r.updateRotateDeg)),o.once("destroy",t),r}return inherits(n,e),createClass(n,[{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.url,r=this.root,a=this;t&&""!==t||this.emit("urlNull"),this.logParams.playSrc=t,this.canPlayFunc=function(){var e=a.video.play();void 0!==e&&e&&e.then(function(){a.emit("autoplay started")}).catch(function(){a.emit("autoplay was prevented"),n.util.addClass(a.root,"xgplayer-is-autoplay")}),a.off("canplay",a.canPlayFunc)},"String"===util$1.typeOf(t)?this.video.src=t:t.forEach(function(n){e.video.appendChild(util$1.createDom("source","",{src:""+n.src,type:""+(n.type||"")}))}),this.logParams.pt=(new Date).getTime(),this.logParams.vt=this.logParams.pt,this.loadeddataFunc=function(){a.logParams.vt=(new Date).getTime(),a.logParams.pt>a.logParams.vt&&(a.logParams.pt=a.logParams.vt),a.logParams.vd=a.video.duration},this.once("loadeddata",this.loadeddataFunc),this.config.autoplay&&this.on("canplay",this.canPlayFunc),r.insertBefore(this.video,r.firstChild),setTimeout(function(){e.emit("complete")},1)}},{key:"reload",value:function(){this.video.load(),this.reloadFunc=function(){var e=this.play();void 0!==e&&e&&e.catch(function(e){})},this.once("loadeddata",this.reloadFunc)}},{key:"destroy",value:function(){function e(){if(this.emit("destroy"),this.video.removeAttribute("src"),this.video.load(),r){this.root.innerHTML="";var n=this.root.className.split(" ");n.length>0?this.root.className=n.filter(function(e){return e.indexOf("xgplayer")<0}).join(" "):this.root.className=""}for(var t in this)delete this[t];this.off("pause",e)}var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this;clearInterval(this.bulletResizeTimer);for(var i in this._interval)clearInterval(this._interval[i]),this._interval[i]=null;this.ev.forEach(function(e){var n=Object.keys(e)[0],r=t[e[n]];r&&t.off(n,r)}),this.loadeddataFunc&&this.off("loadeddata",this.loadeddataFunc),this.reloadFunc&&this.off("loadeddata",this.reloadFunc),this.replayFunc&&this.off("play",this.replayFunc),this.playFunc&&this.off("play",this.playFunc),this.getVideoSize&&this.off("loadeddata",this.getVideoSize),["focus","blur"].forEach(function(e){t.off(e,t["on"+e.charAt(0).toUpperCase()+e.slice(1)])}),this.config.keyShortcut&&"on"!==this.config.keyShortcut||["video","controls"].forEach(function(e){t[e]&&t[e].removeEventListener("keydown",function(e){a.onKeydown(e,a)})}),this.paused?e.call(this):(this.pause(),this.once("pause",e)),get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"replay",value:function(){var e=this,n=this._replay;if(util$1.removeClass(this.root,"xgplayer-ended"),this.logParams={bc:0,bu_acu_t:0,played:[],pt:(new Date).getTime(),vt:(new Date).getTime(),vd:0},this.logParams.pt=(new Date).getTime(),this.logParams.vt=this.logParams.pt,this.replayFunc=function(){e.logParams.vt=(new Date).getTime(),e.logParams.pt>e.logParams.vt&&(e.logParams.pt=e.logParams.vt),e.logParams.vd=e.video.duration},this.once("play",this.replayFunc),this.logParams.playSrc=this.video.currentSrc,n&&n instanceof Function)n();else{this.currentTime=0;var t=this.play();void 0!==t&&t&&t.catch(function(e){})}}},{key:"getFullscreen",value:function(e){var n=this;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):n.video.webkitSupportsFullscreen?n.video.webkitEnterFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():util$1.addClass(e,"xgplayer-is-cssfullscreen")}},{key:"exitFullscreen",value:function(e){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),util$1.removeClass(e,"xgplayer-is-cssfullscreen")}},{key:"getCssFullscreen",value:function(){var e=this;e.config.fluid&&(e.root.style["padding-top"]=""),util$1.addClass(e.root,"xgplayer-is-cssfullscreen"),e.emit("requestCssFullscreen")}},{key:"exitCssFullscreen",value:function(){var e=this;e.config.fluid&&(e.root.style.width="100%",e.root.style.height="0",e.root.style["padding-top"]=100*e.config.height/e.config.width+"%"),util$1.removeClass(e.root,"xgplayer-is-cssfullscreen"),e.emit("exitCssFullscreen")}},{key:"download",value:function(){var e=getAbsoluteURL(this.config.url);download(e)}},{key:"pluginsCall",value:function(){var e=this,t=this;if(n.plugins){var r=this.config.ignores;Object.keys(n.plugins).forEach(function(a){var i=n.plugins[a];r.some(function(e){return a===e||a==="s_"+e})||(["pc","tablet","mobile"].some(function(e){return e===a})?a===sniffer.device&&setTimeout(function(){i.call(t,t)},0):i.call(e,e))})}}},{key:"getPIP",value:function(){var e=util$1.createDom("xg-pip-lay","<div></div>",{},"xgplayer-pip-lay");this.root.appendChild(e);var n=util$1.createDom("xg-pip-drag",'<div class="drag-handle"><span>点击按住可拖动视频</span></div>',{tabindex:9},"xgplayer-pip-drag");this.root.appendChild(n);new draggabilly(".xgplayer",{handle:".drag-handle"});util$1.addClass(this.root,"xgplayer-pip-active"),this.root.style.right=0,this.root.style.bottom="200px",this.root.style.top="",this.root.style.left="",this.root.style.width="320px",this.root.style.height="180px",this.config.pipConfig&&(void 0!==this.config.pipConfig.top&&(this.root.style.top=this.config.pipConfig.top+"px",this.root.style.bottom=""),void 0!==this.config.pipConfig.bottom&&(this.root.style.bottom=this.config.pipConfig.bottom+"px"),void 0!==this.config.pipConfig.left&&(this.root.style.left=this.config.pipConfig.left+"px",this.root.style.right=""),void 0!==this.config.pipConfig.right&&(this.root.style.right=this.config.pipConfig.right+"px"),void 0!==this.config.pipConfig.width&&(this.root.style.width=this.config.pipConfig.width+"px"),void 0!==this.config.pipConfig.height&&(this.root.style.height=this.config.pipConfig.height+"px")),this.config.fluid&&(this.root.style["padding-top"]="");var t=this;["click","touchend"].forEach(function(n){e.addEventListener(n,function(e){e.preventDefault(),e.stopPropagation(),t.exitPIP()})})}},{key:"exitPIP",value:function(){util$1.removeClass(this.root,"xgplayer-pip-active"),this.root.style.right="",this.root.style.bottom="",this.root.style.top="",this.root.style.left="",this.config.fluid?(this.root.style.width="100%",this.root.style.height="0",this.root.style["padding-top"]=100*this.config.height/this.config.width+"%"):(this.config.width&&("number"!=typeof this.config.width?this.root.style.width=this.config.width:this.root.style.width=this.config.width+"px"),this.config.height&&("number"!=typeof this.config.height?this.root.style.height=this.config.height:this.root.style.height=this.config.height+"px"));var e=util$1.findDom(this.root,".xgplayer-pip-lay");e&&e.parentNode&&e.parentNode.removeChild(e);var n=util$1.findDom(this.root,".xgplayer-pip-drag");n&&n.parentNode&&n.parentNode.removeChild(n)}},{key:"updateRotateDeg",value:function(){var e=this;e.rotateDeg||(e.rotateDeg=0);var n=e.root.offsetWidth,t=e.root.offsetHeight,r=e.video.videoWidth,a=e.video.videoHeight;e.config.rotate.innerRotate;var i=void 0;if(.25===e.rotateDeg||.75===e.rotateDeg){if(e.config.rotate.innerRotate)if(r/a>t/n){i=t/(a/r>t/n?t*r/a:n)}else{i=n/(a/r>t/n?t:n*a/r)}else i=n>=t?n/t:t/n;i=parseFloat(i.toFixed(5))}else i=1;e.config.rotate.innerRotate?(e.video.style.transformOrigin="center center",e.video.style.transform="rotate("+e.rotateDeg+"turn) scale("+i+")",e.video.style.webKitTransform="rotate("+e.rotateDeg+"turn) scale("+i+")"):(e.root.style.transformOrigin="center center",e.root.style.transform="rotate("+e.rotateDeg+"turn) scale(1)",e.root.style.webKitTransform="rotate("+e.rotateDeg+"turn) scale(1)")}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,t=this;t.rotateDeg||(t.rotateDeg=0);var r=e?1:-1;t.rotateDeg=(t.rotateDeg+1+.25*r*n)%1,this.updateRotateDeg(),t.emit("rotate",360*t.rotateDeg)}},{key:"onFocus",value:function(){var e=this;util$1.removeClass(this.root,"xgplayer-inactive"),e.userTimer&&clearTimeout(e.userTimer),e.userTimer=setTimeout(function(){e.emit("blur")},e.config.inactive)}},{key:"onBlur",value:function(){this.paused||this.ended||util$1.addClass(this.root,"xgplayer-inactive")}},{key:"onPlay",value:function(){util$1.addClass(this.root,"xgplayer-playing"),util$1.removeClass(this.root,"xgplayer-pause")}},{key:"onPause",value:function(){util$1.addClass(this.root,"xgplayer-pause"),this.userTimer&&clearTimeout(this.userTimer),this.emit("focus")}},{key:"onEnded",value:function(){util$1.addClass(this.root,"xgplayer-ended"),util$1.removeClass(this.root,"xgplayer-playing")}},{key:"onSeeking",value:function(){}},{key:"onSeeked",value:function(){this.waitTimer&&clearTimeout(this.waitTimer),util$1.removeClass(this.root,"xgplayer-isloading")}},{key:"onWaiting",value:function(){var e=this;e.waitTimer&&clearTimeout(e.waitTimer),e.waitTimer=setTimeout(function(){util$1.addClass(e.root,"xgplayer-isloading")},500)}},{key:"onPlaying",value:function(){this.waitTimer&&clearTimeout(this.waitTimer),util$1.removeClass(this.root,"xgplayer-isloading xgplayer-nostart xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay"),util$1.addClass(this.root,"xgplayer-playing")}},{key:"onKeydown",value:function(e,n){var t=e||window.event;if(!t||37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode&&40!==t.keyCode&&32!==t.keyCode||n.emit("focus"),!t||40!==t.keyCode&&38!==t.keyCode){if(t&&39===t.keyCode)n.currentTime+10<=n.duration?n.currentTime+=10:n.currentTime=n.duration-1;else if(t&&37===t.keyCode)n.currentTime-10>=0?n.currentTime-=10:n.currentTime=0;else if(t&&32===t.keyCode)if(n.paused){var r=n.play();void 0!==r&&r&&r.catch(function(e){})}else n.pause()}else{if(n.controls){var a=n.controls.querySelector(".xgplayer-slider");a&&(util$1.hasClass(a,"xgplayer-none")&&util$1.removeClass(a,"xgplayer-none"),n.sliderTimer&&clearTimeout(n.sliderTimer),n.sliderTimer=setTimeout(function(){util$1.addClass(a,"xgplayer-none")},n.config.inactive))}t&&40===t.keyCode?n.volume-.1>=0?n.volume=parseFloat((n.volume-.1).toFixed(1)):n.volume=0:t&&38===t.keyCode&&(n.volume+.1<=1?n.volume=parseFloat((n.volume+.1).toFixed(1)):n.volume=1)}}}],[{key:"install",value:function(e,t){n.plugins||(n.plugins={}),n.plugins[e]||(n.plugins[e]=t)}},{key:"use",value:function(e,t){n.plugins||(n.plugins={}),n.plugins[e]=t}}]),n}(Proxy);Player.util=util$1,Player.sniffer=sniffer,Player.Errors=Errors;var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},undef=void 0,Env=function e(){var n=this;_classCallCheck(this,e),this.set=function(e,t){var r=e,a=t;if(null===a)return!1;var i="";if(r.indexOf(".")>-1){var o=r.split(".");i=o[0],r=o[1]}"os_version"===r&&(a=""+a),i?"user"===i||"header"===i?n.envInfo[i][r]=a:"headers"===i?n.envInfo.header.headers[r]=a:n.envInfo.header.headers.custom[r]=a:n.envInfo.user.hasOwnProperty(r)?["user_type","device_id","ip_addr_id"].indexOf(r)>-1?n.envInfo.user[r]=Number(a):["user_id","web_id","user_unique_id","ssid"].indexOf(r)>-1?n.envInfo.user[r]=String(a):["user_is_auth","user_is_login"].indexOf(r)>-1&&(n.envInfo.user[r]=Boolean(a)):n.envInfo.header.hasOwnProperty(r)?n.envInfo.header[r]=a:n.envInfo.header.headers.hasOwnProperty(r)?n.envInfo.header.headers[r]=a:n.envInfo.header.headers.custom[r]=a},this.get=function(){for(var e={user:{},header:{headers:{custom:{}}}},t=n.envInfo,r=t.user,a=Object.keys(r),i=Array.isArray(a),o=0,a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=l;r[s]!==undef&&(e.user[s]=r[s])}for(var p=t.header,c=Object.keys(p),d=Array.isArray(c),u=0,c=d?c:c[Symbol.iterator]();;){var g;if(d){if(u>=c.length)break;g=c[u++]}else{if((u=c.next()).done)break;g=u.value}var f=g;p[f]!==undef&&"headers"!==f&&(e.header[f]=p[f])}for(var y=t.header.headers,h=Object.keys(y),x=Array.isArray(h),m=0,h=x?h:h[Symbol.iterator]();;){var v;if(x){if(m>=h.length)break;v=h[m++]}else{if((m=h.next()).done)break;v=m.value}var b=v;"custom"!==b&&y[b]!==undef&&(e.header.headers[b]=y[b])}var k=t.header.headers.custom,w=Object.keys(k);if(w.length)for(var _=w,C=Array.isArray(_),E=0,_=C?_:_[Symbol.iterator]();;){var P;if(C){if(E>=_.length)break;P=_[E++]}else{if((E=_.next()).done)break;P=E.value}var S=P;e.header.headers.custom[S]=k[S]}return{user:e.user,header:_extends({},e.header,{headers:e.header.headers})}},this.envInfo={user:{user_unique_id:undef,user_type:undef,user_id:undef,user_is_auth:undef,user_is_login:undef,device_id:undef,web_id:undef,ip_addr_id:undef,ssid:undef},header:{app_id:undef,app_name:undef,app_install_id:undef,app_package:undef,app_channel:undef,app_version:undef,os_name:undef,os_version:undef,device_model:undef,ab_client:undef,ab_version:undef,traffic_type:undef,utm_source:undef,utm_medium:undef,utm_campaign:undef,client_ip:undef,device_brand:undef,os_api:undef,access:undef,language:undef,region:undef,app_language:undef,app_region:undef,creative_id:undef,ad_id:undef,campaign_id:undef,log_type:undef,rnd:undef,platform:undef,sdk_version:undef,province:undef,city:undef,timezone:undef,tz_offset:undef,tz_name:undef,sim_region:undef,carrier:undef,resolution:undef,browser:undef,browser_version:undef,referrer:undef,referrer_host:undef,headers:{utm_term:undef,utm_content:undef,custom:{}}}}},parseURL=function(e){var n=document.createElement("a");return n.href=e,n},parseUrlQuery=function(e){var n=parseURL(e).search,t={};return(n=n.slice(1)).split("&").forEach(function(e){var n=e.split("="),r=n[0],a=n[1];t[r]=decodeURIComponent(void 0===a?"":a)}),t},undef$1="",screen_width=screen.width||0,screen_height=screen.height||0,screen_size=screen_width+" x "+screen_height,appVersion=navigator.appVersion,userAgent=navigator.userAgent,language=navigator.language,referrer=document.referrer,referrer_host=parseURL(referrer).hostname,urlQueryObj=parseUrlQuery(location.href),os_name=undef$1,os_version=undef$1,browser="",browser_version=""+parseFloat(appVersion),versionOffset=void 0,semiIndex=void 0;-1!==(versionOffset=userAgent.indexOf("Opera"))&&(browser="Opera",browser_version=userAgent.substring(versionOffset+6),-1!==(versionOffset=userAgent.indexOf("Version"))&&(browser_version=userAgent.substring(versionOffset+8))),-1!==(versionOffset=userAgent.indexOf("Edge"))?(browser="Microsoft Edge",browser_version=userAgent.substring(versionOffset+5)):-1!==(versionOffset=userAgent.indexOf("MSIE"))?(browser="Microsoft Internet Explorer",browser_version=userAgent.substring(versionOffset+5)):-1!==(versionOffset=userAgent.indexOf("Chrome"))?(browser="Chrome",browser_version=userAgent.substring(versionOffset+7)):-1!==(versionOffset=userAgent.indexOf("Safari"))?(browser="Safari",browser_version=userAgent.substring(versionOffset+7),-1!==(versionOffset=userAgent.indexOf("Version"))&&(browser_version=userAgent.substring(versionOffset+8))):-1!==(versionOffset=userAgent.indexOf("Firefox"))&&(browser="Firefox",browser_version=userAgent.substring(versionOffset+8)),-1!==(semiIndex=browser_version.indexOf(";"))&&(browser_version=browser_version.substring(0,semiIndex)),-1!==(semiIndex=browser_version.indexOf(" "))&&(browser_version=browser_version.substring(0,semiIndex)),-1!==(semiIndex=browser_version.indexOf(")"))&&(browser_version=browser_version.substring(0,semiIndex));for(var platform=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(appVersion)?"wap":"web",clientOpts=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],i=0;i<clientOpts.length;i++){var cs=clientOpts[i];if(cs.r.test(userAgent)){os_name=cs.s;break}}switch(/Windows/.test(os_name)&&(os_version=getVersion(/Windows (.*)/,os_name),os_name="windows"),os_name){case"Mac OS X":os_version=getVersion(/Mac OS X (10[\.\_\d]+)/,userAgent),os_name="mac";break;case"Android":os_version=getAndroidVersion(userAgent),os_name="android";break;case"iOS":os_version=/OS (\d+)_(\d+)_?(\d+)?/.exec(appVersion),os_version=os_version?os_version[1]+"."+os_version[2]+"."+(0|os_version[3]):"",os_name="ios"}var browser$1={screen_size:screen_size,browser:browser,browser_version:browser_version,platform:platform,os_name:os_name,os_version:os_version,userAgent:userAgent,screen_width:screen_width,screen_height:screen_height,device_model:os_name,language:language,referrer:referrer,referrer_host:referrer_host,utm_source:urlQueryObj.utm_source,utm_medium:urlQueryObj.utm_medium,utm_campaign:urlQueryObj.utm_campaign,utm_term:urlQueryObj.utm_term,utm_content:urlQueryObj.utm_content},StorageCache={get:function(e){var n="no localStorage";localStorage&&localStorage.getItem&&(n=localStorage.getItem(e));var t=n;try{n&&"string"==typeof n&&(t=JSON.parse(n))}catch(e){}return t},set:function(e,n){try{var t="string"==typeof n?n:JSON.stringify(n);localStorage&&localStorage.setItem&&localStorage.setItem(e,t)}catch(e){}}},TEA_CACHE_PREFIX="__tea_cache_",TEA_LOGGER_PREFIX="[tea-sdk]",ERROR_CODE={NO_URL_PREFIX:4001,IMG_ON_ERROR:4e3,IMG_CATCH_ERROR:4002,BEACON_STATUS_FALSE:4003,XHR_ON_ERROR:500,RESPONSE_DATA_ERROR:5001},_typeof$1="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},Logger=function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_classCallCheck$1(this,e),this.init=function(e){n.isLog=e},this.info=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(n.isLog){var i;(i=console).log.apply(i,[n.prefix+e].concat(r))}},this.warn=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(n.isLog){var i;(i=console).warn.apply(i,[n.prefix+e].concat(r))}},this.error=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(n.isLog){var i;(i=console).error.apply(i,[n.prefix+e].concat(r))}},this.dir=function(){if(n.isLog){var e;(e=console).dir.apply(e,arguments)}},this.table=function(e){n.isLog&&console.table(e)},this.logJSON=function(e){"object"===(void 0===e?"undefined":_typeof$1(e))&&n.isLog&&n.info("",JSON.stringify(e,null,2))},this.deprecated=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.warn.apply(n,["[DEPRECATED]"+e].concat(r))},this.throw=function(e){throw n.error(n.prefix),new Error(e)};var r=t?"["+t+"]":"";this.prefix=TEA_LOGGER_PREFIX+r},logger=new Logger,fetchTokens=function(e,n,t,r){var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/json; charset=utf-8"),a.onload=function(){try{var e=JSON.parse(a.responseText);t&&t(e)}catch(e){r&&r()}},a.onerror=function(){r&&r()},a.send(JSON.stringify(n))},date=new Date,timeZoneMin=date.getTimezoneOffset(),timezone=parseInt(-timeZoneMin/60,10),tz_offset=60*timeZoneMin,sdk_version=void 0;try{sdk_version="3.2.7"}catch(e){sdk_version="2.x"}var ClientEnv=function(e){function n(){_classCallCheck$2(this,n);var t=_possibleConstructorReturn(this,e.call(this));return t.initClientEnv=function(){t.set("os_name",browser$1.os_name),t.set("os_version",browser$1.os_version),t.set("device_model",browser$1.device_model),t.set("platform",browser$1.platform),t.set("sdk_version",sdk_version),t.set("browser",browser$1.browser),t.set("browser_version",browser$1.browser_version),t.set("language",browser$1.language),t.set("timezone",timezone),t.set("tz_offset",tz_offset),t.set("resolution",browser$1.screen_width+"x"+browser$1.screen_height),t.set("screen_width",browser$1.screen_width),t.set("screen_height",browser$1.screen_height),t.set("referrer",browser$1.referrer),t.set("referrer_host",browser$1.referrer_host),t.set("utm_source",browser$1.utm_source),t.set("utm_medium",browser$1.utm_medium),t.set("utm_campaign",browser$1.utm_campaign),t.set("utm_term",browser$1.utm_term),t.set("utm_content",browser$1.utm_content)},t.initClientEnv(),t}return _inherits(n,e),n}(Env),clientEnvManager=new ClientEnv,Type=function(){function e(){_classCallCheck$3(this,e)}return e.prototype.isString=function(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isNumber=function(e){return"Number"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isBoolean=function(e){return"Boolean"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isFunction=function(e){return"Function"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isNull=function(e){return"Null"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isUndefined=function(e){return"Undefined"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isObj=function(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isArray=function(e){return"Array"===Object.prototype.toString.call(e).slice(8,-1)},e.prototype.isFalse=function(e){return""===e||void 0===e||null===e||"null"===e||"undefined"===e||0===e||!1===e||NaN===e},e.prototype.isTrue=function(e){return!this.isFalse(e)},e.prototype.isLowIE=function(){return window.XDomainRequest},e}(),types=new Type,decodeXXX=function(e){return decrypto(e,64,25)},webid=function(){return b().replace(/-/g,"").slice(0,19)},_extends$1=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},urlPrefix={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},getCookie=function(e){try{var n=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)"));return decodeURIComponent(n?n[1]:"")}catch(e){return""}},AppChannelEnv=function(e){function n(){_classCallCheck$4(this,n);var t=_possibleConstructorReturn$1(this,e.call(this));return t.init=function(e){var n=e.app_id,r=e.channel,a=e.log,i=e.channel_domain,o=e.name;if("number"!=typeof n)throw new Error("app_id 必须是一个数字，注意检查是否是以`string`的方式传入的？");t.logger=new Logger(o),t.logger.init(a),t.initConfigs(e),t.initUrls(r,i),t.setEnv("app_id",n)},t.initConfigs=function(e){var n=e.app_id,r=e.disable_ssid,a=e.disable_webid,i=e.disable_sdk_monitor;t.app_id=n,t.evtDataCacheKey=TEA_CACHE_PREFIX+"events_"+n,r&&(t.logger.info("ssid已禁用，设置user_unique_id不会请求ssid接口。"),t.isSsidDisabled=!0),a&&(t.logger.info("webid服务已禁用，ssid同时被禁用。将本地生成webid。"),t.isWebidDisabled=!0,t.isSsidDisabled=!0),i&&(t.logger.info("SDK监控已禁用。"),t.isSdkMonitorDisabled=!0)},t.initUrls=function(e,n){if("internal"===e&&(t.logger.warn("channel 的值 internal 已被废弃，已自动改为 cn。"),e="cn"),!n&&!urlPrefix[e])throw new Error("channel 变量只能是 `cn`, `sg`,`va`");var r=n||decodeXXX(urlPrefix[e]);r=r.replace(/\/+$/,""),t.reportUrl=r+"/v1/list",t.userTokensPrefix=""+r},t.setEnv=function(e,n){if("app_id"===e&&t.checkUserToken(n),"user_unique_id"===e){if(t.blackUuid.some(function(e){return e===String(n)}))return void t.logger.warn('设置了无效的值 {user_unique_id："%s"}。该操作已忽略。',n);t.verifyTokens(n)}if("web_id"===e){if(!n)return;(!t.envInfo.user.user_unique_id||t.envInfo.user.user_unique_id&&t.envInfo.user.user_unique_id===t.envInfo.user.web_id)&&t.set("user_unique_id",n)}t.set(e,n)},t.transferFromCookie=function(){var e=t.tokensCacheKey,n=getCookie("tt_webid"),r=getCookie("__tea_sdk__ssid"),a=getCookie("__tea_sdk__user_unique_id");if(types.isLowIE()){if(n){var i={web_id:n,ssid:n,user_unique_id:n};StorageCache.set(e,JSON.stringify(i))}return!1}if(n&&r&&a){var o={web_id:n,ssid:r,user_unique_id:a};StorageCache.set(e,JSON.stringify(o))}},t.purifyBlackUuid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.blackUuid.some(function(n){return n===e.user_unique_id})){var n={};return t.setUserTokens(n),t.logger.warn('检测到无效的用户标识，已重置用户状态。{user_unique_id: "%s"}',e.user_unique_id),n}return e},t.getUserTokens=function(){return StorageCache.get(t.tokensCacheKey)||{}},t.setUserTokens=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return StorageCache.set(t.tokensCacheKey,e)},t.checkUserToken=function(e){var n=TEA_CACHE_PREFIX+"tokens_"+e;t.tokensCacheKey=n,t.transferFromCookie();var r=t.purifyBlackUuid(t.getUserTokens());r.user_unique_id&&r.web_id?(t.envInfo.user.user_unique_id=r.user_unique_id,t.envInfo.user.web_id=r.web_id,t.envInfo.user.ssid=r.ssid||"",t.logger.info("初始化已经检测到了 webid user_unique_id，一般情况下不需要再次验证 id 了"),t.unlock()):t.requestWebId(e)},t.saveTokenToStorage=function(e){var n=e.web_id,r=e.ssid,a=e.user_unique_id;t.setUserTokens({web_id:n,ssid:r,user_unique_id:a})},t.requestWebId=function(){t.isRequestWebId=!0;var e=function(e){var n=t.envInfo.user.web_id||e.web_id,r=e.ssid;t.isRequestWebId=!1,t.envInfo.user.ssid=r,t.envInfo.user.web_id=n,t.envInfo.user.user_unique_id=n,t.saveTokenToStorage({web_id:n,ssid:r,user_unique_id:n}),t.waitForVerifyTokens?(t.lock(),t.verifyTokens(t.realUuid)):(t.unlock(),t.callback&&t.callback())};t.isWebidDisabled?function(){e({web_id:webid(),ssid:""})}():function(){var n=t.userTokensPrefix+"/v1/user/webid";fetchTokens(n,{app_id:t.app_id,url:location.href,user_agent:browser$1.userAgent,referer:browser$1.referrer,user_unique_id:""},function(n){0!==n.e?t.logger.error("请求 webid 失败。请联系管理员。"):e(n)},function(){t.isRequestWebId=!1,t.logger.error("获取 webid 失败，数据将不会被上报")})}()},t.verifyTokens=function(e){var n=t.tokensCacheKey;if(t.waitForVerifyTokens=!1,t.realUuid=""+e,t.isRequestWebId)return t.waitForVerifyTokens=!0,t.logger.info("正在请求 webid，requestSsid 将会在前者请求完毕之后被调用"),!1;var r=t.getUserTokens();if(r.user_unique_id===t.realUuid&&r.ssid&&r.web_id)t.logger.info("传入的 user_id/user_unique_id 与 缓存中的完全一致，无需再次请求"),t.unlock();else{t.lock(),t.envInfo.user.user_unique_id=t.realUuid;var a=_extends$1({},t.getUserTokens(),{user_unique_id:t.realUuid});if(StorageCache.set(n,JSON.stringify(a)),types.isLowIE())return t.unlock(),!1;t.isSsidDisabled?(t.unlock(),t.callback&&t.callback()):t.requestSsid()}},t.requestSsid=function(){var e=t.getUserTokens(),n=t.userTokensPrefix+"/v1/user/ssid";fetchTokens(n,{app_id:t.app_id,web_id:e.web_id,user_unique_id:""+e.user_unique_id},function(n){if(t.unlock(),0!==n.e)t.logger.error("请求 ssid 失败~");else{t.envInfo.user.ssid=n.ssid;var r=_extends$1({},e,{ssid:n.ssid});t.setUserTokens(r),t.logger.info("根据 user_unique_id 更新 ssid 成功！注意：在这之前不应该有数据被发出去"),t.callback&&t.callback()}},function(){t.unlock(),t.logger.error("根据 user_unique_id 获取新 ssid 失败")})},t.setEvtParams=function(e){var n=_extends$1({},e);Object.keys(n).forEach(function(e){t.evtParams[e]=n[e]})},t.mergeEnvToEvents=function(e){var n=t.mergeEnv(),r=[],a=0,i=void 0;return e.forEach(function(e){var n=!!e.params.__disable_storage__;void 0===i?i=n:(n!==i||r[a].length>=5)&&(a+=1,i=!i),r[a]=r[a]||[],r[a].push(e)}),r.map(function(e){return{events:e.map(function(e){var n=_extends$1({},t.evtParams,e.params);return delete n.__disable_storage__,_extends$1({},e,{params:JSON.stringify(n)})}),user:n.user,header:n.header,verbose:t.debugMode?1:void 0,__disable_storage__:e[0].params.__disable_storage__}})},t.mergeEnv=function(){var e=t.get(),n=clientEnvManager.get(),r=_extends$1({},e.user),a=_extends$1({},n.header.headers.custom,e.header.headers.custom),i=_extends$1({},n.header.headers,e.header.headers,{custom:a}),o=_extends$1({},n.header,e.header);return{user:r,header:_extends$1({},o,{headers:JSON.stringify(i)})}},t.evtParams={},t.reportUrl="",t.userTokensPrefix="",t.isSsidDisabled=!1,t.isWebidDisabled=!1,t.isSdkMonitorDisabled=!1,t.debugMode=!1,t.blackUuid=["null","undefined","0","","None"],t.logger=function(){},t}return _inherits$1(n,e),n.prototype.lock=function(){this.isUserTokensReady=!1},n.prototype.unlock=function(){this.isUserTokensReady=!0},n.prototype.enableDebugMode=function(e){this.debugMode=e},n}(Env),MemoryCache=function e(){var n=this;_classCallCheck$5(this,e),this.set=function(e,t){n.cache[e]=t},this.get=function(e){return n.cache[e]},this.clean=function(e){n.cache[e]=void 0},this.cache={}},memoryCacheManager=new MemoryCache,EventStorageManager=function(){function e(n){var t=n.disable_storage,r=void 0!==t&&t;_classCallCheck$6(this,e),this._isPersistent=!r,this._storage=this._isPersistent?StorageCache:new MemoryCache,this._storageKey="",this._data=void 0}return e.prototype.setStorageKey=function(e){this._storageKey=e},e.prototype.getAllEvents=function(){var e=this.getData();Object.keys(e).reduce(function(n,t){return n.concat(e[t]||[])},[])},e.prototype.getData=function(){return this._checkIsDataInit(),this._data},e.prototype.add=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._checkIsDataInit(),0!==n.length&&(this._data[e]=n,this._save())},e.prototype.delete=function(e){this._checkIsDataInit(),this._data[e]&&(delete this._data[e],this._save())},e.prototype._checkIsDataInit=function(){if(void 0===this._data)try{var e=this._getDataFromStorage();if(types.isArray(e)){var n;this._data=(n={},n[webid()]=e,n),this._save()}else this._data=e}catch(e){this._data={}}},e.prototype._checkStorageKey=function(){if(!this._storageKey)throw new Error("must call setStorageKey('xxx') first")},e.prototype._getDataFromStorage=function(){return this._checkStorageKey(),this._storage.get(this._storageKey)||{}},e.prototype._save=function(){this._checkStorageKey(),this._storage.set(this._storageKey,this._data)},e}(),encodePayload=function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return n="&"===n[0]?n.slice(1):n},sendByImg=function(e,n){try{var t=e.split("v1")[0];n.forEach(function(e){var n=encodePayload(e),r=new Image(1,1);r.onload=function(){r=null},r.onerror=function(){r=null},r.src=t+"/v1/gif?"+n})}catch(e){}},postSdkLog=function(e,n){if(window.XDomainRequest)return sendByImg(e,n);var t=new XMLHttpRequest;t.open("POST",e+"?rdn="+Math.random(),!0),t.onload=function(){},t.onerror=function(){t.abort()},t.send(JSON.stringify(n))},encodePayload$1=function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return n="&"===n[0]?n.slice(1):n},sendByImg$1=function(e,n,t,r){try{var a=e.split("v1")[0];if(!a)return void r(e,n,ERROR_CODE.NO_URL_PREFIX);n.forEach(function(i){var o=encodePayload$1(i),l=new Image(1,1);l.onload=function(){l=null,t()},l.onerror=function(){l=null,r(e,n,ERROR_CODE.IMG_ON_ERROR)},l.src=a+"/v1/gif?"+o})}catch(t){r(e,n,ERROR_CODE.IMG_CATCH_ERROR,t.message)}},request=function(e){var n=e.url,t=e.data,r=e.success,a=e.fail,i=e.notSure,o=e.isUnload,l=t;if(window.XDomainRequest)return void sendByImg$1(n,l,r,a);if(o)return window.navigator&&window.navigator.sendBeacon?(i(),void(window.navigator.sendBeacon(n,JSON.stringify(l))?r():a(n,t,ERROR_CODE.BEACON_STATUS_FALSE))):void sendByImg$1(n,l,r,a);var s=new XMLHttpRequest;s.open("POST",n+"?rdn="+Math.random(),!0),s.onload=function(){r(n,l,s.responseText)},s.onerror=function(){s.abort(),a(n,l,ERROR_CODE.XHR_ON_ERROR)},s.send(JSON.stringify(l))},EventSender=function e(n){var t=this;_classCallCheck$7(this,e),this.send=function(e){var n=e.url,r=e.data,a=e.success,i=e.fail,o=e.eventError,l=e.notSure,s=e.isUnload;if(request({url:n,data:r,success:function(e,n,r){a();try{var i=JSON.parse(r).e;if(0!==i){var l="未知错误";-2===i&&(l="事件格式错误！请检查字段类型是否正确。"),t.logger.error("数据上报失败！","错误码："+i+"。错误信息："+l),o(n,i),sdkMonitorOnError(e,n,i)}}catch(t){sdkMonitorOnError(e,n,ERROR_CODE.RESPONSE_DATA_ERROR)}},fail:function(e,n,r){t.logger.error("数据上报失败！","错误码："+r),i(n,r),sdkMonitorOnError(e,n,r)},notSure:l,isUnload:s}),!t.isSdkMonitorDisabled&&!t.isSdkOnLoadEventReady){t.isSdkOnLoadEventReady=!0;try{var p=r[0].header,c=r[0].user;sdkMonitorOnload(n,{app_id:p.app_id,app_name:p.app_name,sdk_version:p.sdk_version,web_id:c.web_id})}catch(e){}}},this.logger=n.logger||logger,this.isSdkOnLoadEventReady=!1,this.isSdkMonitorDisabled=!1},sdkMonitorOnload=function(e,n){try{var t={events:[{event:"onload",params:JSON.stringify({app_id:n.app_id,app_name:n.app_name||"",sdk_version:n.sdk_version}),local_time_ms:Date.now()}],user:{user_unique_id:n.web_id},header:{app_id:1338}};setTimeout(function(){postSdkLog(e,[t])},16)}catch(e){}},sdkMonitorOnError=function(e,n,t){try{var r=n[0].user,a=n[0].header,i=[];n.forEach(function(e){e.events.forEach(function(e){i.push(e)})});var o={events:i.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:a.app_id,app_name:a.app_name||"",error_event:e.event,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(a),user:JSON.stringify(r)}),local_time_ms:Date.now()}}),user:{user_unique_id:r.user_unique_id},header:{app_id:1338}};setTimeout(function(){postSdkLog(e,[o])},16)}catch(e){}},AppChannel=function(e){function n(t){_classCallCheck$8(this,n);var r=_possibleConstructorReturn$2(this,e.call(this));r.addListener=function(){window.addEventListener("unload",function(){r.report(!0)},!1),window.addEventListener("beforeunload",function(){r.report(!0)},!1),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&r.report(!0)},!1)},r.setReady=function(e){r.isReady=e,r.eventSender.isSdkMonitorDisabled=r.isSdkMonitorDisabled,r.checkAndSendCachedStorageEvents(),r.report()},r.eventReportTimer=null,r.event=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=memoryCacheManager.get(r.evtDataCacheKey)||[],a=n?[].concat(e,t):[].concat(t,e);memoryCacheManager.set(r.evtDataCacheKey,a),a.length>=5?r.report():(r.eventReportTimer&&clearTimeout(r.eventReportTimer),r.eventReportTimer=setTimeout(function(){r.report(),r.eventReportTimer=null},r.waitForBatchTime))},r.report=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r.isUserTokensReady)return!1;if(!r.isReady)return!1;var n=memoryCacheManager.get(r.evtDataCacheKey)||[];memoryCacheManager.clean(r.evtDataCacheKey);var t=r.mergeEnvToEvents(n);r.sendData(t,e)},r.sendData=function(e,n){var t=[],a=0,i=void 0;e.forEach(function(e){var n=!!e.__disable_storage__;void 0===i?i=n:(n!==i||t[a].length>=5)&&(a+=1,i=!i),t[a]=t[a]||[],t[a].push(e)}),t.forEach(function(e){var t=webid();e[0].__disable_storage__||r.eventStorage.add(t,e),r._sendData(t,e,n)})},r.checkAndSendCachedStorageEvents=function(){var e=r.eventStorage.getData(),n=Object.keys(e);n.length>0&&n.forEach(function(n){r._sendData(n,e[n])})},r._sendData=function(e,n,t){r.isReporting=!0;var a=function(){r.isReporting=!1};r.eventSender.send({url:r.reportUrl,data:n,success:function(){a(),r.sendDataSuccess(e)},fail:function(e,n){a(),r.reportErrorCallback(e,n),setTimeout(function(){r.report()},3e3)},eventError:function(e,n){r.reportErrorCallback(e,n)},notSure:a,isUnload:t})},r.sendDataSuccess=function(e){r.eventStorage.delete(e),r.report()};var a=t.log,i=t.disable_storage,o=t.max_batch_num,l=void 0===o?5:o,s=t.batch_time,p=void 0===s?30:s;return r.init(t),r.maxBatchNum=l,r.waitForBatchTime=p,r.isReady=!1,r.addListener(),r.enableDebugMode(!!a),r.eventStorage=new EventStorageManager({disable_storage:i}),r.eventStorage.setStorageKey(r.evtDataCacheKey),r.eventSender=new EventSender({logger:r.logger}),r.reportErrorCallback=function(){},r}return _inherits$2(n,e),n}(AppChannelEnv),_extends$2=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},getEventIndex=function(){var e=+Date.now()+Number((""+Math.random()).slice(2,8));return function(){return e+=1}}(),preprocessEvent=function(e,n){var t=e;/^event\./.test(e)&&(t=e.slice(6));var r=n;return types.isObj(r)||(r={}),r.event_index=getEventIndex(),{event:t,params:r,local_time_ms:+new Date}},Collector=function e(n){var t=this;_classCallCheck$9(this,e),this.init=function(e){if(!types.isObj(e))throw new Error("init 的参数必须是Object类型");t.logger.init(e.log),t.channel=new AppChannel(_extends$2({},e,{name:t.name})),t.channel.callback=function(){t.callbackSend&&t.start()}},this.config=function(e){types.isObj(e)||t.logger.throw("config 参数必须是 {} 的格式"),e.log&&(t.logger.init(!0),t.channel.enableDebugMode(!0),e.log=null);var n=Object.keys(e);if(!n.length)return!1;for(var r=n,a=Array.isArray(r),i=0,r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=o,s=e[l];switch(l){case"evtParams":t.channel.setEvtParams(s);break;case"disable_ssid":t.logger.deprecated("(disable_ssid)请通过init函数来设置。"),s&&(t.logger.info("ssid已禁用，设置user_unique_id不会请求ssid接口。"),t.channel.isSsidDisabled=s);break;case"disable_auto_pv":s&&(t.logger.info("已禁止默认上报predefine_pageview事件，需手动上报。"),t._autoSendPV=!1);break;case"_staging_flag":""+s=="1"&&t.logger.info("根据_staging_flag设置，数据将会上报到stag 表。"),t.channel.setEvtParams({_staging_flag:Number(s)});break;case"reportErrorCallback":"function"==typeof s&&(t.channel.reportErrorCallback=s);break;default:t.channel.setEnv(l,s)}}},this.send=function(){t.start()},this.start=function(){if(t.channel.isUserTokensReady){if(t._isSendFuncCalled)return;t._isSendFuncCalled=!0,t.logger.info("看到本提示，意味着用户信息已完全就绪，上报通道打开。用户标识如下："),t.logger.logJSON(t.channel.get().user),t._autoSendPV&&t.predefinePageView(),t.channel.setReady(!0)}else t.callbackSend=!0},this.predefinePageView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={title:document.title||location.pathname,url:location.href,url_path:location.pathname},r=_extends$2({},n,e);t.event("predefine_pageview",r,!0)},this.event=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=types.isBoolean(n[n.length-1]),i=!!a&&n[n.length-1],o=a?n.slice(0,n.length-1):n,l=o[0],s=[];types.isArray(l)?s=o:s[0]=o,s=s.map(function(e){return preprocessEvent.apply(void 0,e)}),t.channel.event(s,i)},this._isSendFuncCalled=!1,this._autoSendPV=!0,this.name=n,this.logger=new Logger(n)};Collector.exportMethods=["init","config","send","start","predefinePageView"];var CollectorAsync=function e(n){var t=this;return _classCallCheck$a(this,e),this._exportCollect=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(t._isQueueProcessed)return void t._executeCmd.apply(t,n);t.cmdQueue.push(n),t._processCmdQueue()},this._processCmdQueue=function(){if(0!==t.cmdQueue.length){var e=function(e,n,t){var r=-1;return e.forEach(function(e,a){(void 0!==t?e[t]:e)===n&&(r=a)}),r}(t.cmdQueue,"init","0");-1!==e&&(t._isQueueProcessed=!0,t._executeCmd.apply(t,t.cmdQueue[e]),t.cmdQueue.forEach(function(n,r){r!==e&&t._executeCmd.apply(t,n)}),t.cmdQueue=[])}},this._executeCmd=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(Collector.exportMethods.indexOf(a)>-1){var i;(i=t.colloctor)[a].apply(i,n.slice(1))}else{var o;(o=t.colloctor).event.apply(o,n)}},this.name=n||"Collector"+ +new Date,this.cmdQueue=[],this.colloctor=new Collector(this.name),this._isQueueProcessed=!1,this._processCmdQueue(),this._exportCollect.init=this._exportCollect.bind(this,"init"),this._exportCollect.config=this._exportCollect.bind(this,"config"),this._exportCollect.send=this._exportCollect.bind(this,"send"),this._exportCollect.start=this._exportCollect.bind(this,"start"),this._exportCollect.predefinePageView=this._exportCollect.bind(this,"predefinePageView"),this._exportCollect},cssFullscreen=function(){function e(){a.hasClass(r,"xgplayer-is-cssfullscreen")?t.exitCssFullscreen():t.getCssFullscreen()}function n(){t.off("cssFullscreenBtnClick",e),t.off("destroy",n)}var t=this,r=t.root,a=Player.util;t.on("cssFullscreenBtnClick",e),t.on("exitFullscreen",function(){a.removeClass(r,"xgplayer-is-cssfullscreen")}),t.once("destroy",n)};Player.install("cssFullscreen",cssFullscreen);var danmu=function(){function e(e){var r=n.root.querySelector("xg-danmu");if(t.addClass(r,"xgplayer-has-danmu"),!n.config.danmu.closeDefaultBtn){var a=function(){e.start()},i=function(){t.hasClass(n.danmuBtn,"danmu-switch-active")&&e.pause()},o=function(){t.hasClass(n.danmuBtn,"danmu-switch-active")&&e.play()},l=function(){t.hasClass(n.danmuBtn,"danmu-switch-active")&&(e.stop(),e.start())},s=function e(){n.off("timeupdate",a),n.off("pause",i),n.off("play",o),n.off("seeked",l),n.off("destroy",e)};n.danmuBtn=t.copyDom(e.bulletBtn.createSwitch(!0)),n.controls.appendChild(n.danmuBtn),["click","touchend"].forEach(function(i){n.danmuBtn.addEventListener(i,function(i){i.preventDefault(),i.stopPropagation(),t.toggleClass(n.danmuBtn,"danmu-switch-active"),t.hasClass(n.danmuBtn,"danmu-switch-active")?(t.addClass(r,"xgplayer-has-danmu"),n.once("timeupdate",a)):(t.removeClass(r,"xgplayer-has-danmu"),e.stop())})}),n.onElementClick&&r.addEventListener("click",function(e){n.onElementClick(e,r)},!1),n.onElementDblclick&&r.addEventListener("dblclick",function(e){n.onElementDblclick(e,r)},!1),n.on("pause",i),n.on("play",o),n.on("seeked",l),n.once("destroy",s)}}var n=this,t=(n.root,Player.util);n.on("initDefaultDanmu",e)};Player.install("danmu",danmu);var definition=function(){function e(){n.off("destroy",e)}var n=this;n.root;n.once("destroy",e)};Player.install("definition",definition);var download$1=function(){function e(){t.download()}function n(){t.off("downloadBtnClick",e),t.off("destroy",n)}var t=this;t.on("downloadBtnClick",e),t.once("destroy",n)};Player.install("download",download$1);var fullscreen=function(){function e(){i.hasClass(a,"xgplayer-is-fullscreen")?r.exitFullscreen(a):r.getFullscreen(a)}function n(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e===a?(i.addClass(a,"xgplayer-is-fullscreen"),r.emit("requestFullscreen")):(i.removeClass(a,"xgplayer-is-fullscreen"),r.emit("exitFullscreen"))}function t(){r.off("fullscreenBtnClick",e),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.removeEventListener(e,n)}),r.off("destroy",t)}var r=this,a=r.root,i=Player.util;r.on("fullscreenBtnClick",e),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.addEventListener(e,n)}),r.once("destroy",t)};Player.install("fullscreen",fullscreen);var i18n=function(){var e=this,n={},t=e.constructor.util;n.en={HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"Pip",SCREENSHOT:"Screenshot"},n["zh-cn"]={HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"当下载时发生错误",MEDIA_ERR_DECODE:"当解码时发生错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图"},n.jp={HAVE_NOTHING:"オーディオ/ビデオが準備できているか情報がありません",HAVE_METADATA:"オーディオ/ビデオのメタデータは準備できています",HAVE_CURRENT_DATA:"現在の再生位置に関するデータは利用可能ですが、次のフレーム/ミリ秒を再生するのに十分なデータがありません",HAVE_FUTURE_DATA:"現在、少なくとも次のフレームのデータが利用可能です",HAVE_ENOUGH_DATA:"利用可能なデータは再生を開始するのに十分です",NETWORK_EMPTY:"オーディオ/ビデオが初期化されていません",NETWORK_IDLE:"オーディオ/ビデオはアクティブでリソースが選択されていますが、ネットワークが使用されていません",NETWORK_LOADING:"ブラウザーはデータをダウンロードしています",NETWORK_NO_SOURCE:"オーディオ/ビデオ のソースが見つかりません",MEDIA_ERR_ABORTED:"ユーザーによってフェッチプロセスが中止されました",MEDIA_ERR_NETWORK:"ダウンロード中にエラーが発生しました",MEDIA_ERR_DECODE:"デコード中にエラーが発生しました",MEDIA_ERR_SRC_NOT_SUPPORTED:"オーディオ/ビデオ の形式がサポートされていません",REPLAY:"リプレイ",ERROR:"ネットワークの接続に問題が発生しました",PLAY_TIPS:"プレイ",PAUSE_TIPS:"一時停止",PLAYNEXT_TIPS:"次をプレイ",DOWNLOAD_TIPS:"ダウンロード",ROTATE_TIPS:"回転",FULLSCREEN_TIPS:"フルスクリーン",EXITFULLSCREEN_TIPS:"フルスクリーンを終了",CSSFULLSCREEN_TIPS:"シアターモード",EXITCSSFULLSCREEN_TIPS:"シアターモードを終了",TEXTTRACK:"字幕",PIP:"ミニプレーヤー",SCREENSHOT:"スクリーンショット"},Object.defineProperty(e,"lang",{get:function(){return e.config?n[e.config.lang]||n.en:n.en},set:function(e){"Object"===t.typeOf(e)&&Object.keys(e).forEach(function(t){n[t]=e[t]})}})};Player.install("i18n",i18n);var localPreview=function(){function e(e){t.uploadFile=e.files[0];var n=URL.createObjectURL(t.uploadFile);if(util.hasClass(r,"xgplayer-nostart"))t.config.url=n,t.start();else{t.src=n;var a=t.play();void 0!==a&&a&&a.catch(function(e){})}}function n(){t.off("upload",e),t.off("destroy",n)}var t=this,r=t.root;t.on("upload",e),t.once("destroy",n)};Player.install("localPreview",localPreview);var logger$1=function(){var e=this,n=Player.util;if(!0!==e.config.noLog){var t=function(){e.video.played;var n=o(e.logParams.played),t=(new Date).getTime();l();var r={url:e.logParams.pluginSrc?e.logParams.pluginSrc:e.logParams.playSrc,vid:e.config.vid,bc:e.logParams.bc-1>0?e.logParams.bc-1:0,bb:e.logParams.bc-1>0?1:0,bu_acu_t:e.logParams.bu_acu_t,pt:e.logParams.pt,vt:e.logParams.vt,vd:1e3*e.logParams.vd,watch_dur:parseFloat((1e3*n).toFixed(3)),cur_play_pos:parseFloat((1e3*e.currentTime).toFixed(3)),et:t};window.__xigua_log_sdk__("c",r)},r=function(){e.video.played;var n=o(e.logParams.played),t=(new Date).getTime();l();var r={url:e.logParams.pluginSrc?e.logParams.pluginSrc:e.logParams.playSrc,vid:e.config.vid,bc:e.logParams.bc-1>0?e.logParams.bc-1:0,bb:e.logParams.bc-1>0?1:0,bu_acu_t:e.logParams.bu_acu_t,pt:e.logParams.pt,vt:e.logParams.vt,vd:1e3*e.logParams.vd,watch_dur:parseFloat((1e3*n).toFixed(3)),cur_play_pos:parseFloat((1e3*e.currentTime).toFixed(3)),lt:t};window.__xigua_log_sdk__("d",r)},a=function(n){e.video.played;var t=o(e.logParams.played);l();var r=(new Date).getTime();if(!(e.logParams.lastErrLog&&r-e.logParams.lastErrLog<=3e3)){e.logParams.lastErrLog=r;var a={url:e.logParams.pluginSrc?e.logParams.pluginSrc:e.logParams.playSrc,vid:e.config.vid,bc:e.logParams.bc-1>0?e.logParams.bc-1:0,bb:e.logParams.bc-1>0?1:0,bu_acu_t:e.logParams.bu_acu_t,pt:e.logParams.pt,vt:e.logParams.vt,vd:1e3*e.logParams.vd,watch_dur:parseFloat((1e3*t).toFixed(3)),err_msg:n.errd.msg,line:n.errd.line,et:r,cur_play_pos:parseFloat((1e3*e.currentTime).toFixed(3))};if(e.logParams.nologFunc&&e.logParams.nologFunc(e))return!0;window.__xigua_log_sdk__("e",a)}},i=function n(){"pc"===sniffer.device?window.removeEventListener("beforeunload",s):"mobile"===sniffer.device&&window.removeEventListener("pagehide",s),e.off("routechange",s),e.off("ended",t),e.off("urlchange",r),e.off("error",a),e.off("destroy",n)};window.__xigua_log_sdk__||(window.__xigua_log_sdk__=new CollectorAsync("tracker"),window.__xigua_log_sdk__.init({app_id:1300,channel:"cn",log:!1,disable_sdk_monitor:!0}),window.__xigua_log_sdk__("config",{evtParams:{log_type:"logger",page_url:document.URL,domain:window.location.host,pver:e.version,ua:navigator.userAgent.toLowerCase()},disable_auto_pv:!0}),window.__xigua_log_sdk__.start()),e.config.uid&&window.__xigua_log_sdk__("config",{user_unique_id:e.config.uid});var o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],t=0;t<e.length;t++)if(!(!e[t].end||e[t].begin<0||e[t].end<0||e[t].end<e[t].begin))if(n.length<1)n.push({begin:e[t].begin,end:e[t].end});else for(var r=0;r<n.length;r++){var a=e[t].begin,i=e[t].end;if(i<n[r].begin){n.splice(r,0,{begin:a,end:i});break}if(!(a>n[r].end)){var o=n[r].begin,l=n[r].end;n[r].begin=Math.min(a,o),n[r].end=Math.max(i,l);break}if(r>n.length-2){n.push({begin:a,end:i});break}}for(var s=0,p=0;p<n.length;p++)s+=n[p].end-n[p].begin;return s},l=function(){e.logParams.pt&&e.logParams.vt||(e.logParams.pt=(new Date).getTime(),e.logParams.vt=e.logParams.pt),e.logParams.pt>e.logParams.vt&&(e.logParams.pt=e.logParams.vt)},s=function(t){if(n.hasClass(e.root,"xgplayer-is-enter")){var r=(new Date).getTime(),a={url:e.logParams.pluginSrc?e.logParams.pluginSrc:e.logParams.playSrc,vid:e.config.vid,pt:e.logParams.pt,lt:r};window.__xigua_log_sdk__("b",a)}else if(n.hasClass(e.root,"xgplayer-playing")){var i=o(e.logParams.played),s=(new Date).getTime();l();var p={url:e.logParams.pluginSrc?e.logParams.pluginSrc:e.logParams.playSrc,vid:e.config.vid,bc:e.logParams.bc-1>0?e.logParams.bc-1:0,bb:e.logParams.bc-1>0?1:0,bu_acu_t:e.logParams.bu_acu_t,pt:e.logParams.pt,vt:e.logParams.vt,vd:1e3*e.logParams.vd,watch_dur:parseFloat((1e3*i).toFixed(3)),cur_play_pos:parseFloat((1e3*e.currentTime).toFixed(3)),lt:s};window.__xigua_log_sdk__("d",p)}};"pc"===sniffer.device?window.addEventListener("beforeunload",s,!1):"mobile"===sniffer.device&&window.addEventListener("pagehide",s,!1),e.on("routechange",s),e.on("ended",t),e.on("urlchange",r),e.on("error",a),e.once("destroy",i)}};Player.install("logger",logger$1);var memoryPlay=function(){var e=this;e.on("memoryPlayStart",function(n){e.currentTime=n})};Player.install("memoryPlay",memoryPlay);var mobile=function(){function e(e){t.config.autoplay&&t.start()}function n(){t.off("ready",e),t.off("destroy",n)}var t=this,r=Player.util,a=(t.controls,t.root);t.onElementTouchend=function(e,n){e.preventDefault(),e.stopPropagation();var t=this;if(r.hasClass(a,"xgplayer-inactive")?t.emit("focus"):t.emit("blur"),!t.config.closeVideoTouch&&!t.isTouchMove){if(r.hasClass(t.root,"xgplayer-nostart"))return!1;if(!t.ended)if(t.paused){var i=t.play();void 0!==i&&i&&i.catch(function(e){})}else t.pause()}},t.video.addEventListener("touchend",function(e){t.onElementTouchend(e,t.video)},!1),t.video.addEventListener("touchstart",function(){t.isTouchMove=!1}),t.video.addEventListener("touchmove",function(){t.isTouchMove=!0}),t.once("ready",e),t.once("destroy",n)};Player.install("mobile",mobile);var pc=function(){function e(){clearTimeout(o.leavePlayerTimer),o.emit("focus",o)}function n(){o.config.closePlayerBlur||(o.leavePlayerTimer=setTimeout(function(){o.emit("blur",o)},o.config.leavePlayerTime||0))}function t(e){o.userTimer&&clearTimeout(o.userTimer)}function r(e){o.config.closeControlsBlur||o.emit("focus",o)}function a(e){o.config.autoplay&&o.start()}function i(){p.removeEventListener("mouseenter",e),p.removeEventListener("mouseleave",n),o.off("ready",a),o.off("destroy",i)}var o=this,l=Player.util,s=o.controls,p=o.root,c=0,d=void 0;o.onElementClick=function(e,n){e.preventDefault(),e.stopPropagation();var t=this;t.config.closeVideoClick||(c++,d&&clearTimeout(d),1===c?d=setTimeout(function(){if(l.hasClass(t.root,"xgplayer-nostart"))return!1;if(!t.ended)if(t.paused){var e=t.play();void 0!==e&&e&&e.catch(function(e){})}else t.pause();c=0},200):c=0)},o.video.addEventListener("click",function(e){o.onElementClick(e,o.video)},!1),o.onElementDblclick=function(e,n){if(e.preventDefault(),e.stopPropagation(),!this.config.closeVideoDblclick){var t=s.querySelector(".xgplayer-fullscreen");if(t){var r=void 0;document.createEvent?(r=document.createEvent("Event")).initEvent("click",!0,!0):r=new Event("click"),t.dispatchEvent(r)}}},o.video.addEventListener("dblclick",function(e){o.onElementDblclick(e,o.video)},!1),p.addEventListener("mouseenter",e),p.addEventListener("mouseleave",n),s.addEventListener("mouseenter",t,!1),s.addEventListener("mouseleave",r,!1),o.once("ready",a),o.once("destroy",i)};Player.install("pc",pc);var pip=function(){function e(){r.hasClass(a,"xgplayer-pip-active")?t.exitPIP():t.getPIP()}function n(){t.off("pipBtnClick",e),t.off("destroy",n)}var t=this,r=Player.util,a=t.root;t.on("pipBtnClick",e),t.once("destroy",n)};Player.install("pip",pip);var play=function(){function e(){if(!t.ended)if(t.paused){var e=t.play();void 0!==e&&e&&e.catch(function(e){})}else t.pause()}function n(){t.off("playBtnClick",e),t.off("destroy",n)}var t=this;t.on("playBtnClick",e),t.once("destroy",n)};Player.install("play",play);var playNext=function(){function e(){t.currentVideoIndex+1<r.urlList.length?(t.currentVideoIndex++,t.video.autoplay=!0,t.src=r.urlList[t.currentVideoIndex],t.emit("playerNext",t.currentVideoIndex+1)):t.emit("urlList last")}function n(){t.off("playNextBtnClick",e),t.off("destroy",n)}var t=this,r=(t.root,t.config.playNext);t.currentVideoIndex=-1,t.on("playNextBtnClick",e),t.once("destroy",n)};Player.install("playNext",playNext);var replay=function(){function e(){a.removeClass(i,"replay"),r.replay()}function n(){r.config.loop||a.addClass(i,"replay")}function t(){r.off("replayBtnClick",e),r.off("destroy",t)}var r=this,a=Player.util,i=r.root;r.on("replayBtnClick",e),r.on("ended",n),r.once("destroy",t)};Player.install("replay",replay);var rotate=function(){function e(){t.rotate(r.clockwise,r.innerRotate)}function n(){t.off("rotateBtnClick",e),t.off("destroy",n)}var t=this,r=t.config.rotate;r&&(t.on("rotateBtnClick",e),t.once("destroy",n))};Player.install("rotate",rotate);var screenShot=function(){function e(){i.onload=function(){a.drawImage(t.video,0,0,r.width,r.height),i.setAttribute("crossOrigin","anonymous"),i.src=r.toDataURL("image/png").replace("image/png","image/octet-stream");var e=i.src.replace(/^data:image\/[^;]+/,"data:application/octet-stream");o(e,"截图.png")}()}function n(){t.off("screenShotBtnClick",e),t.off("destroy",n)}var t=this;t.root;if(t.config.screenShot){var r=document.createElement("canvas"),a=r.getContext("2d"),i=new Image;r.width=this.config.width||600,r.height=this.config.height||337.5;var o=function(e,n){var t=document.createElement("a");t.href=e,t.download=n;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(r)};t.on("screenShotBtnClick",e),t.once("destroy",n)}};Player.install("screenShot",screenShot);var start=function(){function e(){o.removeClass(i,"xgplayer-is-enter")}function n(){o.removeClass(i,"xgplayer-is-enter")}function t(){if(o.hasClass(i,"xgplayer-nostart")){o.removeClass(i,"xgplayer-nostart"),o.addClass(i,"xgplayer-is-enter"),a.on("canplay",e),a.once("playing",n),i.querySelector("video")||a.start();var t=a.play();void 0!==t&&t&&t.catch(function(e){})}else a.paused&&(o.removeClass(i,"xgplayer-nostart xgplayer-isloading"),setTimeout(function(){var e=a.play();void 0!==e&&e&&e.catch(function(e){})},10))}function r(){a.off("canplay",e),a.off("playing",n),a.off("startBtnClick",t),a.off("destroy",r)}var a=this,i=a.root,o=Player.util;a.on("startBtnClick",t),a.once("destroy",r)};Player.install("start",start);var volume=function(){function e(){l.volume="mobile"===Player.sniffer.device?1:l.config.volume,c=l.controls.querySelector(".xgplayer-volume"),d=c.querySelector(".xgplayer-slider"),u=c.querySelector(".xgplayer-bar"),g=c.querySelector(".xgplayer-drag"),f=c.querySelector(".xgplayer-icon")}function n(e){l.video.muted=!1,d.focus(),p.event(e);var n=u.getBoundingClientRect(),t={x:e.clientX,y:e.clientY},r=g.getBoundingClientRect().height,a=!1,i=function(e){e.preventDefault(),e.stopPropagation(),p.event(e),a=!0;var i=r-e.clientY+t.y,o=i/n.height;g.style.height=i+"px",l.volume=Math.max(Math.min(o,1),0)},o=function e(t){if(t.preventDefault(),t.stopPropagation(),p.event(t),window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i),window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),!a){var r=n.height-(t.clientY-n.top),o=r/n.height;g.style.height=r+"px",o<=0&&(l.volume>0?g.volume=l.video.volume:o=g.volume),l.volume=Math.max(Math.min(o,1),0)}d.volume=l.volume,a=!1};return window.addEventListener("mousemove",i),window.addEventListener("touchmove",i),window.addEventListener("mouseup",o),window.addEventListener("touchend",o),!1}function t(){"mobile"===Player.sniffer.device?l.video.muted?l.video.muted=!1:l.video.muted=!0:(l.video.muted=!1,l.volume<.1?l.volume=d.volume:l.volume=0)}function r(){p.addClass(s,"xgplayer-volume-active"),c&&c.focus()}function a(){p.removeClass(s,"xgplayer-volume-active")}function i(){y&&clearTimeout(y),y=setTimeout(function(){if("mobile"===Player.sniffer.device)p.removeClass(s,"xgplayer-volume-muted"),p.removeClass(s,"xgplayer-volume-large"),l.video.muted?p.addClass(s,"xgplayer-volume-muted"):p.addClass(s,"xgplayer-volume-large");else{p.removeClass(s,"xgplayer-volume-muted"),p.removeClass(s,"xgplayer-volume-small"),p.removeClass(s,"xgplayer-volume-large"),0===l.volume?p.addClass(s,"xgplayer-volume-muted"):l.volume<.5?p.addClass(s,"xgplayer-volume-small"):p.addClass(s,"xgplayer-volume-large");var e=u.getBoundingClientRect().height||76;g.style.height=l.volume*e+"px"}},50)}function o(){l.off("canplay",e),l.off("volumeBarClick",n),l.off("volumeIconClick",t),l.off("volumeIconEnter",r),l.off("volumeIconLeave",a),l.off("volumechange",i),l.off("destroy",o)}var l=this,s=l.root,p=Player.util,c=void 0,d=void 0,u=void 0,g=void 0,f=void 0;l.once("canplay",e),l.on("volumeBarClick",n),l.on("volumeIconClick",t),l.on("volumeIconEnter",r),l.on("volumeIconLeave",a);var y=null;l.on("volumechange",i),l.once("destroy",o)};Player.install("volume",volume);var css='.xgplayer-skin-default {\n  background: #000;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  -ms-user-select: none; }\n  .xgplayer-skin-default * {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline; }\n  .xgplayer-skin-default .xgplayer-none {\n    display: none; }\n  .xgplayer-skin-default.xgplayer-is-fullscreen {\n    width: 100% !important;\n    height: 100% !important;\n    padding-top: 0 !important;\n    z-index: 9999; }\n  .xgplayer-skin-default.xgplayer-is-fullscreen.xgplayer-inactive {\n    cursor: none; }\n  .xgplayer-skin-default video {\n    width: 100%;\n    height: 100%;\n    outline: none; }\n\n.xgplayer-skin-default .xgplayer-none {\n  display: none; }\n\n@-webkit-keyframes loadingRotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes loadingRotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes loadingDashOffset {\n  0% {\n    stroke-dashoffset: 236; }\n  100% {\n    stroke-dashoffset: 0; } }\n\n@keyframes loadingDashOffset {\n  0% {\n    stroke-dashoffset: 236; }\n  100% {\n    stroke-dashoffset: 0; } }\n\n.xgplayer-skin-default .xgplayer-play, .xgplayer-skin-default .xgplayer-play-img {\n  position: relative;\n  -webkit-order: 0;\n     -moz-box-ordinal-group: 1;\n          order: 0;\n  display: block;\n  cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-play .xgplayer-icon, .xgplayer-skin-default .xgplayer-play-img .xgplayer-icon {\n    margin-top: 3px;\n    width: 32px; }\n    .xgplayer-skin-default .xgplayer-play .xgplayer-icon div, .xgplayer-skin-default .xgplayer-play-img .xgplayer-icon div {\n      position: absolute; }\n    .xgplayer-skin-default .xgplayer-play .xgplayer-icon .xgplayer-icon-play, .xgplayer-skin-default .xgplayer-play-img .xgplayer-icon .xgplayer-icon-play {\n      display: block; }\n    .xgplayer-skin-default .xgplayer-play .xgplayer-icon .xgplayer-icon-pause, .xgplayer-skin-default .xgplayer-play-img .xgplayer-icon .xgplayer-icon-pause {\n      display: none; }\n  .xgplayer-skin-default .xgplayer-play .xgplayer-tips .xgplayer-tip-play, .xgplayer-skin-default .xgplayer-play-img .xgplayer-tips .xgplayer-tip-play {\n    display: block; }\n  .xgplayer-skin-default .xgplayer-play .xgplayer-tips .xgplayer-tip-pause, .xgplayer-skin-default .xgplayer-play-img .xgplayer-tips .xgplayer-tip-pause {\n    display: none; }\n  .xgplayer-skin-default .xgplayer-play:hover, .xgplayer-skin-default .xgplayer-play-img:hover {\n    opacity: 0.85; }\n    .xgplayer-skin-default .xgplayer-play:hover .xgplayer-tips, .xgplayer-skin-default .xgplayer-play-img:hover .xgplayer-tips {\n      display: block; }\n\n.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-icon .xgplayer-icon-play, .xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-icon .xgplayer-icon-play {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-icon .xgplayer-icon-pause, .xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-icon .xgplayer-icon-pause {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-tips .xgplayer-tip-play, .xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-tips .xgplayer-tip-play {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-playing .xgplayer-play .xgplayer-tips .xgplayer-tip-pause, .xgplayer-skin-default.xgplayer-playing .xgplayer-play-img .xgplayer-tips .xgplayer-tip-pause {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-icon .xgplayer-icon-play, .xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-icon .xgplayer-icon-play {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-icon .xgplayer-icon-pause, .xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-icon .xgplayer-icon-pause {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-tips .xgplayer-tip-play, .xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-tips .xgplayer-tip-play {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-pause .xgplayer-play .xgplayer-tips .xgplayer-tip-pause, .xgplayer-skin-default.xgplayer-pause .xgplayer-play-img .xgplayer-tips .xgplayer-tip-pause {\n  display: none; }\n\n.xgplayer-skin-default .xgplayer-start {\n  border-radius: 50%;\n  display: inline-block;\n  width: 70px;\n  height: 70px;\n  background: rgba(0, 0, 0, .38);\n  overflow: hidden;\n  text-align: center;\n  line-height: 70px;\n  vertical-align: middle;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 115;\n  margin: -35px auto auto -35px;\n  cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-start div {\n    position: absolute; }\n    .xgplayer-skin-default .xgplayer-start div svg {\n      fill: rgba(255, 255, 255, .7);\n      margin: 14px; }\n  .xgplayer-skin-default .xgplayer-start .xgplayer-icon-play {\n    display: block; }\n  .xgplayer-skin-default .xgplayer-start .xgplayer-icon-pause {\n    display: none; }\n  .xgplayer-skin-default .xgplayer-start:hover {\n    opacity: 0.85; }\n\n.xgplayer-skin-default.xgplayer-playing .xgplayer-start {\n  display: none; }\n  .xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-play {\n    display: none; }\n  .xgplayer-skin-default.xgplayer-playing .xgplayer-start .xgplayer-icon-pause {\n    display: block; }\n\n.xgplayer-skin-default.xgplayer-pause .xgplayer-start {\n  display: inline-block; }\n  .xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-play {\n    display: block; }\n  .xgplayer-skin-default.xgplayer-pause .xgplayer-start .xgplayer-icon-pause {\n    display: none; }\n\n.xgplayer-skin-default.replay .xgplayer-start {\n  display: none; }\n  .xgplayer-skin-default.replay .xgplayer-start .xgplayer-icon-play {\n    display: block; }\n  .xgplayer-skin-default.replay .xgplayer-start .xgplayer-icon-pause {\n    display: none; }\n\n.xgplayer-skin-default .xgplayer-enter {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: black;\n  z-index: 120; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner {\n    display: block;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    height: 100px;\n    width: 100px;\n    position: relative;\n    -webkit-transform: translate(-50%, -50%);\n        -ms-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div {\n    width: 12%;\n    height: 26%;\n    background-color: rgba(255, 255, 255, .7);\n    position: absolute;\n    left: 44%;\n    top: 37%;\n    opacity: 0;\n    border-radius: 30px;\n    -webkit-animation: fade 1s linear infinite;\n            animation: fade 1s linear infinite; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar1 {\n    -webkit-transform: rotate(0deg) translate(0, -142%);\n        -ms-transform: rotate(0deg) translate(0, -142%);\n            transform: rotate(0deg) translate(0, -142%);\n    -webkit-animation-delay: -0s;\n            animation-delay: -0s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar2 {\n    -webkit-transform: rotate(30deg) translate(0, -142%);\n        -ms-transform: rotate(30deg) translate(0, -142%);\n            transform: rotate(30deg) translate(0, -142%);\n    -webkit-animation-delay: -0.9163s;\n            animation-delay: -0.9163s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar3 {\n    -webkit-transform: rotate(60deg) translate(0, -142%);\n        -ms-transform: rotate(60deg) translate(0, -142%);\n            transform: rotate(60deg) translate(0, -142%);\n    -webkit-animation-delay: -0.833s;\n            animation-delay: -0.833s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar4 {\n    -webkit-transform: rotate(90deg) translate(0, -142%);\n        -ms-transform: rotate(90deg) translate(0, -142%);\n            transform: rotate(90deg) translate(0, -142%);\n    -webkit-animation-delay: -0.7497s;\n            animation-delay: -0.7497s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar5 {\n    -webkit-transform: rotate(120deg) translate(0, -142%);\n        -ms-transform: rotate(120deg) translate(0, -142%);\n            transform: rotate(120deg) translate(0, -142%);\n    -webkit-animation-delay: -0.6664s;\n            animation-delay: -0.6664s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar6 {\n    -webkit-transform: rotate(150deg) translate(0, -142%);\n        -ms-transform: rotate(150deg) translate(0, -142%);\n            transform: rotate(150deg) translate(0, -142%);\n    -webkit-animation-delay: -0.5831s;\n            animation-delay: -0.5831s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar7 {\n    -webkit-transform: rotate(180deg) translate(0, -142%);\n        -ms-transform: rotate(180deg) translate(0, -142%);\n            transform: rotate(180deg) translate(0, -142%);\n    -webkit-animation-delay: -0.4998s;\n            animation-delay: -0.4998s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar8 {\n    -webkit-transform: rotate(210deg) translate(0, -142%);\n        -ms-transform: rotate(210deg) translate(0, -142%);\n            transform: rotate(210deg) translate(0, -142%);\n    -webkit-animation-delay: -0.4165s;\n            animation-delay: -0.4165s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar9 {\n    -webkit-transform: rotate(240deg) translate(0, -142%);\n        -ms-transform: rotate(240deg) translate(0, -142%);\n            transform: rotate(240deg) translate(0, -142%);\n    -webkit-animation-delay: -0.3332s;\n            animation-delay: -0.3332s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar10 {\n    -webkit-transform: rotate(270deg) translate(0, -142%);\n        -ms-transform: rotate(270deg) translate(0, -142%);\n            transform: rotate(270deg) translate(0, -142%);\n    -webkit-animation-delay: -0.2499s;\n            animation-delay: -0.2499s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar11 {\n    -webkit-transform: rotate(300deg) translate(0, -142%);\n        -ms-transform: rotate(300deg) translate(0, -142%);\n            transform: rotate(300deg) translate(0, -142%);\n    -webkit-animation-delay: -0.1666s;\n            animation-delay: -0.1666s; }\n  .xgplayer-skin-default .xgplayer-enter .xgplayer-enter-spinner div.xgplayer-enter-bar12 {\n    -webkit-transform: rotate(330deg) translate(0, -142%);\n        -ms-transform: rotate(330deg) translate(0, -142%);\n            transform: rotate(330deg) translate(0, -142%);\n    -webkit-animation-delay: -0.0833s;\n            animation-delay: -0.0833s; }\n\n@-webkit-keyframes fade {\n  from {\n    opacity: 1; }\n  to {\n    opacity: 0.25; } }\n\n.xgplayer-skin-default.xgplayer-is-enter .xgplayer-enter {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-poster {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  background-size: cover;\n  background-position: center center; }\n\n.xgplayer-skin-default.xgplayer-nostart .xgplayer-poster {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-placeholder {\n  -webkit-flex: 1;\n     -moz-box-flex: 1;\n          flex: 1;\n  -webkit-order: 3;\n     -moz-box-ordinal-group: 4;\n          order: 3;\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-fullscreen, .xgplayer-skin-default .xgplayer-fullscreen-img {\n  position: relative;\n  -webkit-order: 13;\n     -moz-box-ordinal-group: 14;\n          order: 13;\n  display: block;\n  cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon {\n    margin-top: 3px; }\n    .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon div, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon div {\n      position: absolute; }\n    .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull {\n      display: block; }\n    .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull {\n      display: none; }\n  .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips {\n    position: absolute;\n    right: 0;\n    left: auto; }\n    .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull {\n      display: block; }\n    .xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull, .xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull {\n      display: none; }\n  .xgplayer-skin-default .xgplayer-fullscreen:hover, .xgplayer-skin-default .xgplayer-fullscreen-img:hover {\n    opacity: 0.85; }\n    .xgplayer-skin-default .xgplayer-fullscreen:hover .xgplayer-tips, .xgplayer-skin-default .xgplayer-fullscreen-img:hover .xgplayer-tips {\n      display: block; }\n\n.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull, .xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull, .xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull, .xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull, .xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-cssfullscreen, .xgplayer-skin-default .xgplayer-cssfullscreen-img {\n  position: relative;\n  -webkit-order: 12;\n     -moz-box-ordinal-group: 13;\n          order: 12;\n  display: block;\n  cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon {\n    width: 32px;\n    margin-top: 5px; }\n    .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon div, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon div {\n      position: absolute; }\n    .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-requestfull, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-requestfull {\n      display: block; }\n    .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-exitfull, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-exitfull {\n      display: none; }\n  .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-tips, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-tips {\n    margin-left: -40px; }\n    .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-requestfull, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-requestfull {\n      display: block; }\n    .xgplayer-skin-default .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-exitfull, .xgplayer-skin-default .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-exitfull {\n      display: none; }\n  .xgplayer-skin-default .xgplayer-cssfullscreen:hover, .xgplayer-skin-default .xgplayer-cssfullscreen-img:hover {\n    opacity: 0.85; }\n    .xgplayer-skin-default .xgplayer-cssfullscreen:hover .xgplayer-tips, .xgplayer-skin-default .xgplayer-cssfullscreen-img:hover .xgplayer-tips {\n      display: block; }\n\n.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-requestfull, .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-requestfull {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-icon .xgplayer-icon-exitfull, .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-icon .xgplayer-icon-exitfull {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips, .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips {\n  margin-left: -47px; }\n  .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-requestfull, .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-requestfull {\n    display: none; }\n  .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips .xgplayer-tip-exitfull, .xgplayer-skin-default.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips .xgplayer-tip-exitfull {\n    display: block; }\n\n.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-cssfullscreen, .xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-cssfullscreen-img {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-is-cssfullscreen {\n  position: fixed !important;\n  left: 0 !important;\n  top: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 99999 !important; }\n\n.lang-is-en .xgplayer-cssfullscreen .xgplayer-tips, .lang-is-en .xgplayer-cssfullscreen-img .xgplayer-tips {\n  margin-left: -46px; }\n\n.lang-is-en.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips, .lang-is-en.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips {\n  margin-left: -46px; }\n\n.lang-is-jp .xgplayer-cssfullscreen .xgplayer-tips, .lang-is-jp .xgplayer-cssfullscreen-img .xgplayer-tips {\n  margin-left: -120px; }\n\n.lang-is-jp.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen .xgplayer-tips, .lang-is-jp.xgplayer-is-cssfullscreen .xgplayer-cssfullscreen-img .xgplayer-tips {\n  margin-left: -60px; }\n\n.xgplayer-skin-default .xgplayer-volume {\n  outline: none;\n  -webkit-order: 4;\n     -moz-box-ordinal-group: 5;\n          order: 4;\n  width: 28px;\n  height: 140px;\n  display: block;\n  position: relative;\n  margin-top: -100px;\n  overflow: hidden;\n  z-index: 18; }\n  .xgplayer-skin-default .xgplayer-volume .xgplayer-icon {\n    margin-top: 8px;\n    cursor: pointer;\n    position: absolute;\n    bottom: -9px; }\n    .xgplayer-skin-default .xgplayer-volume .xgplayer-icon div {\n      position: absolute; }\n    .xgplayer-skin-default .xgplayer-volume .xgplayer-icon .xgplayer-icon-large {\n      display: block; }\n    .xgplayer-skin-default .xgplayer-volume .xgplayer-icon .xgplayer-icon-small {\n      display: none; }\n    .xgplayer-skin-default .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted {\n      display: none; }\n\n.xgplayer-skin-default .xgplayer-slider {\n  display: none;\n  position: absolute;\n  width: 28px;\n  height: 92px;\n  background: rgba(0, 0, 0, .54);\n  border-radius: 1px;\n  bottom: 42px;\n  outline: none; }\n  .xgplayer-skin-default .xgplayer-slider:after {\n    content: " ";\n    display: block;\n    height: 15px;\n    width: 28px;\n    position: absolute;\n    bottom: -15px;\n    left: 0;\n    z-index: 20; }\n\n.xgplayer-skin-default .xgplayer-bar, .xgplayer-skin-default .xgplayer-drag {\n  display: block;\n  position: absolute;\n  bottom: 6px;\n  left: 12px;\n  background: rgba(255, 255, 255, .3);\n  border-radius: 100px;\n  width: 4px;\n  height: 76px;\n  outline: none;\n  cursor: pointer; }\n\n.xgplayer-skin-default .xgplayer-drag {\n  bottom: 0;\n  left: 0;\n  background: #FA1F41;\n  max-height: 76px; }\n  .xgplayer-skin-default .xgplayer-drag:after {\n    content: " ";\n    display: inline-block;\n    width: 8px;\n    height: 8px;\n    background: #fff;\n    box-shadow: 0 0 5px 0 rgba(0, 0, 0, .26);\n    position: absolute;\n    border-radius: 50%;\n    left: -2px;\n    top: -6px; }\n\n.xgplayer-skin-default.xgplayer-volume-active .xgplayer-slider {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-volume-large .xgplayer-volume .xgplayer-icon .xgplayer-icon-large {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-volume-large .xgplayer-volume .xgplayer-icon .xgplayer-icon-small {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-volume-large .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-volume-small .xgplayer-volume .xgplayer-icon .xgplayer-icon-large {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-volume-small .xgplayer-volume .xgplayer-icon .xgplayer-icon-small {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-volume-small .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-volume-muted .xgplayer-volume .xgplayer-icon .xgplayer-icon-large {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-volume-muted .xgplayer-volume .xgplayer-icon .xgplayer-icon-small {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-volume-muted .xgplayer-volume .xgplayer-icon .xgplayer-icon-muted {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-mobile .xgplayer-volume .xgplayer-slider {\n  display: none; }\n\n.xgplayer-skin-default .xgplayer-definition {\n  -webkit-order: 5;\n     -moz-box-ordinal-group: 6;\n          order: 5;\n  width: 60px;\n  height: 150px;\n  z-index: 18;\n  position: relative;\n  outline: none;\n  display: none;\n  cursor: default;\n  margin-left: 10px;\n  margin-top: -119px; }\n  .xgplayer-skin-default .xgplayer-definition ul {\n    display: none;\n    list-style: none;\n    width: 78px;\n    background: rgba(0, 0, 0, .54);\n    border-radius: 1px;\n    position: absolute;\n    bottom: 30px;\n    left: 0;\n    text-align: center;\n    white-space: nowrap;\n    margin-left: -10px;\n    z-index: 26;\n    cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-definition ul li {\n      opacity: 0.7;\n      font-family: PingFangSC-Regular;\n      font-size: 11px;\n      color: rgba(255, 255, 255, .8);\n      padding: 6px 13px; }\n      .xgplayer-skin-default .xgplayer-definition ul li.selected {\n        color: #fff;\n        opacity: 1; }\n      .xgplayer-skin-default .xgplayer-definition ul li:hover {\n        color: #fff;\n        opacity: 1; }\n  .xgplayer-skin-default .xgplayer-definition .name {\n    text-align: center;\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    line-height: 20px;\n    height: 20px;\n    cursor: pointer;\n    color: rgba(255, 255, 255, .8);\n    position: absolute;\n    bottom: 0;\n    width: 60px;\n    height: 20px;\n    line-height: 20px;\n    background: rgba(0, 0, 0, .38);\n    border-radius: 10px;\n    display: inline-block;\n    vertical-align: middle; }\n\n.xgplayer-skin-default.xgplayer-definition-active .xgplayer-definition ul {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-is-definition .xgplayer-definition {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-time {\n  -webkit-order: 2;\n     -moz-box-ordinal-group: 3;\n          order: 2;\n  font-family: ArialMT;\n  font-size: 13px;\n  color: #fff;\n  line-height: 40px;\n  text-align: center;\n  display: inline-block; }\n  .xgplayer-skin-default .xgplayer-time span::after {\n    content: "/";\n    display: inline-block;\n    padding: 0 3px; }\n  .xgplayer-skin-default .xgplayer-time em {\n    color: rgba(255, 255, 255, .5); }\n\n.xgplayer-skin-default .xgplayer-controls {\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .37), rgba(0, 0, 0, .75), rgba(0, 0, 0, .75));\n  z-index: 10; }\n\n.xgplayer-skin-default.xgplayer-nostart .xgplayer-controls {\n  display: none; }\n\n.xgplayer-skin-default.no-controls .xgplayer-controls {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-inactive .xgplayer-controls {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls > * {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-play,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-play-img,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-placeholder,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-volume,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-live,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-definition,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-cssfullscreen,\n.xgplayer-skin-default.xgplayer-is-live .xgplayer-controls .xgplayer-fullscreen {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-live {\n  display: block;\n  font-size: 12px;\n  color: #fff;\n  line-height: 40px;\n  -webkit-order: 1;\n     -moz-box-ordinal-group: 2;\n          order: 1; }\n\n.xgplayer-skin-default .xgplayer-loading {\n  display: none;\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  -webkit-transform: scale(0.7);\n      -ms-transform: scale(0.7);\n          transform: scale(0.7);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin: -70px auto auto -50px; }\n  .xgplayer-skin-default .xgplayer-loading svg {\n    border-radius: 50%;\n    -webkit-transform-origin: center;\n        -ms-transform-origin: center;\n            transform-origin: center;\n    -webkit-animation: loadingRotate 1s linear infinite;\n            animation: loadingRotate 1s linear infinite; }\n    .xgplayer-skin-default .xgplayer-loading svg path {\n      stroke: #ddd;\n      stroke-dasharray: 236;\n      -webkit-animation: loadingDashOffset 2s linear infinite;\n              animation: loadingDashOffset 2s linear infinite;\n      animation-direction: alternate-reverse;\n      fill: none;\n      stroke-width: 12px; }\n\n.xgplayer-skin-default.xgplayer-nostart .xgplayer-loading {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-isloading .xgplayer-loading {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-progress {\n  display: block;\n  position: absolute;\n  height: 20px;\n  line-height: 20px;\n  left: 12px;\n  right: 12px;\n  outline: none;\n  top: -10px;\n  z-index: 35; }\n\n.xgplayer-skin-default .xgplayer-progress-outer {\n  background: rgba(255, 255, 255, .3);\n  display: block;\n  height: 3px;\n  line-height: 3px;\n  margin-top: 8.5px;\n  width: 100%;\n  position: relative;\n  cursor: pointer; }\n\n.xgplayer-skin-default .xgplayer-progress-cache, .xgplayer-skin-default .xgplayer-progress-played {\n  display: block;\n  height: 100%;\n  line-height: 1;\n  position: absolute;\n  left: 0;\n  top: 0; }\n\n.xgplayer-skin-default .xgplayer-progress-cache {\n  width: 0;\n  background: rgba(255, 255, 255, .5); }\n\n.xgplayer-skin-default .xgplayer-progress-played {\n  display: block;\n  width: 0;\n  background-image: linear-gradient(-90deg, #FA1F41 0%, #E31106 100%);\n  border-radius: 0 1.5px 1.5px 0; }\n\n.xgplayer-skin-default .xgplayer-progress-btn {\n  display: none;\n  position: absolute;\n  left: 0px;\n  top: -5px;\n  width: 13px;\n  height: 13px;\n  border-radius: 30px;\n  background: #FFFFFF;\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, .26);\n  left: 100%;\n  -webkit-transform: translate(-50%, 0);\n      -ms-transform: translate(-50%, 0);\n          transform: translate(-50%, 0); }\n\n.xgplayer-skin-default .xgplayer-progress-point {\n  position: absolute; }\n  .xgplayer-skin-default .xgplayer-progress-point.xgplayer-tips {\n    margin-left: 0;\n    top: -25px;\n    display: none;\n    z-index: 100; }\n\n.xgplayer-skin-default .xgplayer-progress-dot {\n  display: inline-block;\n  position: absolute;\n  height: 3px;\n  width: 5px;\n  top: 0px;\n  background: white;\n  border-radius: 6px;\n  z-index: 16; }\n  .xgplayer-skin-default .xgplayer-progress-dot .xgplayer-progress-tip {\n    position: absolute;\n    left: 0;\n    top: -40px;\n    height: auto;\n    line-height: 30px;\n    width: auto;\n    -webkit-transform: scale(0.8);\n        -ms-transform: scale(0.8);\n            transform: scale(0.8);\n    background: rgba(0, 0, 0, .3);\n    border-radius: 6px;\n    border: 1px solid rgba(0, 0, 0, .8);\n    cursor: default;\n    white-space: nowrap;\n    display: none; }\n\n.xgplayer-skin-default .xgplayer-progress-dot-show .xgplayer-progress-tip {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-progress-thumbnail {\n  position: absolute;\n  -moz-box-sizing: border-box;\n       box-sizing: border-box; }\n  .xgplayer-skin-default .xgplayer-progress-thumbnail.xgplayer-tips {\n    margin-left: 0;\n    display: none;\n    z-index: 99; }\n\n.xgplayer-skin-default .xgplayer-progress:hover .xgplayer-progress-outer, .xgplayer-skin-default .xgplayer-progress:focus .xgplayer-progress-outer {\n  height: 6px;\n  margin-top: 7px; }\n\n.xgplayer-skin-default .xgplayer-progress:hover .xgplayer-progress-dot, .xgplayer-skin-default .xgplayer-progress:focus .xgplayer-progress-dot {\n  height: 6px; }\n\n.xgplayer-skin-default .xgplayer-progress:hover .xgplayer-progress-btn, .xgplayer-skin-default .xgplayer-progress:focus .xgplayer-progress-btn {\n  display: block;\n  top: -3px; }\n\n.xgplayer-skin-default.xgplayer-volume-active .xgplayer-progress {\n  z-index: 15; }\n\n.xgplayer-skin-default.xgplayer-definition-active .xgplayer-progress {\n  z-index: 15; }\n\n.xgplayer-skin-default.xgplayer-texttrack-active .xgplayer-progress {\n  z-index: 15; }\n\n.xgplayer-skin-default.xgplayer-playbackrate-active .xgplayer-progress {\n  z-index: 15; }\n\n.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress-btn {\n  display: block !important; }\n\n.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-outer, .xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-outer {\n  height: 3px !important;\n  margin-top: 8.5px !important; }\n\n.xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-btn, .xgplayer-skin-default.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-btn {\n  display: block !important;\n  top: -5px !important; }\n\n.xgplayer-skin-default .xgplayer-replay {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 105;\n  display: none;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n          justify-content: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n          align-items: center;\n  background: rgba(0, 0, 0, .54);\n  -webkit-flex-direction: column;\n     -moz-box-orient: vertical;\n     -moz-box-direction: normal;\n          flex-direction: column; }\n  .xgplayer-skin-default .xgplayer-replay svg {\n    background: rgba(0, 0, 0, .58);\n    border-radius: 100%;\n    cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-replay svg path {\n      -webkit-transform: translate(20px, 21px);\n          -ms-transform: translate(20px, 21px);\n              transform: translate(20px, 21px);\n      fill: #ddd; }\n    .xgplayer-skin-default .xgplayer-replay svg:hover {\n      background: rgba(0, 0, 0, .38); }\n      .xgplayer-skin-default .xgplayer-replay svg:hover path {\n        fill: #fff; }\n  .xgplayer-skin-default .xgplayer-replay .xgplayer-replay-txt {\n    display: inline-block;\n    font-family: PingFangSC-Regular;\n    font-size: 14px;\n    color: #fff;\n    line-height: 34px; }\n\n.xgplayer-skin-default.xgplayer.xgplayer-ended .xgplayer-controls {\n  display: none; }\n\n.xgplayer-skin-default.xgplayer.xgplayer-ended .xgplayer-replay {\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex; }\n\n.xgplayer-skin-default .xgplayer-playbackrate {\n  -webkit-order: 8;\n     -moz-box-ordinal-group: 9;\n          order: 8;\n  width: 60px;\n  height: 20px;\n  z-index: 18;\n  position: relative;\n  display: inline-block;\n  cursor: default; }\n  .xgplayer-skin-default .xgplayer-playbackrate ul {\n    display: none;\n    list-style: none;\n    width: 78px;\n    background: rgba(0, 0, 0, .54);\n    border-radius: 1px;\n    position: absolute;\n    bottom: 20px;\n    left: 0px;\n    text-align: left;\n    white-space: nowrap;\n    z-index: 26;\n    cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-playbackrate ul li {\n      opacity: 0.7;\n      font-family: PingFangSC-Regular;\n      font-size: 11px;\n      color: rgba(255, 255, 255, .8);\n      position: relative;\n      padding: 4px 0 4px 0px;\n      text-align: center; }\n      .xgplayer-skin-default .xgplayer-playbackrate ul li.selected {\n        color: #fff;\n        opacity: 1; }\n      .xgplayer-skin-default .xgplayer-playbackrate ul li:hover {\n        color: #fff;\n        opacity: 1; }\n    .xgplayer-skin-default .xgplayer-playbackrate ul li:nth-child(1) {\n      position: relative;\n      margin-top: 12px; }\n    .xgplayer-skin-default .xgplayer-playbackrate ul li:last-child {\n      position: relative;\n      margin-bottom: 12px; }\n  .xgplayer-skin-default .xgplayer-playbackrate .name {\n    height: 20px;\n    position: relative;\n    top: 11px;\n    text-align: center;\n    background: rgba(0, 0, 0, .38);\n    color: rgba(255, 255, 255, .8);\n    border-radius: 10px;\n    line-height: 20px; }\n  .xgplayer-skin-default .xgplayer-playbackrate span {\n    position: relative;\n    top: 19px;\n    font-weight: bold;\n    text-shadow: 0 0 4px rgba(0, 0, 0, .6); }\n  .xgplayer-skin-default .xgplayer-playbackrate:hover {\n    opacity: 1; }\n\n.xgplayer-skin-default.xgplayer-playbackrate-active .xgplayer-playbackrate ul {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-download {\n  position: relative;\n  -webkit-order: 9;\n     -moz-box-ordinal-group: 10;\n          order: 9;\n  display: block;\n  cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-download .xgplayer-icon {\n    margin-top: 3px; }\n    .xgplayer-skin-default .xgplayer-download .xgplayer-icon div {\n      position: absolute; }\n    .xgplayer-skin-default .xgplayer-download .xgplayer-icon svg {\n      position: relative;\n      top: 5px;\n      left: 5px; }\n  .xgplayer-skin-default .xgplayer-download .xgplayer-tips {\n    margin-left: -20px; }\n    .xgplayer-skin-default .xgplayer-download .xgplayer-tips .xgplayer-tip-download {\n      display: block; }\n  .xgplayer-skin-default .xgplayer-download:hover {\n    opacity: 0.85; }\n    .xgplayer-skin-default .xgplayer-download:hover .xgplayer-tips {\n      display: block; }\n\n.lang-is-en .xgplayer-download .xgplayer-tips {\n  margin-left: -32px; }\n\n.lang-is-jp .xgplayer-download .xgplayer-tips {\n  margin-left: -40px; }\n\n.xgplayer-skin-default .danmu-switch {\n  -webkit-order: 6;\n     -moz-box-ordinal-group: 7;\n          order: 6;\n  z-index: 26; }\n\n.xgplayer-skin-default .xgplayer-danmu {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 100%;\n  overflow: hidden;\n  z-index: 9;\n  outline: none; }\n  .xgplayer-skin-default .xgplayer-danmu > * {\n    position: absolute;\n    white-space: nowrap;\n    z-index: 9; }\n\n.xgplayer-skin-default .xgplayer-danmu.xgplayer-has-danmu {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-panel {\n  outline: none;\n  -webkit-order: 7;\n     -moz-box-ordinal-group: 8;\n          order: 7;\n  width: 40px;\n  height: 40px;\n  display: inline-block;\n  position: relative;\n  font-family: PingFangSC-Regular;\n  font-size: 13px;\n  color: rgba(255, 255, 255, .8);\n  z-index: 36; }\n  .xgplayer-skin-default .xgplayer-panel .xgplayer-panel-icon {\n    cursor: pointer;\n    position: absolute;\n    margin-left: 5px;\n    top: 10px; }\n\n.xgplayer-skin-default .xgplayer-panel-active {\n  display: block !important;\n  bottom: 30px; }\n\n.xgplayer-skin-default .xgplayer-panel-slider {\n  z-index: 36;\n  display: none;\n  position: absolute;\n  width: 230px;\n  height: 230px;\n  background: rgba(0, 0, 0, .54);\n  border-radius: 1px;\n  padding: 10px 20px;\n  outline: none;\n  left: -115px;\n  bottom: 40px; }\n  .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode {\n    padding-bottom: 10px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode-radio li {\n      display: inline;\n      list-style: none;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode ul {\n      display: -webkit-flex;\n      display: -moz-box;\n      display: flex;\n      -webkit-justify-content: space-around;\n              justify-content: space-around; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode li {\n      margin: 0 12px;\n      font-size: 11px;\n      color: #aaa; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-hidemode-font {\n      margin-bottom: 10px; }\n  .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency {\n    display: block;\n    margin-top: 10px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-line {\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      cursor: pointer;\n      outline: none;\n      width: 150px;\n      height: 4px;\n      background: #aaa;\n      border-radius: 4px;\n      border-style: none;\n      margin-left: 10px;\n      margin-top: -2px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-line::-moz-focus-outer {\n      border: 0 !important; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-color::-webkit-slider-runnable-track {\n      outline: none;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-color::-moz-range-track {\n      outline: none;\n      background-color: #aaa;\n      border-color: transparent;\n      cursor: pointer;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-color::-ms-track {\n      outline: none;\n      background-color: #aaa;\n      color: transparent;\n      border-color: transparent;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-webkit-slider-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      margin-top: -4px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-moz-range-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 0;\n      width: 0;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-ms-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-transparency .xgplayer-transparency-bar::-moz-range-progress {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      height: 4px;\n      border-radius: 4px;\n      background: linear-gradient(to right, #f85959, #f85959 100%, #aaa); }\n  .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea {\n    display: block;\n    margin-top: 8px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-name {\n      display: inline-block;\n      position: relative;\n      top: -10px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control {\n      display: inline-block; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control-up {\n        width: 150px;\n        margin-left: 10px;\n        display: -moz-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: space-between;\n           -moz-box-pack: justify;\n                justify-content: space-between;\n        color: #aaa; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control-down {\n        position: relative;\n        top: -10px; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-control-down-dots {\n        display: -webkit-flex;\n        display: -moz-box;\n        display: flex;\n        width: 150px;\n        margin-left: 10px;\n        -webkit-justify-content: space-between;\n           -moz-box-pack: justify;\n                justify-content: space-between; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-twoquarters {\n      margin-left: -6px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-threequarters {\n      margin-left: -6px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea-full {\n      margin-right: 3px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-line {\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      cursor: pointer;\n      outline: none;\n      width: 150px;\n      height: 4px;\n      background: #aaa;\n      border-radius: 4px;\n      border-style: none;\n      margin-left: 10px;\n      margin-top: -2px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-line::-moz-focus-outer {\n      border: 0 !important; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-color::-webkit-slider-runnable-track {\n      outline: none;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-color::-moz-range-track {\n      outline: none;\n      background-color: #aaa;\n      border-color: transparent;\n      cursor: pointer;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-color::-ms-track {\n      outline: none;\n      background-color: #aaa;\n      color: transparent;\n      border-color: transparent;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-bar::-webkit-slider-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      margin-top: -4px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-bar::-moz-range-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 0;\n      width: 0;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-bar::-ms-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-zero-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-onequarters-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-twoquarters-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-threequarters-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-showarea .xgplayer-showarea-full-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n  .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed {\n    display: block; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-name {\n      display: inline-block;\n      position: relative;\n      top: -10px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control {\n      display: inline-block; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control-up {\n        width: 150px;\n        margin-left: 10px;\n        display: -moz-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: space-between;\n           -moz-box-pack: justify;\n                justify-content: space-between;\n        color: #aaa; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control-down {\n        position: relative;\n        top: -10px; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed-control-down-dots {\n        display: -webkit-flex;\n        display: -moz-box;\n        display: flex;\n        width: 150px;\n        margin-left: 10px;\n        -webkit-justify-content: space-between;\n           -moz-box-pack: justify;\n                justify-content: space-between; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-line {\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      cursor: pointer;\n      outline: none;\n      width: 150px;\n      height: 4px;\n      background: #aaa;\n      border-radius: 4px;\n      border-style: none;\n      margin-left: 10px;\n      margin-top: -2px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-line::-moz-focus-outer {\n      border: 0 !important; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-color::-webkit-slider-runnable-track {\n      outline: none;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-color::-moz-range-track {\n      outline: none;\n      background-color: #aaa;\n      border-color: transparent;\n      cursor: pointer;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-color::-ms-track {\n      outline: none;\n      background-color: #aaa;\n      color: transparent;\n      border-color: transparent;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-bar::-webkit-slider-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      margin-top: -4px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-bar::-moz-range-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 0;\n      width: 0;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-bar::-ms-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-small-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-middle-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmuspeed .xgplayer-danmuspeed-large-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n  .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont {\n    display: block; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-name {\n      display: inline-block;\n      position: relative;\n      top: -10px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control {\n      display: inline-block; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control-up {\n        width: 150px;\n        margin-left: 10px;\n        display: -moz-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-justify-content: space-between;\n           -moz-box-pack: justify;\n                justify-content: space-between;\n        color: #aaa; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control-down {\n        position: relative;\n        top: -10px; }\n      .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont-control-down-dots {\n        display: -webkit-flex;\n        display: -moz-box;\n        display: flex;\n        width: 150px;\n        margin-left: 10px;\n        -webkit-justify-content: space-between;\n           -moz-box-pack: justify;\n                justify-content: space-between; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-line {\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      cursor: pointer;\n      outline: none;\n      width: 150px;\n      height: 4px;\n      background: #aaa;\n      border-radius: 4px;\n      border-style: none;\n      margin-left: 10px;\n      margin-top: -2px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-line::-moz-focus-outer {\n      border: 0 !important; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-color::-webkit-slider-runnable-track {\n      outline: none;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-color::-moz-range-track {\n      outline: none;\n      background-color: #aaa;\n      border-color: transparent;\n      cursor: pointer;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-color::-ms-track {\n      outline: none;\n      background-color: #aaa;\n      color: transparent;\n      border-color: transparent;\n      width: 150px;\n      height: 4px;\n      border-radius: 4px; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-bar::-webkit-slider-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      margin-top: -4px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-bar::-moz-range-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 0;\n      width: 0;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-bar::-ms-thumb {\n      outline: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n      border: 6px solid #f85959;\n      height: 6px;\n      width: 6px;\n      border-radius: 6px;\n      cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-small-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-middle-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n    .xgplayer-skin-default .xgplayer-panel-slider .xgplayer-danmufont .xgplayer-danmufont-large-dot {\n      width: 3px;\n      height: 3px;\n      border: 3px solid #aaa;\n      border-radius: 50%;\n      background-color: #aaa;\n      position: relative;\n      top: 16px;\n      z-index: -1; }\n\n.xgplayer-skin-default .xgplayer-playnext {\n  position: relative;\n  -webkit-order: 1;\n     -moz-box-ordinal-group: 2;\n          order: 1;\n  display: block;\n  cursor: pointer;\n  top: -2px; }\n  .xgplayer-skin-default .xgplayer-playnext .xgplayer-icon div {\n    position: absolute; }\n  .xgplayer-skin-default .xgplayer-playnext .xgplayer-tips .xgplayer-tip-playnext {\n    display: block; }\n  .xgplayer-skin-default .xgplayer-playnext:hover {\n    opacity: 0.85; }\n    .xgplayer-skin-default .xgplayer-playnext:hover .xgplayer-tips {\n      display: block; }\n\n.lang-is-en .xgplayer-playnext .xgplayer-tips {\n  margin-left: -25px; }\n\n.lang-is-jp .xgplayer-playnext .xgplayer-tips {\n  margin-left: -38px; }\n\n.xgplayer-skin-default .xgplayer-pip {\n  -webkit-order: 9;\n     -moz-box-ordinal-group: 10;\n          order: 9;\n  position: relative;\n  outline: none;\n  display: block;\n  cursor: pointer;\n  height: 20px;\n  top: 8px; }\n  .xgplayer-skin-default .xgplayer-pip .name {\n    text-align: center;\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    line-height: 20px;\n    height: 20px;\n    color: rgba(255, 255, 255, .8); }\n    .xgplayer-skin-default .xgplayer-pip .name span {\n      width: 60px;\n      height: 20px;\n      line-height: 20px;\n      background: rgba(0, 0, 0, .38);\n      border-radius: 10px;\n      display: inline-block;\n      vertical-align: middle; }\n\n.xgplayer-skin-default .xgplayer-pip-lay {\n  position: absolute;\n  top: 26px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 130;\n  cursor: pointer;\n  background-color: transparent;\n  display: none; }\n  .xgplayer-skin-default .xgplayer-pip-lay div {\n    width: 100%;\n    height: 100%; }\n\n.xgplayer-skin-default .xgplayer-pip-drag {\n  cursor: move;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 26px;\n  line-height: 26px;\n  background-image: linear-gradient(rgba(0, 0, 0, .3), rgba(0, 0, 0, 0));\n  z-index: 130;\n  display: none; }\n\n.xgplayer-skin-default.xgplayer-pip-active {\n  position: fixed;\n  right: 0;\n  bottom: 200px;\n  width: 320px !important;\n  height: 180px !important;\n  z-index: 110 !important; }\n  .xgplayer-skin-default.xgplayer-pip-active .xgplayer-controls {\n    display: none; }\n  .xgplayer-skin-default.xgplayer-pip-active .xgplayer-danmu {\n    display: none; }\n  .xgplayer-skin-default.xgplayer-pip-active .xgplayer-pip-lay {\n    display: block; }\n\n.xgplayer-skin-default.xgplayer-pip-active .xgplayer-pip-drag {\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex; }\n\n.xgplayer-skin-default.xgplayer-inactive .xgplayer-pip-drag {\n  display: none; }\n\n.lang-is-jp .xgplayer-pip .name span {\n  width: 70px;\n  height: 20px; }\n\n.xgplayer-skin-default .xgplayer-rotate {\n  position: relative;\n  -webkit-order: 10;\n     -moz-box-ordinal-group: 11;\n          order: 10;\n  display: block;\n  cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-rotate .xgplayer-icon {\n    margin-top: 7px;\n    width: 26px; }\n    .xgplayer-skin-default .xgplayer-rotate .xgplayer-icon div {\n      position: absolute; }\n  .xgplayer-skin-default .xgplayer-rotate .xgplayer-tips {\n    margin-left: -22px; }\n    .xgplayer-skin-default .xgplayer-rotate .xgplayer-tips .xgplayer-tip-rotate {\n      display: block; }\n  .xgplayer-skin-default .xgplayer-rotate:hover {\n    opacity: 0.85; }\n    .xgplayer-skin-default .xgplayer-rotate:hover .xgplayer-tips {\n      display: block; }\n\n.lang-is-en .xgplayer-rotate .xgplayer-tips {\n  margin-left: -26px; }\n\n.lang-is-jp .xgplayer-rotate .xgplayer-tips {\n  margin-left: -38px; }\n\n.xgplayer-skin-default .xgplayer-screenshot {\n  -webkit-order: 11;\n     -moz-box-ordinal-group: 12;\n          order: 11;\n  position: relative;\n  outline: none;\n  display: block;\n  cursor: pointer;\n  height: 20px;\n  top: 8px; }\n  .xgplayer-skin-default .xgplayer-screenshot .name {\n    text-align: center;\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    line-height: 20px;\n    height: 20px;\n    color: rgba(255, 255, 255, .8); }\n    .xgplayer-skin-default .xgplayer-screenshot .name span {\n      width: 60px;\n      height: 20px;\n      line-height: 20px;\n      background: rgba(0, 0, 0, .38);\n      border-radius: 10px;\n      display: inline-block;\n      vertical-align: middle; }\n\n.lang-is-en .xgplayer-screenshot .name span, .lang-is-jp .xgplayer-screenshot .name span {\n  width: 75px;\n  height: 20px; }\n\n.xgplayer-skin-default .xgplayer-texttrack {\n  -webkit-order: 7;\n     -moz-box-ordinal-group: 8;\n          order: 7;\n  width: 60px;\n  height: 150px;\n  z-index: 18;\n  position: relative;\n  outline: none;\n  display: none;\n  cursor: default;\n  margin-top: -119px; }\n  .xgplayer-skin-default .xgplayer-texttrack ul {\n    display: none;\n    list-style: none;\n    width: 78px;\n    background: rgba(0, 0, 0, .54);\n    border-radius: 1px;\n    position: absolute;\n    bottom: 30px;\n    left: 0;\n    text-align: center;\n    white-space: nowrap;\n    margin-left: -10px;\n    z-index: 26;\n    cursor: pointer; }\n    .xgplayer-skin-default .xgplayer-texttrack ul li {\n      opacity: 0.7;\n      font-family: PingFangSC-Regular;\n      font-size: 11px;\n      color: rgba(255, 255, 255, .8);\n      padding: 6px 13px; }\n      .xgplayer-skin-default .xgplayer-texttrack ul li.selected {\n        color: #fff;\n        opacity: 1; }\n      .xgplayer-skin-default .xgplayer-texttrack ul li:hover {\n        color: #fff;\n        opacity: 1; }\n  .xgplayer-skin-default .xgplayer-texttrack .name {\n    text-align: center;\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    line-height: 20px;\n    height: 20px;\n    cursor: pointer;\n    color: rgba(255, 255, 255, .8);\n    position: absolute;\n    bottom: 0;\n    width: 60px;\n    height: 20px;\n    line-height: 20px;\n    background: rgba(0, 0, 0, .38);\n    border-radius: 10px;\n    display: inline-block;\n    vertical-align: middle; }\n\n.xgplayer-skin-default.xgplayer-texttrack-active .xgplayer-texttrack ul {\n  display: block; }\n\n.xgplayer-skin-default.xgplayer-is-texttrack .xgplayer-texttrack {\n  display: block; }\n\n.xgplayer-skin-default .xgplayer-icon {\n  display: block;\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  fill: #fff; }\n\n.xgplayer-skin-default .xgplayer-tips {\n  background: rgba(0, 0, 0, .54);\n  border-radius: 1px;\n  display: none;\n  position: absolute;\n  font-family: PingFangSC-Regular;\n  font-size: 11px;\n  color: #fff;\n  padding: 2px 4px;\n  text-align: center;\n  top: -30px;\n  left: 50%;\n  margin-left: -16px;\n  width: auto;\n  white-space: nowrap; }\n\n.xgplayer-skin-default.xgplayer-mobile .xgplayer-tips {\n  display: none !important; }\n\n.xgplayer-skin-default .xgplayer-error {\n  background: #000;\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 125;\n  font-family: PingFangSC-Regular;\n  font-size: 14px;\n  color: #fff;\n  text-align: center;\n  line-height: 100%;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n          justify-content: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n          align-items: center; }\n  .xgplayer-skin-default .xgplayer-error .xgplayer-error-refresh {\n    color: #FA1F41;\n    padding: 0 3px;\n    cursor: pointer; }\n  .xgplayer-skin-default .xgplayer-error .xgplayer-error-text {\n    line-height: 18px;\n    margin: auto 6px; }\n\n.xgplayer-skin-default.xgplayer-is-error .xgplayer-error {\n  display: -webkit-flex;\n  display: -moz-box;\n  display: flex; }\n\n.xgplayer-skin-default .xgplayer-memoryplay-spot {\n  position: absolute;\n  height: 32px;\n  left: 10px;\n  bottom: 46px;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 32px;\n  line-height: 32px;\n  color: #ddd;\n  z-index: 15;\n  padding: 0 32px 0 16px; }\n  .xgplayer-skin-default .xgplayer-memoryplay-spot .xgplayer-lasttime {\n    color: red;\n    font-weight: bold; }\n  .xgplayer-skin-default .xgplayer-memoryplay-spot .btn-close {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    right: 10px;\n    top: 2px;\n    cursor: pointer;\n    color: #fff;\n    font-size: 16px; }\n';styleInject(css);var s_enter=function(){for(var e=this.root,n=Player.util,t="",r=1;r<=12;r++)t+='<div class="xgplayer-enter-bar'+r+'"></div>';var a=n.createDom("xg-enter",'<div class="xgplayer-enter-spinner">\n                                                  '+t+"\n                                                </div>",{},"xgplayer-enter");e.appendChild(a)};Player.install("s_enter",s_enter);var PlayIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',PauseIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',s_play=function(){var e=this,n=Player.util,t=e.config.playBtn?e.config.playBtn:{},r=void 0;r="img"===t.type?n.createImgBtn("play",t.url.play,t.width,t.height):n.createDom("xg-play",'<xg-icon class="xgplayer-icon">\n                                      <div class="xgplayer-icon-play">'+PlayIcon+'</div>\n                                      <div class="xgplayer-icon-pause">'+PauseIcon+"</div>\n                                     </xg-icon>",{},"xgplayer-play");var a={};a.play=e.lang.PLAY_TIPS,a.pause=e.lang.PAUSE_TIPS;var i=n.createDom("xg-tips",'<span class="xgplayer-tip-play">'+a.play+'</span>\n                                        <span class="xgplayer-tip-pause">'+a.pause+"</span>",{},"xgplayer-tips");r.appendChild(i),e.once("ready",function(){e.controls.appendChild(r)}),["click","touchend"].forEach(function(n){r.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("playBtnClick")})})};Player.install("s_play",s_play);var StartPlayIcon='<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">\n  <path transform="scale(0.04,0.04)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',StartPauseIcon='<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70">\n  <path transform="scale(0.04 0.04)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',s_start=function(){function e(e){r.addClass(e.root,"xgplayer-skin-default"),e.config&&(e.config.lang&&"en"===e.config.lang?r.addClass(e.root,"lang-is-en"):"jp"===e.config.lang&&r.addClass(e.root,"lang-is-jp"))}var n=this,t=n.root,r=Player.util,a=r.createDom("xg-start",'<div class="xgplayer-icon-play">'+StartPlayIcon+'</div>\n                                      <div class="xgplayer-icon-pause">'+StartPauseIcon+"</div>",{},"xgplayer-start");n.isReady?(t.appendChild(a),e(n)):n.once("ready",function(){t.appendChild(a),e(n)}),a.onclick=function(e){e.preventDefault(),e.stopPropagation(),n.emit("startBtnClick")}};Player.install("s_start",s_start);var s_poster=function(){var e=this,n=e.root,t=Player.util;if(e.config.poster){var r=t.createDom("xg-poster","",{},"xgplayer-poster");r.style.backgroundImage="url("+e.config.poster+")",n.appendChild(r)}};Player.install("s_poster",s_poster);var s_flex=function(){var e=this,n=(e.root,Player.util.createDom("xg-placeholder","",{},"xgplayer-placeholder"));e.controls.appendChild(n)};Player.install("s_flex",s_flex);var RequestFullIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',ExitFullIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',s_fullscreen=function(){var e=this,n=Player.util,t=e.config.fullscreenBtn?e.config.fullscreenBtn:{},r=void 0;r="img"===t.type?n.createImgBtn("fullscreen",t.url.request,t.width,t.height):n.createDom("xg-fullscreen",'<xg-icon class="xgplayer-icon">\n                                             <div class="xgplayer-icon-requestfull">'+RequestFullIcon+'</div>\n                                             <div class="xgplayer-icon-exitfull">'+ExitFullIcon+"</div>\n                                           </xg-icon>",{},"xgplayer-fullscreen");var a={};a.requestfull=e.lang.FULLSCREEN_TIPS,a.exitfull=e.lang.EXITFULLSCREEN_TIPS;var i=n.createDom("xg-tips",'<span class="xgplayer-tip-requestfull">'+a.requestfull+'</span>\n                                        <span class="xgplayer-tip-exitfull">'+a.exitfull+"</span>",{},"xgplayer-tips");r.appendChild(i),e.once("ready",function(){e.controls.appendChild(r)}),["click","touchend"].forEach(function(n){r.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("fullscreenBtnClick")})})};Player.install("s_fullscreen",s_fullscreen);var RequestCssFullIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.028 0.028)" d="M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z"></path>\n</svg>\n',ExitCssFullIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.028 0.028)" d="M834.56 81.92H189.44c-59.392 0-107.52 48.128-107.52 107.52v645.12c0 59.392 48.128 107.52 107.52 107.52h645.12c59.392 0 107.52-48.128 107.52-107.52V189.44c0-59.392-48.128-107.52-107.52-107.52zM458.24 727.04c0 14.848-12.288 26.624-26.624 26.624S404.48 741.888 404.48 727.04v-69.632L289.28 773.12c-10.752 10.24-27.648 10.24-37.888 0-10.24-10.752-10.24-27.648 0-37.888L366.592 619.52H296.96c-14.848 0-26.624-12.288-26.624-26.624s12.288-26.624 26.624-26.624h134.144c14.848 0 26.624 12.288 26.624 26.624V727.04z m0-295.936c0 14.848-12.288 26.624-26.624 26.624H296.96c-14.848 0-26.624-12.288-26.624-26.624S282.112 404.48 296.96 404.48h69.632L251.392 289.28c-10.24-10.752-10.24-27.648 0-37.888 5.12-5.12 12.288-7.68 18.944-7.68 6.656 0 13.824 2.56 18.944 7.68L404.48 366.592V296.96c0-14.848 12.288-26.624 26.624-26.624s26.624 12.288 26.624 26.624v134.144zM773.12 773.12c-10.752 10.24-27.648 10.24-37.888 0L619.52 657.408V727.04c0 14.848-12.288 26.624-26.624 26.624s-26.624-11.776-26.624-26.624v-134.144c0-14.848 12.288-26.624 26.624-26.624H727.04c14.848 0 26.624 12.288 26.624 26.624s-12.288 26.624-26.624 26.624h-69.632l115.2 115.2c10.752 10.752 10.752 27.648 0.512 38.4z m0-483.84L657.408 404.48H727.04c14.848 0 26.624 12.288 26.624 26.624 0 14.848-12.288 26.624-26.624 26.624h-134.144c-14.848 0-26.624-12.288-26.624-26.624V296.96c0-14.848 12.288-26.624 26.624-26.624s26.624 12.288 26.624 26.624v69.632L734.72 250.88c5.12-5.12 12.288-7.68 18.944-7.68s13.824 2.56 18.944 7.68c10.752 10.752 10.752 27.648 0.512 38.4z"></path>\n</svg>\n',s_cssFullscreen=function(){var e=this,n=Player.util;if(e.config.cssFullscreen){var t=n.createDom("xg-cssfullscreen",'<xg-icon class="xgplayer-icon">\n                                             <div class="xgplayer-icon-requestfull">'+RequestCssFullIcon+'</div>\n                                             <div class="xgplayer-icon-exitfull">'+ExitCssFullIcon+"</div>\n                                           </xg-icon>",{},"xgplayer-cssfullscreen"),r={};r.requestfull=e.lang.CSSFULLSCREEN_TIPS,r.exitfull=e.lang.EXITCSSFULLSCREEN_TIPS;var a=n.createDom("xg-tips",'<span class="xgplayer-tip-requestfull">'+r.requestfull+'</span>\n                                        <span class="xgplayer-tip-exitfull">'+r.exitfull+"</span>",{},"xgplayer-tips");t.appendChild(a),e.once("ready",function(){e.controls.appendChild(t)}),["click","touchend"].forEach(function(n){t.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("cssFullscreenBtnClick")})})}};Player.install("s_cssFullscreen",s_cssFullscreen);var MutedIcon='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n  <path transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',SmallIcon='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n  <path transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',LargeIcon='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n  <path transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',s_volume=function(){var e=this,n=Player.util.createDom("xg-volume",'<xg-icon class="xgplayer-icon">\n                                         <div class="xgplayer-icon-large">'+LargeIcon+'</div>\n                                         <div class="xgplayer-icon-small">'+SmallIcon+'</div>\n                                         <div class="xgplayer-icon-muted">'+MutedIcon+'</div>\n                                       </xg-icon>\n                                       <xg-slider class="xgplayer-slider" tabindex="2">\n                                         <xg-bar class="xgplayer-bar">\n                                           <xg-drag class="xgplayer-drag"></xg-drag>\n                                         </xg-bar>\n                                       </xg-slider>',{},"xgplayer-volume");e.once("ready",function(){e.controls.appendChild(n)});var t=n.querySelector(".xgplayer-slider"),r=n.querySelector(".xgplayer-bar"),a=n.querySelector(".xgplayer-drag"),i=n.querySelector(".xgplayer-icon");a.style.height=100*e.config.volume+"%",t.volume=e.config.volume,r.addEventListener("mousedown",function(n){n.preventDefault(),n.stopPropagation(),e.emit("volumeBarClick",n)}),["click","touchend"].forEach(function(n){i.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("volumeIconClick")})}),i.addEventListener("mouseenter",function(n){n.preventDefault(),n.stopPropagation(),e.emit("volumeIconEnter")}),["blur","mouseleave"].forEach(function(t){n.addEventListener(t,function(n){n.preventDefault(),n.stopPropagation(),e.emit("volumeIconLeave")})})};Player.install("s_volume",s_volume);var s_definition=function(){function e(){var e=a.definitionList,n=["<ul>"],t=a.config.url,r=document.createElement("a");a.switchURL?["mp4","hls","__flv__","dash"].every(function(e){return!a[e]||(a[e].url&&(r.href=a[e].url),"__flv__"===e&&(a[e]._options?r.href=a[e]._options.url:r.href=a[e]._mediaDataSource.url),t=r.href,!1)}):t=a.currentSrc||a.src,a.hls&&(r.href=a.hls.url,t=r.href),e.forEach(function(e){r.href=e.url,a.dash?n.push("<li url='"+e.url+"' cname='"+e.name+"' class='"+(e.selected?"selected":"")+"'>"+e.name+"</li>"):n.push("<li url='"+e.url+"' cname='"+e.name+"' class='"+(r.href===t?"selected":"")+"'>"+e.name+"</li>")});var l=e.filter(function(e){return r.href=e.url,a.dash?!0===e.selected:r.href===t});n.push("</ul><p class='name'>"+(l[0]||{name:""}).name+"</p>");var s=i.querySelector(".xgplayer-definition");if(s){s.innerHTML=n.join("");var c=s.querySelector(".name");a.config.definitionActive&&"hover"!==a.config.definitionActive||c.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),o.addClass(a.root,"xgplayer-definition-active"),s.focus()})}else{p.innerHTML=n.join("");var d=p.querySelector(".name");a.config.definitionActive&&"hover"!==a.config.definitionActive||d.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),o.addClass(a.root,"xgplayer-definition-active"),p.focus()}),a.controls.appendChild(p)}}function n(n){a.definitionList=n,n&&n instanceof Array&&n.length>1&&(o.addClass(i,"xgplayer-is-definition"),a.on("canplay",e))}function t(){if(a.currentTime=a.curTime,!s){var e=a.play();void 0!==e&&e&&e.catch(function(e){})}}function r(){a.off("resourceReady",n),a.off("canplay",e),a.off("canplay",t),a.off("destroy",r)}var a=this,i=a.root,o=Player.util,l=Player.sniffer,s=void 0,p=o.createDom("xg-definition","",{tabindex:3},"xgplayer-definition");"mobile"===l.device&&(a.config.definitionActive="click"),a.on("resourceReady",n),["touchend","click"].forEach(function(e){p.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation();var n=a.definitionList,r=e.target||e.srcElement,i=document.createElement("a");if(r&&"li"===r.tagName.toLocaleLowerCase()){a.emit("beforeDefinitionChange",i.href);var c=void 0,d=void 0;if(Array.prototype.forEach.call(r.parentNode.childNodes,function(e){o.hasClass(e,"selected")&&(c=e.getAttribute("cname"),o.removeClass(e,"selected"))}),a.dash&&n.forEach(function(e){e.selected=!1,e.name===r.innerHTML&&(e.selected=!0)}),o.addClass(r,"selected"),d=r.getAttribute("cname"),r.parentNode.nextSibling.innerHTML=""+r.getAttribute("cname"),i.href=r.getAttribute("url"),a.switchURL){var u=document.createElement("a");["mp4","hls","__flv__","dash"].every(function(e){return!a[e]||(a[e].url&&(u.href=a[e].url),"__flv__"===e&&(a[e]._options?u.href=a[e]._options.url:u.href=a[e]._mediaDataSource.url),!1)}),u.href===i.href||a.ended||a.switchURL(i.href)}else{if(a.hls){document.createElement("a");a.hls.url}i.href!==a.currentSrc&&(a.curTime=a.currentTime,s=a.paused,a.ended||(a.src=i.href,a.once("canplay",t)))}a.emit("definitionChange",{from:c,to:d}),"mobile"===l.device&&o.removeClass(a.root,"xgplayer-definition-active")}else"click"!==a.config.definitionActive||!r||"p"!==r.tagName.toLocaleLowerCase()&&"em"!==r.tagName.toLocaleLowerCase()||(o.addClass(a.root,"xgplayer-definition-active"),p.focus());a.emit("focus")},!1)}),p.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),o.removeClass(i,"xgplayer-definition-active")}),a.once("destroy",r)};Player.install("s_definition",s_definition);var Loading='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewbox="0 0 100 100">\n  <path d="M100,50A50,50,0,1,1,50,0"></path>\n</svg>\n',s_loading=function(){var e=this,n=e.root,t=Player.util.createDom("xg-loading",""+Loading,{},"xgplayer-loading");e.once("ready",function(){n.appendChild(t)})};Player.install("s_loading",s_loading);var s_progress=function(){function e(e,n){e.addEventListener("mouseenter",function(t){n&&(a.addClass(e,"xgplayer-progress-dot-show"),a.addClass(i,"xgplayer-progress-dot-active"))}),e.addEventListener("mouseleave",function(t){n&&(a.removeClass(e,"xgplayer-progress-dot-show"),a.removeClass(i,"xgplayer-progress-dot-active"))}),e.addEventListener("touchend",function(t){t.stopPropagation(),n&&(a.hasClass(e,"xgplayer-progress-dot-show")||Object.keys(r.dotArr).forEach(function(e){r.dotArr[e]&&a.removeClass(r.dotArr[e],"xgplayer-progress-dot-show")}),a.toggleClass(e,"xgplayer-progress-dot-show"),a.toggleClass(i,"xgplayer-progress-dot-active"))})}function n(){r.config.progressDot&&"Array"===a.typeOf(r.config.progressDot)&&r.config.progressDot.forEach(function(n){if(n.time>=0&&n.time<=r.duration){var t=a.createDom("xg-progress-dot",n.text?'<span class="xgplayer-progress-tip">'+n.text+"</span>":"",{},"xgplayer-progress-dot");t.style.left=n.time/r.duration*100+"%",n.duration>=0&&(t.style.width=Math.min(n.duration,r.duration-n.time)/r.duration*100+"%"),s.appendChild(t),r.dotArr[n.time]=t,e(t,n.text)}})}function t(){r.removeAllProgressDot(),r.off("canplay",n),r.off("timeupdate",v),k.forEach(function(e){r.off(e,b)}),r.off("destroy",t)}var r=this,a=Player.util,i=a.createDom("xg-progress",'<xg-outer class="xgplayer-progress-outer">\n                                                   <xg-cache class="xgplayer-progress-cache"></xg-cache>\n                                                   <xg-played class="xgplayer-progress-played">\n                                                     <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n                                                     <xg-point class="xgplayer-progress-point xgplayer-tips"></xg-point>\n                                                     <xg-thumbnail class="xgplayer-progress-thumbnail xgplayer-tips"></xg-thumbnail>\n                                                   </xgplayer-played>\n                                                 </xg-outer>',{tabindex:1},"xgplayer-progress"),o=void 0;r.controls.appendChild(i);var l=i.querySelector(".xgplayer-progress-played"),s=(i.querySelector(".xgplayer-progress-btn"),i.querySelector(".xgplayer-progress-outer")),p=i.querySelector(".xgplayer-progress-cache"),c=i.querySelector(".xgplayer-progress-point"),d=i.querySelector(".xgplayer-progress-thumbnail");r.dotArr={},r.once("canplay",n),r.addProgressDot=function(n,t,i){if(!r.dotArr[n]&&n>=0&&n<=r.duration){var o=a.createDom("xg-progress-dot","",{},"xgplayer-progress-dot");o.style.left=n/r.duration*100+"%",i>=0&&(o.style.width=Math.min(i,r.duration-n)/r.duration*100+"%"),s.appendChild(o),r.dotArr[n]=o,e(o,t)}},r.removeProgressDot=function(e){if(e>=0&&e<=r.duration&&r.dotArr[e]){var n=r.dotArr[e];n.parentNode.removeChild(n),n=null,r.dotArr[e]=null}},r.removeAllProgressDot=function(){Object.keys(r.dotArr).forEach(function(e){if(r.dotArr[e]){var n=r.dotArr[e];n.parentNode.removeChild(n),n=null,r.dotArr[e]=null}})};var u=0,g=0,f=0,y=0,h=0,x=0,m=[];r.config.thumbnail&&(u=r.config.thumbnail.pic_num,g=r.config.thumbnail.width,f=r.config.thumbnail.height,y=r.config.thumbnail.col,h=r.config.thumbnail.row,m=r.config.thumbnail.urls,d.style.width=g+"px",d.style.height=f+"px"),["touchstart","mousedown"].forEach(function(e){i.addEventListener(e,function(e){if(e.stopPropagation(),a.event(e),e._target===c||!r.config.allowSeekAfterEnded&&r.ended)return!0;i.focus(),o=i.getBoundingClientRect().width;var n=l.getBoundingClientRect().left,t=function(e){e.stopPropagation(),a.event(e),r.isProgressMoving=!0;var t=e.clientX-n;t>o&&(t=o);var i=t/o*r.duration;if(l.style.width=100*t/o+"%","video"!==r.videoConfig.mediaType||r.dash||r.config.closeMoveSeek){var s=a.findDom(r.controls,".xgplayer-time");s&&(s.innerHTML="<span>"+a.format(i||0)+"</span><em>"+a.format(r.duration))}else r.currentTime=Number(i).toFixed(1);r.emit("focus")},s=function e(s){if(s.stopPropagation(),a.event(s),window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),i.blur(),!r.isProgressMoving||"audio"===r.videoConfig.mediaType||r.dash||r.config.closeMoveSeek){var p=s.clientX-n;p>o&&(p=o);var c=p/o*r.duration;l.style.width=100*p/o+"%",r.currentTime=Number(c).toFixed(1)}r.emit("focus"),r.isProgressMoving=!1};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("mouseup",s),window.addEventListener("touchend",s),!0})}),i.addEventListener("mouseenter",function(e){if(!r.config.allowSeekAfterEnded&&r.ended)return!0;var n=i.getBoundingClientRect().left,t=i.getBoundingClientRect().width,o=function(e){var o=(e.clientX-n)/t*r.duration;o=o<0?0:o,c.textContent=a.format(o);var l=c.getBoundingClientRect().width;if(r.config.thumbnail){x=r.duration/u;var s=Math.floor(o/x);d.style.backgroundImage="url("+m[Math.ceil((s+1)/(y*h))-1]+")";var p=s+1-y*h*(Math.ceil((s+1)/(y*h))-1),v=Math.ceil(p/h)-1,b=p-v*h-1;d.style["background-position"]="-"+b*g+"px -"+v*f+"px";var k=e.clientX-n-g/2;k=(k=k>0?k:0)<t-g?k:t-g,d.style.left=k+"px",d.style.top=-10-f+"px",d.style.display="block",c.style.left=k+g/2-l/2+"px"}else{var w=e.clientX-n-l/2;w=(w=w>0?w:0)>t-l?t-l:w,c.style.left=w+"px"}a.hasClass(i,"xgplayer-progress-dot-active")?c.style.display="none":c.style.display="block"},l=function(e){o(e)},s=function e(n){i.removeEventListener("mousemove",l,!1),i.removeEventListener("mouseleave",e,!1),o(n),c.style.display="none",d.style.display="none"};i.addEventListener("mousemove",l,!1),i.addEventListener("mouseleave",s,!1),o(e)},!1);var v=function(){!o&&i&&(o=i.getBoundingClientRect().width),"audio"===r.videoConfig.mediaType&&r.isProgressMoving&&r.dash||(l.style.width=100*r.currentTime/r.duration+"%")};r.on("timeupdate",v);var b=function(){var e=r.buffered;if(e&&e.length>0){for(var n=e.end(e.length-1),t=0,a=e.length;t<a;t++)if(r.currentTime>=e.start(t)&&r.currentTime<=e.end(t)){n=e.end(t);for(var i=t+1;i<e.length;i++)if(e.start(i)-e.end(i-1)>=2){n=e.end(i-1);break}break}p.style.width=n/r.duration*100+"%"}},k=["bufferedChange","cacheupdate","ended","timeupdate"];k.forEach(function(e){r.on(e,b)}),r.once("destroy",t)};Player.install("s_progress",s_progress);var s_time=function(){function e(){n.off("durationchange",a),n.off("timeupdate",a),n.off("destroy",e)}var n=this,t=(n.root,Player.util),r=t.createDom("xg-time","<span>"+(n.currentTime||t.format(0))+"</span>\n                                           <em>"+(n.duration||t.format(0))+"</em>",{},"xgplayer-time");n.once("ready",function(){n.controls.appendChild(r)});var a=function(){if(n.duration===1/0&&(t.addClass(n.root,"xgplayer-is-live"),!t.findDom(n.root,".xgplayer-live"))){var e=t.createDom("xg-live","正在直播",{},"xgplayer-live");n.controls.appendChild(e)}"audio"===n.videoConfig.mediaType&&n.isProgressMoving&&n.dash||(r.innerHTML="<span>"+t.format(n.currentTime||0)+"</span><em>"+t.format(n.duration)+"</em>")};n.on("durationchange",a),n.on("timeupdate",a),n.once("destroy",e)};Player.install("s_time",s_time);var ReplayIcon='<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" width="78" height="78" viewbox="0 0 78 78">\n  <path d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',s_replay=function(){function e(){var e=o.querySelector("path");if(e){var n=window.getComputedStyle(e).getPropertyValue("transform");if("string"==typeof n&&n.indexOf("none")>-1)return;e.setAttribute("transform",n)}}function n(){t.off("ended",e),t.off("destroy",n)}var t=this,r=Player.util,a=t.root,i=t.lang.REPLAY,o=r.createDom("xg-replay",ReplayIcon+'\n                                         <xg-replay-txt class="xgplayer-replay-txt">'+i+"</xg-replay-txt>\n                                        ",{},"xgplayer-replay");t.once("ready",function(){a.appendChild(o)}),t.on("ended",e);var l=o.querySelector("svg");["click","touchend"].forEach(function(e){l.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),t.emit("replayBtnClick")})}),t.once("destroy",n)};Player.install("s_replay",s_replay);var s_playbackRate=function(){var e=this,n=Player.util;if(!e.config.playbackRate)return!1;e.config.playbackRate.sort(function(e,n){return n-e});var t=n.createDom("xg-playbackrate"," ",{},"xgplayer-playbackrate"),r=[];e.config.playbackRate.forEach(function(e){r.push({name:""+e,rate:e+"x",selected:!1})});var a=1,i=["<ul>"];r.forEach(function(n){e.config.defaultPlaybackRate&&e.config.defaultPlaybackRate.toString()===n.name?(n.selected=!0,a=e.config.defaultPlaybackRate,e.once("playing",function(){e.video.playbackRate=e.config.defaultPlaybackRate})):"1.0"!==n.name&&"1"!==n.name||e.config.defaultPlaybackRate&&1!==e.config.defaultPlaybackRate||(n.selected=!0),i.push("<li cname='"+n.name+"' class='"+(n.selected?"selected":"")+"'>"+n.rate+"</li>")}),i.push("</ul><p class='name'>"+a+"x</p>");var o=e.root.querySelector(".xgplayer-playbackrate");if(o){o.innerHTML=i.join("");if(!o)return;o.querySelector(".name").addEventListener("mouseenter",function(t){t.preventDefault(),t.stopPropagation(),n.addClass(e.root,"xgplayer-playbackrate-active"),o.focus()})}else{t.innerHTML=i.join("");if(!t)return;t.querySelector(".name").addEventListener("mouseenter",function(r){r.preventDefault(),r.stopPropagation(),n.addClass(e.root,"xgplayer-playbackrate-active"),t.focus()}),e.once("ready",function(){e.controls.appendChild(t)})}["touchend","click"].forEach(function(i){t.addEventListener(i,function(i){i.stopPropagation(),i.preventDefault();var o=i.target;if(o&&"li"===o.tagName.toLocaleLowerCase()){var l=void 0,s=void 0;r.forEach(function(t){t.selected=!1,o.textContent.replace(/\s+/g,"")===t.rate&&(Array.prototype.forEach.call(o.parentNode.childNodes,function(e){n.hasClass(e,"selected")&&(l=parseFloat(e.getAttribute("cname")),n.removeClass(e,"selected"))}),t.selected=!0,e.video.playbackRate=1*t.name,a=1*t.name)}),n.addClass(o,"selected"),s=parseFloat(o.getAttribute("cname")),o.parentNode.nextSibling.innerHTML=o.getAttribute("cname")+"x",e.emit("playbackrateChange",{from:l,to:s})}else!o||"p"!==o.tagName.toLocaleLowerCase()&&"span"!==o.tagName.toLocaleLowerCase()||(n.addClass(e.root,"xgplayer-playbackrate-active"),t.focus());e.emit("focus")},!1)}),t.addEventListener("mouseleave",function(t){t.preventDefault(),t.stopPropagation(),n.removeClass(e.root,"xgplayer-playbackrate-active")}),e.on("play",function(){e.video.playbackRate.toFixed(1)!==a.toFixed(1)&&(e.video.playbackRate=a)})};Player.install("s_playbackRate",s_playbackRate);var s_localPreview=function(){var e=this,n=(e.root,Player.util);if(e.config.preview&&e.config.preview.uploadEl){var t=n.createDom("xg-preview",'<input type="file">',{},"xgplayer-preview"),r=t.querySelector("input");e.config.preview.uploadEl.appendChild(t),r.onchange=function(){e.emit("upload",r)}}};Player.install("s_localPreview",s_localPreview);var DownloadIcon='<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',s_download=function(){var e=this,n=Player.util;if(e.config.download){var t=n.createDom("xg-download",'<xg-icon class="xgplayer-icon">'+DownloadIcon+"</xg-icon>",{},"xgplayer-download"),r=e.lang.DOWNLOAD_TIPS,a=n.createDom("xg-tips",'<span class="xgplayer-tip-download">'+r+"</span>",{},"xgplayer-tips");t.appendChild(a),e.once("ready",function(){e.controls.appendChild(t)}),["click","touchend"].forEach(function(n){t.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("downloadBtnClick")})})}};Player.install("s_download",s_download);var dist=createCommonjsModule(function(e,n){!function(n,t){e.exports=function(){return function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(n){return e[n]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=2)}([function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r,a=(r=t(22))&&r.__esModule?r:{default:r},i={};i.domObj=new a.default,i.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=document.createElement(e);return a.className=r,a.innerHTML=n,Object.keys(t).forEach(function(n){var r=n,i=t[n];"video"===e||"audio"===e?i&&a.setAttribute(r,i):a.setAttribute(r,i)}),a},i.hasClass=function(e,n){return e.classList?Array.prototype.some.call(e.classList,function(e){return e===n}):!!e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))},i.addClass=function(e,n){e.classList?n.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&e.classList.add(n)}):i.hasClass(e,n)||(e.className+=" "+n)},i.removeClass=function(e,n){e.classList?n.split(/\s+/g).forEach(function(n){e.classList.remove(n)}):i.hasClass(e,n)&&n.split(/\s+/g).forEach(function(n){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t," ")})},i.toggleClass=function(e,n){n.split(/\s+/g).forEach(function(n){i.hasClass(e,n)?i.removeClass(e,n):i.addClass(e,n)})},i.findDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments[1],t=void 0;try{t=e.querySelector(n)}catch(r){n.startsWith("#")&&(t=e.getElementById(n.slice(1)))}return t},i.deepCopy=function(e,n){if("Object"===i.typeOf(n)&&"Object"===i.typeOf(e))return Object.keys(n).forEach(function(t){"Object"!==i.typeOf(n[t])||n[t]instanceof Node?"Array"===i.typeOf(n[t])?e[t]="Array"===i.typeOf(e[t])?e[t].concat(n[t]):n[t]:e[t]=n[t]:e[t]?i.deepCopy(e[t],n[t]):e[t]=n[t]}),e},i.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},i.copyDom=function(e){if(e&&1===e.nodeType){var n=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){n.setAttribute(e.name,e.value)}),e.innerHTML&&(n.innerHTML=e.innerHTML),n}return""},i.formatTime=function(e){var n=Math.floor(e);return 1e3*n+(e-n)},n.default=i,e.exports=n.default},function(e,n,t){var r=t(13)();e.exports=function(e){return e!==r&&null!==e}},function(e,n,t){e.exports=t(3)},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r,a=(r=t(4))&&r.__esModule?r:{default:r};t(26),n.default=a.default,e.exports=n.default},function(e,n,t){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=r(t(5)),o=r(t(21)),l=r(t(0)),s=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=l.default.deepCopy({overlap:!1,area:{start:0,end:1},live:!1,comments:[],direction:"r2l"},n),this.hideArr=[],(0,i.default)(this);var t=this;if(this.config.comments.forEach(function(e){e.duration=e.duration<5e3?5e3:e.duration,e.mode||(e.mode="scroll")}),!this.config.container||1!==this.config.container.nodeType)return this.emit("error","container id can't be empty"),!1;if(this.container=this.config.container,this.config.containerStyle){var r=this.config.containerStyle;Object.keys(r).forEach(function(e){t.container.style[e]=r[e]})}this.live=this.config.live,this.player=this.config.player,this.direction=this.config.direction,l.default.addClass(this.container,"danmu"),this.bulletBtn=new o.default(this),this.emit("ready")}return a(e,[{key:"start",value:function(){this.bulletBtn.main.start()}},{key:"pause",value:function(){this.bulletBtn.main.pause()}},{key:"play",value:function(){this.bulletBtn.main.play()}},{key:"stop",value:function(){this.bulletBtn.main.stop()}},{key:"sendComment",value:function(e){e&&e.id&&e.duration&&(e.el||e.txt)&&(e.duration=e.duration<5e3?5e3:e.duration,this.bulletBtn.main.data.push(e))}},{key:"setCommentID",value:function(e,n){var t=this.container.getBoundingClientRect();e&&n&&(this.bulletBtn.main.data.some(function(t){return t.id===e&&(t.id=n,!0)}),this.bulletBtn.main.queue.some(function(r){return r.id===e&&(r.id=n,r.pauseMove(t),r.startMove(t),!0)}))}},{key:"setCommentDuration",value:function(e,n){var t=this.container.getBoundingClientRect();e&&n&&(n=n<5e3?5e3:n,this.bulletBtn.main.data.some(function(t){return t.id===e&&(t.duration=n,!0)}),this.bulletBtn.main.queue.some(function(r){return r.id===e&&(r.duration=n,r.pauseMove(t),r.startMove(t),!0)}))}},{key:"setAllDuration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll",n=arguments[1],t=this.container.getBoundingClientRect();n&&(n=n<5e3?5e3:n,this.bulletBtn.main.data.forEach(function(t){e===t.mode&&(t.duration=n)}),this.bulletBtn.main.queue.forEach(function(r){e===r.mode&&(r.duration=n,r.pauseMove(t),r.startMove(t))}))}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";this.hideArr.indexOf(e)<0&&this.hideArr.push(e),this.bulletBtn.main.queue.filter(function(n){return e===n.mode||"color"===e&&n.color}).forEach(function(e){return e.remove()})}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll",n=this.hideArr.indexOf(e);n>-1&&this.hideArr.splice(n,1)}},{key:"setDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"r2l";this.emit("changeDirection",e)}}]),e}();n.default=s,e.exports=n.default},function(e,n,t){var r,a,i,o,l,s,p,c=t(6),d=t(20),u=Function.prototype.apply,g=Function.prototype.call,f=Object.create,y=Object.defineProperty,h=Object.defineProperties,x=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};a=function(e,n){var t,a;return d(n),a=this,r.call(this,e,t=function(){i.call(a,e,t),u.call(n,this,arguments)}),t.__eeOnceListener__=n,this},l={on:r=function(e,n){var t;return d(n),x.call(this,"__ee__")?t=this.__ee__:(t=m.value=f(null),y(this,"__ee__",m),m.value=null),t[e]?"object"==typeof t[e]?t[e].push(n):t[e]=[t[e],n]:t[e]=n,this},once:a,off:i=function(e,n){var t,r,a,i;if(d(n),!x.call(this,"__ee__"))return this;if(!(t=this.__ee__)[e])return this;if("object"==typeof(r=t[e]))for(i=0;a=r[i];++i)a!==n&&a.__eeOnceListener__!==n||(2===r.length?t[e]=r[i?0:1]:r.splice(i,1));else r!==n&&r.__eeOnceListener__!==n||delete t[e];return this},emit:o=function(e){var n,t,r,a,i;if(x.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"==typeof a){for(t=arguments.length,i=new Array(t-1),n=1;n<t;++n)i[n-1]=arguments[n];for(a=a.slice(),n=0;r=a[n];++n)u.call(r,this,i)}else switch(arguments.length){case 1:g.call(a,this);break;case 2:g.call(a,this,arguments[1]);break;case 3:g.call(a,this,arguments[1],arguments[2]);break;default:for(t=arguments.length,i=new Array(t-1),n=1;n<t;++n)i[n-1]=arguments[n];u.call(a,this,i)}}},s={on:c(r),once:c(a),off:c(i),emit:c(o)},p=h({},s),e.exports=n=function(e){return null==e?f(p):h(Object(e),s)},n.methods=l},function(e,n,t){var r=t(7),a=t(15),i=t(16),o=t(17);(e.exports=function(e,n){var t,i,l,s,p;return arguments.length<2||"string"!=typeof e?(s=n,n=e,e=null):s=arguments[2],null==e?(t=l=!0,i=!1):(t=o.call(e,"c"),i=o.call(e,"e"),l=o.call(e,"w")),p={value:n,configurable:t,enumerable:i,writable:l},s?r(a(s),p):p}).gs=function(e,n,t){var l,s,p,c;return"string"!=typeof e?(p=t,t=n,n=e,e=null):p=arguments[3],null==n?n=void 0:i(n)?null==t?t=void 0:i(t)||(p=t,t=void 0):(p=n,n=t=void 0),null==e?(l=!0,s=!1):(l=o.call(e,"c"),s=o.call(e,"e")),c={get:n,set:t,configurable:l,enumerable:s},p?r(a(p),c):c}},function(e,n,t){e.exports=t(8)()?Object.assign:t(9)},function(e,n,t){e.exports=function(){var e,n=Object.assign;return"function"==typeof n&&(n(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,n,t){var r=t(10),a=t(14),i=Math.max;e.exports=function(e,n){var t,o,l,s=i(arguments.length,2);for(e=Object(a(e)),l=function(r){try{e[r]=n[r]}catch(e){t||(t=e)}},o=1;o<s;++o)n=arguments[o],r(n).forEach(l);if(void 0!==t)throw t;return e}},function(e,n,t){e.exports=t(11)()?Object.keys:t(12)},function(e,n,t){e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,n,t){var r=t(1),a=Object.keys;e.exports=function(e){return a(r(e)?Object(e):e)}},function(e,n,t){e.exports=function(){}},function(e,n,t){var r=t(1);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,n,t){var r=t(1),a=Array.prototype.forEach,i=Object.create;e.exports=function(e){var n=i(null);return a.call(arguments,function(e){r(e)&&function(e,n){var t;for(t in e)n[t]=e[t]}(Object(e),n)}),n}},function(e,n,t){e.exports=function(e){return"function"==typeof e}},function(e,n,t){e.exports=t(18)()?String.prototype.contains:t(19)},function(e,n,t){var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,n,t){var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,n,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,n,t){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=r(t(0)),o=r(t(23)),l=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.danmu=n,this.main=new o.default(n),n.config.defaultOff||this.main.start()}return a(e,[{key:"createSwitch",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.switchBtn=i.default.createDom("dk-switch",'<span class="txt">弹</span>',{},"danmu-switch "+(e?"danmu-switch-active":"")),this.switchBtn}}]),e}();n.default=l,e.exports=n.default},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n={initDOM:function(){return document.createElement("div")},initSize:10},this.init(n)}return r(e,[{key:"init",value:function(e){this.idleList=[],this.usingList=[],this._id=0,this.options=e,this._expand(e.initSize)}},{key:"use",value:function(){this.idleList.length||this._expand(1);var e=this.idleList.shift();return this.usingList.push(e),e}},{key:"unuse",value:function(e){var n=this.usingList.indexOf(e);n<0||(this.usingList.splice(n,1),e.innerHTML="",e.textcontent="",e.style="",this.idleList.push(e))}},{key:"_expand",value:function(e){for(var n=0;n<e;n++)this.idleList.push(this.options.initDOM(this._id++))}}]),e}();n.default=a,e.exports=n.default},function(e,n,t){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=r(t(24)),o=r(t(25)),l=r(t(0)),s=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.danmu=n,this.container=n.container,this.channel=new i.default(n),this.data=[].concat(n.config.comments),this.queue=[],this.timer=null,this.retryTimer=null,this.interval=2e3,this.status="idle",n.on("bullet_remove",this.updateQueue.bind(this));var t=this;this.danmu.on("changeDirection",function(e){t.danmu.direction=e})}return a(e,[{key:"updateQueue",value:function(e){var n=this;n.queue.some(function(t,r){return t.id===e.bullet.id&&(n.queue.splice(r,1),!0)})}},{key:"init",value:function(e,n){n||(n=this),n.data.sort(function(e,n){return e.start-n.start}),n.retryTimer||(n.retryTimer=setInterval(function(){n.readData(),n.dataHandle()},n.interval-1e3))}},{key:"start",value:function(){this.status="playing",this.queue=[],this.container.innerHTML="",this.channel.resetWithCb(this.init,this)}},{key:"stop",value:function(){this.status="closed",clearInterval(this.retryTimer),this.retryTimer=null,this.channel.reset(),this.queue=[],this.container.innerHTML=""}},{key:"play",value:function(){this.status="playing";var e=this.channel.channels,n=this.danmu.container.getBoundingClientRect();e&&e.length>0&&["scroll","top","bottom"].forEach(function(t){for(var r=0;r<e.length;r++)e[r].queue[t].forEach(function(e){e.resized||(e.startMove(n),e.resized=!0)});for(var a=0;a<e.length;a++)e[a].queue[t].forEach(function(e){e.resized=!1})})}},{key:"pause",value:function(){this.status="paused";var e=this.channel.channels,n=this.danmu.container.getBoundingClientRect();e&&e.length>0&&["scroll","top","bottom"].forEach(function(t){for(var r=0;r<e.length;r++)e[r].queue[t].forEach(function(e){e.pauseMove(n)})})}},{key:"dataHandle",value:function(){var e=this;"paused"!==this.status&&"closed"!==this.status&&e.queue.length&&e.queue.forEach(function(n){"waiting"!==n.status&&"paused"!==n.status||n.startMove(e.channel.containerPos)})}},{key:"readData",value:function(){var e=this,n=this.danmu,t=0;n.player&&n.player.currentTime&&(t=l.default.formatTime(n.player.currentTime));var r=void 0,a=e.interval,i=e.channel,s=void 0;n.player?(s=e.data.filter(function(n){return!n.start&&e.danmu.hideArr.indexOf(n.mode)<0&&(!n.color||e.danmu.hideArr.indexOf("color")<0)&&(n.start=t),e.danmu.hideArr.indexOf(n.mode)<0&&(!n.color||e.danmu.hideArr.indexOf("color")<0)&&n.start-a<=t&&t<=n.start+a}),n.live&&(e.data=e.data.filter(function(e){return e.start||(e.start=t),e.start>t-3*a}))):s=e.data.filter(function(n){return e.danmu.hideArr.indexOf(n.mode)<0&&(!n.color||e.danmu.hideArr.indexOf("color")<0)}),s.length>0&&s.forEach(function(t){(r=new o.default(n,t)).attach(),i.addBullet(r).result?(e.queue.push(r),r.topInit()):r.detach()})}}]),e}();n.default=s,e.exports=n.default},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.danmu=n,this.reset();var t=this;this.danmu.on("bullet_remove",function(e){t.removeBullet(e.bullet)}),this.direction=n.direction,this.danmu.on("changeDirection",function(e){t.direction=e}),this.containerPos=this.danmu.container.getBoundingClientRect(),this.containerWidth=this.containerPos.width,this.containerHeight=this.containerPos.height,this.containerLeft=this.containerPos.left,this.containerRight=this.containerPos.right,this.danmu.bulletResizeTimer=setInterval(function(){t.containerPos=t.danmu.container.getBoundingClientRect(),(Math.abs(t.containerPos.width-t.containerWidth)>=2||Math.abs(t.containerPos.height-t.containerHeight)>=2||Math.abs(t.containerPos.left-t.containerLeft)>=2||Math.abs(t.containerPos.right-t.containerRight)>=2)&&(t.containerWidth=t.containerPos.width,t.containerHeight=t.containerPos.height,t.containerLeft=t.containerPos.left,t.containerRight=t.containerPos.right,t.resize(!0))},50)}return r(e,[{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.danmu.container,t=this;setTimeout(function(){t.danmu.bulletBtn.main.data&&t.danmu.bulletBtn.main.data.forEach(function(e){e.bookChannelId&&delete e.bookChannelId});var r=n.getBoundingClientRect();t.width=r.width,t.height=r.height,t.danmu.config.area&&t.danmu.config.area.start>=0&&t.danmu.config.area.end>=t.danmu.config.area.start&&("b2t"===t.direction?t.width=t.width*(t.danmu.config.area.end-t.danmu.config.area.start):t.height=t.height*(t.danmu.config.area.end-t.danmu.config.area.start)),t.container=n;var a=/mobile/gi.test(navigator.userAgent)?10:12,i=void 0;i="b2t"===t.direction?Math.floor(t.width/a):Math.floor(t.height/a);for(var o=[],l=0;l<i;l++)o[l]={id:l,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(t.channels&&t.channels.length<=o.length){for(var s=0;s<t.channels.length;s++)!function(n){o[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(r){t.channels[n].queue[r].forEach(function(a){a.el&&(o[n].queue[r].push(a),a.resized||(a.pauseMove(t.containerPos,e),a.startMove(t.containerPos),a.resized=!0))})}),t.channels[n].queue.bottom.forEach(function(r){if(r.el){if(o[n+o.length-t.channels.length].queue.bottom.push(r),r.channel_id[0]+r.channel_id[1]-1===n){var i=[].concat(r.channel_id);r.channel_id=[i[0]-t.channels.length+o.length,i[1]],r.top=r.channel_id[0]*a,t.danmu.config.area&&t.danmu.config.area.start&&(r.top+=t.containerHeight*t.danmu.config.area.start),r.topInit()}r.resized||(r.pauseMove(t.containerPos,e),r.startMove(t.containerPos),r.resized=!0)}})}(s);for(var p=0;p<o.length;p++)!function(e){["scroll","top","bottom"].forEach(function(n){o[e].queue[n].forEach(function(e){e.resized=!1})})}(p);t.channels=o,"b2t"===t.direction?t.channelWidth=a:t.channelHeight=a}else if(t.channels&&t.channels.length>o.length){for(var c=0;c<o.length;c++)!function(n){o[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(r){if("top"===r&&n>Math.floor(o.length/2));else if("bottom"===r&&n<=Math.floor(o.length/2));else{var i="bottom"===r?n-o.length+t.channels.length:n;t.channels[i].queue[r].forEach(function(l,s){if(l.el){if(o[n].queue[r].push(l),"bottom"===r&&l.channel_id[0]+l.channel_id[1]-1===i){var p=[].concat(l.channel_id);l.channel_id=[p[0]-t.channels.length+o.length,p[1]],l.top=l.channel_id[0]*a,t.danmu.config.area&&t.danmu.config.area.start&&(l.top+=t.containerHeight*t.danmu.config.area.start),l.topInit()}l.resized||(l.pauseMove(t.containerPos,e),l.startMove(t.containerPos),l.resized=!0)}t.channels[i].queue[r].splice(s,1)})}})}(c);for(var d=o.length;d<t.channels.length;d++)!function(e){["scroll","top","bottom"].forEach(function(n){t.channels[e].queue[n].forEach(function(e){e.pauseMove(t.containerPos),e.remove()})})}(d);for(var u=0;u<o.length;u++)!function(e){["scroll","top","bottom"].forEach(function(n){o[e].queue[n].forEach(function(e){e.resized=!1})})}(u);t.channels=o,"b2t"===t.direction?t.channelWidth=a:t.channelHeight=a}},10)}},{key:"addBullet",value:function(e){var n=this.danmu,t=this.channels,r=void 0,a=void 0,i=void 0;if("b2t"===this.direction?(a=this.channelWidth,i=Math.ceil(e.width/a)):(r=this.channelHeight,i=Math.ceil(e.height/r)),i>t.length)return{result:!1,message:"exceed channels.length, occupy="+i+",channelsSize="+t.length};for(var o=!0,l=void 0,s=-1,p=0,c=t.length;p<c;p++)if(t[p].queue[e.mode].some(function(n){return n.id===e.id}))return{result:!1,message:"exsited, channelOrder="+p+",danmu_id="+e.id};if("scroll"===e.mode)for(var d=0,u=t.length-i;d<=u;d++){o=!0;for(var g=d;g<d+i;g++){if((l=t[g]).operating.scroll){o=!1;break}if((l.bookId.scroll||e.prior)&&l.bookId.scroll!==e.id){o=!1;break}l.operating.scroll=!0;var f=l.queue.scroll[0];if(f){var y=f.el.getBoundingClientRect();if("b2t"===this.direction){if(y.bottom>this.containerPos.bottom){o=!1,l.operating.scroll=!1;break}}else if(y.right>this.containerPos.right){o=!1,l.operating.scroll=!1;break}var h,x=void 0,m=void 0,v=void 0,b=void 0;if("b2t"===this.direction?(m=(y.top-this.containerPos.top+y.height)/(x=(this.containerPos.height+y.height)/f.duration),v=this.containerPos.height,b=(this.containerPos.height+e.height)/e.duration):(m=(y.left-this.containerPos.left+y.width)/(x=(this.containerPos.width+y.width)/f.duration),v=this.containerPos.width,b=(this.containerPos.width+e.width)/e.duration),h=v/b,n.config.bOffset||(n.config.bOffset=0),x<b&&m+n.config.bOffset>h){o=!1,l.operating.scroll=!1;break}}l.operating.scroll=!1}if(o){s=d;break}}else if("top"===e.mode)for(var k=0,w=t.length-i;k<=w;k++){o=!0;for(var _=k;_<k+i;_++){if(_>Math.floor(t.length/2)){o=!1;break}if((l=t[_]).operating[e.mode]){o=!1;break}if((l.bookId[e.mode]||e.prior)&&l.bookId[e.mode]!==e.id){o=!1;break}if(l.operating[e.mode]=!0,l.queue[e.mode].length>0){o=!1,l.operating[e.mode]=!1;break}l.operating[e.mode]=!1}if(o){s=k;break}}else if("bottom"===e.mode)for(var C=t.length-i;C>=0;C--){o=!0;for(var E=C;E<C+i;E++){if(E<=Math.floor(t.length/2)){o=!1;break}if((l=t[E]).operating[e.mode]){o=!1;break}if((l.bookId[e.mode]||e.prior)&&l.bookId[e.mode]!==e.id){o=!1;break}if(l.operating[e.mode]=!0,l.queue[e.mode].length>0){o=!1,l.operating[e.mode]=!1;break}l.operating[e.mode]=!1}if(o){s=C;break}}if(-1!==s){for(var P=s,S=s+i;P<S;P++)(l=t[P]).operating[e.mode]=!0,l.queue[e.mode].unshift(e),e.prior&&delete l.bookId[e.mode],l.operating[e.mode]=!1;return e.prior&&(delete e.bookChannelId,n.bulletBtn.main.data.some(function(n){return n.id===e.id&&(delete n.bookChannelId,!0)})),e.channel_id=[s,i],"b2t"===this.direction?(e.top=s*a,this.danmu.config.area&&this.danmu.config.area.start&&(e.top+=this.containerWidth*this.danmu.config.area.start)):(e.top=s*r,this.danmu.config.area&&this.danmu.config.area.start&&(e.top+=this.containerHeight*this.danmu.config.area.start)),{result:e,message:"success"}}if(e.prior)if(e.bookChannelId)n.bulletBtn.main.data.some(function(n){return n.id===e.id&&(n.start+=2e3,!0)});else{s=-1;for(var T=0,O=t.length-i;T<=O;T++){o=!0;for(var R=T;R<T+i;R++)if(t[R].bookId[e.mode]){o=!1;break}if(o){s=T;break}}if(-1!==s){for(var D=s;D<s+i;D++)t[D].bookId[e.mode]=e.id;n.bulletBtn.main.data.some(function(n){return n.id===e.id&&(n.start+=2e3,n.bookChannelId=[s,i],!0)})}}return{result:!1,message:"no surplus will right"}}},{key:"removeBullet",value:function(e){for(var n=this.channels,t=e.channel_id,r=void 0,a=t[0],i=t[0]+t[1];a<i;a++)if(r=n[a]){r.operating[e.mode]=!0;var o=-1;r.queue[e.mode].some(function(n,t){return n.id===e.id&&(o=t,!0)}),o>-1&&r.queue[e.mode].splice(o,1),r.operating[e.mode]=!1}}},{key:"resetArea",value:function(){var e=this.danmu.container,n=this,t=e.getBoundingClientRect();n.width=t.width,n.height=t.height,n.danmu.config.area&&n.danmu.config.area.start>=0&&n.danmu.config.area.end>=n.danmu.config.area.start&&("b2t"===n.direction?n.width=n.width*(n.danmu.config.area.end-n.danmu.config.area.start):n.height=n.height*(n.danmu.config.area.end-n.danmu.config.area.start)),n.container=e;var r=/mobile/gi.test(navigator.userAgent)?10:12,a=void 0;a="b2t"===n.direction?Math.floor(n.width/r):Math.floor(n.height/r);for(var i=[],o=0;o<a;o++)i[o]={id:o,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(n.channels&&n.channels.length<=i.length){for(var l=0;l<n.channels.length;l++)!function(e){i[e]={id:e,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(t){n.channels[e].queue[t].forEach(function(r){r.el&&(i[e].queue[t].push(r),r.resized||(r.pauseMove(n.containerPos,!1),r.startMove(n.containerPos),r.resized=!0))})}),n.channels[e].queue.bottom.forEach(function(t){if(t.el){if(i[e+i.length-n.channels.length].queue.bottom.push(t),t.channel_id[0]+t.channel_id[1]-1===e){var a=[].concat(t.channel_id);t.channel_id=[a[0]-n.channels.length+i.length,a[1]],t.top=t.channel_id[0]*r,n.danmu.config.area&&n.danmu.config.area.start&&(t.top+=n.containerHeight*n.danmu.config.area.start),t.topInit()}t.resized||(t.pauseMove(n.containerPos,!1),t.startMove(n.containerPos),t.resized=!0)}})}(l);for(var s=0;s<i.length;s++)!function(e){["scroll","top","bottom"].forEach(function(n){i[e].queue[n].forEach(function(e){e.resized=!1})})}(s);n.channels=i,"b2t"===n.direction?n.channelWidth=r:n.channelHeight=r}else if(n.channels&&n.channels.length>i.length){for(var p=0;p<i.length;p++)!function(e){i[e]={id:e,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(t){if("top"===t&&e>Math.floor(i.length/2));else if("bottom"===t&&e<=Math.floor(i.length/2));else{var a="bottom"===t?e-i.length+n.channels.length:e;n.channels[a].queue[t].forEach(function(o,l){if(o.el){if(i[e].queue[t].push(o),"bottom"===t&&o.channel_id[0]+o.channel_id[1]-1===a){var s=[].concat(o.channel_id);o.channel_id=[s[0]-n.channels.length+i.length,s[1]],o.top=o.channel_id[0]*r,n.danmu.config.area&&n.danmu.config.area.start&&(o.top+=n.containerHeight*n.danmu.config.area.start),o.topInit()}o.resized||(o.pauseMove(n.containerPos,!1),o.startMove(n.containerPos),o.resized=!0)}n.channels[a].queue[t].splice(l,1)})}})}(p);for(var c=0;c<i.length;c++)!function(e){["scroll","top","bottom"].forEach(function(n){i[e].queue[n].forEach(function(e){e.resized=!1})})}(c);n.channels=i,"b2t"===n.direction?n.channelWidth=r:n.channelHeight=r}}},{key:"reset",value:function(){var e=this.danmu.container,n=this;n.channels&&n.channels.length>0&&["scroll","top","bottom"].forEach(function(e){for(var t=0;t<n.channels.length;t++)n.channels[t].queue[e].forEach(function(e){e.pauseMove(n.containerPos),e.remove()})}),setTimeout(function(){var t=e.getBoundingClientRect();n.width=t.width,n.height=t.height,n.danmu.config.area&&n.danmu.config.area.start>=0&&n.danmu.config.area.end>=n.danmu.config.area.start&&("b2t"===n.direction?n.width=n.width*(n.danmu.config.area.end-n.danmu.config.area.start):n.height=n.height*(n.danmu.config.area.end-n.danmu.config.area.start)),n.container=e;var r=/mobile/gi.test(navigator.userAgent)?10:12,a=void 0;a="b2t"===n.direction?Math.floor(n.width/r):Math.floor(n.height/r);for(var i=[],o=0;o<a;o++)i[o]={id:o,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};n.channels=i,"b2t"===n.direction?n.channelWidth=r:n.channelHeight=r},200)}},{key:"resetWithCb",value:function(e,n){var t=this.danmu.container,r=this;r.channels&&r.channels.length>0&&["scroll","top","bottom"].forEach(function(e){for(var n=0;n<r.channels.length;n++)r.channels[n].queue[e].forEach(function(e){e.pauseMove(r.containerPos),e.remove()})});var a=t.getBoundingClientRect();r.width=a.width,r.height=a.height,r.danmu.config.area&&r.danmu.config.area.start>=0&&r.danmu.config.area.end>=r.danmu.config.area.start&&("b2t"===r.direction?r.width=r.width*(r.danmu.config.area.end-r.danmu.config.area.start):r.height=r.height*(r.danmu.config.area.end-r.danmu.config.area.start)),r.container=t;var i=/mobile/gi.test(navigator.userAgent)?10:12,o=void 0;o="b2t"===r.direction?Math.floor(r.width/i):Math.floor(r.height/i);for(var l=[],s=0;s<o;s++)l[s]={id:s,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};r.channels=l,r.channelHeight=i,e&&e(!0,n)}}]),e}();n.default=a,e.exports=n.default},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r,a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=(r=t(0))&&r.__esModule?r:{default:r},o=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.danmu=n,this.duration=t.duration,this.id=t.id,this.container=n.container,this.start=t.start,this.prior=t.prior,this.color=t.color,this.bookChannelId=t.bookChannelId,this.direction=n.direction;var r=this;this.danmu.on("changeDirection",function(e){r.direction=e});var a=void 0;if(this.domObj=i.default.domObj,t.el&&1===t.el.nodeType)(a=this.domObj.use()).appendChild(i.default.copyDom(t.el));else if((a=this.domObj.use()).textContent=t.txt,t.style){var o=t.style;Object.keys(o).forEach(function(e){a.style[e]=o[e]})}"top"===t.mode||"bottom"===t.mode?this.mode=t.mode:this.mode="scroll",this.el=a,this.status="waiting";var l=this.container.getBoundingClientRect();this.el.style.left=l.width+"px"}return a(e,[{key:"attach",value:function(){this.container.appendChild(this.el),this.elPos=this.el.getBoundingClientRect(),"b2t"===this.direction?(this.width=this.elPos.height,this.height=this.elPos.width):(this.width=this.elPos.width,this.height=this.elPos.height)}},{key:"detach",value:function(){this.container&&this.el&&(this.domObj.unuse(this.el),this.container.removeChild(this.el));var e=this;this.danmu.off("changeDirection",function(n){e.direction=n}),this.el=null}},{key:"topInit",value:function(){if("b2t"===this.direction){var e=this.container.getBoundingClientRect();this.el.style.transformOrigin="left top",this.el.style.transform="translateX(-"+this.top+"px) translateY("+e.height+"px) translateZ(0px) rotate(90deg)",this.el.style.transition="transform 0s linear 0s"}else this.el.style.top=this.top+"px"}},{key:"pauseMove",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("paused"!==this.status&&(this.status="paused",clearTimeout(this.removeTimer),this.el))if(this.el.style.willChange="auto","scroll"===this.mode){if(n){var t=((new Date).getTime()-this.moveTime)/1e3*this.moveV,r=0;r=this.moveMoreS-t>=0?"b2t"===this.direction?(this.moveMoreS-t)/this.moveContainerHeight*e.height:(this.moveMoreS-t)/this.moveContainerWidth*e.width:this.moveMoreS-t,"b2t"===this.direction?this.el.style.transform="translateX(-"+this.top+"px) translateY("+r+"px) translateZ(0px) rotate(90deg)":this.el.style.left=r+"px"}else"b2t"===this.direction?this.el.style.transform="translateX(-"+this.top+"px) translateY("+(this.el.getBoundingClientRect().top-e.top)+"px) translateZ(0px) rotate(90deg)":this.el.style.left=this.el.getBoundingClientRect().left-e.left+"px";"b2t"===this.direction?this.el.style.transition="transform 0s linear 0s":(this.el.style.transform="translateX(0px) translateY(0px) translateZ(0px)",this.el.style.transition="transform 0s linear 0s")}else this.pastDuration&&this.startTime?this.pastDuration=this.pastDuration+(new Date).getTime()-this.startTime:this.pastDuration=1}},{key:"startMove",value:function(e){function n(){if(t.el)if("scroll"===t.mode){var e=t.danmu.container.getBoundingClientRect(),n=t.el.getBoundingClientRect();"b2t"===t.direction?n&&n.bottom<=e.top+100?(t.status="end",t.remove()):(t.pauseMove(e),t.startMove(e)):n&&n.right<=e.left+100?(t.status="end",t.remove()):(t.pauseMove(e),t.startMove(e))}else t.status="end",t.remove()}var t=this;if(this.el&&"start"!==this.status)if(this.status="start",this.el.style.willChange="transform","scroll"===this.mode)if("b2t"===this.direction){this.moveV=(e.height+this.height)/this.duration*1e3;var r=(t.el.getBoundingClientRect().bottom-e.top)/this.moveV;this.el.style.transition="transform "+r+"s linear 0s",setTimeout(function(){t.el&&(t.el.style.transform="translateX(-"+t.top+"px) translateY(-"+t.height+"px) translateZ(0px) rotate(90deg)",t.moveTime=(new Date).getTime(),t.moveMoreS=t.el.getBoundingClientRect().top-e.top,t.moveContainerHeight=e.height,t.removeTimer=setTimeout(n,1e3*r))},20)}else{this.moveV=(e.width+this.width)/this.duration*1e3;var a=(t.el.getBoundingClientRect().right-e.left)/this.moveV;this.el.style.transition="transform "+a+"s linear 0s",setTimeout(function(){t.el&&(t.el.style.transform="translateX(-"+(t.el.getBoundingClientRect().right-e.left)+"px) translateY(0px) translateZ(0px)",t.moveTime=(new Date).getTime(),t.moveMoreS=t.el.getBoundingClientRect().left-e.left,t.moveContainerWidth=e.width,t.removeTimer=setTimeout(n,1e3*a))},20)}else{this.el.style.left="50%",this.el.style.margin="0 0 0 -"+this.width/2+"px",this.pastDuration||(this.pastDuration=1);var i=this.duration>=this.pastDuration?this.duration-this.pastDuration:0;this.removeTimer=setTimeout(n,i),this.startTime=(new Date).getTime()}}},{key:"remove",value:function(){var e=this;this.removeTimer&&clearTimeout(this.removeTimer),e.el&&e.el.parentNode&&(e.el.style.willChange="auto",this.danmu.off("changeDirection",function(n){e.direction=n}),this.domObj.unuse(e.el),e.el.parentNode.removeChild(e.el),e.el=null,e.danmu.emit("bullet_remove",{bullet:e}))}}]),e}();n.default=o,e.exports=n.default},function(e,n,t){var r=t(27);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(29)(r,a),r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(28)(!1)).push([e.i,".danmu{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.danmu>*{position:absolute;white-space:nowrap}.danmu-switch{width:32px;height:20px;border-radius:100px;background-color:#ccc;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;cursor:pointer;position:relative;text-align:center;margin:10px auto}.danmu-switch.danmu-switch-active{padding-left:12px;background-color:#f85959}.danmu-switch span.txt{width:20px;height:20px;line-height:20px;text-align:center;display:block;border-radius:100px;background-color:#ffffff;-webkit-box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);font-family:PingFangSC;font-size:10px;font-weight:500;color:#f44336}\n",""])},function(e,n){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var a=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(i).concat([a]).join("\n")}var o;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&r[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},function(e,n,t){function r(e,n){for(var t=0;t<e.length;t++){var r=e[t],a=g[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(p(r.parts[i],n))}else{var o=[];for(i=0;i<r.parts.length;i++)o.push(p(r.parts[i],n));g[r.id]={id:r.id,refs:1,parts:o}}}}function a(e,n){for(var t=[],r={},a=0;a<e.length;a++){var i=e[a],o=n.base?i[0]+n.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(l):t.push(r[o]={id:o,parts:[l]})}return t}function i(e,n){var t=y(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),m.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=y(e.insertInto+" "+e.insertAt.before);t.insertBefore(n,a)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=m.indexOf(e);n>=0&&m.splice(n,1)}function l(e){var n=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),s(n,e.attrs),i(e,n),n}function s(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function p(e,n){var t,r,a,p;if(n.transform&&e.css){if(!(p=n.transform(e.css)))return function(){};e.css=p}if(n.singleton){var d=x++;t=h||(h=l(n)),r=c.bind(null,t,d,!1),a=c.bind(null,t,d,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",s(n,e.attrs),i(e,n),n}(n),r=function(e,n,t){var r=t.css,a=t.sourceMap,i=void 0===n.convertToAbsoluteUrls&&a;(n.convertToAbsoluteUrls||i)&&(r=v(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(o),l&&URL.revokeObjectURL(l)}.bind(null,t,n),a=function(){o(t),t.href&&URL.revokeObjectURL(t.href)}):(t=l(n),r=function(e,n){var t=n.css,r=n.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),a=function(){o(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else a()}}function c(e,n,t,r){var a=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(n,a);else{var i=document.createTextNode(a),o=e.childNodes;o[n]&&e.removeChild(o[n]),o.length?e.insertBefore(i,o[n]):e.appendChild(i)}}var d,u,g={},f=(d=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===u&&(u=d.apply(this,arguments)),u}),y=function(e){var n={};return function(e){if("function"==typeof e)return e();if(void 0===n[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),h=null,x=0,m=[],v=t(30);e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=f()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=a(e,n);return r(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var l=t[o];(s=g[l.id]).refs--,i.push(s)}for(e&&r(a(e,n),n),o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var p=0;p<s.parts.length;p++)s.parts[p]();delete g[s.id]}}}};var b,k=(b=[],function(e,n){return b[e]=n,b.filter(Boolean).join("\n")})},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var a,i=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}}])}()}(window)}),DanmuJs=unwrapExports(dist),PanelIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40">\n  <path fill="#f85959" transform="scale(0.8 0.8)" d="M36.5,18.73a1.19,1.19,0,0,0,1-1.14V16.33a1.2,1.2,0,0,0-1-1.13l-.61-.08a1.75,1.75,0,0,1-1.3-.86l-.21-.36-.2-.36A1.72,1.72,0,0,1,34,12l.23-.58a1.18,1.18,0,0,0-.5-1.42l-1.1-.62a1.18,1.18,0,0,0-1.47.3l-.39.51a1.82,1.82,0,0,1-1.41.72c-.44,0-1.88-.27-2.22-.7l-.39-.49a1.18,1.18,0,0,0-1.48-.28l-1.09.64a1.19,1.19,0,0,0-.47,1.43l.25.59a1.87,1.87,0,0,1-.08,1.58c-.26.37-1.17,1.5-1.71,1.58l-.63.09a1.19,1.19,0,0,0-1,1.14l0,1.27a1.17,1.17,0,0,0,1,1.12l.61.08a1.74,1.74,0,0,1,1.3.87l.21.36.2.35A1.69,1.69,0,0,1,24,22.08l-.23.59a1.19,1.19,0,0,0,.5,1.42l1.1.62a1.19,1.19,0,0,0,1.48-.31l.38-.5a1.83,1.83,0,0,1,1.41-.72c.44,0,1.88.25,2.22.69l.39.49a1.18,1.18,0,0,0,1.48.28L33.86,24a1.19,1.19,0,0,0,.47-1.43L34.09,22a1.84,1.84,0,0,1,.07-1.58c.26-.37,1.17-1.5,1.72-1.58ZM31,18.94a2.76,2.76,0,0,1-4.65-1.2A2.71,2.71,0,0,1,27,15.13a2.76,2.76,0,0,1,4.64,1.2A2.7,2.7,0,0,1,31,18.94Z"/>\n  <path fill="#f85959" transform="scale(0.8 0.8)" d="M32,0H3.59A3.59,3.59,0,0,0,0,3.59v17A3.59,3.59,0,0,0,3.59,24.2H19.72a12.59,12.59,0,0,1-.81-1.2A11.73,11.73,0,0,1,35.54,7.28V3.59A3.59,3.59,0,0,0,32,0ZM13,14.18H4.29a1.52,1.52,0,0,1,0-3H13a1.52,1.52,0,0,1,0,3ZM16.45,8H4.29a1.51,1.51,0,0,1,0-3H16.45a1.51,1.51,0,1,1,0,3Z"/>\n</svg>\n',s_danmu=function(){var e=this,n=e.root,t=Player.util;if(e.config.danmu){var r=t.createDom("xg-danmu","",{},"xgplayer-danmu");e.once("ready",function(){n.appendChild(r)});var a=t.deepCopy({container:r,player:e.video,comments:[],area:{start:0,end:1}},e.config.danmu),i=void 0;e.config.danmu.panel&&(i=Player.util.createDom("xg-panel",'<xg-panel-icon class="xgplayer-panel-icon">\n                                                '+PanelIcon+'\n                                              </xg-panel-icon>\n                                              <xg-panel-slider class="xgplayer-panel-slider">\n                                                <xg-hidemode class="xgplayer-hidemode">\n                                                  <p class="xgplayer-hidemode-font">屏蔽类型</p>\n                                                  <ul class="xgplayer-hidemode-radio">\n                                                    <li class="xgplayer-hidemode-scroll" id="false">滚动</li><li class="xgplayer-hidemode-top" id="false">顶部</li><li class="xgplayer-hidemode-bottom" id="false">底部</li><li class="xgplayer-hidemode-color" id="false">色彩</li>\n                                                  </ul>\n                                                </xg-hidemode>\n                                                <xg-transparency class="xgplayer-transparency">\n                                                  <span>不透明度</span>\n                                                  <input class="xgplayer-transparency-line xgplayer-transparency-color xgplayer-transparency-bar xgplayer-transparency-gradient" type="range" min="0" max="100" step="0.1" value="50"></input>\n                                                </xg-transparency>\n                                                <xg-showarea class="xgplayer-showarea">\n                                                  <div class="xgplayer-showarea-name">显示区域</div>\n                                                  <div class="xgplayer-showarea-control">\n                                                    <div class="xgplayer-showarea-control-up">\n                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-onequarters">1/4</span>\n                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-twoquarters selected-color">1/2</span>\n                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-threequarters">3/4</span>\n                                                      <span class="xgplayer-showarea-control-up-item xgplayer-showarea-full">1</span>\n                                                    </div>\n                                                    <div class="xgplayer-showarea-control-down">\n                                                      <div class="xgplayer-showarea-control-down-dots">\n                                                        <span class="xgplayer-showarea-onequarters-dot"></span>\n                                                        <span class="xgplayer-showarea-twoquarters-dot"></span>\n                                                        <span class="xgplayer-showarea-threequarters-dot"></span>\n                                                        <span class="xgplayer-showarea-full-dot"></span>\n                                                      </div>\n                                                      <input class="xgplayer-showarea-line xgplayer-showarea-color xgplayer-showarea-bar xgplayer-gradient" type="range" min="1" max="4" step="1" value="1">\n                                                    </div>\n                                                  </div>\n                                                </xg-showarea>\n                                                <xg-danmuspeed class="xgplayer-danmuspeed">\n                                                  <div class="xgplayer-danmuspeed-name">弹幕速度</div>\n                                                  <div class="xgplayer-danmuspeed-control">\n                                                    <div class="xgplayer-danmuspeed-control-up">\n                                                      <span class="xgplayer-danmuspeed-control-up-item xgplayer-danmuspeed-small">慢</span>\n                                                      <span class="xgplayer-danmuspeed-control-up-item xgplayer-danmuspeed-middle selected-color">中</span>\n                                                      <span class="xgplayer-danmuspeed-control-up-item xgplayer-danmuspeed-large">快</span>\n                                                    </div>\n                                                    <div class="xgplayer-danmuspeed-control-down">\n                                                      <div class="xgplayer-danmuspeed-control-down-dots">\n                                                        <span class="xgplayer-danmuspeed-small-dot"></span>\n                                                        <span class="xgplayer-danmuspeed-middle-dot"></span>\n                                                        <span class="xgplayer-danmuspeed-large-dot"></span>\n                                                      </div>\n                                                      <input class="xgplayer-danmuspeed-line xgplayer-danmuspeed-color xgplayer-danmuspeed-bar xgplayer-gradient" type="range" min="50" max="150" step="50" value="100">\n                                                    </div>\n                                                  </div>\n                                                </xg-danmuspeed>\n                                                <xg-danmufont class="xgplayer-danmufont">\n                                                  <div class="xgplayer-danmufont-name">字体大小</div>\n                                                  <div class="xgplayer-danmufont-control">\n                                                    <div class="xgplayer-danmufont-control-up">\n                                                      <span class="xgplayer-danmufont-control-up-item xgplayer-danmufont-small">小</span>\n                                                      <span class="xgplayer-danmufont-control-up-item xgplayer-danmufont-middle">中</span>\n                                                      <span class="xgplayer-danmufont-control-up-item xgplayer-danmufont-large selected-color">大</span>\n                                                    </div>\n                                                    <div class="xgplayer-danmufont-control-down">\n                                                      <div class="xgplayer-danmufont-control-down-dots">\n                                                        <span class="xgplayer-danmufont-small-dot"></span>\n                                                        <span class="xgplayer-danmufont-middle-dot"></span>\n                                                        <span class="xgplayer-danmufont-large-dot"></span>\n                                                      </div>\n                                                      <input class="xgplayer-danmufont-line xgplayer-danmufont-color xgplayer-danmufont-bar xgplayer-gradient" type="range" min="20" max="30" step="5" value="25">\n                                                    </div>\n                                                  </div>\n                                                </xg-danmufont>\n                                              </xg-panel-slider>',{tabindex:7},"xgplayer-panel"),e.once("ready",function(){e.controls.appendChild(i)})),e.once("complete",function(){var n=new DanmuJs(a);if(e.emit("initDefaultDanmu",n),e.danmu=n,e.config.danmu.panel){var t=i.querySelector(".xgplayer-panel-slider"),r=void 0;["mouseenter","touchend","click"].forEach(function(e){i.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),Player.util.addClass(t,"xgplayer-panel-active"),i.focus(),r=!0})}),i.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),Player.util.removeClass(t,"xgplayer-panel-active"),r=!1}),t.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),!1===r&&Player.util.removeClass(t,"xgplayer-panel-active")});var o=e.config.danmu,l={scroll:i.querySelector(".xgplayer-hidemode-scroll"),top:i.querySelector(".xgplayer-hidemode-top"),bottom:i.querySelector(".xgplayer-hidemode-bottom"),color:i.querySelector(".xgplayer-hidemode-color")};for(var s in l)!function(n){var t=n;["touchend","click"].forEach(function(n){l[t].addEventListener(n,function(n){"true"!==l[t].getAttribute("id")?(l[t].style.color="#f85959",l[t].setAttribute("id","true"),e.danmu.hide(t)):(l[t].style.color="#aaa",l[t].setAttribute("id","false"),e.danmu.show(t))})})}(s);var p=i.querySelector(".xgplayer-transparency-line"),c=i.querySelector(".xgplayer-transparency-gradient"),d=50;if(c.style.background="linear-gradient(to right, #f85959 0%, #f85959 "+d+"%, #aaa "+d+"%, #aaa)",p.addEventListener("input",function(e){e.preventDefault(),e.stopPropagation(),d=e.target.value,c.style.background="linear-gradient(to right, #f85959 0%, #f85959 "+d+"%, #aaa "+d+"%, #aaa)",o.comments.forEach(function(e){e.style.opacity=d/100})}),i.querySelector(".xgplayer-showarea-line").addEventListener("input",function(n){n.preventDefault(),n.stopPropagation();var t=n.target.value;e.danmu.config.area.end=t/100,e.config.danmu.area.end=t/100,e.danmu.bulletBtn.main.channel.resize()}),i.querySelector(".xgplayer-danmuspeed-line").addEventListener("input",function(e){e.preventDefault(),e.stopPropagation();var n=e.target.value;o.comments.forEach(function(e){e.duration=100*(200-n)})}),i.querySelector(".xgplayer-danmufont-line").addEventListener("input",function(e){e.preventDefault(),e.stopPropagation();var n=e.target.value;o.comments.forEach(function(e){e.style.fontSize=n+"px"})}),navigator.userAgent.indexOf("Firefox")>-1)for(var u=0;u<t.querySelectorAll("input").length;u++)t.querySelectorAll("input")[u].style.marginTop="10px"}})}};Player.install("s_danmu",s_danmu);var s_pip=function(){var e=this,n=Player.util;if(e.config.pip){var t=e.lang.PIP,r=n.createDom("xg-pip",'<p class="name"><span>'+t+"</span></p>",{tabindex:9},"xgplayer-pip");e.once("ready",function(){e.controls.appendChild(r)}),["click","touchend"].forEach(function(n){r.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("pipBtnClick")})})}};Player.install("s_pip",s_pip);var PlayNextIcon='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',s_playNext=function(){var e=this,n=Player.util,t=e.config.playNext;if(t&&t.urlList){var r=n.createDom("xg-playnext",'<xg-icon class="xgplayer-icon">'+PlayNextIcon+"</xg-icon>",{},"xgplayer-playnext"),a=e.lang.PLAYNEXT_TIPS,i=n.createDom("xg-tips",'<span class="xgplayer-tip-playnext">'+a+"</span>",{},"xgplayer-tips");r.appendChild(i),e.once("ready",function(){e.controls.appendChild(r)}),["click","touchend"].forEach(function(n){r.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("playNextBtnClick")})})}};Player.install("s_playNext",s_playNext);var RotateIcon='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 40 40" fill="none">\n  <g clip-path="url(#clip0)">\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',s_rotate=function(){var e=this,n=Player.util;if(e.config.rotate){var t=n.createDom("xg-rotate",'<xg-icon class="xgplayer-icon">'+RotateIcon+"</xg-icon>",{},"xgplayer-rotate"),r=e.lang.ROTATE_TIPS,a=n.createDom("xg-tips",'<span class="xgplayer-tip-rotate">'+r+"</span>",{},"xgplayer-tips");t.appendChild(a),e.once("ready",function(){e.controls.appendChild(t)}),["click","touchend"].forEach(function(n){t.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("rotateBtnClick")})})}};Player.install("s_rotate",s_rotate);var s_screenShot=function(){var e=this,n=Player.util;if(e.config.screenShot){var t=e.lang.SCREENSHOT,r=n.createDom("xg-screenshot",'<p class="name"><span>'+t+"</span></p>",{tabindex:11},"xgplayer-screenshot");e.once("ready",function(){e.controls.appendChild(r)}),["click","touchend"].forEach(function(n){r.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation(),e.emit("screenShotBtnClick")})})}};Player.install("s_screenShot",s_screenShot);var s_textTrack=function(){if(!(navigator.userAgent.indexOf("Chrome")<0)){var e=this,n=e.root,t=Player.util,r=(e.controls,t.createDom("xg-texttrack","",{tabindex:7},"xgplayer-texttrack")),a=e.config.textTrack;a&&Array.isArray(a)&&a.length>1&&(t.addClass(e.root,"xgplayer-is-texttrack"),e.on("canplay",function(){var i=["<ul>"];i.push("<li class=''}'>关闭</li>"),a.forEach(function(e){i.push("<li class='"+(e.default?"selected":"")+"'>"+e.label+"</li>")});var o=e.lang.TEXTTRACK;i.push('</ul><p class="name"><em>'+o+"</em></p>");var l=n.querySelector(".xgplayer-texttrack");if(l){l.innerHTML=i.join("");var s=l.querySelector(".name");e.config.textTrackActive&&"hover"!==e.config.textTrackActive||s.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),t.addClass(n,"xgplayer-texttrack-active"),l.focus()})}else{r.innerHTML=i.join("");var p=r.querySelector(".name");e.config.textTrackActive&&"hover"!==e.config.textTrackActive||p.addEventListener("mouseenter",function(n){n.preventDefault(),n.stopPropagation(),t.addClass(e.root,"xgplayer-texttrack-active"),r.focus()}),e.controls.appendChild(r)}})),["touchend","click"].forEach(function(n){r.addEventListener(n,function(n){n.preventDefault(),n.stopPropagation();var i=n.target||n.srcElement;if(i&&"li"===i.tagName.toLocaleLowerCase()){Array.prototype.forEach.call(i.parentNode.childNodes,function(e){t.removeClass(e,"selected")}),t.addClass(i,"selected");var o=e.root.getElementsByTagName("Track");"关闭"===i.innerHTML?(o[0].track.mode="hidden",t.removeClass(e.root,"xgplayer-texttrack-active")):(t.hasClass(e.root,"xgplayer-texttrack-active")||t.addClass(e.root,"xgplayer-texttrack-active"),o[0].track.mode="showing",a.some(function(e){if(e.label===i.innerHTML)return o[0].src=e.src,e.kind&&(o[0].kind=e.kind),o[0].label=e.label,e.srclang&&(o[0].srclang=e.srclang),!0}),e.emit("textTrackChange",i.innerHTML))}else"click"!==e.config.textTrackActive||!i||"p"!==i.tagName.toLocaleLowerCase()&&"em"!==i.tagName.toLocaleLowerCase()||(t.addClass(e.root,"xgplayer-texttrack-active"),r.focus())},!1)}),r.addEventListener("mouseleave",function(n){n.preventDefault(),n.stopPropagation(),t.removeClass(e.root,"xgplayer-texttrack-active")})}};Player.install("s_textTrack",s_textTrack);var s_error=function(){function e(){t.error?o.innerHTML=t.error:t.config.lang&&"zh-cn"===t.config.lang?o.innerHTML=t.lang.ERROR+'，请<span class="xgplayer-error-refresh">刷新</span>试试':o.innerHTML=t.lang.ERROR+'，please try to <span class="xgplayer-error-refresh">refresh</span>',a.addClass(t.root,"xgplayer-is-error"),(l=i.querySelector(".xgplayer-error-refresh"))&&["touchend","click"].forEach(function(e){l.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation();var n=e.target||e.srcElement;n&&"span"===n.tagName.toLocaleLowerCase()&&(t.controls.style.display="flex",t.reload())})})}function n(){t.off("error",e),t.off("destroy",n)}var t=this,r=t.root,a=Player.util,i=a.createDom("xg-error",'<em class="xgplayer-error-text">请<span class="xgplayer-error-refresh">刷新</span>试试</em>',{},"xgplayer-error");t.once("ready",function(){r.appendChild(i)});var o=i.querySelector(".xgplayer-error-text"),l=null;t.on("error",e),t.once("destroy",n)};Player.install("s_error",s_error);var smemoryPlay=function(){var e=this,n=Player.util,t=e.config.lastPlayTime||0,r=e.config.lastPlayTimeHideDelay||3,a=null;if(!(t<=0)){(a=n.createDom("xg-memoryplay",'<div class="xgplayer-memoryplay-spot"><div class="xgplayer-progress-tip">您上次观看到 <span class="xgplayer-lasttime">'+n.format(t)+'</span> ，为您自动续播 <span class="btn-close"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg></span></div></div>',{},"xgplayer-memoryplay")).addEventListener("mouseover",function(e){e.stopPropagation()});var i=function(){a&&a.parentNode.removeChild(a),a=null};a.querySelector(".xgplayer-progress-tip .btn-close").addEventListener("click",i);var o=function(){e.root.appendChild(a),e.emit("memoryPlayStart",t),r>0&&setTimeout(function(){i()},1e3*r)};e.once("play",o),e.once("ended",i)}};Player.install("s_memoryPlay",smemoryPlay);export default Player;
//# sourceMappingURL=index.min.js.map
