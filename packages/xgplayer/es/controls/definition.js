!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.definition=t():(e.xgplayer=e.xgplayer||{},e.xgplayer.PlayerControls=e.xgplayer.PlayerControls||{},e.xgplayer.PlayerControls.definition=t())}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var i=n(1),o=n(3),r="string"==typeof i?[[e.i,i,""]]:i;(t=e.exports=i.locals||{})._getContent=function(){return r},t._getCss=function(){return""+i},t._insertCss=function(e){return o(r,e)}},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".xgplayer-skin-default .xgplayer-definition{-webkit-order:5;-moz-box-ordinal-group:6;order:5;width:60px;height:150px;z-index:18;position:relative;outline:none;display:none;cursor:default;margin-left:10px;margin-top:-119px}.xgplayer-skin-default .xgplayer-definition ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;left:0;text-align:center;white-space:nowrap;margin-left:-10px;z-index:26;cursor:pointer}.xgplayer-skin-default .xgplayer-definition ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);padding:6px 13px}.xgplayer-skin-default .xgplayer-definition ul li.selected,.xgplayer-skin-default .xgplayer-definition ul li:hover{color:#fff;opacity:1}.xgplayer-skin-default .xgplayer-definition .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;cursor:pointer;color:hsla(0,0%,100%,.8);position:absolute;bottom:0;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}.xgplayer-skin-default.xgplayer-definition-active .xgplayer-definition ul,.xgplayer-skin-default.xgplayer-is-definition .xgplayer-definition{display:block}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";
/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */var i={};function o(e){e.forEach((function(e){if(--i[e]<=0){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}}))}e.exports=function(e,t){for(var n,r=void 0===t?{}:t,a=r.replace,l=void 0!==a&&a,s=r.prepend,c=void 0!==s&&s,f=r.prefix,u=void 0===f?"s":f,d=[],p=0;p<e.length;p++){var g=e[p],m=g[0],h=g[1],y=g[2],x=g[3],v=""+u+m+"-"+p;if(d.push(v),!i[v]||l){i[v]=1;var b=document.getElementById(v),L=!1;b||(L=!0,(b=document.createElement("style")).setAttribute("type","text/css"),b.id=v,y&&b.setAttribute("media",y));var _=h;x&&"function"==typeof btoa&&(_+="\n/*# sourceMappingURL=data:application/json;base64,"+(n=JSON.stringify(x),btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))+"*/"),_+="\n/*# sourceURL="+x.file+"?"+v+"*/"),"textContent"in b?b.textContent=_:b.styleSheet.cssText=_,L&&(c?document.head.insertBefore(b,document.head.childNodes[0]):document.head.appendChild(b))}else i[v]++}return o.bind(null,d)}},function(e,t,n){"use strict";n.r(t);var i={name:"definition",method:function(){let e=this;e.once("destroy",(function t(){e.off("destroy",t)}))}};function o(e="div",t="",n={},i=""){let o=document.createElement(e);return o.className=i,o.innerHTML=t,Object.keys(n).forEach(t=>{let i=t,r=n[t];"video"===e||"audio"===e?r&&o.setAttribute(i,r):o.setAttribute(i,r)}),o}function r(e,t){return!!e&&(e.classList?Array.prototype.some.call(e.classList,e=>e===t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")))}function a(e,t){e&&(e.classList?t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(t=>{t&&e.classList.add(t)}):r(e,t)||(e.className+=" "+t))}function l(e,t){e&&(e.classList?t.split(/\s+/g).forEach(t=>{e.classList.remove(t)}):r(e,t)&&t.split(/\s+/g).forEach(t=>{let n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}))}function s(e,t){e&&t.split(/\s+/g).forEach(t=>{r(e,t)?l(e,t):a(e,t)})}let c={};Object.defineProperty(c,"device",{get:function(){return c.os.isPc?"pc":"mobile"}}),Object.defineProperty(c,"browser",{get:function(){let e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter(n=>t[n].test(e)))[0]||""}}),Object.defineProperty(c,"os",{get:function(){let e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,i=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),r=/(?:iPad|PlayBook)/.test(e)||i&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!r;return{isTablet:r,isPhone:a,isAndroid:i,isPc:!(a||i||n||r),isSymbian:n,isWindowsPhone:t,isFireFox:o}}});var f=c;n(0);var u={name:"s_definition",method:function(){let e,t=this,n=t.root,i=o("xg-definition","",{tabindex:3},"xgplayer-definition");function c(){let e=t.definitionList,o=["<ul>"],r=t.config.url,l=document.createElement("a");t.switchURL?["mp4","hls","__flv__","dash"].every(e=>!t[e]||(t[e].url&&(l.href=t[e].url),"__flv__"===e&&(t[e]._options?l.href=t[e]._options.url:l.href=t[e]._mediaDataSource.url),"hls"===e&&(l.href=t[e].originUrl||t[e].url,r=l.href),r=l.href,!1)):r=t.currentSrc||t.src,e.forEach(e=>{l.href=e.url,t.dash?o.push(`<li url='${e.url}' cname='${e.name}' class='${e.selected?"selected":""}'>${e.name}</li>`):o.push(`<li url='${e.url}' cname='${e.name}' class='${l.href===r?"selected":""}'>${e.name}</li>`)});let s=e.filter(e=>(l.href=e.url,t.dash?!0===e.selected:l.href===r));o.push(`</ul><p class='name'>${(s[0]||{name:""}).name}</p>`);let c=n.querySelector(".xgplayer-definition");if(c){c.innerHTML=o.join("");let e=c.querySelector(".name");t.config.definitionActive&&"hover"!==t.config.definitionActive||e.addEventListener("mouseenter",e=>{e.preventDefault(),e.stopPropagation(),a(t.root,"xgplayer-definition-active"),c.focus()})}else{i.innerHTML=o.join("");let e=i.querySelector(".name");t.config.definitionActive&&"hover"!==t.config.definitionActive||e.addEventListener("mouseenter",e=>{e.preventDefault(),e.stopPropagation(),a(t.root,"xgplayer-definition-active"),i.focus()}),t.controls.appendChild(i)}}function u(e){t.definitionList=e,e&&e instanceof Array&&e.length>1&&(a(n,"xgplayer-is-definition"),t.once("canplay",c))}function d(){if(t.currentTime=t.curTime,!e){let e=t.play();void 0!==e&&e&&e.catch(e=>{})}}function p(){t.once("timeupdate",d)}function g(){l(n,"xgplayer-definition-active")}"mobile"===f.device&&(t.config.definitionActive="click"),t.on("resourceReady",u),["touchend","click"].forEach(n=>{i.addEventListener(n,(function(n){n.preventDefault(),n.stopPropagation();let o=t.definitionList,c=n.target||n.srcElement,u=document.createElement("a");if(c&&"li"===c.tagName.toLocaleLowerCase()){let n,i;if(Array.prototype.forEach.call(c.parentNode.childNodes,e=>{r(e,"selected")&&(n=e.getAttribute("cname"),l(e,"selected"),t.emit("beforeDefinitionChange",e.getAttribute("url")))}),t.dash&&o.forEach(e=>{e.selected=!1,e.name===c.innerHTML&&(e.selected=!0)}),a(c,"selected"),i=c.getAttribute("cname"),c.parentNode.nextSibling.innerHTML=""+c.getAttribute("cname"),u.href=c.getAttribute("url"),t.switchURL){let e=document.createElement("a");["mp4","hls","__flv__","dash"].every(n=>!t[n]||(t[n].url&&(e.href=t[n].url),"__flv__"===n&&(t[n]._options?e.href=t[n]._options.url:e.href=t[n]._mediaDataSource.url),"hls"===n&&(e.href=t[n].originUrl||t[n].url),!1)),e.href===u.href||t.ended||t.switchURL(u.href)}else{if(t.hls){let e=document.createElement("a");e=t.hls.url}u.href!==t.currentSrc&&(t.curTime=t.currentTime,e=t.paused,t.ended||(t.src=u.href,navigator.userAgent.toLowerCase().indexOf("android")>-1?t.once("timeupdate",p):t.once("playing",d)))}t.emit("definitionChange",{from:n,to:i}),"mobile"===f.device&&l(t.root,"xgplayer-definition-active")}else"click"!==t.config.definitionActive||!c||"p"!==c.tagName.toLocaleLowerCase()&&"em"!==c.tagName.toLocaleLowerCase()||("mobile"===f.device?s(t.root,"xgplayer-definition-active"):a(t.root,"xgplayer-definition-active"),i.focus());t.emit("focus")}),!1)}),i.addEventListener("mouseleave",e=>{e.preventDefault(),e.stopPropagation(),l(n,"xgplayer-definition-active")}),t.on("blur",g),t.once("destroy",(function e(){t.off("resourceReady",u),t.off("canplay",c),navigator.userAgent.toLowerCase().indexOf("android")>-1?(t.off("timeupdate",p),t.off("timeupdate",d)):t.off("playing",d),t.off("blur",g),t.off("destroy",e)}))}};t.default={name:"definition",method:function(){i.method.call(this),u.method.call(this)}}}])}));