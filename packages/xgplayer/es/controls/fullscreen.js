!function(e,l){"object"==typeof exports&&"object"==typeof module?module.exports=l():"function"==typeof define&&define.amd?define([],l):"object"==typeof exports?exports.fullscreen=l():(e.xgplayer=e.xgplayer||{},e.xgplayer.PlayerControls=e.xgplayer.PlayerControls||{},e.xgplayer.PlayerControls.fullscreen=l())}(window,(function(){return function(e){var l={};function t(r){if(l[r])return l[r].exports;var n=l[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=l,t.d=function(e,l,r){t.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,l){if(1&l&&(e=t(e)),8&l)return e;if(4&l&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&l&&"string"!=typeof e)for(var n in e)t.d(r,n,function(l){return e[l]}.bind(null,n));return r},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},t.p="",t(t.s=4)}([function(e,l,t){var r=t(1),n=t(3),s="string"==typeof r?[[e.i,r,""]]:r;(l=e.exports=r.locals||{})._getContent=function(){return s},l._getCss=function(){return""+r},l._insertCss=function(e){return n(s,e)}},function(e,l,t){(e.exports=t(2)(!1)).push([e.i,".xgplayer-skin-default .xgplayer-fullscreen,.xgplayer-skin-default .xgplayer-fullscreen-img{position:relative;-webkit-order:13;-moz-box-ordinal-group:14;order:13;display:block;cursor:pointer;margin-left:5px;margin-right:3px}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon{margin-top:3px}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon div,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon div{position:absolute}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull{display:block}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull{display:none}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips{position:absolute;right:0;left:auto}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull{display:block}.xgplayer-skin-default .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull{display:none}.xgplayer-skin-default .xgplayer-fullscreen-img:hover,.xgplayer-skin-default .xgplayer-fullscreen:hover{opacity:.85}.xgplayer-skin-default .xgplayer-fullscreen-img:hover .xgplayer-tips,.xgplayer-skin-default .xgplayer-fullscreen:hover .xgplayer-tips{display:block}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-requestfull{display:none}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-icon .xgplayer-icon-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-icon .xgplayer-icon-exitfull{display:block}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-requestfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-requestfull{display:none}.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-is-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen-img .xgplayer-tips .xgplayer-tip-exitfull,.xgplayer-skin-default.xgplayer-rotate-fullscreen .xgplayer-fullscreen .xgplayer-tips .xgplayer-tip-exitfull{display:block}",""])},function(e,l){e.exports=function(e){var l=[];return l.toString=function(){return this.map((function(l){var t=function(e,l){var t=e[1]||"",r=e[3];if(!r)return t;if(l&&"function"==typeof btoa){var n=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[t].concat(s).concat([n]).join("\n")}var a;return[t].join("\n")}(l,e);return l[2]?"@media "+l[2]+"{"+t+"}":t})).join("")},l.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(r[s]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),l.push(a))}},l}},function(e,l,t){"use strict";
/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */var r={};function n(e){e.forEach((function(e){if(--r[e]<=0){var l=document.getElementById(e);l&&l.parentNode.removeChild(l)}}))}e.exports=function(e,l){for(var t,s=void 0===l?{}:l,a=s.replace,i=void 0!==a&&a,u=s.prepend,c=void 0!==u&&u,o=s.prefix,p=void 0===o?"s":o,f=[],g=0;g<e.length;g++){var x=e[g],y=x[0],d=x[1],m=x[2],h=x[3],v=""+p+y+"-"+g;if(f.push(v),!r[v]||i){r[v]=1;var k=document.getElementById(v),b=!1;k||(b=!0,(k=document.createElement("style")).setAttribute("type","text/css"),k.id=v,m&&k.setAttribute("media",m));var F=d;h&&"function"==typeof btoa&&(F+="\n/*# sourceMappingURL=data:application/json;base64,"+(t=JSON.stringify(h),btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,l){return String.fromCharCode("0x"+l)})))+"*/"),F+="\n/*# sourceURL="+h.file+"?"+v+"*/"),"textContent"in k?k.textContent=F:k.styleSheet.cssText=F,b&&(c?document.head.insertBefore(k,document.head.childNodes[0]):document.head.appendChild(k))}else r[v]++}return n.bind(null,f)}},function(e,l,t){"use strict";t.r(l);function r(e="div",l="",t={},r=""){let n=document.createElement(e);return n.className=r,n.innerHTML=l,Object.keys(t).forEach(l=>{let r=l,s=t[l];"video"===e||"audio"===e?s&&n.setAttribute(r,s):n.setAttribute(r,s)}),n}function n(e,l){return!!e&&(e.classList?Array.prototype.some.call(e.classList,e=>e===l):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+l+"(\\s|$)")))}function s(e,l){e&&(e.classList?l.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(l=>{l&&e.classList.add(l)}):n(e,l)||(e.className+=" "+l))}function a(e,l){e&&(e.classList?l.split(/\s+/g).forEach(l=>{e.classList.remove(l)}):n(e,l)&&l.split(/\s+/g).forEach(l=>{let t=new RegExp("(\\s|^)"+l+"(\\s|$)");e.className=e.className.replace(t," ")}))}function i(e,l,t,n){let s=r("xg-"+e,"",{},`xgplayer-${e}-img`);if(s.style.backgroundImage=`url("${l}")`,t&&n){let l,r,a;["px","rem","em","pt","dp","vw","vh","vm","%"].every(e=>!(t.indexOf(e)>-1&&n.indexOf(e)>-1)||(l=Number(t.slice(0,t.indexOf(e)).trim()),r=Number(n.slice(0,n.indexOf(e)).trim()),a=e,!1)),s.style.width=`${l}${a}`,s.style.height=`${r}${a}`,s.style.backgroundSize=`${l}${a} ${r}${a}`,s.style.margin="start"===e?`-${r/2}${a} auto auto -${l/2}${a}`:"auto 5px auto 5px"}return s}var u={name:"fullscreen",method:function(){let e=this,l=e.root;function t(){e.config.rotateFullscreen?n(l,"xgplayer-rotate-fullscreen")?e.exitRotateFullscreen():e.getRotateFullscreen():n(l,"xgplayer-is-fullscreen")?e.exitFullscreen(l):e.getFullscreen(l)}function r(){let t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t===l?(s(l,"xgplayer-is-fullscreen"),e.emit("requestFullscreen")):n(l,"xgplayer-is-fullscreen")&&(a(l,"xgplayer-is-fullscreen"),e.emit("exitFullscreen")),e.danmu&&"function"==typeof e.danmu.resize&&e.danmu.resize()}e.on("fullscreenBtnClick",t),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(e=>{document.addEventListener(e,r)}),e.video.addEventListener("webkitbeginfullscreen",(function(){s(l,"xgplayer-is-fullscreen"),e.emit("requestFullscreen")})),e.video.addEventListener("webkitendfullscreen",(function(){a(l,"xgplayer-is-fullscreen"),e.emit("exitFullscreen")})),e.once("destroy",(function l(){e.off("fullscreenBtnClick",t),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(e=>{document.removeEventListener(e,r)}),e.off("destroy",l)})),e.getFullscreen=function(e){let l=this;if(e.requestFullscreen){let t=e.requestFullscreen();t&&t.catch((function(){l.emit("fullscreen error")}))}else e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):l.video.webkitSupportsFullscreen?l.video.webkitEnterFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():s(e,"xgplayer-is-cssfullscreen")},e.exitFullscreen=function(e){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),a(e,"xgplayer-is-cssfullscreen")},e.getRotateFullscreen=function(){let e=this;document.documentElement.style.width="100%",document.documentElement.style.height="100%",e.root&&!n(e.root,"xgplayer-rotate-fullscreen")&&s(e.root,"xgplayer-rotate-fullscreen"),e.emit("getRotateFullscreen")},e.exitRotateFullscreen=function(){let e=this;document.documentElement.style.width="unset",document.documentElement.style.height="unset",e.root&&n(e.root,"xgplayer-rotate-fullscreen")&&a(e.root,"xgplayer-rotate-fullscreen"),e.emit("exitRotateFullscreen")}}};t(0);var c={name:"s_fullscreen",method:function(){let e,l=this,t=l.config.fullscreenBtn?l.config.fullscreenBtn:{};e="img"===t.type?i("fullscreen",t.url.request,t.width,t.height):r("xg-fullscreen",'<xg-icon class="xgplayer-icon">\n                                             <div class="xgplayer-icon-requestfull"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n</div>\n                                             <div class="xgplayer-icon-exitfull"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">\n  <path transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n</div>\n                                           </xg-icon>',{},"xgplayer-fullscreen");let n={};n.requestfull=l.lang.FULLSCREEN_TIPS,n.exitfull=l.lang.EXITFULLSCREEN_TIPS;let s=r("xg-tips",`<span class="xgplayer-tip-requestfull">${n.requestfull}</span>\n                                        <span class="xgplayer-tip-exitfull">${n.exitfull}</span>`,{},"xgplayer-tips");e.appendChild(s),l.once("ready",()=>{l.controls&&l.controls.appendChild(e)}),["click","touchend"].forEach(t=>{e.addEventListener(t,(function(e){e.preventDefault(),e.stopPropagation(),l.userGestureTrigEvent("fullscreenBtnClick")}))})}};l.default={name:"fullscreen",method:function(){u.method.call(this),c.method.call(this)}}}])}));