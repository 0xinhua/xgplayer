!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.playbackRate=t():(e.xgplayer=e.xgplayer||{},e.xgplayer.PlayerControls=e.xgplayer.PlayerControls||{},e.xgplayer.PlayerControls.playbackRate=t())}(window,(function(){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,a){var r=a(1),o=a(3),n="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return n},t._getCss=function(){return""+r},t._insertCss=function(e){return o(n,e)}},function(e,t,a){(e.exports=a(2)(!1)).push([e.i,".xgplayer-skin-default .xgplayer-playbackrate{-webkit-order:8;-moz-box-ordinal-group:9;order:8;width:60px;height:150px;z-index:18;position:relative;display:inline-block;cursor:default;margin-top:-119px}.xgplayer-skin-default .xgplayer-playbackrate ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);text-align:left;white-space:nowrap;z-index:26;cursor:pointer}.xgplayer-skin-default .xgplayer-playbackrate ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);position:relative;padding:4px 0;text-align:center}.xgplayer-skin-default .xgplayer-playbackrate ul li.selected,.xgplayer-skin-default .xgplayer-playbackrate ul li:hover{color:#fff;opacity:1}.xgplayer-skin-default .xgplayer-playbackrate ul li:first-child{position:relative;margin-top:12px}.xgplayer-skin-default .xgplayer-playbackrate ul li:last-child{position:relative;margin-bottom:12px}.xgplayer-skin-default .xgplayer-playbackrate .name{width:60px;height:20px;position:absolute;bottom:0;text-align:center;font-family:PingFangSC-Regular;font-size:13px;background:rgba(0,0,0,.38);color:hsla(0,0%,100%,.8);border-radius:10px;line-height:20px}.xgplayer-skin-default .xgplayer-playbackrate span{position:relative;top:19px;font-weight:700;text-shadow:0 0 4px rgba(0,0,0,.6)}.xgplayer-skin-default .xgplayer-playbackrate:hover{opacity:1}.xgplayer-skin-default.xgplayer-playbackrate-active .xgplayer-playbackrate ul{display:block}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",r=e[3];if(!r)return a;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),n=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[a].concat(n).concat([o]).join("\n")}var i;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(r[n]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),t.push(i))}},t}},function(e,t,a){"use strict";
/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */var r={};function o(e){e.forEach((function(e){if(--r[e]<=0){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}}))}e.exports=function(e,t){for(var a,n=void 0===t?{}:t,i=n.replace,l=void 0!==i&&i,c=n.prepend,s=void 0!==c&&c,p=n.prefix,u=void 0===p?"s":p,f=[],d=0;d<e.length;d++){var y=e[d],g=y[0],b=y[1],x=y[2],m=y[3],v=""+u+g+"-"+d;if(f.push(v),!r[v]||l){r[v]=1;var k=document.getElementById(v),h=!1;k||(h=!0,(k=document.createElement("style")).setAttribute("type","text/css"),k.id=v,x&&k.setAttribute("media",x));var R=b;m&&"function"==typeof btoa&&(R+="\n/*# sourceMappingURL=data:application/json;base64,"+(a=JSON.stringify(m),btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))+"*/"),R+="\n/*# sourceURL="+m.file+"?"+v+"*/"),"textContent"in k?k.textContent=R:k.styleSheet.cssText=R,h&&(s?document.head.insertBefore(k,document.head.childNodes[0]):document.head.appendChild(k))}else r[v]++}return o.bind(null,f)}},function(e,t,a){"use strict";a.r(t);function r(e="div",t="",a={},r=""){let o=document.createElement(e);return o.className=r,o.innerHTML=t,Object.keys(a).forEach(t=>{let r=t,n=a[t];"video"===e||"audio"===e?n&&o.setAttribute(r,n):o.setAttribute(r,n)}),o}function o(e,t){return!!e&&(e.classList?Array.prototype.some.call(e.classList,e=>e===t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")))}function n(e,t){e&&(e.classList?t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(t=>{t&&e.classList.add(t)}):o(e,t)||(e.className+=" "+t))}function i(e,t){e&&(e.classList?t.split(/\s+/g).forEach(t=>{e.classList.remove(t)}):o(e,t)&&t.split(/\s+/g).forEach(t=>{let a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}))}function l(e,t){e&&t.split(/\s+/g).forEach(t=>{o(e,t)?i(e,t):n(e,t)})}let c={};Object.defineProperty(c,"device",{get:function(){return c.os.isPc?"pc":"mobile"}}),Object.defineProperty(c,"browser",{get:function(){let e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter(a=>t[a].test(e)))[0]||""}}),Object.defineProperty(c,"os",{get:function(){let e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),a=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),n=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),i=/(?:iPhone)/.test(e)&&!n;return{isTablet:n,isPhone:i,isAndroid:r,isPc:!(i||r||a||n),isSymbian:a,isWindowsPhone:t,isFireFox:o}}});var s=c;a(0);var p={name:"s_playbackRate",method:function(){let e=this,t=[];if(!e.config.playbackRate)return!1;t=[].concat(e.config.playbackRate),t.sort((e,t)=>t-e);let a=void 0!==e.config.playbackRateUnit?e.config.playbackRateUnit:"x",c=r("xg-playbackrate"," ",{},"xgplayer-playbackrate");"mobile"===s.device&&(e.config.playbackRateActive="click");let p=[];t.forEach(e=>{p.push({name:""+e,rate:`${e}${a}`,selected:!1})});let u=1,f=["<ul>"];p.forEach(t=>{e.config.defaultPlaybackRate&&e.config.defaultPlaybackRate.toString()===t.name?(t.selected=!0,u=e.config.defaultPlaybackRate,e.once("playing",()=>{e.video.playbackRate=e.config.defaultPlaybackRate})):"1.0"!==t.name&&"1"!==t.name||e.config.defaultPlaybackRate&&1!==e.config.defaultPlaybackRate||(t.selected=!0),f.push(`<li cname='${t.name}' class='${t.selected?"selected":""}'>${t.rate}</li>`)}),f.push(`</ul><p class='name'>${u}${a}</p>`);let d=e.root.querySelector(".xgplayer-playbackrate");if(d){d.innerHTML=f.join("");let t=d.querySelector(".name");e.config.playbackRateActive&&"hover"!==e.config.playbackRateActive||t.addEventListener("mouseenter",t=>{t.preventDefault(),t.stopPropagation(),n(e.root,"xgplayer-playbackrate-active"),d.focus()})}else{c.innerHTML=f.join("");let t=c.querySelector(".name");e.config.playbackRateActive&&"hover"!==e.config.playbackRateActive||t.addEventListener("mouseenter",t=>{t.preventDefault(),t.stopPropagation(),n(e.root,"xgplayer-playbackrate-active"),c.focus()}),e.once("ready",()=>{e.controls.appendChild(c)})}["touchend","click"].forEach(t=>{c.addEventListener(t,t=>{t.stopPropagation(),t.preventDefault();let r=t.target;if(r&&"li"===r.tagName.toLocaleLowerCase()){let t,l;p.forEach(a=>{a.selected=!1,r.textContent.replace(/\s+/g,"")===a.rate&&(Array.prototype.forEach.call(r.parentNode.childNodes,e=>{o(e,"selected")&&(t=Number(e.getAttribute("cname")),i(e,"selected"))}),a.selected=!0,e.video.playbackRate=1*a.name,u=1*a.name)}),n(r,"selected"),l=Number(r.getAttribute("cname")),r.parentNode.nextSibling.innerHTML=`${r.getAttribute("cname")}${a}`,e.emit("playbackrateChange",{from:t,to:l}),"mobile"===s.device&&i(e.root,"xgplayer-playbackrate-active")}else"click"!==e.config.playbackRateActive||!r||"p"!==r.tagName.toLocaleLowerCase()&&"span"!==r.tagName.toLocaleLowerCase()||("mobile"===s.device?l(e.root,"xgplayer-playbackrate-active"):n(e.root,"xgplayer-playbackrate-active"),c.focus());e.emit("focus")},!1)}),c.addEventListener("mouseleave",t=>{t.preventDefault(),t.stopPropagation(),i(e.root,"xgplayer-playbackrate-active")}),e.on("blur",(function(){i(e.root,"xgplayer-playbackrate-active")})),e.on("play",()=>{e.video.playbackRate.toFixed(1)!==u.toFixed(1)&&(e.video.playbackRate=u)})}};t.default={name:"playbackRate",method:function(){p.method.call(this)}}}])}));