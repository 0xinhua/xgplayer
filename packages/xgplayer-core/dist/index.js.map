{"version":3,"file":"index.js","sources":["../../../node_modules/type/value/is.js","../../../node_modules/type/object/is.js","../../../node_modules/type/prototype/is.js","../../../node_modules/type/function/is.js","../../../node_modules/type/plain-function/is.js","../../../node_modules/es5-ext/object/assign/is-implemented.js","../../../node_modules/es5-ext/object/keys/is-implemented.js","../../../node_modules/es5-ext/function/noop.js","../../../node_modules/es5-ext/object/is-value.js","../../../node_modules/es5-ext/object/keys/shim.js","../../../node_modules/es5-ext/object/keys/index.js","../../../node_modules/es5-ext/object/valid-value.js","../../../node_modules/es5-ext/object/assign/shim.js","../../../node_modules/es5-ext/object/assign/index.js","../../../node_modules/es5-ext/object/normalize-options.js","../../../node_modules/es5-ext/string/#/contains/is-implemented.js","../../../node_modules/es5-ext/string/#/contains/shim.js","../../../node_modules/es5-ext/string/#/contains/index.js","../../../node_modules/d/index.js","../../../node_modules/es5-ext/object/valid-callable.js","../../../node_modules/event-emitter/index.js","../src/utils/util.js","../src/error.js","../src/proxy.js","../src/utils/sniffer.js","../src/events.js","../src/pluginsManager/basePlugin.js","../src/pluginsManager/pluginsManager.js","../src/pluginsManager/plugin.js","../src/player.js","../src/index.js"],"sourcesContent":["\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","let util = {}\n\nutil.createDom = function (el = 'div', tpl = '', attrs = {}, cname = '') {\n  let dom = document.createElement(el)\n  dom.className = cname\n  dom.innerHTML = tpl\n  Object.keys(attrs).forEach(item => {\n    let key = item\n    let value = attrs[item]\n    if (el === 'video' || el === 'audio' || el === 'mobile-video') {\n      if (value) {\n        dom.setAttribute(key, value)\n      }\n    } else {\n      dom.setAttribute(key, value)\n    }\n  })\n  return dom\n}\n\nutil.hasClass = function (el, className) {\n  if (!el) {\n    return false;\n  }\n\n  if (el.classList) {\n    return Array.prototype.some.call(el.classList, item => item === className)\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n  }\n}\n\nutil.addClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.replace(/(^\\s+|\\s+$)/g, '').split(/\\s+/g).forEach(item => {\n      item && el.classList.add(item)\n    })\n  } else if (!util.hasClass(el, className)) {\n    el.className += ' ' + className\n  }\n}\n\nutil.removeClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  if (el.classList) {\n    className.split(/\\s+/g).forEach(item => {\n      el.classList.remove(item)\n    })\n  } else if (util.hasClass(el, className)) {\n    className.split(/\\s+/g).forEach(item => {\n      let reg = new RegExp('(\\\\s|^)' + item + '(\\\\s|$)')\n      el.className = el.className.replace(reg, ' ')\n    })\n  }\n}\n\nutil.toggleClass = function (el, className) {\n  if (!el) {\n    return;\n  }\n\n  className.split(/\\s+/g).forEach(item => {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item)\n    } else {\n      util.addClass(el, item)\n    }\n  })\n}\n\nutil.findDom = function (el = document, sel) {\n  let dom\n  // fix querySelector IDs that start with a digit\n  // https://stackoverflow.com/questions/37270787/uncaught-syntaxerror-failed-to-execute-queryselector-on-document\n  try {\n    dom = el.querySelector(sel)\n  } catch (e) {\n    if (sel.indexOf('#') === 0) {\n      dom = el.getElementById(sel.slice(1))\n    }\n  }\n  return dom\n}\n\nutil.padStart = function (str, length, pad) {\n  let charstr = String(pad)\n  let len = length >> 0\n  let maxlen = Math.ceil(len / charstr.length)\n  let chars = []\n  let r = String(str)\n  while (maxlen--) {\n    chars.push(charstr)\n  }\n  return chars.join('').substring(0, len - r.length) + r\n}\n\nutil.format = function (time) {\n  if (window.isNaN(time)) {\n    return ''\n  }\n  let hour = util.padStart(Math.floor(time / 3600), 2, 0)\n  let minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0)\n  let second = util.padStart(Math.floor((time - hour * 3600 - minute * 60)), 2, 0)\n  return (hour === '00' ? [minute, second] : [hour, minute, second]).join(':')\n}\n\nutil.event = function (e) {\n  if (e.touches) {\n    let touch = e.touches[0] || e.changedTouches[0]\n    e.clientX = touch.clientX || 0\n    e.clientY = touch.clientY || 0\n    e.offsetX = touch.pageX - touch.target.offsetLeft\n    e.offsetY = touch.pageY - touch.target.offsetTop\n  }\n  e._target = e.target || e.srcElement\n}\n\nutil.typeOf = function (obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0]\n}\n\nutil.deepCopy = function (dst, src) {\n  if (util.typeOf(src) === 'Object' && util.typeOf(dst) === 'Object') {\n    Object.keys(src).forEach(key => {\n      if (util.typeOf(src[key]) === 'Object' && !(src[key] instanceof Node)) {\n        if (!dst[key]) {\n          dst[key] = src[key]\n        } else {\n          util.deepCopy(dst[key], src[key])\n        }\n      } else if (util.typeOf(src[key]) === 'Array') {\n        dst[key] = util.typeOf(dst[key]) === 'Array' ? dst[key].concat(src[key]) : src[key]\n      } else {\n        dst[key] = src[key]\n      }\n    })\n    return dst\n  }\n}\nutil.getBgImage = function (el) {\n  // fix: return current page url when url is none\n  let url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage\n  if (!url || url === 'none') {\n    return ''\n  }\n  let a = document.createElement('a')\n  a.href = url.replace(/url\\(\"|\"\\)/g, '')\n  return a.href\n}\n\nutil.copyDom = function (dom) {\n  if (dom && dom.nodeType === 1) {\n    let back = document.createElement(dom.tagName)\n    Array.prototype.forEach.call(dom.attributes, (node) => {\n      back.setAttribute(node.name, node.value)\n    })\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML\n    }\n    return back\n  } else {\n    return ''\n  }\n}\n\nutil.setInterval = function (context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = setInterval(intervalFunc.bind(context), frequency)\n  }\n}\n\nutil.clearInterval = function (context, eventName) {\n  clearInterval(context._interval[eventName])\n  context._interval[eventName] = null\n}\n\nutil.createImgBtn = function (name, imgUrl, width, height) {\n  let btn = util.createDom(`xg-${name}`, '', {}, `xgplayer-${name}-img`)\n  btn.style.backgroundImage = `url(\"${imgUrl}\")`\n  if (width && height) {\n    let w, h, unit\n    ['px', 'rem', 'em', 'pt', 'dp', 'vw', 'vh', 'vm', '%'].every((item) => {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim())\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim())\n        unit = item\n        return false\n      } else {\n        return true\n      }\n    })\n    btn.style.width = `${w}${unit}`\n    btn.style.height = `${h}${unit}`\n    btn.style.backgroundSize = `${w}${unit} ${h}${unit}`\n    if (name === 'start') {\n      btn.style.margin = `-${h / 2}${unit} auto auto -${w / 2}${unit}`\n    } else {\n      btn.style.margin = 'auto 5px auto 5px'\n    }\n  }\n  return btn\n}\n\nutil.Hex2RGBA = function (hex, alpha) {\n  let rgb = [] // 定义rgb数组\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    let sixHex = '#'\n    hex.replace(/[0-9A-F]/ig, function (kw) {\n      sixHex += kw + kw\n    })\n    hex = sixHex\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function (kw) {\n      rgb.push(eval('0x' + kw))\n    })\n    return `rgba(${rgb.join(',')}, ${alpha})`\n  } else {\n    return 'rgba(255, 255, 255, 0.1)'\n  }\n}\n\nexport default util\n","import {version} from '../package.json'\nconst ErrorTypes = {\n  network: {\n    code: 1,\n    msg: '视频下载错误',\n    remark: '只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在'\n  },\n  mse: {\n    code: 2,\n    msg: '流追加错误',\n    remark: '追加流的时候如果类型不对、无法被正确解码则会触发此类错误'\n  },\n  parse: {\n    code: 3,\n    msg: '解析错误',\n    remark: 'mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误'\n  },\n  format: {\n    code: 4,\n    msg: '格式错误',\n    remark: '如果浏览器不支持的格式导致播放错误'\n  },\n  decoder: {\n    code: 5,\n    msg: '解码错误',\n    remark: '浏览器解码异常会抛出此类型错误'\n  },\n  runtime: {\n    code: 6,\n    msg: '语法错误',\n    remark: '播放器语法错误'\n  },\n  timeout: {\n    code: 7,\n    msg: '播放超时',\n    remark: '播放过程中无法正常请求下一个分段导致播放中断'\n  },\n  other: {\n    code: 8,\n    msg: '其他错误',\n    remark: '不可知的错误或被忽略的错误类型'\n  }\n}\n\nclass Errors {\n  constructor (type, currentTime, duration, networkState, readyState, src, currentSrc,\nended, errd = {line: '', handle: '', msg: '', version: ''}) {\n    let r = {}\n    r.playerVersion = version // 播放器版本\n    r.errorType = type\n    r.domain = document.domain // domain\n    r.duration = duration // 视频时长\n    r.currentTime = currentTime\n    r.networkState = networkState\n    r.readyState = readyState\n    r.currentSrc = currentSrc\n    r.src = src\n    r.ended = ended\n    r.errd = errd // 错误详情\n    r.ex = (ErrorTypes[type] || {}).msg // 补充信息\n    return r\n  }\n}\n\nexport default Errors\n","import EventEmitter from 'event-emitter'\nimport util from './utils/util'\nimport Errors from './error'\n\nclass Proxy {\n  constructor (options) {\n    this._hasStart = false\n    this.videoConfig = {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      'webkit-playsinline': options.playsinline,\n      'x5-playsinline': options.playsinline,\n      'x5-video-player-type': options['x5-video-player-type'],\n      'x5-video-player-fullscreen': options['x5-video-player-fullscreen'],\n      'x5-video-orientation': options['x5-video-orientation'],\n      airplay: options['airplay'],\n      'webkit-airplay': options['airplay'],\n      tabindex: 2,\n      mediaType: options.mediaType || 'video'\n    }\n    if (options.loop) {\n      this.videoConfig.loop = 'loop'\n    }\n    this.video = util.createDom(this.videoConfig.mediaType, '', this.videoConfig, '')\n    if (options.autoplay) {\n      this.video.autoplay = true\n      if (options.autoplayMuted) {\n        this.video.muted = true\n      }\n    }\n\n    EventEmitter(this)\n  }\n\n  _initEvents () {\n    let lastBuffer = '0,0'\n    this.ev = ['play', 'playing', 'pause', 'ended', 'error', 'seeking', 'seeked',\n      'timeupdate', 'waiting', 'canplay', 'canplaythrough', 'durationchange', 'volumechange', 'loadeddata'\n    ].map((item) => {\n      return {\n        [item]: `on${item.charAt(0).toUpperCase()}${item.slice(1)}`\n      }\n    })\n    this._interval = {}\n    this.ev.forEach(item => {\n      this.evItem = Object.keys(item)[0]\n      let name = Object.keys(item)[0]\n      this.video.addEventListener(Object.keys(item)[0],  () => {\n        if (name === 'error') {\n          if (this.video.error) {\n            this.emit(name, new Errors('other', this.currentTime, this.duration, this.networkState, this.readyState, this.currentSrc, this.src,\n              this.ended, {\n                line: 55,\n                msg: this.error,\n                handle: '_initEvents'\n              }))\n          }\n        } else {\n          this.emit(name, this)\n        }\n\n        if (this.hasOwnProperty('_interval')) {\n          if (['ended', 'error', 'timeupdate'].indexOf(name) < 0) {\n            clearInterval(this._interval['bufferedChange'])\n            util.setInterval(this, 'bufferedChange', function () {\n              let curBuffer = []\n              for (let i = 0, len = this.video.buffered.length; i < len; i++) {\n                curBuffer.push([this.video.buffered.start(i), this.video.buffered.end(i)])\n              }\n              if (curBuffer.toString() !== lastBuffer) {\n                lastBuffer = curBuffer.toString()\n                this.emit('bufferedChange', curBuffer)\n              }\n            }, 200)\n          } else {\n            if (name !== 'timeupdate') {\n              util.clearInterval(this, 'bufferedChange')\n            }\n          }\n        }\n      }, false)\n    })\n  }\n\n  get hasStart () {\n    return this._hasStart\n  }\n  set hasStart (bool) {\n    if (typeof bool === 'boolean' && bool === true && !this._hasStart) {\n      this._hasStart = true\n      this.emit('hasstart')\n    }\n  }\n  destroy () {\n  }\n  play () {\n    return this.video.play()\n  }\n  pause () {\n    this.video.pause()\n  }\n  canPlayType () {\n    this.video.canPlayType()\n  }\n  getBufferedRange () {\n    let range = [0, 0]\n    let video = this.video\n    let buffered = video.buffered\n    let currentTime = video.currentTime\n    if (buffered) {\n      for (let i = 0, len = buffered.length; i < len; i++) {\n        range[0] = buffered.start(i)\n        range[1] = buffered.end(i)\n        if (range[0] <= currentTime && currentTime <= range[1]) {\n          break\n        }\n      }\n    }\n    if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n      return range\n    } else {\n      return [0, 0]\n    }\n  }\n  set autoplay (isTrue) {\n    this.video.autoplay = isTrue\n  }\n  get autoplay () {\n    return this.video.autoplay\n  }\n  get buffered () {\n    return this.video.buffered\n  }\n  get crossOrigin () {\n    return this.video.crossOrigin\n  }\n  set crossOrigin (isTrue) {\n    this.video.crossOrigin = isTrue\n  }\n  get currentSrc () {\n    return this.video.currentSrc\n  }\n  set currentSrc (src) {\n    this.video.currentSrc = src\n  }\n  get currentTime () {\n    return this.video.currentTime\n  }\n  set currentTime (time) {\n    this.video.currentTime = time\n  }\n  get defaultMuted () {\n    return this.video.defaultMuted\n  }\n  set defaultMuted (isTrue) {\n    this.video.defaultMuted = isTrue\n  }\n  get duration () {\n    return this.video.duration\n  }\n  get ended () {\n    return this.video.ended\n  }\n  get error () {\n    let err = this.video.error\n    if (!err) {\n      return null\n    }\n    let status = [{\n      en: 'MEDIA_ERR_ABORTED',\n      cn: '取回过程被用户中止'\n    }, {\n      en: 'MEDIA_ERR_NETWORK',\n      cn: '当下载时发生错误'\n    }, {\n      en: 'MEDIA_ERR_DECODE',\n      cn: '当解码时发生错误'\n    }, {\n      en: 'MEDIA_ERR_SRC_NOT_SUPPORTED',\n      cn: '不支持音频/视频'\n    }]\n    return this.lang ? this.lang[status[err.code - 1].en] : status[err.code - 1].en\n  }\n  get loop () {\n    return this.video.loop\n  }\n  set loop (isTrue) {\n    this.video.loop = isTrue\n  }\n  get muted () {\n    return this.video.muted\n  }\n  set muted (isTrue) {\n    this.video.muted = isTrue\n  }\n  get networkState () {\n    let status = [{\n      en: 'NETWORK_EMPTY',\n      cn: '音频/视频尚未初始化'\n    }, {\n      en: 'NETWORK_IDLE',\n      cn: '音频/视频是活动的且已选取资源，但并未使用网络'\n    }, {\n      en: 'NETWORK_LOADING',\n      cn: '浏览器正在下载数据'\n    }, {\n      en: 'NETWORK_NO_SOURCE',\n      cn: '未找到音频/视频来源'\n    }]\n    return this.lang ? this.lang[status[this.video.networkState].en] : status[this.video.networkState].en\n  }\n  get paused () {\n    return this.video.paused\n  }\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n  get played () {\n    return this.video.played\n  }\n  get preload () {\n    return this.video.preload\n  }\n  set preload (isTrue) {\n    this.video.preload = isTrue\n  }\n  get readyState () {\n    let status = [{\n      en: 'HAVE_NOTHING',\n      cn: '没有关于音频/视频是否就绪的信息'\n    }, {\n      en: 'HAVE_METADATA',\n      cn: '关于音频/视频就绪的元数据'\n    }, {\n      en: 'HAVE_CURRENT_DATA',\n      cn: '关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒'\n    }, {\n      en: 'HAVE_FUTURE_DATA',\n      cn: '当前及至少下一帧的数据是可用的'\n    }, {\n      en: 'HAVE_ENOUGH_DATA',\n      cn: '可用数据足以开始播放'\n    }]\n    return this.lang ? this.lang[status[this.video.readyState].en] : status[this.video.readyState]\n  }\n  get seekable () {\n    return this.video.seekable\n  }\n  get seeking () {\n    return this.video.seeking\n  }\n  get src () {\n    return this.video.src\n  }\n  set src (url) {\n    if (!util.hasClass(this.root, 'xgplayer-ended')) {\n      this.emit('urlchange', url)\n    }\n    this.video.pause()\n    this.video.src = url\n  }\n  get volume () {\n    return this.video.volume\n  }\n  set volume (vol) {\n    this.video.volume = vol\n  }\n}\n\nexport default Proxy\n","let sniffer = {\n  get device () {\n    let r = sniffer.os\n    return r.isPc ? 'pc' : 'mobile'\n    // return r.isPc ? 'pc' : r.isTablet ? 'tablet' : 'mobile'\n  },\n  get browser () {\n    let ua = navigator.userAgent.toLowerCase()\n    let reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firfox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    }\n    return [].concat(Object.keys(reg).filter(key => reg[key].test(ua)))[0]\n  },\n  get os () {\n    let ua = navigator.userAgent\n    let isWindowsPhone = /(?:Windows Phone)/.test(ua)\n    let isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone\n    let isAndroid = /(?:Android)/.test(ua)\n    let isFireFox = /(?:Firefox)/.test(ua)\n    let isTablet = /(?:iPad|PlayBook)/.test(ua) || (isAndroid && !/(?:Mobile)/.test(ua)) || (isFireFox && /(?:Tablet)/.test(ua))\n    let isPhone = /(?:iPhone)/.test(ua) && !isTablet\n    let isPc = !isPhone && !isAndroid && !isSymbian && !isTablet\n    return {\n      isTablet,\n      isPhone,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    }\n  }\n}\n\nexport default sniffer\n","export const PLAY = 'play'\nexport const PLAYING = 'playing'\nexport const ENDED = 'ended'\nexport const PAUSE = 'pause'\nexport const ERROR = 'error'\nexport const SEEKING = 'seeking'\nexport const SEEKED = 'seeked'\nexport const TIME_UPDATE = 'timeupdate'\nexport const WAITING = 'waiting'\nexport const CANPLAY = 'canplay'\nexport const CANPLAY_THROUGH = 'canplaythrough'\nexport const DURATION_CHANGE = 'durationchange'\nexport const VOLUME_CHANGE = 'volumechange'\nexport const LOADED_DATA = 'loadeddata'\n\n// player events\nexport const BUFFER_CHANGE = 'bufferedChange'\nexport const PLAYER_FOCUS = 'focus'\nexport const PLAYER_BLUR = 'blur'\nexport const READY = 'ready'\nexport const URL_NULL = 'urlNull'\nexport const AUTOPLAY_STARTED = 'autoplay_started'\nexport const AUTOPLAY_PREVENTED = 'autoplay_was_prevented'\nexport const COMPLETE = 'complete'\nexport const DESTROY = 'destroy'\n","import Util from '../utils/util'\nimport Sniffer from '../utils/sniffer'\nimport Errors from '../error'\nimport * as event from '../events'\n\nclass BasePlugin {\n  static defineGetterOrSetter (Obj, map) {\n    for (const key in map) {\n      Object.defineProperty(Obj, key, map[key])\n    }\n  }\n\n  constructor (args) {\n    this.__args = args\n    this.__events = {} // 对player的事件监听缓存\n    this.config = args.config || {}\n    if (Util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate()\n    }\n    this.__init(args)\n    if (Util.checkIsFunction(this.afterCreate)) {\n      this.afterCreate()\n    }\n  }\n\n  __init (args) {\n    BasePlugin.defineGetterOrSetter(this, {\n      'player': {\n        get: () => {\n          return args.player\n        }\n      },\n      'playerConfig': {\n        get: () => {\n          return args.player && args.player.config\n        }\n      },\n      'pluginName': {\n        get: () => {\n          if (args.pluginName) {\n            return args.pluginName\n          } else {\n            return this.constructor.pluginName\n          }\n        }\n      },\n      'root': {\n        get: () => {\n          return args.player.root\n        }\n      }\n    })\n  }\n\n  on (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = callback\n      this.player.on(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = callback\n        this.player.on(item, callback)\n      })\n    }\n  }\n\n  once (event, callback) {\n    this.player.once(event, callback)\n  }\n\n  off (event, callback) {\n    if (typeof event === 'string') {\n      this.__events[event] = undefined\n      this.player.off(event, callback)\n    } else if (Array.isArray(event)) {\n      event.forEach((item) => {\n        this.__events[item] = undefined\n        this.player.off(item, callback)\n      })\n    }\n  }\n\n  offAll () {\n    for (const item of Object.keys(this.__events)) {\n      this.off(item, this.__events[item])\n    }\n  }\n\n  emit (event, res) {\n    this.player.emit(event, res)\n  }\n\n  _destroy () {\n    this.offAll()\n    if (Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n  }\n}\n\nBasePlugin.Util = Util\nBasePlugin.Sniffer = Sniffer\nBasePlugin.Errors = Errors\nBasePlugin.Event = event\nexport default BasePlugin\n","/**\n* a plugins manager to register and search\n**/\nconst pluginsManager = {\n  init (player) {\n    // 标记每一个播放器实例\n    let cgid = player._pluginInfoId\n    if (!cgid) {\n      cgid = new Date().getTime()\n      player._pluginInfoId = cgid\n    }\n    if (!this.pluginGroup) {\n      this.pluginGroup = {}\n    }\n    this.pluginGroup[cgid] = {\n      '_player': player,\n      '_originalOptions': player.config || {}\n    }\n  },\n  /**\n  * register a Plugin\n  * @param { object } player the plugins install\n  * @param { function } plugin the plugin contructor\n  * @param { object } options the plugin configuration\n  * @return { object } Plugin the plugin instance\n  **/\n  register (player, plugin, options = {}) {\n    if (!player || !plugin || typeof plugin !== 'function' || plugin.prototype === undefined) {\n      return\n    }\n    let cgid = player._pluginInfoId\n    if (!cgid || !this.pluginGroup || !this.pluginGroup[cgid]) {\n      this.init(player)\n      cgid = player._pluginInfoId\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = []\n    }\n    const plugins = this.pluginGroup[cgid]._plugins\n    const originalOptions = this.pluginGroup[cgid]._originalOptions\n    options.player = this.pluginGroup[cgid]._player\n    console.log('plugin.pluginName', plugin.pluginName)\n    const pluginName = options.pluginName || plugin.pluginName\n    if (!pluginName) {\n      throw new Error('The property pluginName is necessary')\n    }\n    for (const item of Object.keys(originalOptions)) {\n      if (pluginName.toLowerCase() === item.toLowerCase()) {\n        options.config = originalOptions[item]\n      } else {\n        options.config = {}\n      }\n    }\n    if (!options.root) {\n      options.root = player.root\n    }\n    try { // eslint-disable-next-line new-cap\n      const _instance = new plugin(options)\n      plugins[pluginName.toLowerCase()] = _instance\n      plugins[pluginName.toLowerCase()].func = plugin\n      return _instance\n    } catch (err) {\n      console.error(err)\n      throw (err)\n    }\n  },\n\n  unRegister (cgid, name) {\n    try {\n      this.pluginGroup[cgid]._plugins[name]._destroy()\n      this.pluginGroup[cgid]._plugins[name] = null\n    } catch (e) {\n      this.pluginGroup[cgid]._plugins[name] = null\n    }\n  },\n\n  /**\n   * get all plugin instance of player\n   * @param {*} player\n   */\n  getPlugins (player) {\n    const cgid = player._pluginInfoId\n    return cgid ? this.pluginGroup[cgid]._plugins : {}\n  },\n\n  findPlugin (player, name) {\n    if (!this.pluginGroup) {\n      return null;\n    }\n    const cgid = player._pluginInfoId\n    const cName = name.toLowerCase()\n    return this.pluginGroup[cgid]._plugins[cName]\n  },\n\n  beforeInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].beforePlayerInit) {\n        plugins[item].beforePlayerInit()\n      }\n    }\n  },\n\n  afterInit (player) {\n    if (!this.pluginGroup) {\n      return;\n    }\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      if (plugins[item] && plugins[item].afterPlayerInit) {\n        plugins[item].afterPlayerInit()\n      }\n    }\n  },\n\n  reRender (player) {\n    const cgid = player._pluginInfoId\n    const pluginsMap = {}\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      pluginsMap[item] = {\n        plugin: plugins[item].func,\n        options: plugins[item]._args\n      }\n      this.unRegister(cgid, item)\n    }\n    for (const item of Object.keys(pluginsMap)) {\n      this.register(cgid, item, pluginsMap[item].plugin, pluginsMap[item].options)\n    }\n  },\n\n  destroy (player) {\n    const cgid = player._pluginInfoId\n    const plugins = this.pluginGroup[cgid]._plugins\n    for (const item of Object.keys(plugins)) {\n      this.unRegister(cgid, item)\n    }\n    delete this.pluginGroup[cgid]\n  }\n}\n\nwindow.pluginsManager = pluginsManager\n\nexport default pluginsManager\n","/**\n* an ui Plugin class\n*\n**/\nimport delegate from 'delegate-events'\nimport pluginsManager from './pluginsManager'\nimport BasePlugin from './basePlugin'\n\nfunction _createElement (tag, name) {\n  const dom = document.createElement(tag)\n  dom.name = name\n  return dom\n}\n/**\n * 插入dom结构\n * @param {String} html html字符串\n * @param {DocumentElemebt } parent\n * @param {*} index\n */\nfunction insert (html, parent, index) {\n  const len = parent.children.length\n  const insertIdx = parseInt(index)\n  if (typeof index === 'undefined' || len <= insertIdx) {\n    parent.insertAdjacentHTML('beforeend', html)\n    return parent.children[parent.children.length - 1]\n  } else if (insertIdx === 0) {\n    parent.insertAdjacentHTML('afterbegin', html)\n    return parent.children[0]\n  }\n  const el = parent.children[insertIdx]\n  if (el && el.insertAdjacentHTML) {\n    el.insertAdjacentHTML('beforebegin', html)\n    return parent.children[insertIdx]\n  }\n}\n\nfunction registerIconsObj (iconsConfig, plugin) {\n  Object.keys(iconsConfig).map((iconKey) => {\n    Object.defineProperty(plugin.icons, iconKey, {\n      get: () => {\n        const _icons = plugin.config.icons || plugin.playerConfig.icons\n        if (_icons && _icons[iconKey]) {\n          return _icons[iconKey]\n        } else {\n          return iconsConfig[iconKey]\n        }\n      }\n    })\n  })\n}\n\nfunction registerTextObj (textConfig, plugin) {\n  Object.keys(textConfig).map((key) => {\n    Object.defineProperty(plugin.text, key, {\n      get: () => {\n        const lang = plugin.playerConfig.lang || 'zh'\n        console.log(textConfig[key][lang])\n        return textConfig[key][lang]\n      }\n    })\n  })\n}\n\nexport default class Plugin extends BasePlugin {\n  constructor (args = {}) {\n    super(args)\n  }\n\n  __init (args) {\n    super.__init(args)\n    let _parent = args.root\n    let _el = null\n    this.icons = {}\n    const defaultIcons = this.registerIcons() || {}\n    registerIconsObj(defaultIcons, this)\n\n    this.text = {}\n    const defaultTexConfig = this.registerLangauageTexts() || {}\n    console.log('registerLangauageTexts', defaultTexConfig)\n    registerTextObj(defaultTexConfig, this)\n    let renderStr = ''\n    try {\n      renderStr = this.render()\n    } catch (e) {\n      throw (new Error(`Plugin:${this.pluginName}:render:${e.message}`))\n    }\n\n    if (renderStr) {\n      _el = insert(renderStr, _parent, args.index)\n    } else if (args.tag) {\n      _el = _createElement(args.tag, args.name)\n      _parent.appendChild(_el)\n    }\n\n    Plugin.defineGetterOrSetter(this, {\n      'el': {\n        get: () => {\n          return _el\n        }\n      },\n      'parent': {\n        get: () => {\n          return _parent\n        }\n      }\n    })\n\n    const attr = this.config.attr || {}\n    const style = this.config.style || {}\n\n    this.setAttr(attr)\n    this.setStyle(style)\n    this.__registeChildren()\n  }\n\n  __registeChildren () {\n    const children = this.children()\n    if (children && typeof children === 'object') {\n      if (!this._children) {\n        this._children = []\n      }\n      if (Object.keys(children).length > 0) {\n        for (const item of Object.keys(children)) {\n          const name = item\n          const c = this._registerPlugin(name, children[item], this.config[name])\n          this._children.push(c)\n        }\n      }\n    }\n  }\n\n  plugins () {\n    return this._children\n  }\n\n  children () {\n    return {}\n  }\n\n  _registerPlugin (name, item, options) {\n    const opts = (typeof options === 'object' ? options : {})\n    opts.root = this.el\n    opts.pluginName = name\n    return pluginsManager.register(this.player, item, opts)\n  }\n\n  registerIcons () {\n    return {}\n  }\n\n  registerLangauageTexts () {\n    return {}\n  }\n\n  getPlugin (name) {\n    return pluginsManager.findPlugin(this.player, name)\n  }\n\n  find (qs) {\n    return this.el.querySelector(qs)\n  }\n\n  bind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      this.bindEL(querySelector, eventType)\n    } else if (arguments.length === 3 && typeof callback === 'function') {\n      delegate.bind(this.el, querySelector, eventType, callback, false)\n    }\n  }\n\n  unbind (querySelector, eventType, callback) {\n    // if no querySelector passed to the method\n    if (arguments.length < 3 && typeof eventType === 'function') {\n      this.unbindEL(querySelector, eventType)\n    } else if (typeof callback === 'function') {\n      delegate.ubind(this.el, querySelector, eventType, callback, false)\n    }\n  }\n\n  setStyle (name, value) {\n    if (typeof name === 'string') {\n      this.style[name] = value\n      return (this.el.style[name] = value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.el.style[item] = obj[item]\n      }\n    }\n  }\n\n  setAttr (name, value) {\n    if (typeof name === 'string') {\n      return this.el.setAttribute(name, value)\n    } else if (typeof name === 'object') {\n      const obj = name\n      for (const item of Object.keys(obj)) {\n        this.el.setAttribute(item, obj[item])\n      }\n    }\n  }\n\n  setHtml (htmlStr, callback) {\n    this.el.innerHtml = htmlStr\n    if (typeof callback === 'function') {\n      callback()\n    }\n  }\n\n  bindEL (event, eventHandle, isBubble = false) {\n    if (`on${event}` in this.el && typeof eventHandle === 'function') {\n      this.el.addEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  unbindEL (event, eventHandle, isBubble = false) {\n    if (`on${event}` in this.el && typeof eventHandle === 'function') {\n      this.el.removeEventListener(event, eventHandle, isBubble)\n    }\n  }\n\n  show () {\n    this.el.style.display = ''\n    const cs = window.getComputedStyle(this.el, null)\n    const cssDisplayValue = cs.getPropertyValue('display')\n    if (cssDisplayValue === 'none') {\n      return (this.el.style.display = 'block')\n    }\n  }\n\n  hide () {\n    this.el.style.display = 'none'\n  }\n\n  render () {\n    return ''\n  }\n\n  _destroy () {\n    this.offAll()\n    if (BasePlugin.Util.checkIsFunction(this.destroy)) {\n      this.destroy();\n    }\n    if (this.el) {\n      if (this.el.hasOwnProperty('remove')) {\n        this.el.remove()\n      } else if (this.el.parentNode) {\n        this.el.parentNode.removeChild(this.el)\n      }\n    }\n  }\n}\n","import Proxy from './proxy'\nimport util from './utils/util'\nimport sniffer from './utils/sniffer'\nimport Errors from './error'\nimport pluginsManager, {Plugin, BasePlugin} from './pluginsManager'\nimport {\n  version\n} from '../package.json'\n\nclass Player extends Proxy {\n  constructor (options) {\n    super(options)\n    this.config = util.deepCopy({\n      width: 600,\n      height: 337.5,\n      ignores: [],\n      whitelist: [],\n      lang: (document.documentElement.getAttribute('lang') || navigator.language || 'zh-cn').toLocaleLowerCase(),\n      inactive: 3000,\n      volume: 0.6,\n      controls: true,\n      controlsList: ['nodownload']\n    }, options)\n\n    // timer and flags\n    this.userTimer = null\n    this.waitTimer = null\n    this.isProgressMoving = false\n\n    this._initDOM()\n\n    this.pluginsCall()\n    this._registerPlugins()\n\n    setTimeout(() => {\n      this.emit('ready')\n      this.isReady = true\n    }, 0)\n\n    pluginsManager.beforeInit(this)\n    if (this.config.videoInit) {\n      if (util.hasClass(this.root, 'xgplayer-nostart')) {\n        this.start()\n      }\n    }\n  }\n\n  /**\n   * 注册组件 组件列表config.plugins\n   */\n  _registerPlugins () {\n    const ignores = this.config.ignores || []\n    const plugins = this.config.plugins || []\n    const ignoresStr = ignores.join('||')\n    plugins.map(plugin => {\n      try {\n        // 在ignores中的不做组装\n        if (plugin.pluginName && ignoresStr.indexOf(plugin.pluginName.toLowerCase()) > -1) {\n          return null\n        }\n        return pluginsManager.register(this, plugin)\n      } catch (err) {\n        return null\n      }\n    })\n  }\n\n  register () {\n  }\n\n  unRegister () {}\n\n  /**\n   * init control bar\n   * @private\n   */\n  _initDOM () {\n    this.root = util.findDom(document, `#${this.config.id}`)\n    this.controls = util.createDom('xg-controls', '', {\n      unselectable: 'on',\n      onselectstart: 'return false'\n    }, 'xgplayer-controls')\n    if (!this.root) {\n      let el = this.config.el\n      if (el && el.nodeType === 1) {\n        this.root = el\n      } else {\n        this.emit('error', new Errors('use', this.config.vid, {\n          line: 32,\n          handle: 'Constructor',\n          msg: 'container id can\\'t be empty'\n        }))\n        return false\n      }\n    }\n    // this.rootBackup = util.copyDom(this.root)\n    util.addClass(this.root, `xgplayer xgplayer-${sniffer.device} xgplayer-nostart ${this.config.controls ? '' : 'no-controls'}`)\n    this.root.appendChild(this.controls)\n    if (this.config.fluid) {\n      this.root.style['max-width'] = '100%'\n      this.root.style['width'] = '100%'\n      this.root.style['height'] = '0'\n      this.root.style['padding-top'] = `${this.config.height * 100 / this.config.width}%`\n\n      this.video.style['position'] = 'absolute'\n      this.video.style['top'] = '0'\n      this.video.style['left'] = '0'\n    } else {\n      // this.root.style.width = `${this.config.width}px`\n      // this.root.style.height = `${this.config.height}px`\n      if (this.config.width) {\n        if (typeof this.config.width !== 'number') {\n          this.root.style.width = this.config.width\n        } else {\n          this.root.style.width = `${this.config.width}px`\n        }\n      }\n      if (this.config.height) {\n        if (typeof this.config.height !== 'number') {\n          this.root.style.height = this.config.height\n        } else {\n          this.root.style.height = `${this.config.height}px`\n        }\n      }\n    }\n  }\n\n  _initEvents () {\n    super._initEvents()\n    this.ev.forEach((item) => {\n      let evName = Object.keys(item)[0]\n      let evFunc = this[item[evName]]\n      if (evFunc) {\n        this.on(evName, evFunc)\n      }\n    });\n\n    ['focus', 'blur'].forEach(item => {\n      this.on(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    })\n\n    let player = this\n    player.once('loadeddata', this.getVideoSize)\n    this.mousemoveFunc = function () {\n      player.emit('focus')\n      if (!player.config.closeFocusVideoFocus) {\n        player.video.focus()\n      }\n    }\n    this.root.addEventListener('mousemove', this.mousemoveFunc)\n    this.playFunc = function () {\n      player.emit('focus')\n      if (!player.config.closePlayVideoFocus) {\n        player.video.focus()\n      }\n    }\n    player.once('play', this.playFunc)\n\n    function onDestroy () {\n      player.root.removeEventListener('mousemove', player.mousemoveFunc)\n      player.off('destroy', onDestroy)\n    }\n\n    player.once('destroy', onDestroy)\n  }\n\n  /**\n   * 当前播放器挂在的插件实例代码\n   */\n  get plugins () {\n    return pluginsManager.getPlugins(this)\n  }\n\n  getPlugin (pluginName) {\n    return pluginsManager.findPlugin(this, pluginName)\n  }\n\n  start (url = this.config.url) {\n    let root = this.root\n    let player = this\n    if (!url || url === '') {\n      this.emit('urlNull')\n    }\n    this.canPlayFunc = function () {\n      let playPromise = player.video.play()\n      if (playPromise !== undefined && playPromise) {\n        playPromise.then(function () {\n          player.emit('autoplay started')\n        }).catch(function () {\n          player.emit('autoplay was prevented')\n          Player.util.addClass(player.root, 'xgplayer-is-autoplay')\n        })\n      }\n      player.off('canplay', player.canPlayFunc)\n    }\n    if (util.typeOf(url) === 'String') {\n      this.video.src = url\n    } else {\n      url.forEach(item => {\n        this.video.appendChild(util.createDom('source', '', {\n          src: `${item.src}`,\n          type: `${item.type || ''}`\n        }))\n      })\n    }\n    this.once('loadeddata', this.loadeddataFunc)\n    if (this.config.autoplay) {\n      this.once('canplay', this.canPlayFunc)\n    }\n    root.insertBefore(this.video, root.firstChild)\n    setTimeout(() => {\n      this.emit('complete')\n    }, 1)\n    pluginsManager.afterInit(this)\n  }\n\n  reload () {\n    this.video.load()\n    this.reloadFunc = function () {\n      this.play().catch(err => { console.log(err) })\n    }\n    this.once('loadeddata', this.reloadFunc)\n  }\n\n  destroy (isDelDom = true) {\n    let player = this\n    for (let k in this._interval) {\n      clearInterval(this._interval[k])\n      this._interval[k] = null\n    }\n    this.ev.forEach((item) => {\n      let evName = Object.keys(item)[0]\n      let evFunc = this[item[evName]]\n      if (evFunc) {\n        this.off(evName, evFunc)\n      }\n    });\n    if (this.loadeddataFunc) {\n      this.off('loadeddata', this.loadeddataFunc)\n    }\n    if (this.reloadFunc) {\n      this.off('loadeddata', this.reloadFunc)\n    }\n    if (this.replayFunc) {\n      this.off('play', this.replayFunc)\n    }\n    if (this.playFunc) {\n      this.off('play', this.playFunc)\n    }\n    if (this.getVideoSize) {\n      this.off('loadeddata', this.getVideoSize)\n    };\n    ['focus', 'blur'].forEach(item => {\n      this.off(item, this['on' + item.charAt(0).toUpperCase() + item.slice(1)])\n    })\n    if (!this.config.keyShortcut || this.config.keyShortcut === 'on') {\n      ['video', 'controls'].forEach(item => {\n        if (this[item]) {\n          this[item].removeEventListener('keydown', (e) => { player.onKeydown(e, player) })\n        }\n      })\n    }\n\n    function destroyFunc () {\n      this.emit('destroy')\n\n      // fix video destroy https://stackoverflow.com/questions/3258587/how-to-properly-unload-destroy-a-video-element\n      this.video.removeAttribute('src') // empty source\n      this.video.load()\n      if (isDelDom) {\n        // parentNode.removeChild(this.root)\n        this.root.innerHTML = ''\n        let classNameList = this.root.className.split(' ')\n        if (classNameList.length > 0) {\n          this.root.className = classNameList.filter(name => name.indexOf('xgplayer') < 0).join(' ')\n        } else {\n          this.root.className = ''\n        }\n      }\n      for (let k in this) {\n        // if (k !== 'config') {\n        delete this[k]\n        // }\n      }\n      this.off('pause', destroyFunc)\n    }\n\n    if (!this.paused) {\n      this.pause()\n      this.once('pause', destroyFunc)\n    } else {\n      destroyFunc.call(this)\n    }\n    pluginsManager.destroy(this)\n    super.destroy()\n  }\n\n  replay () {\n    util.removeClass(this.root, 'xgplayer-ended')\n    this.currentTime = 0\n    this.play().catch(err => {\n      console.log(err)\n    })\n  }\n\n  getFullscreen (el) {\n    let player = this\n    if (el.requestFullscreen) {\n      el.requestFullscreen()\n    } else if (el.mozRequestFullScreen) {\n      el.mozRequestFullScreen()\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    } else if (player.video.webkitSupportsFullscreen) {\n      player.video.webkitEnterFullscreen()\n    } else if (el.msRequestFullscreen) {\n      el.msRequestFullscreen()\n    } else {\n      util.addClass(el, 'xgplayer-is-cssfullscreen')\n    }\n  }\n\n  exitFullscreen (el) {\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n    util.removeClass(el, 'xgplayer-is-cssfullscreen')\n  }\n\n  getCssFullscreen () {\n    let player = this\n    util.addClass(player.root, 'xgplayer-is-cssfullscreen')\n    player.emit('requestCssFullscreen')\n  }\n\n  exitCssFullscreen () {\n    let player = this\n    util.removeClass(player.root, 'xgplayer-is-cssfullscreen')\n    player.emit('exitCssFullscreen')\n  }\n\n  pluginsCall () {\n    let self = this\n    if (Player.plugins) {\n      let ignores = this.config.ignores\n      Object.keys(Player.plugins).forEach(name => {\n        let descriptor = Player.plugins[name]\n        if (!ignores.some(item => name === item || name === 's_' + item)) {\n          if (['pc', 'tablet', 'mobile'].some(type => type === name)) {\n            if (name === sniffer.device) {\n              setTimeout(() => {\n                descriptor.call(self, self)\n              }, 0)\n            }\n          } else {\n            descriptor.call(this, this)\n          }\n        }\n      })\n    }\n  }\n\n  onFocus () {\n    let player = this\n    util.removeClass(this.root, 'xgplayer-inactive')\n    if (player.userTimer) {\n      clearTimeout(player.userTimer)\n    }\n    player.userTimer = setTimeout(function () {\n      player.emit('blur')\n    }, player.config.inactive)\n  }\n\n  onBlur () {\n    // this.video.blur()\n    if (!this.paused && !this.ended) {\n      util.addClass(this.root, 'xgplayer-inactive')\n    }\n  }\n\n  onPlay () {\n    util.addClass(this.root, 'xgplayer-playing')\n    util.removeClass(this.root, 'xgplayer-pause')\n  }\n\n  onPause () {\n    util.addClass(this.root, 'xgplayer-pause')\n    if (this.userTimer) {\n      clearTimeout(this.userTimer)\n    }\n    this.emit('focus')\n  }\n\n  onEnded () {\n    util.addClass(this.root, 'xgplayer-ended')\n    util.removeClass(this.root, 'xgplayer-playing')\n  }\n\n  onSeeking () {\n    // util.addClass(this.root, 'seeking');\n  }\n\n  onSeeked () {\n    // for ie,playing fired before waiting\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    util.removeClass(this.root, 'xgplayer-isloading')\n  }\n\n  onWaiting () {\n    let self = this\n    if (self.waitTimer) {\n      clearTimeout(self.waitTimer)\n    }\n    self.waitTimer = setTimeout(function () {\n      util.addClass(self.root, 'xgplayer-isloading')\n    }, 500)\n  }\n\n  onPlaying () {\n    if (this.waitTimer) {\n      clearTimeout(this.waitTimer)\n    }\n    util.removeClass(this.root, 'xgplayer-isloading xgplayer-nostart xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay')\n    util.addClass(this.root, 'xgplayer-playing')\n  }\n\n  getVideoSize () {\n    if (this.video.videoWidth && this.video.videoHeight) {\n      let containerSize = this.root.getBoundingClientRect()\n      if (this.config.fitVideoSize === 'auto') {\n        if (containerSize.width / containerSize.height > this.video.videoWidth / this.video.videoHeight) {\n          this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n        } else {\n          this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n        }\n      } else if (this.config.fitVideoSize === 'fixWidth') {\n        this.root.style.height = `${this.video.videoHeight / this.video.videoWidth * containerSize.width}px`\n      } else if (this.config.fitVideoSize === 'fixHeight') {\n        this.root.style.width = `${this.video.videoWidth / this.video.videoHeight * containerSize.height}px`\n      }\n    }\n  }\n\n  get version () {\n    return version\n  }\n}\n\nPlayer.util = util\nPlayer.sniffer = sniffer\nPlayer.Errors = Errors\nPlayer.Plugin = Plugin\nPlayer.BasePlugin = BasePlugin\nexport default Player\n","import Player from './player'\nimport _BasePlugin from './pluginsManager/basePlugin'\nimport _Plugin from './pluginsManager/plugin'\n\nexport const BasePlugin = _BasePlugin;\nexport const Plugin = _Plugin;\n\n\nexport default Player\n"],"names":["_undefined","module","value","possibleTypes","isValue","hasOwnProperty","call","isObject","constructor","prototype","error","length","apply","isPrototype","classRe","functionToString","Function","toString","isFunction","test","assign","Object","obj","foo","bar","trzy","keys","e","require","val","object","TypeError","Math","max","dest","src","i","arguments","key","forEach","undefined","Array","create","process","opts1","result","options","str","contains","indexOf","String","searchString","d","dscr","c","w","desc","configurable","enumerable","writable","normalizeOpts","gs","get","set","isPlainFunction","fn","defineProperty","defineProperties","descriptor","on","once","off","emit","methods","descriptors","base","type","listener","data","__ee__","push","self","__eeOnceListener__","listeners","candidate","splice","l","args","slice","exports","o","util","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","item","setAttribute","hasClass","classList","some","match","RegExp","addClass","replace","split","add","removeClass","remove","reg","toggleClass","findDom","sel","querySelector","getElementById","padStart","pad","charstr","len","maxlen","ceil","chars","r","join","substring","format","time","window","isNaN","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","typeOf","deepCopy","dst","Node","concat","getBgImage","url","currentStyle","getComputedStyle","backgroundImage","a","href","copyDom","nodeType","back","tagName","attributes","node","name","setInterval","context","eventName","intervalFunc","frequency","_interval","bind","clearInterval","createImgBtn","imgUrl","width","height","btn","style","h","unit","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","eval","ErrorTypes","network","code","msg","remark","mse","parse","decoder","runtime","timeout","other","Errors","currentTime","duration","networkState","readyState","currentSrc","ended","errd","line","handle","version","playerVersion","errorType","domain","ex","Proxy","_hasStart","videoConfig","controls","autoplay","playsinline","airplay","tabindex","mediaType","loop","video","autoplayMuted","muted","EventEmitter","_initEvents","lastBuffer","ev","map","charAt","toUpperCase","evItem","addEventListener","curBuffer","buffered","start","end","hasStart","bool","destroy","play","pause","canPlayType","getBufferedRange","range","isTrue","crossOrigin","defaultMuted","err","status","en","cn","lang","paused","playbackRate","rate","played","preload","seekable","seeking","root","volume","vol","sniffer","device","os","isPc","browser","ua","navigator","userAgent","toLowerCase","ie","firfox","chrome","opera","safari","filter","isWindowsPhone","isSymbian","isAndroid","isFireFox","isTablet","isPhone","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","DESTROY","BasePlugin","defineGetterOrSetter","Obj","__args","__events","config","Util","checkIsFunction","beforeCreate","__init","afterCreate","player","pluginName","callback","isArray","offAll","res","_destroy","Sniffer","Event","pluginsManager","init","cgid","_pluginInfoId","Date","getTime","pluginGroup","register","plugin","_plugins","plugins","originalOptions","_originalOptions","_player","console","log","Error","_instance","func","unRegister","getPlugins","findPlugin","cName","beforeInit","beforePlayerInit","afterInit","afterPlayerInit","reRender","pluginsMap","_args","_createElement","tag","insert","html","parent","index","children","insertIdx","parseInt","insertAdjacentHTML","registerIconsObj","iconsConfig","iconKey","icons","_icons","playerConfig","registerTextObj","textConfig","text","Plugin","_parent","_el","defaultIcons","registerIcons","defaultTexConfig","registerLangauageTexts","renderStr","render","message","appendChild","attr","setAttr","setStyle","__registeChildren","_children","_registerPlugin","opts","getPlugin","find","qs","eventType","bindEL","delegate","unbind","unbindEL","ubind","setHtml","htmlStr","innerHtml","eventHandle","isBubble","removeEventListener","show","display","cs","cssDisplayValue","getPropertyValue","hide","parentNode","removeChild","Player","ignores","whitelist","documentElement","getAttribute","language","toLocaleLowerCase","inactive","controlsList","userTimer","waitTimer","isProgressMoving","_initDOM","pluginsCall","_registerPlugins","setTimeout","isReady","videoInit","ignoresStr","id","unselectable","onselectstart","vid","fluid","evName","evFunc","getVideoSize","mousemoveFunc","closeFocusVideoFocus","focus","playFunc","closePlayVideoFocus","onDestroy","canPlayFunc","playPromise","then","catch","loadeddataFunc","insertBefore","firstChild","reload","load","reloadFunc","isDelDom","k","replayFunc","keyShortcut","onKeydown","destroyFunc","removeAttribute","classNameList","replay","getFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","webkitSupportsFullscreen","webkitEnterFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","getCssFullscreen","exitCssFullscreen","onFocus","clearTimeout","onBlur","onPlay","onPause","onEnded","onSeeking","onSeeked","onWaiting","onPlaying","videoWidth","videoHeight","containerSize","getBoundingClientRect","fitVideoSize","_BasePlugin","_Plugin"],"mappings":"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"}