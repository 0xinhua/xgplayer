{"version":3,"file":"index.js","sources":["../node_modules/xgplayer-transmuxer-buffer-stream/es/index.js","../node_modules/xgplayer-transmuxer-model-trackmeta/es/index.js","../../xgplayer-transmuxer-constant-events/es/index.js","../src/raw-264.js","../src/index.js"],"sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stream = function () {\n  function Stream(buffer) {\n    _classCallCheck(this, Stream);\n\n    if (buffer instanceof ArrayBuffer) {\n      this.buffer = buffer;\n      this.dataview = new DataView(buffer);\n      this.dataview.position = 0;\n    } else {\n      throw new Error('data is invalid');\n    }\n  }\n\n  _createClass(Stream, [{\n    key: 'back',\n    value: function back(count) {\n      this.position -= count;\n    }\n  }, {\n    key: 'skip',\n    value: function skip(count) {\n      var loop = Math.floor(count / 4);\n      var last = count % 4;\n      for (var i = 0; i < loop; i++) {\n        Stream.readByte(this.dataview, 4);\n      }\n      if (last > 0) {\n        Stream.readByte(this.dataview, last);\n      }\n    }\n\n    /**\n     * [readByte 从DataView中读取数据]\n     * @param  {DataView} buffer [DataView实例]\n     * @param  {Number} size   [读取字节数]\n     * @return {Number}        [整数]\n     */\n\n  }, {\n    key: 'readUint8',\n    value: function readUint8() {\n      return Stream.readByte(this.dataview, 1);\n    }\n  }, {\n    key: 'readUint16',\n    value: function readUint16() {\n      return Stream.readByte(this.dataview, 2);\n    }\n  }, {\n    key: 'readUint24',\n    value: function readUint24() {\n      return Stream.readByte(this.dataview, 3);\n    }\n  }, {\n    key: 'readUint32',\n    value: function readUint32() {\n      return Stream.readByte(this.dataview, 4);\n    }\n  }, {\n    key: 'readUint64',\n    value: function readUint64() {\n      return Stream.readByte(this.dataview, 8);\n    }\n  }, {\n    key: 'readInt8',\n    value: function readInt8() {\n      return Stream.readByte(this.dataview, 1, true);\n    }\n  }, {\n    key: 'readInt16',\n    value: function readInt16() {\n      return Stream.readByte(this.dataview, 2, true);\n    }\n  }, {\n    key: 'readInt32',\n    value: function readInt32() {\n      return Stream.readByte(this.dataview, 4, true);\n    }\n  }, {\n    key: 'writeUint32',\n    value: function writeUint32(value) {\n      return new Uint8Array([value >>> 24 & 0xff, value >>> 16 & 0xff, value >>> 8 & 0xff, value & 0xff]);\n    }\n  }, {\n    key: 'length',\n    get: function get() {\n      return this.buffer.byteLength;\n    }\n  }, {\n    key: 'position',\n    set: function set(value) {\n      this.dataview.position = value;\n    },\n    get: function get() {\n      return this.dataview.position;\n    }\n  }], [{\n    key: 'readByte',\n    value: function readByte(buffer, size, sign) {\n      var res = void 0;\n      switch (size) {\n        case 1:\n          if (sign) {\n            res = buffer.getInt8(buffer.position);\n          } else {\n            res = buffer.getUint8(buffer.position);\n          }\n          break;\n        case 2:\n          if (sign) {\n            res = buffer.getInt16(buffer.position);\n          } else {\n            res = buffer.getUint16(buffer.position);\n          }\n          break;\n        case 3:\n          if (sign) {\n            throw new Error('not supported for readByte 3');\n          } else {\n            res = buffer.getUint8(buffer.position) << 16;\n            res |= buffer.getUint8(buffer.position + 1) << 8;\n            res |= buffer.getUint8(buffer.position + 2);\n          }\n          break;\n        case 4:\n          if (sign) {\n            res = buffer.getInt32(buffer.position);\n          } else {\n            res = buffer.getUint32(buffer.position);\n          }\n          break;\n        case 8:\n          if (sign) {\n            throw new Error('not supported for readBody 8');\n          } else {\n            res = buffer.getUint32(buffer.position) << 32;\n            res |= buffer.getUint32(buffer.position + 4);\n          }\n          break;\n        default:\n          res = '';\n      }\n      buffer.position += size;\n      return res;\n    }\n  }]);\n\n  return Stream;\n}();\n\nexport default Stream;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nexport var AudioTrackMeta = function () {\n  function AudioTrackMeta(meta) {\n    _classCallCheck(this, AudioTrackMeta);\n\n    var _default = {\n      sampleRate: 48000,\n      channelCount: 2,\n      codec: 'mp4a.40.2',\n      config: [41, 401, 136, 0],\n      duration: 0,\n      id: 2,\n      refSampleDuration: 21,\n      sampleRateIndex: 3,\n      timescale: 1000,\n      type: 'audio'\n    };\n    if (meta) {\n      return Object.assign({}, _default, meta);\n    }\n    return _default;\n  }\n\n  _createClass(AudioTrackMeta, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.init = null;\n    }\n  }]);\n\n  return AudioTrackMeta;\n}();\n\nexport var VideoTrackMeta = function () {\n  function VideoTrackMeta(meta) {\n    _classCallCheck(this, VideoTrackMeta);\n\n    var _default = {\n      avcc: null,\n      sps: new Uint8Array(0),\n      pps: new Uint8Array(0),\n      chromaFormat: 420,\n      codec: 'avc1.640020',\n      codecHeight: 720,\n      codecWidth: 1280,\n      duration: 0,\n      frameRate: {\n        fixed: true,\n        fps: 25,\n        fps_num: 25000,\n        fps_den: 1000\n      },\n      id: 1,\n      level: '3.2',\n      presentHeight: 720,\n      presentWidth: 1280,\n      profile: 'High',\n      refSampleDuration: 40,\n      parRatio: {\n        height: 1,\n        width: 1\n      },\n      timescale: 1000,\n      type: 'video'\n    };\n\n    if (meta) {\n      return Object.assign({}, _default, meta);\n    }\n    return _default;\n  }\n\n  _createClass(VideoTrackMeta, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.init = null;\n      this.sps = null;\n      this.pps = null;\n    }\n  }]);\n\n  return VideoTrackMeta;\n}();","var BROWSER_EVENTS = {\n  VISIBILITY_CHANGE: 'VISIBILITY_CHANGE'\n};\nvar PLAYER_EVENTS = {\n  SEEK: 'SEEK'\n};\n\nvar LOADER_EVENTS = {\n  LADER_START: 'LOADER_START',\n  LOADER_DATALOADED: 'LOADER_DATALOADED',\n  LOADER_COMPLETE: 'LOADER_COMPLETE',\n  LOADER_ERROR: 'LOADER_ERROR'\n};\n\nvar DEMUX_EVENTS = {\n  DEMUX_START: 'DEMUX_START',\n  DEMUX_COMPLETE: 'DEMUX_COMPLETE',\n  DEMUX_ERROR: 'DEMUX_ERROR',\n  METADATA_PARSED: 'METADATA_PARSED',\n  SEI_PARSED: 'SEI_PARSED',\n  VIDEO_METADATA_CHANGE: 'VIDEO_METADATA_CHANGE',\n  AUDIO_METADATA_CHANGE: 'AUDIO_METADATA_CHANGE',\n  MEDIA_INFO: 'MEDIA_INFO'\n};\n\nvar REMUX_EVENTS = {\n  REMUX_METADATA: 'REMUX_METADATA',\n  REMUX_MEDIA: 'REMUX_MEDIA',\n  MEDIA_SEGMENT: 'MEDIA_SEGMENT',\n  REMUX_ERROR: 'REMUX_ERROR',\n  INIT_SEGMENT: 'INIT_SEGMENT',\n  DETECT_CHANGE_STREAM: 'DETECT_CHANGE_STREAM',\n  DETECT_CHANGE_STREAM_DISCONTINUE: 'DETECT_CHANGE_STREAM_DISCONTINUE',\n  RANDOM_ACCESS_POINT: 'RANDOM_ACCESS_POINT'\n};\n\nvar MSE_EVENTS = {\n  SOURCE_UPDATE_END: 'SOURCE_UPDATE_END'\n\n  // hls专有events\n};var HLS_EVENTS = {\n  RETRY_TIME_EXCEEDED: 'RETRY_TIME_EXCEEDED'\n};\n\nvar CRYTO_EVENTS = {\n  START_DECRYPT: 'START_DECRYPT',\n  DECRYPTED: 'DECRYPTED'\n};\nvar ALLEVENTS = Object.assign({}, LOADER_EVENTS, DEMUX_EVENTS, REMUX_EVENTS, MSE_EVENTS, HLS_EVENTS, PLAYER_EVENTS, BROWSER_EVENTS);\n\nvar FlvAllowedEvents = [];\nvar HlsAllowedEvents = [];\n\nfor (var key in ALLEVENTS) {\n  if (ALLEVENTS.hasOwnProperty(key)) {\n    FlvAllowedEvents.push(ALLEVENTS[key]);\n  }\n}\n\nfor (var _key in ALLEVENTS) {\n  if (ALLEVENTS.hasOwnProperty(_key)) {\n    HlsAllowedEvents.push(ALLEVENTS[_key]);\n  }\n}\n\nexport default {\n  ALLEVENTS: ALLEVENTS,\n  HLS_EVENTS: HLS_EVENTS,\n  REMUX_EVENTS: REMUX_EVENTS,\n  DEMUX_EVENTS: DEMUX_EVENTS,\n  MSE_EVENTS: MSE_EVENTS,\n  LOADER_EVENTS: LOADER_EVENTS,\n  FlvAllowedEvents: FlvAllowedEvents,\n  HlsAllowedEvents: HlsAllowedEvents,\n  CRYTO_EVENTS: CRYTO_EVENTS,\n  PLAYER_EVENTS: PLAYER_EVENTS,\n  BROWSER_EVENTS: BROWSER_EVENTS\n};","import { NalUnit, SpsParser, SEIParser } from 'xgplayer-transmuxer-codec-avc'\nimport XgStream from 'xgplayer-transmuxer-buffer-stream'\nimport { VideoTrackMeta } from 'xgplayer-transmuxer-model-trackmeta';\nimport Events from 'xgplayer-transmuxer-constant-events'\n\nclass H264Demuxer {\n  constructor (options = {}) {\n    this._player = options.player;\n\n    this.videoMeta = new VideoTrackMeta()\n    this.videoTrack = {\n      samples: []\n    }\n    this.fps = options.fps || 30\n    this.currentSampleIdx = 0;\n    this.duration = 0;\n  }\n\n  init () {\n    this.initEvents()\n  }\n\n  initEvents () {\n    this.on(Events.LOADER_EVENTS.LOADER_DATALOADED, this.handleDataLoaded.bind(this))\n    // this.on(Events.LOADER_EVENTS.LOADER_COMPLETE, this.handleDataLoaded.bind(this))\n  }\n\n  load (url) {\n    this.emit(Events.LOADER_EVENTS.LADER_START, url);\n  }\n\n  handleDataLoaded () {\n    const buffer = this.buffer;\n    const data = buffer.shift(buffer.length);\n    buffer.clear();\n    const stream = new XgStream(data.buffer)\n    const units = NalUnit.getNalunits(stream)\n\n    const lastUnit = units.pop();\n    const lastUnitData = new Uint8Array(lastUnit.body.byteLength + 4);\n    lastUnitData.set(new Uint8Array(lastUnit.header), 0)\n    lastUnitData.set(new Uint8Array(lastUnit.body), 4)\n    buffer.push(lastUnitData);\n\n    let sps;\n    let pps;\n    units.forEach((unit) => {\n      const ts = Math.floor(1000 * this.currentSampleIdx++ / this.fps)\n      const currentSample = {\n        dts: ts,\n        pts: ts,\n        data: null,\n        isKeyframe: false\n      }\n      if (unit.sps) {\n        sps = true;\n        this.videoMeta.sps = unit.body\n        this.videoMeta.presentHeight = unit.sps.present_size.height;\n        this.videoMeta.presentWidth = unit.sps.present_size.width;\n      } else if (unit.pps) {\n        pps = true;\n        this.videoMeta.pps = unit.body\n      }\n\n      const data = new Uint8Array(unit.body.byteLength + 4);\n      data.set([0, 0, 0, 1], 0);\n      data.set(unit.body, 4);\n      currentSample.data = data;\n      currentSample.isKeyframe = unit.idr;\n\n      this.videoTrack.samples.push(currentSample);\n    })\n\n    if (sps && pps && !this.videoMetaInited) {\n      this._player.video.setVideoMeta(this.videoMeta);\n      this.videoMetaInited = true\n    }\n    if (!this.intervalId) {\n      this.intervalId = setInterval(() => {\n        if (this.videoTrack.samples.length) {\n          this._player.video.onDemuxComplete(this.videoTrack);\n        } else {\n          clearInterval(this.intervalId)\n        }\n      }, 500)\n    }\n    this.duration = Math.round(Math.floor(this.currentSampleIdx / this.fps))\n    this._player.emit('durationchange')\n  }\n\n  destroy () {\n    this._player = null;\n    this.videoMeta = null\n    this.videoTrack = {\n      samples: []\n    }\n    this.fps = null\n    this.currentSampleIdx = null;\n  }\n\n  get buffer () {\n    return this._context.getInstance('LOADER_BUFFER')\n  }\n}\n\nexport default H264Demuxer;\n","import Player from 'xgplayer';\nimport Context from 'xgplayer-transmuxer-context'\nimport Core from './raw-264'\nimport Events from 'xgplayer-transmuxer-constant-events'\nimport LoaderBuffer from 'xgplayer-transmuxer-buffer-xgbuffer';\nimport FetchLoader from 'xgplayer-transmuxer-loader-fetch';\nimport 'xgplayer-mobilevideo';\n\nclass Raw264Player extends Player {\n  constructor (props) {\n    if (!props.mediaType) {\n      props.mediaType = 'mobile-video'\n    }\n    super(props);\n\n    this.handleTimeupdate = this.handleTimeupdate.bind(this)\n    this.hasPlayed = false;\n  }\n\n  start () {\n\n    this.context = new Context(Events.HlsAllowedEvents);\n    this.context.registry('LOADER_BUFFER', LoaderBuffer);\n    this.core = this.context.registry('RAW_264_CONTROLLER', Core)({ player: this, fps: this.config.fps })\n    if  (!this.config.isLive) {\n      this.context.registry('FETCH_LOADER', FetchLoader);\n      this.core.load(this.config.url)\n    }\n    this.context.init();\n\n    super.start()\n    this.video.setAttribute('noaudio', true)\n    this.video.addEventListener('timeupdate', this.handleTimeupdate, false)\n  }\n\n  replay () {\n    this.video._cleanBuffer()\n    this.currentTime = 0;\n    this.start();\n    this.play();\n  }\n\n  handleTimeupdate () {\n    if (this.config.isLive) {\n      this.video._cleanBuffer();\n    } else {\n      if (this.currentTime >= this.duration) {\n        this.pause();\n        this.emit('ended')\n      }\n    }\n  }\n\n  destroy (isDelDom) {\n    super.destroy(isDelDom);\n    this.core.destroy();\n    this.context.destroy();\n    this.core = null;\n    this.context = null;\n  }\n\n  pushBuffer(arr) {\n    if (this.buffer) {\n      this.buffer.push(arr)\n      this.core.handleDataLoaded()\n    }\n  }\n\n  get buffer () {\n    return this.context.getInstance('LOADER_BUFFER');\n  }\n\n  set currentTime (time) {\n    const oldTime = super.currentTime;\n    const buffered = this.getBufferedRange();\n    if (buffered[0] <= time && buffered[1] >= time) {\n      this.video.currentTime = time;\n    } else {\n      this.video.currentTime = oldTime;\n    }\n  }\n  get currentTime () {\n    return super.currentTime;\n  }\n\n  get duration () {\n    if (this.core && this.core.duration) {\n      return this.core.duration\n    }\n    return this.video.duration;\n  }\n}\n\nexport default Raw264Player;\n"],"names":["_createClass","_classCallCheck","BROWSER_EVENTS","VISIBILITY_CHANGE","PLAYER_EVENTS","SEEK","LOADER_EVENTS","LADER_START","LOADER_DATALOADED","LOADER_COMPLETE","LOADER_ERROR","DEMUX_EVENTS","DEMUX_START","DEMUX_COMPLETE","DEMUX_ERROR","METADATA_PARSED","SEI_PARSED","VIDEO_METADATA_CHANGE","AUDIO_METADATA_CHANGE","MEDIA_INFO","REMUX_EVENTS","REMUX_METADATA","REMUX_MEDIA","MEDIA_SEGMENT","REMUX_ERROR","INIT_SEGMENT","DETECT_CHANGE_STREAM","DETECT_CHANGE_STREAM_DISCONTINUE","RANDOM_ACCESS_POINT","MSE_EVENTS","SOURCE_UPDATE_END","HLS_EVENTS","RETRY_TIME_EXCEEDED","CRYTO_EVENTS","START_DECRYPT","DECRYPTED","ALLEVENTS","Object","assign","FlvAllowedEvents","HlsAllowedEvents","key","hasOwnProperty","push","_key","H264Demuxer","options","_player","player","videoMeta","VideoTrackMeta","videoTrack","samples","fps","currentSampleIdx","duration","initEvents","on","Events","handleDataLoaded","bind","url","emit","buffer","data","shift","length","clear","stream","XgStream","units","NalUnit","getNalunits","lastUnit","pop","lastUnitData","Uint8Array","body","byteLength","set","header","sps","pps","forEach","unit","ts","Math","floor","currentSample","dts","pts","isKeyframe","presentHeight","present_size","height","presentWidth","width","idr","videoMetaInited","video","setVideoMeta","intervalId","setInterval","onDemuxComplete","clearInterval","round","_context","getInstance","Raw264Player","props","mediaType","handleTimeupdate","hasPlayed","context","Context","registry","LoaderBuffer","core","Core","config","isLive","FetchLoader","load","init","setAttribute","addEventListener","_cleanBuffer","currentTime","start","play","pause","isDelDom","destroy","arr","time","oldTime","buffered","getBufferedRange","Player"],"mappings":"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"}